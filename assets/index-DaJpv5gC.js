(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Bc={exports:{}},si={},Wc={exports:{}},_e={};var Yf;function v0(){if(Yf)return _e;Yf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,b={};function k(C,F,Y){this.props=C,this.context=F,this.refs=b,this.updater=Y||_}k.prototype.isReactComponent={},k.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},k.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function T(){}T.prototype=k.prototype;function O(C,F,Y){this.props=C,this.context=F,this.refs=b,this.updater=Y||_}var R=O.prototype=new T;R.constructor=O,S(R,k.prototype),R.isPureReactComponent=!0;var N=Array.isArray,I=Object.prototype.hasOwnProperty,$={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function B(C,F,Y){var le,ye={},ve=null,Oe=null;if(F!=null)for(le in F.ref!==void 0&&(Oe=F.ref),F.key!==void 0&&(ve=""+F.key),F)I.call(F,le)&&!z.hasOwnProperty(le)&&(ye[le]=F[le]);var Te=arguments.length-2;if(Te===1)ye.children=Y;else if(1<Te){for(var Le=Array(Te),bt=0;bt<Te;bt++)Le[bt]=arguments[bt+2];ye.children=Le}if(C&&C.defaultProps)for(le in Te=C.defaultProps,Te)ye[le]===void 0&&(ye[le]=Te[le]);return{$$typeof:n,type:C,key:ve,ref:Oe,props:ye,_owner:$.current}}function Q(C,F){return{$$typeof:n,type:C.type,key:F,ref:C.ref,props:C.props,_owner:C._owner}}function oe(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function X(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return F[Y]})}var ce=/\/+/g;function me(C,F){return typeof C=="object"&&C!==null&&C.key!=null?X(""+C.key):F.toString(36)}function we(C,F,Y,le,ye){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var Oe=!1;if(C===null)Oe=!0;else switch(ve){case"string":case"number":Oe=!0;break;case"object":switch(C.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=C,ye=ye(Oe),C=le===""?"."+me(Oe,0):le,N(ye)?(Y="",C!=null&&(Y=C.replace(ce,"$&/")+"/"),we(ye,F,Y,"",function(bt){return bt})):ye!=null&&(oe(ye)&&(ye=Q(ye,Y+(!ye.key||Oe&&Oe.key===ye.key?"":(""+ye.key).replace(ce,"$&/")+"/")+C)),F.push(ye)),1;if(Oe=0,le=le===""?".":le+":",N(C))for(var Te=0;Te<C.length;Te++){ve=C[Te];var Le=le+me(ve,Te);Oe+=we(ve,F,Y,Le,ye)}else if(Le=v(C),typeof Le=="function")for(C=Le.call(C),Te=0;!(ve=C.next()).done;)ve=ve.value,Le=le+me(ve,Te++),Oe+=we(ve,F,Y,Le,ye);else if(ve==="object")throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Oe}function te(C,F,Y){if(C==null)return C;var le=[],ye=0;return we(C,le,"","",function(ve){return F.call(Y,ve,ye++)}),le}function ae(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var J={current:null},U={transition:null},G={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:U,ReactCurrentOwner:$};function W(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:te,forEach:function(C,F,Y){te(C,function(){F.apply(this,arguments)},Y)},count:function(C){var F=0;return te(C,function(){F++}),F},toArray:function(C){return te(C,function(F){return F})||[]},only:function(C){if(!oe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},_e.Component=k,_e.Fragment=t,_e.Profiler=o,_e.PureComponent=O,_e.StrictMode=r,_e.Suspense=d,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,_e.act=W,_e.cloneElement=function(C,F,Y){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var le=S({},C.props),ye=C.key,ve=C.ref,Oe=C._owner;if(F!=null){if(F.ref!==void 0&&(ve=F.ref,Oe=$.current),F.key!==void 0&&(ye=""+F.key),C.type&&C.type.defaultProps)var Te=C.type.defaultProps;for(Le in F)I.call(F,Le)&&!z.hasOwnProperty(Le)&&(le[Le]=F[Le]===void 0&&Te!==void 0?Te[Le]:F[Le])}var Le=arguments.length-2;if(Le===1)le.children=Y;else if(1<Le){Te=Array(Le);for(var bt=0;bt<Le;bt++)Te[bt]=arguments[bt+2];le.children=Te}return{$$typeof:n,type:C.type,key:ye,ref:ve,props:le,_owner:Oe}},_e.createContext=function(C){return C={$$typeof:l,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},_e.createElement=B,_e.createFactory=function(C){var F=B.bind(null,C);return F.type=C,F},_e.createRef=function(){return{current:null}},_e.forwardRef=function(C){return{$$typeof:u,render:C}},_e.isValidElement=oe,_e.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ae}},_e.memo=function(C,F){return{$$typeof:f,type:C,compare:F===void 0?null:F}},_e.startTransition=function(C){var F=U.transition;U.transition={};try{C()}finally{U.transition=F}},_e.unstable_act=W,_e.useCallback=function(C,F){return J.current.useCallback(C,F)},_e.useContext=function(C){return J.current.useContext(C)},_e.useDebugValue=function(){},_e.useDeferredValue=function(C){return J.current.useDeferredValue(C)},_e.useEffect=function(C,F){return J.current.useEffect(C,F)},_e.useId=function(){return J.current.useId()},_e.useImperativeHandle=function(C,F,Y){return J.current.useImperativeHandle(C,F,Y)},_e.useInsertionEffect=function(C,F){return J.current.useInsertionEffect(C,F)},_e.useLayoutEffect=function(C,F){return J.current.useLayoutEffect(C,F)},_e.useMemo=function(C,F){return J.current.useMemo(C,F)},_e.useReducer=function(C,F,Y){return J.current.useReducer(C,F,Y)},_e.useRef=function(C){return J.current.useRef(C)},_e.useState=function(C){return J.current.useState(C)},_e.useSyncExternalStore=function(C,F,Y){return J.current.useSyncExternalStore(C,F,Y)},_e.useTransition=function(){return J.current.useTransition()},_e.version="18.3.1",_e}var Jf;function Mu(){return Jf||(Jf=1,Wc.exports=v0()),Wc.exports}var Qf;function w0(){if(Qf)return si;Qf=1;var n=Mu(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,y={},v=null,_=null;f!==void 0&&(v=""+f),d.key!==void 0&&(v=""+d.key),d.ref!==void 0&&(_=d.ref);for(g in d)r.call(d,g)&&!a.hasOwnProperty(g)&&(y[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:u,key:v,ref:_,props:y,_owner:o.current}}return si.Fragment=t,si.jsx=l,si.jsxs=l,si}var Xf;function _0(){return Xf||(Xf=1,Bc.exports=w0()),Bc.exports}var w=_0(),D=Mu(),Qo={},Hc={exports:{}},wt={},Vc={exports:{}},qc={};var Zf;function x0(){return Zf||(Zf=1,(function(n){function e(U,G){var W=U.length;U.push(G);e:for(;0<W;){var C=W-1>>>1,F=U[C];if(0<o(F,G))U[C]=G,U[W]=F,W=C;else break e}}function t(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],W=U.pop();if(W!==G){U[0]=W;e:for(var C=0,F=U.length,Y=F>>>1;C<Y;){var le=2*(C+1)-1,ye=U[le],ve=le+1,Oe=U[ve];if(0>o(ye,W))ve<F&&0>o(Oe,ye)?(U[C]=Oe,U[ve]=W,C=ve):(U[C]=ye,U[le]=W,C=le);else if(ve<F&&0>o(Oe,W))U[C]=Oe,U[ve]=W,C=ve;else break e}}return G}function o(U,G){var W=U.sortIndex-G.sortIndex;return W!==0?W:U.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,y=null,v=3,_=!1,S=!1,b=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(U){for(var G=t(f);G!==null;){if(G.callback===null)r(f);else if(G.startTime<=U)r(f),G.sortIndex=G.expirationTime,e(d,G);else break;G=t(f)}}function N(U){if(b=!1,R(U),!S)if(t(d)!==null)S=!0,ae(I);else{var G=t(f);G!==null&&J(N,G.startTime-U)}}function I(U,G){S=!1,b&&(b=!1,T(B),B=-1),_=!0;var W=v;try{for(R(G),y=t(d);y!==null&&(!(y.expirationTime>G)||U&&!X());){var C=y.callback;if(typeof C=="function"){y.callback=null,v=y.priorityLevel;var F=C(y.expirationTime<=G);G=n.unstable_now(),typeof F=="function"?y.callback=F:y===t(d)&&r(d),R(G)}else r(d);y=t(d)}if(y!==null)var Y=!0;else{var le=t(f);le!==null&&J(N,le.startTime-G),Y=!1}return Y}finally{y=null,v=W,_=!1}}var $=!1,z=null,B=-1,Q=5,oe=-1;function X(){return!(n.unstable_now()-oe<Q)}function ce(){if(z!==null){var U=n.unstable_now();oe=U;var G=!0;try{G=z(!0,U)}finally{G?me():($=!1,z=null)}}else $=!1}var me;if(typeof O=="function")me=function(){O(ce)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,te=we.port2;we.port1.onmessage=ce,me=function(){te.postMessage(null)}}else me=function(){k(ce,0)};function ae(U){z=U,$||($=!0,me())}function J(U,G){B=k(function(){U(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){S||_||(S=!0,ae(I))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var W=v;v=G;try{return U()}finally{v=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var W=v;v=U;try{return G()}finally{v=W}},n.unstable_scheduleCallback=function(U,G,W){var C=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?C+W:C):W=C,U){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=W+F,U={id:g++,callback:G,priorityLevel:U,startTime:W,expirationTime:F,sortIndex:-1},W>C?(U.sortIndex=W,e(f,U),t(d)===null&&U===t(f)&&(b?(T(B),B=-1):b=!0,J(N,W-C))):(U.sortIndex=F,e(d,U),S||_||(S=!0,ae(I))),U},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(U){var G=v;return function(){var W=v;v=G;try{return U.apply(this,arguments)}finally{v=W}}}})(qc)),qc}var ep;function b0(){return ep||(ep=1,Vc.exports=x0()),Vc.exports}var tp;function S0(){if(tp)return wt;tp=1;var n=Mu(),e=b0();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function a(s,i){l(s,i),l(s+"Capture",i)}function l(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(s){return d.call(y,s)?!0:d.call(g,s)?!1:f.test(s)?y[s]=!0:(g[s]=!0,!1)}function _(s,i,c,h){if(c!==null&&c.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function S(s,i,c,h){if(i===null||typeof i>"u"||_(s,i,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function b(s,i,c,h,p,m,x){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=i,this.sanitizeURL=m,this.removeEmptyString=x}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new b(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new b(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new b(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new b(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new b(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new b(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new b(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new b(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new b(s,5,!1,s.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(T,O);k[i]=new b(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(T,O);k[i]=new b(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(T,O);k[i]=new b(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new b(s,1,!1,s.toLowerCase(),null,!0,!0)});function R(s,i,c,h){var p=k.hasOwnProperty(i)?k[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,c,p,h)&&(c=null),h||p===null?v(i)&&(c===null?s.removeAttribute(i):s.setAttribute(i,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(i=p.attributeName,h=p.attributeNamespace,c===null?s.removeAttribute(i):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,h?s.setAttributeNS(h,i,c):s.setAttribute(i,c))))}var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),$=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),X=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),U=Symbol.iterator;function G(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var W=Object.assign,C;function F(s){if(C===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);C=i&&i[1]||""}return`
`+C+s}var Y=!1;function le(s,i){if(!s||Y)return"";Y=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(L){var h=L}Reflect.construct(s,[],i)}else{try{i.call()}catch(L){h=L}s.call(i.prototype)}else{try{throw Error()}catch(L){h=L}s()}}catch(L){if(L&&h&&typeof L.stack=="string"){for(var p=L.stack.split(`
`),m=h.stack.split(`
`),x=p.length-1,E=m.length-1;1<=x&&0<=E&&p[x]!==m[E];)E--;for(;1<=x&&0<=E;x--,E--)if(p[x]!==m[E]){if(x!==1||E!==1)do if(x--,E--,0>E||p[x]!==m[E]){var P=`
`+p[x].replace(" at new "," at ");return s.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",s.displayName)),P}while(1<=x&&0<=E);break}}}finally{Y=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?F(s):""}function ye(s){switch(s.tag){case 5:return F(s.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return s=le(s.type,!1),s;case 11:return s=le(s.type.render,!1),s;case 1:return s=le(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case $:return"Portal";case Q:return"Profiler";case B:return"StrictMode";case me:return"Suspense";case we:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case X:return(s.displayName||"Context")+".Consumer";case oe:return(s._context.displayName||"Context")+".Provider";case ce:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case te:return i=s.displayName||null,i!==null?i:ve(s.type)||"Memo";case ae:i=s._payload,s=s._init;try{return ve(s(i))}catch{}}return null}function Oe(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(i);case 8:return i===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Te(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Le(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bt(s){var i=Le(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),h=""+s[i];if(!s.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return p.call(this)},set:function(x){h=""+x,m.call(this,x)}}),Object.defineProperty(s,i,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(x){h=""+x},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Fi(s){s._valueTracker||(s._valueTracker=bt(s))}function ed(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return s&&(h=Le(s)?s.checked?"true":"false":s.value),s=h,s!==c?(i.setValue(s),!0):!1}function zi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Ya(s,i){var c=i.checked;return W({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function td(s,i){var c=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;c=Te(i.value!=null?i.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function nd(s,i){i=i.checked,i!=null&&R(s,"checked",i,!1)}function Ja(s,i){nd(s,i);var c=Te(i.value),h=i.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Qa(s,i.type,c):i.hasOwnProperty("defaultValue")&&Qa(s,i.type,Te(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function rd(s,i,c){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,c||i===s.value||(s.value=i),s.defaultValue=i}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Qa(s,i,c){(i!=="number"||zi(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ws=Array.isArray;function Cr(s,i,c,h){if(s=s.options,i){i={};for(var p=0;p<c.length;p++)i["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=i.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Te(c),i=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}i!==null||s[p].disabled||(i=s[p])}i!==null&&(i.selected=!0)}}function Xa(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return W({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function sd(s,i){var c=i.value;if(c==null){if(c=i.children,i=i.defaultValue,c!=null){if(i!=null)throw Error(t(92));if(ws(c)){if(1<c.length)throw Error(t(93));c=c[0]}i=c}i==null&&(i=""),c=i}s._wrapperState={initialValue:Te(c)}}function id(s,i){var c=Te(i.value),h=Te(i.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),i.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function od(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function ad(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Za(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?ad(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Bi,ld=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,c,h,p){MSApp.execUnsafeLocalFunction(function(){return s(i,c,h,p)})}:s})(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Bi=Bi||document.createElement("div"),Bi.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Bi.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function _s(s,i){if(i){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=i;return}}s.textContent=i}var xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},by=["Webkit","ms","Moz","O"];Object.keys(xs).forEach(function(s){by.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),xs[i]=xs[s]})});function cd(s,i,c){return i==null||typeof i=="boolean"||i===""?"":c||typeof i!="number"||i===0||xs.hasOwnProperty(s)&&xs[s]?(""+i).trim():i+"px"}function ud(s,i){s=s.style;for(var c in i)if(i.hasOwnProperty(c)){var h=c.indexOf("--")===0,p=cd(c,i[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,p):s[c]=p}}var Sy=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function el(s,i){if(i){if(Sy[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function tl(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nl=null;function rl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var sl=null,Pr=null,Or=null;function dd(s){if(s=Ws(s)){if(typeof sl!="function")throw Error(t(280));var i=s.stateNode;i&&(i=ho(i),sl(s.stateNode,s.type,i))}}function hd(s){Pr?Or?Or.push(s):Or=[s]:Pr=s}function fd(){if(Pr){var s=Pr,i=Or;if(Or=Pr=null,dd(s),i)for(s=0;s<i.length;s++)dd(i[s])}}function pd(s,i){return s(i)}function gd(){}var il=!1;function md(s,i,c){if(il)return s(i,c);il=!0;try{return pd(s,i,c)}finally{il=!1,(Pr!==null||Or!==null)&&(gd(),fd())}}function bs(s,i){var c=s.stateNode;if(c===null)return null;var h=ho(c);if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,i,typeof c));return c}var ol=!1;if(u)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){ol=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{ol=!1}function ky(s,i,c,h,p,m,x,E,P){var L=Array.prototype.slice.call(arguments,3);try{i.apply(c,L)}catch(V){this.onError(V)}}var ks=!1,Wi=null,Hi=!1,al=null,Ey={onError:function(s){ks=!0,Wi=s}};function Ty(s,i,c,h,p,m,x,E,P){ks=!1,Wi=null,ky.apply(Ey,arguments)}function Cy(s,i,c,h,p,m,x,E,P){if(Ty.apply(this,arguments),ks){if(ks){var L=Wi;ks=!1,Wi=null}else throw Error(t(198));Hi||(Hi=!0,al=L)}}function Qn(s){var i=s,c=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(c=i.return),s=i.return;while(s)}return i.tag===3?c:null}function yd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function vd(s){if(Qn(s)!==s)throw Error(t(188))}function Py(s){var i=s.alternate;if(!i){if(i=Qn(s),i===null)throw Error(t(188));return i!==s?null:s}for(var c=s,h=i;;){var p=c.return;if(p===null)break;var m=p.alternate;if(m===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===c)return vd(p),s;if(m===h)return vd(p),i;m=m.sibling}throw Error(t(188))}if(c.return!==h.return)c=p,h=m;else{for(var x=!1,E=p.child;E;){if(E===c){x=!0,c=p,h=m;break}if(E===h){x=!0,h=p,c=m;break}E=E.sibling}if(!x){for(E=m.child;E;){if(E===c){x=!0,c=m,h=p;break}if(E===h){x=!0,h=m,c=p;break}E=E.sibling}if(!x)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:i}function wd(s){return s=Py(s),s!==null?_d(s):null}function _d(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=_d(s);if(i!==null)return i;s=s.sibling}return null}var xd=e.unstable_scheduleCallback,bd=e.unstable_cancelCallback,Oy=e.unstable_shouldYield,jy=e.unstable_requestPaint,Be=e.unstable_now,Ry=e.unstable_getCurrentPriorityLevel,ll=e.unstable_ImmediatePriority,Sd=e.unstable_UserBlockingPriority,Vi=e.unstable_NormalPriority,Ay=e.unstable_LowPriority,kd=e.unstable_IdlePriority,qi=null,Zt=null;function Ny(s){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(qi,s,void 0,(s.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Ly,Iy=Math.log,My=Math.LN2;function Ly(s){return s>>>=0,s===0?32:31-(Iy(s)/My|0)|0}var Ki=64,Gi=4194304;function Es(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Yi(s,i){var c=s.pendingLanes;if(c===0)return 0;var h=0,p=s.suspendedLanes,m=s.pingedLanes,x=c&268435455;if(x!==0){var E=x&~p;E!==0?h=Es(E):(m&=x,m!==0&&(h=Es(m)))}else x=c&~p,x!==0?h=Es(x):m!==0&&(h=Es(m));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,m=i&-i,p>=m||p===16&&(m&4194240)!==0))return i;if((h&4)!==0&&(h|=c&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=h;0<i;)c=31-Ft(i),p=1<<c,h|=s[c],i&=~p;return h}function Dy(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uy(s,i){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,m=s.pendingLanes;0<m;){var x=31-Ft(m),E=1<<x,P=p[x];P===-1?((E&c)===0||(E&h)!==0)&&(p[x]=Dy(E,i)):P<=i&&(s.expiredLanes|=E),m&=~E}}function cl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ed(){var s=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),s}function ul(s){for(var i=[],c=0;31>c;c++)i.push(s);return i}function Ts(s,i,c){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ft(i),s[i]=c}function $y(s,i){var c=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-Ft(c),m=1<<p;i[p]=0,h[p]=-1,s[p]=-1,c&=~m}}function dl(s,i){var c=s.entangledLanes|=i;for(s=s.entanglements;c;){var h=31-Ft(c),p=1<<h;p&i|s[h]&i&&(s[h]|=i),c&=~p}}var Ce=0;function Td(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Cd,hl,Pd,Od,jd,fl=!1,Ji=[],En=null,Tn=null,Cn=null,Cs=new Map,Ps=new Map,Pn=[],Fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(s,i){switch(s){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Tn=null;break;case"mouseover":case"mouseout":Cn=null;break;case"pointerover":case"pointerout":Cs.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(i.pointerId)}}function Os(s,i,c,h,p,m){return s===null||s.nativeEvent!==m?(s={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:m,targetContainers:[p]},i!==null&&(i=Ws(i),i!==null&&hl(i)),s):(s.eventSystemFlags|=h,i=s.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),s)}function zy(s,i,c,h,p){switch(i){case"focusin":return En=Os(En,s,i,c,h,p),!0;case"dragenter":return Tn=Os(Tn,s,i,c,h,p),!0;case"mouseover":return Cn=Os(Cn,s,i,c,h,p),!0;case"pointerover":var m=p.pointerId;return Cs.set(m,Os(Cs.get(m)||null,s,i,c,h,p)),!0;case"gotpointercapture":return m=p.pointerId,Ps.set(m,Os(Ps.get(m)||null,s,i,c,h,p)),!0}return!1}function Ad(s){var i=Xn(s.target);if(i!==null){var c=Qn(i);if(c!==null){if(i=c.tag,i===13){if(i=yd(c),i!==null){s.blockedOn=i,jd(s.priority,function(){Pd(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qi(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var c=gl(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);nl=h,c.target.dispatchEvent(h),nl=null}else return i=Ws(c),i!==null&&hl(i),s.blockedOn=c,!1;i.shift()}return!0}function Nd(s,i,c){Qi(s)&&c.delete(i)}function By(){fl=!1,En!==null&&Qi(En)&&(En=null),Tn!==null&&Qi(Tn)&&(Tn=null),Cn!==null&&Qi(Cn)&&(Cn=null),Cs.forEach(Nd),Ps.forEach(Nd)}function js(s,i){s.blockedOn===i&&(s.blockedOn=null,fl||(fl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,By)))}function Rs(s){function i(p){return js(p,s)}if(0<Ji.length){js(Ji[0],s);for(var c=1;c<Ji.length;c++){var h=Ji[c];h.blockedOn===s&&(h.blockedOn=null)}}for(En!==null&&js(En,s),Tn!==null&&js(Tn,s),Cn!==null&&js(Cn,s),Cs.forEach(i),Ps.forEach(i),c=0;c<Pn.length;c++)h=Pn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Pn.length&&(c=Pn[0],c.blockedOn===null);)Ad(c),c.blockedOn===null&&Pn.shift()}var jr=N.ReactCurrentBatchConfig,Xi=!0;function Wy(s,i,c,h){var p=Ce,m=jr.transition;jr.transition=null;try{Ce=1,pl(s,i,c,h)}finally{Ce=p,jr.transition=m}}function Hy(s,i,c,h){var p=Ce,m=jr.transition;jr.transition=null;try{Ce=4,pl(s,i,c,h)}finally{Ce=p,jr.transition=m}}function pl(s,i,c,h){if(Xi){var p=gl(s,i,c,h);if(p===null)Al(s,i,h,Zi,c),Rd(s,h);else if(zy(p,s,i,c,h))h.stopPropagation();else if(Rd(s,h),i&4&&-1<Fy.indexOf(s)){for(;p!==null;){var m=Ws(p);if(m!==null&&Cd(m),m=gl(s,i,c,h),m===null&&Al(s,i,h,Zi,c),m===p)break;p=m}p!==null&&h.stopPropagation()}else Al(s,i,h,null,c)}}var Zi=null;function gl(s,i,c,h){if(Zi=null,s=rl(h),s=Xn(s),s!==null)if(i=Qn(s),i===null)s=null;else if(c=i.tag,c===13){if(s=yd(i),s!==null)return s;s=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Zi=s,null}function Id(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ry()){case ll:return 1;case Sd:return 4;case Vi:case Ay:return 16;case kd:return 536870912;default:return 16}default:return 16}}var On=null,ml=null,eo=null;function Md(){if(eo)return eo;var s,i=ml,c=i.length,h,p="value"in On?On.value:On.textContent,m=p.length;for(s=0;s<c&&i[s]===p[s];s++);var x=c-s;for(h=1;h<=x&&i[c-h]===p[m-h];h++);return eo=p.slice(s,1<h?1-h:void 0)}function to(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function no(){return!0}function Ld(){return!1}function St(s){function i(c,h,p,m,x){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(c=s[E],this[E]=c?c(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?no:Ld,this.isPropagationStopped=Ld,this}return W(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=no)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=no)},persist:function(){},isPersistent:no}),i}var Rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yl=St(Rr),As=W({},Rr,{view:0,detail:0}),Vy=St(As),vl,wl,Ns,ro=W({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ns&&(Ns&&s.type==="mousemove"?(vl=s.screenX-Ns.screenX,wl=s.screenY-Ns.screenY):wl=vl=0,Ns=s),vl)},movementY:function(s){return"movementY"in s?s.movementY:wl}}),Dd=St(ro),qy=W({},ro,{dataTransfer:0}),Ky=St(qy),Gy=W({},As,{relatedTarget:0}),_l=St(Gy),Yy=W({},Rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Jy=St(Yy),Qy=W({},Rr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xy=St(Qy),Zy=W({},Rr,{data:0}),Ud=St(Zy),ev={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rv(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=nv[s])?!!i[s]:!1}function xl(){return rv}var sv=W({},As,{key:function(s){if(s.key){var i=ev[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=to(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(s){return s.type==="keypress"?to(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?to(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),iv=St(sv),ov=W({},ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$d=St(ov),av=W({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),lv=St(av),cv=W({},Rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),uv=St(cv),dv=W({},ro,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),hv=St(dv),fv=[9,13,27,32],bl=u&&"CompositionEvent"in window,Is=null;u&&"documentMode"in document&&(Is=document.documentMode);var pv=u&&"TextEvent"in window&&!Is,Fd=u&&(!bl||Is&&8<Is&&11>=Is),zd=" ",Bd=!1;function Wd(s,i){switch(s){case"keyup":return fv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ar=!1;function gv(s,i){switch(s){case"compositionend":return Hd(i);case"keypress":return i.which!==32?null:(Bd=!0,zd);case"textInput":return s=i.data,s===zd&&Bd?null:s;default:return null}}function mv(s,i){if(Ar)return s==="compositionend"||!bl&&Wd(s,i)?(s=Md(),eo=ml=On=null,Ar=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fd&&i.locale!=="ko"?null:i.data;default:return null}}var yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vd(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!yv[s.type]:i==="textarea"}function qd(s,i,c,h){hd(h),i=lo(i,"onChange"),0<i.length&&(c=new yl("onChange","change",null,c,h),s.push({event:c,listeners:i}))}var Ms=null,Ls=null;function vv(s){uh(s,0)}function so(s){var i=Dr(s);if(ed(i))return s}function wv(s,i){if(s==="change")return i}var Kd=!1;if(u){var Sl;if(u){var kl="oninput"in document;if(!kl){var Gd=document.createElement("div");Gd.setAttribute("oninput","return;"),kl=typeof Gd.oninput=="function"}Sl=kl}else Sl=!1;Kd=Sl&&(!document.documentMode||9<document.documentMode)}function Yd(){Ms&&(Ms.detachEvent("onpropertychange",Jd),Ls=Ms=null)}function Jd(s){if(s.propertyName==="value"&&so(Ls)){var i=[];qd(i,Ls,s,rl(s)),md(vv,i)}}function _v(s,i,c){s==="focusin"?(Yd(),Ms=i,Ls=c,Ms.attachEvent("onpropertychange",Jd)):s==="focusout"&&Yd()}function xv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return so(Ls)}function bv(s,i){if(s==="click")return so(i)}function Sv(s,i){if(s==="input"||s==="change")return so(i)}function kv(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var zt=typeof Object.is=="function"?Object.is:kv;function Ds(s,i){if(zt(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var c=Object.keys(s),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!d.call(i,p)||!zt(s[p],i[p]))return!1}return!0}function Qd(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Xd(s,i){var c=Qd(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=i&&h>=i)return{node:c,offset:i-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Qd(c)}}function Zd(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?Zd(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function eh(){for(var s=window,i=zi();i instanceof s.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)s=i.contentWindow;else break;i=zi(s.document)}return i}function El(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Ev(s){var i=eh(),c=s.focusedElem,h=s.selectionRange;if(i!==c&&c&&c.ownerDocument&&Zd(c.ownerDocument.documentElement,c)){if(h!==null&&El(c)){if(i=h.start,s=h.end,s===void 0&&(s=i),"selectionStart"in c)c.selectionStart=i,c.selectionEnd=Math.min(s,c.value.length);else if(s=(i=c.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,m=Math.min(h.start,p);h=h.end===void 0?m:Math.min(h.end,p),!s.extend&&m>h&&(p=h,h=m,m=p),p=Xd(c,m);var x=Xd(c,h);p&&x&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==x.node||s.focusOffset!==x.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),s.removeAllRanges(),m>h?(s.addRange(i),s.extend(x.node,x.offset)):(i.setEnd(x.node,x.offset),s.addRange(i)))}}for(i=[],s=c;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<i.length;c++)s=i[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Tv=u&&"documentMode"in document&&11>=document.documentMode,Nr=null,Tl=null,Us=null,Cl=!1;function th(s,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Cl||Nr==null||Nr!==zi(h)||(h=Nr,"selectionStart"in h&&El(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Us&&Ds(Us,h)||(Us=h,h=lo(Tl,"onSelect"),0<h.length&&(i=new yl("onSelect","select",null,i,c),s.push({event:i,listeners:h}),i.target=Nr)))}function io(s,i){var c={};return c[s.toLowerCase()]=i.toLowerCase(),c["Webkit"+s]="webkit"+i,c["Moz"+s]="moz"+i,c}var Ir={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},Pl={},nh={};u&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Ir.animationend.animation,delete Ir.animationiteration.animation,delete Ir.animationstart.animation),"TransitionEvent"in window||delete Ir.transitionend.transition);function oo(s){if(Pl[s])return Pl[s];if(!Ir[s])return s;var i=Ir[s],c;for(c in i)if(i.hasOwnProperty(c)&&c in nh)return Pl[s]=i[c];return s}var rh=oo("animationend"),sh=oo("animationiteration"),ih=oo("animationstart"),oh=oo("transitionend"),ah=new Map,lh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(s,i){ah.set(s,i),a(i,[s])}for(var Ol=0;Ol<lh.length;Ol++){var jl=lh[Ol],Cv=jl.toLowerCase(),Pv=jl[0].toUpperCase()+jl.slice(1);jn(Cv,"on"+Pv)}jn(rh,"onAnimationEnd"),jn(sh,"onAnimationIteration"),jn(ih,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(oh,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ov=new Set("cancel close invalid load scroll toggle".split(" ").concat($s));function ch(s,i,c){var h=s.type||"unknown-event";s.currentTarget=c,Cy(h,i,void 0,s),s.currentTarget=null}function uh(s,i){i=(i&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;e:{var m=void 0;if(i)for(var x=h.length-1;0<=x;x--){var E=h[x],P=E.instance,L=E.currentTarget;if(E=E.listener,P!==m&&p.isPropagationStopped())break e;ch(p,E,L),m=P}else for(x=0;x<h.length;x++){if(E=h[x],P=E.instance,L=E.currentTarget,E=E.listener,P!==m&&p.isPropagationStopped())break e;ch(p,E,L),m=P}}}if(Hi)throw s=al,Hi=!1,al=null,s}function Ne(s,i){var c=i[Ul];c===void 0&&(c=i[Ul]=new Set);var h=s+"__bubble";c.has(h)||(dh(i,s,2,!1),c.add(h))}function Rl(s,i,c){var h=0;i&&(h|=4),dh(c,s,h,i)}var ao="_reactListening"+Math.random().toString(36).slice(2);function Fs(s){if(!s[ao]){s[ao]=!0,r.forEach(function(c){c!=="selectionchange"&&(Ov.has(c)||Rl(c,!1,s),Rl(c,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[ao]||(i[ao]=!0,Rl("selectionchange",!1,i))}}function dh(s,i,c,h){switch(Id(i)){case 1:var p=Wy;break;case 4:p=Hy;break;default:p=pl}c=p.bind(null,i,c,s),p=void 0,!ol||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(i,c,{capture:!0,passive:p}):s.addEventListener(i,c,!0):p!==void 0?s.addEventListener(i,c,{passive:p}):s.addEventListener(i,c,!1)}function Al(s,i,c,h,p){var m=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var x=h.tag;if(x===3||x===4){var E=h.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(x===4)for(x=h.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;x=x.return}for(;E!==null;){if(x=Xn(E),x===null)return;if(P=x.tag,P===5||P===6){h=m=x;continue e}E=E.parentNode}}h=h.return}md(function(){var L=m,V=rl(c),q=[];e:{var H=ah.get(s);if(H!==void 0){var Z=yl,ne=s;switch(s){case"keypress":if(to(c)===0)break e;case"keydown":case"keyup":Z=iv;break;case"focusin":ne="focus",Z=_l;break;case"focusout":ne="blur",Z=_l;break;case"beforeblur":case"afterblur":Z=_l;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Ky;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=lv;break;case rh:case sh:case ih:Z=Jy;break;case oh:Z=uv;break;case"scroll":Z=Vy;break;case"wheel":Z=hv;break;case"copy":case"cut":case"paste":Z=Xy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=$d}var re=(i&4)!==0,We=!re&&s==="scroll",A=re?H!==null?H+"Capture":null:H;re=[];for(var j=L,M;j!==null;){M=j;var K=M.stateNode;if(M.tag===5&&K!==null&&(M=K,A!==null&&(K=bs(j,A),K!=null&&re.push(zs(j,K,M)))),We)break;j=j.return}0<re.length&&(H=new Z(H,ne,null,c,V),q.push({event:H,listeners:re}))}}if((i&7)===0){e:{if(H=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",H&&c!==nl&&(ne=c.relatedTarget||c.fromElement)&&(Xn(ne)||ne[cn]))break e;if((Z||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,Z?(ne=c.relatedTarget||c.toElement,Z=L,ne=ne?Xn(ne):null,ne!==null&&(We=Qn(ne),ne!==We||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(Z=null,ne=L),Z!==ne)){if(re=Dd,K="onMouseLeave",A="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(re=$d,K="onPointerLeave",A="onPointerEnter",j="pointer"),We=Z==null?H:Dr(Z),M=ne==null?H:Dr(ne),H=new re(K,j+"leave",Z,c,V),H.target=We,H.relatedTarget=M,K=null,Xn(V)===L&&(re=new re(A,j+"enter",ne,c,V),re.target=M,re.relatedTarget=We,K=re),We=K,Z&&ne)t:{for(re=Z,A=ne,j=0,M=re;M;M=Mr(M))j++;for(M=0,K=A;K;K=Mr(K))M++;for(;0<j-M;)re=Mr(re),j--;for(;0<M-j;)A=Mr(A),M--;for(;j--;){if(re===A||A!==null&&re===A.alternate)break t;re=Mr(re),A=Mr(A)}re=null}else re=null;Z!==null&&hh(q,H,Z,re,!1),ne!==null&&We!==null&&hh(q,We,ne,re,!0)}}e:{if(H=L?Dr(L):window,Z=H.nodeName&&H.nodeName.toLowerCase(),Z==="select"||Z==="input"&&H.type==="file")var se=wv;else if(Vd(H))if(Kd)se=Sv;else{se=xv;var ue=_v}else(Z=H.nodeName)&&Z.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(se=bv);if(se&&(se=se(s,L))){qd(q,se,c,V);break e}ue&&ue(s,H,L),s==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&Qa(H,"number",H.value)}switch(ue=L?Dr(L):window,s){case"focusin":(Vd(ue)||ue.contentEditable==="true")&&(Nr=ue,Tl=L,Us=null);break;case"focusout":Us=Tl=Nr=null;break;case"mousedown":Cl=!0;break;case"contextmenu":case"mouseup":case"dragend":Cl=!1,th(q,c,V);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":th(q,c,V)}var de;if(bl)e:{switch(s){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ar?Wd(s,c)&&(ge="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ge="onCompositionStart");ge&&(Fd&&c.locale!=="ko"&&(Ar||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ar&&(de=Md()):(On=V,ml="value"in On?On.value:On.textContent,Ar=!0)),ue=lo(L,ge),0<ue.length&&(ge=new Ud(ge,s,null,c,V),q.push({event:ge,listeners:ue}),de?ge.data=de:(de=Hd(c),de!==null&&(ge.data=de)))),(de=pv?gv(s,c):mv(s,c))&&(L=lo(L,"onBeforeInput"),0<L.length&&(V=new Ud("onBeforeInput","beforeinput",null,c,V),q.push({event:V,listeners:L}),V.data=de))}uh(q,i)})}function zs(s,i,c){return{instance:s,listener:i,currentTarget:c}}function lo(s,i){for(var c=i+"Capture",h=[];s!==null;){var p=s,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=bs(s,c),m!=null&&h.unshift(zs(s,m,p)),m=bs(s,i),m!=null&&h.push(zs(s,m,p))),s=s.return}return h}function Mr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hh(s,i,c,h,p){for(var m=i._reactName,x=[];c!==null&&c!==h;){var E=c,P=E.alternate,L=E.stateNode;if(P!==null&&P===h)break;E.tag===5&&L!==null&&(E=L,p?(P=bs(c,m),P!=null&&x.unshift(zs(c,P,E))):p||(P=bs(c,m),P!=null&&x.push(zs(c,P,E)))),c=c.return}x.length!==0&&s.push({event:i,listeners:x})}var jv=/\r\n?/g,Rv=/\u0000|\uFFFD/g;function fh(s){return(typeof s=="string"?s:""+s).replace(jv,`
`).replace(Rv,"")}function co(s,i,c){if(i=fh(i),fh(s)!==i&&c)throw Error(t(425))}function uo(){}var Nl=null,Il=null;function Ml(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,ph=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof ph<"u"?function(s){return ph.resolve(null).then(s).catch(Iv)}:Ll;function Iv(s){setTimeout(function(){throw s})}function Dl(s,i){var c=i,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(h===0){s.removeChild(p),Rs(i);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=p}while(c);Rs(i)}function Rn(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function gh(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(i===0)return s;i--}else c==="/$"&&i++}s=s.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),en="__reactFiber$"+Lr,Bs="__reactProps$"+Lr,cn="__reactContainer$"+Lr,Ul="__reactEvents$"+Lr,Mv="__reactListeners$"+Lr,Lv="__reactHandles$"+Lr;function Xn(s){var i=s[en];if(i)return i;for(var c=s.parentNode;c;){if(i=c[cn]||c[en]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(s=gh(s);s!==null;){if(c=s[en])return c;s=gh(s)}return i}s=c,c=s.parentNode}return null}function Ws(s){return s=s[en]||s[cn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Dr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function ho(s){return s[Bs]||null}var $l=[],Ur=-1;function An(s){return{current:s}}function Ie(s){0>Ur||(s.current=$l[Ur],$l[Ur]=null,Ur--)}function je(s,i){Ur++,$l[Ur]=s.current,s.current=i}var Nn={},it=An(Nn),pt=An(!1),Zn=Nn;function $r(s,i){var c=s.type.contextTypes;if(!c)return Nn;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in c)p[m]=i[m];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=p),p}function gt(s){return s=s.childContextTypes,s!=null}function fo(){Ie(pt),Ie(it)}function mh(s,i,c){if(it.current!==Nn)throw Error(t(168));je(it,i),je(pt,c)}function yh(s,i,c){var h=s.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,Oe(s)||"Unknown",p));return W({},c,h)}function po(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Nn,Zn=it.current,je(it,s),je(pt,pt.current),!0}function vh(s,i,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=yh(s,i,Zn),h.__reactInternalMemoizedMergedChildContext=s,Ie(pt),Ie(it),je(it,s)):Ie(pt),je(pt,c)}var un=null,go=!1,Fl=!1;function wh(s){un===null?un=[s]:un.push(s)}function Dv(s){go=!0,wh(s)}function In(){if(!Fl&&un!==null){Fl=!0;var s=0,i=Ce;try{var c=un;for(Ce=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}un=null,go=!1}catch(p){throw un!==null&&(un=un.slice(s+1)),xd(ll,In),p}finally{Ce=i,Fl=!1}}return null}var Fr=[],zr=0,mo=null,yo=0,jt=[],Rt=0,er=null,dn=1,hn="";function tr(s,i){Fr[zr++]=yo,Fr[zr++]=mo,mo=s,yo=i}function _h(s,i,c){jt[Rt++]=dn,jt[Rt++]=hn,jt[Rt++]=er,er=s;var h=dn;s=hn;var p=32-Ft(h)-1;h&=~(1<<p),c+=1;var m=32-Ft(i)+p;if(30<m){var x=p-p%5;m=(h&(1<<x)-1).toString(32),h>>=x,p-=x,dn=1<<32-Ft(i)+p|c<<p|h,hn=m+s}else dn=1<<m|c<<p|h,hn=s}function zl(s){s.return!==null&&(tr(s,1),_h(s,1,0))}function Bl(s){for(;s===mo;)mo=Fr[--zr],Fr[zr]=null,yo=Fr[--zr],Fr[zr]=null;for(;s===er;)er=jt[--Rt],jt[Rt]=null,hn=jt[--Rt],jt[Rt]=null,dn=jt[--Rt],jt[Rt]=null}var kt=null,Et=null,De=!1,Bt=null;function xh(s,i){var c=Mt(5,null,null,0);c.elementType="DELETED",c.stateNode=i,c.return=s,i=s.deletions,i===null?(s.deletions=[c],s.flags|=16):i.push(c)}function bh(s,i){switch(s.tag){case 5:var c=s.type;return i=i.nodeType!==1||c.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,kt=s,Et=Rn(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,kt=s,Et=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(c=er!==null?{id:dn,overflow:hn}:null,s.memoizedState={dehydrated:i,treeContext:c,retryLane:1073741824},c=Mt(18,null,null,0),c.stateNode=i,c.return=s,s.child=c,kt=s,Et=null,!0):!1;default:return!1}}function Wl(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Hl(s){if(De){var i=Et;if(i){var c=i;if(!bh(s,i)){if(Wl(s))throw Error(t(418));i=Rn(c.nextSibling);var h=kt;i&&bh(s,i)?xh(h,c):(s.flags=s.flags&-4097|2,De=!1,kt=s)}}else{if(Wl(s))throw Error(t(418));s.flags=s.flags&-4097|2,De=!1,kt=s}}}function Sh(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;kt=s}function vo(s){if(s!==kt)return!1;if(!De)return Sh(s),De=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!Ml(s.type,s.memoizedProps)),i&&(i=Et)){if(Wl(s))throw kh(),Error(t(418));for(;i;)xh(s,i),i=Rn(i.nextSibling)}if(Sh(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(i===0){Et=Rn(s.nextSibling);break e}i--}else c!=="$"&&c!=="$!"&&c!=="$?"||i++}s=s.nextSibling}Et=null}}else Et=kt?Rn(s.stateNode.nextSibling):null;return!0}function kh(){for(var s=Et;s;)s=Rn(s.nextSibling)}function Br(){Et=kt=null,De=!1}function Vl(s){Bt===null?Bt=[s]:Bt.push(s)}var Uv=N.ReactCurrentBatchConfig;function Hs(s,i,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var p=h,m=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===m?i.ref:(i=function(x){var E=p.refs;x===null?delete E[m]:E[m]=x},i._stringRef=m,i)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function wo(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Eh(s){var i=s._init;return i(s._payload)}function Th(s){function i(A,j){if(s){var M=A.deletions;M===null?(A.deletions=[j],A.flags|=16):M.push(j)}}function c(A,j){if(!s)return null;for(;j!==null;)i(A,j),j=j.sibling;return null}function h(A,j){for(A=new Map;j!==null;)j.key!==null?A.set(j.key,j):A.set(j.index,j),j=j.sibling;return A}function p(A,j){return A=Bn(A,j),A.index=0,A.sibling=null,A}function m(A,j,M){return A.index=M,s?(M=A.alternate,M!==null?(M=M.index,M<j?(A.flags|=2,j):M):(A.flags|=2,j)):(A.flags|=1048576,j)}function x(A){return s&&A.alternate===null&&(A.flags|=2),A}function E(A,j,M,K){return j===null||j.tag!==6?(j=Lc(M,A.mode,K),j.return=A,j):(j=p(j,M),j.return=A,j)}function P(A,j,M,K){var se=M.type;return se===z?V(A,j,M.props.children,K,M.key):j!==null&&(j.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ae&&Eh(se)===j.type)?(K=p(j,M.props),K.ref=Hs(A,j,M),K.return=A,K):(K=Wo(M.type,M.key,M.props,null,A.mode,K),K.ref=Hs(A,j,M),K.return=A,K)}function L(A,j,M,K){return j===null||j.tag!==4||j.stateNode.containerInfo!==M.containerInfo||j.stateNode.implementation!==M.implementation?(j=Dc(M,A.mode,K),j.return=A,j):(j=p(j,M.children||[]),j.return=A,j)}function V(A,j,M,K,se){return j===null||j.tag!==7?(j=cr(M,A.mode,K,se),j.return=A,j):(j=p(j,M),j.return=A,j)}function q(A,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Lc(""+j,A.mode,M),j.return=A,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return M=Wo(j.type,j.key,j.props,null,A.mode,M),M.ref=Hs(A,null,j),M.return=A,M;case $:return j=Dc(j,A.mode,M),j.return=A,j;case ae:var K=j._init;return q(A,K(j._payload),M)}if(ws(j)||G(j))return j=cr(j,A.mode,M,null),j.return=A,j;wo(A,j)}return null}function H(A,j,M,K){var se=j!==null?j.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return se!==null?null:E(A,j,""+M,K);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case I:return M.key===se?P(A,j,M,K):null;case $:return M.key===se?L(A,j,M,K):null;case ae:return se=M._init,H(A,j,se(M._payload),K)}if(ws(M)||G(M))return se!==null?null:V(A,j,M,K,null);wo(A,M)}return null}function Z(A,j,M,K,se){if(typeof K=="string"&&K!==""||typeof K=="number")return A=A.get(M)||null,E(j,A,""+K,se);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return A=A.get(K.key===null?M:K.key)||null,P(j,A,K,se);case $:return A=A.get(K.key===null?M:K.key)||null,L(j,A,K,se);case ae:var ue=K._init;return Z(A,j,M,ue(K._payload),se)}if(ws(K)||G(K))return A=A.get(M)||null,V(j,A,K,se,null);wo(j,K)}return null}function ne(A,j,M,K){for(var se=null,ue=null,de=j,ge=j=0,Ze=null;de!==null&&ge<M.length;ge++){de.index>ge?(Ze=de,de=null):Ze=de.sibling;var ke=H(A,de,M[ge],K);if(ke===null){de===null&&(de=Ze);break}s&&de&&ke.alternate===null&&i(A,de),j=m(ke,j,ge),ue===null?se=ke:ue.sibling=ke,ue=ke,de=Ze}if(ge===M.length)return c(A,de),De&&tr(A,ge),se;if(de===null){for(;ge<M.length;ge++)de=q(A,M[ge],K),de!==null&&(j=m(de,j,ge),ue===null?se=de:ue.sibling=de,ue=de);return De&&tr(A,ge),se}for(de=h(A,de);ge<M.length;ge++)Ze=Z(de,A,ge,M[ge],K),Ze!==null&&(s&&Ze.alternate!==null&&de.delete(Ze.key===null?ge:Ze.key),j=m(Ze,j,ge),ue===null?se=Ze:ue.sibling=Ze,ue=Ze);return s&&de.forEach(function(Wn){return i(A,Wn)}),De&&tr(A,ge),se}function re(A,j,M,K){var se=G(M);if(typeof se!="function")throw Error(t(150));if(M=se.call(M),M==null)throw Error(t(151));for(var ue=se=null,de=j,ge=j=0,Ze=null,ke=M.next();de!==null&&!ke.done;ge++,ke=M.next()){de.index>ge?(Ze=de,de=null):Ze=de.sibling;var Wn=H(A,de,ke.value,K);if(Wn===null){de===null&&(de=Ze);break}s&&de&&Wn.alternate===null&&i(A,de),j=m(Wn,j,ge),ue===null?se=Wn:ue.sibling=Wn,ue=Wn,de=Ze}if(ke.done)return c(A,de),De&&tr(A,ge),se;if(de===null){for(;!ke.done;ge++,ke=M.next())ke=q(A,ke.value,K),ke!==null&&(j=m(ke,j,ge),ue===null?se=ke:ue.sibling=ke,ue=ke);return De&&tr(A,ge),se}for(de=h(A,de);!ke.done;ge++,ke=M.next())ke=Z(de,A,ge,ke.value,K),ke!==null&&(s&&ke.alternate!==null&&de.delete(ke.key===null?ge:ke.key),j=m(ke,j,ge),ue===null?se=ke:ue.sibling=ke,ue=ke);return s&&de.forEach(function(y0){return i(A,y0)}),De&&tr(A,ge),se}function We(A,j,M,K){if(typeof M=="object"&&M!==null&&M.type===z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case I:e:{for(var se=M.key,ue=j;ue!==null;){if(ue.key===se){if(se=M.type,se===z){if(ue.tag===7){c(A,ue.sibling),j=p(ue,M.props.children),j.return=A,A=j;break e}}else if(ue.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===ae&&Eh(se)===ue.type){c(A,ue.sibling),j=p(ue,M.props),j.ref=Hs(A,ue,M),j.return=A,A=j;break e}c(A,ue);break}else i(A,ue);ue=ue.sibling}M.type===z?(j=cr(M.props.children,A.mode,K,M.key),j.return=A,A=j):(K=Wo(M.type,M.key,M.props,null,A.mode,K),K.ref=Hs(A,j,M),K.return=A,A=K)}return x(A);case $:e:{for(ue=M.key;j!==null;){if(j.key===ue)if(j.tag===4&&j.stateNode.containerInfo===M.containerInfo&&j.stateNode.implementation===M.implementation){c(A,j.sibling),j=p(j,M.children||[]),j.return=A,A=j;break e}else{c(A,j);break}else i(A,j);j=j.sibling}j=Dc(M,A.mode,K),j.return=A,A=j}return x(A);case ae:return ue=M._init,We(A,j,ue(M._payload),K)}if(ws(M))return ne(A,j,M,K);if(G(M))return re(A,j,M,K);wo(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,j!==null&&j.tag===6?(c(A,j.sibling),j=p(j,M),j.return=A,A=j):(c(A,j),j=Lc(M,A.mode,K),j.return=A,A=j),x(A)):c(A,j)}return We}var Wr=Th(!0),Ch=Th(!1),_o=An(null),xo=null,Hr=null,ql=null;function Kl(){ql=Hr=xo=null}function Gl(s){var i=_o.current;Ie(_o),s._currentValue=i}function Yl(s,i,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),s===c)break;s=s.return}}function Vr(s,i){xo=s,ql=Hr=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(mt=!0),s.firstContext=null)}function At(s){var i=s._currentValue;if(ql!==s)if(s={context:s,memoizedValue:i,next:null},Hr===null){if(xo===null)throw Error(t(308));Hr=s,xo.dependencies={lanes:0,firstContext:s}}else Hr=Hr.next=s;return i}var nr=null;function Jl(s){nr===null?nr=[s]:nr.push(s)}function Ph(s,i,c,h){var p=i.interleaved;return p===null?(c.next=c,Jl(i)):(c.next=p.next,p.next=c),i.interleaved=c,fn(s,h)}function fn(s,i){s.lanes|=i;var c=s.alternate;for(c!==null&&(c.lanes|=i),c=s,s=s.return;s!==null;)s.childLanes|=i,c=s.alternate,c!==null&&(c.childLanes|=i),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Mn=!1;function Ql(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function pn(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Ln(s,i,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Se&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,fn(s,c)}return p=h.interleaved,p===null?(i.next=i,Jl(h)):(i.next=p.next,p.next=i),h.interleaved=i,fn(s,c)}function bo(s,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194240)!==0)){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,dl(s,c)}}function jh(s,i){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,m=null;if(c=c.firstBaseUpdate,c!==null){do{var x={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};m===null?p=m=x:m=m.next=x,c=c.next}while(c!==null);m===null?p=m=i:m=m.next=i}else p=m=i;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=i:s.next=i,c.lastBaseUpdate=i}function So(s,i,c,h){var p=s.updateQueue;Mn=!1;var m=p.firstBaseUpdate,x=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var P=E,L=P.next;P.next=null,x===null?m=L:x.next=L,x=P;var V=s.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==x&&(E===null?V.firstBaseUpdate=L:E.next=L,V.lastBaseUpdate=P))}if(m!==null){var q=p.baseState;x=0,V=L=P=null,E=m;do{var H=E.lane,Z=E.eventTime;if((h&H)===H){V!==null&&(V=V.next={eventTime:Z,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ne=s,re=E;switch(H=i,Z=c,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){q=ne.call(Z,q,H);break e}q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,H=typeof ne=="function"?ne.call(Z,q,H):ne,H==null)break e;q=W({},q,H);break e;case 2:Mn=!0}}E.callback!==null&&E.lane!==0&&(s.flags|=64,H=p.effects,H===null?p.effects=[E]:H.push(E))}else Z={eventTime:Z,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(L=V=Z,P=q):V=V.next=Z,x|=H;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;H=E,E=H.next,H.next=null,p.lastBaseUpdate=H,p.shared.pending=null}}while(!0);if(V===null&&(P=q),p.baseState=P,p.firstBaseUpdate=L,p.lastBaseUpdate=V,i=p.shared.interleaved,i!==null){p=i;do x|=p.lane,p=p.next;while(p!==i)}else m===null&&(p.shared.lanes=0);ir|=x,s.lanes=x,s.memoizedState=q}}function Rh(s,i,c){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var h=s[i],p=h.callback;if(p!==null){if(h.callback=null,h=c,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Vs={},tn=An(Vs),qs=An(Vs),Ks=An(Vs);function rr(s){if(s===Vs)throw Error(t(174));return s}function Xl(s,i){switch(je(Ks,i),je(qs,s),je(tn,Vs),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Za(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Za(i,s)}Ie(tn),je(tn,i)}function qr(){Ie(tn),Ie(qs),Ie(Ks)}function Ah(s){rr(Ks.current);var i=rr(tn.current),c=Za(i,s.type);i!==c&&(je(qs,s),je(tn,c))}function Zl(s){qs.current===s&&(Ie(tn),Ie(qs))}var Ue=An(0);function ko(s){for(var i=s;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ec=[];function tc(){for(var s=0;s<ec.length;s++)ec[s]._workInProgressVersionPrimary=null;ec.length=0}var Eo=N.ReactCurrentDispatcher,nc=N.ReactCurrentBatchConfig,sr=0,$e=null,Ke=null,Qe=null,To=!1,Gs=!1,Ys=0,$v=0;function ot(){throw Error(t(321))}function rc(s,i){if(i===null)return!1;for(var c=0;c<i.length&&c<s.length;c++)if(!zt(s[c],i[c]))return!1;return!0}function sc(s,i,c,h,p,m){if(sr=m,$e=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Eo.current=s===null||s.memoizedState===null?Wv:Hv,s=c(h,p),Gs){m=0;do{if(Gs=!1,Ys=0,25<=m)throw Error(t(301));m+=1,Qe=Ke=null,i.updateQueue=null,Eo.current=Vv,s=c(h,p)}while(Gs)}if(Eo.current=Oo,i=Ke!==null&&Ke.next!==null,sr=0,Qe=Ke=$e=null,To=!1,i)throw Error(t(300));return s}function ic(){var s=Ys!==0;return Ys=0,s}function nn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?$e.memoizedState=Qe=s:Qe=Qe.next=s,Qe}function Nt(){if(Ke===null){var s=$e.alternate;s=s!==null?s.memoizedState:null}else s=Ke.next;var i=Qe===null?$e.memoizedState:Qe.next;if(i!==null)Qe=i,Ke=s;else{if(s===null)throw Error(t(310));Ke=s,s={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Qe===null?$e.memoizedState=Qe=s:Qe=Qe.next=s}return Qe}function Js(s,i){return typeof i=="function"?i(s):i}function oc(s){var i=Nt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Ke,p=h.baseQueue,m=c.pending;if(m!==null){if(p!==null){var x=p.next;p.next=m.next,m.next=x}h.baseQueue=p=m,c.pending=null}if(p!==null){m=p.next,h=h.baseState;var E=x=null,P=null,L=m;do{var V=L.lane;if((sr&V)===V)P!==null&&(P=P.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),h=L.hasEagerState?L.eagerState:s(h,L.action);else{var q={lane:V,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};P===null?(E=P=q,x=h):P=P.next=q,$e.lanes|=V,ir|=V}L=L.next}while(L!==null&&L!==m);P===null?x=h:P.next=E,zt(h,i.memoizedState)||(mt=!0),i.memoizedState=h,i.baseState=x,i.baseQueue=P,c.lastRenderedState=h}if(s=c.interleaved,s!==null){p=s;do m=p.lane,$e.lanes|=m,ir|=m,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[i.memoizedState,c.dispatch]}function ac(s){var i=Nt(),c=i.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,m=i.memoizedState;if(p!==null){c.pending=null;var x=p=p.next;do m=s(m,x.action),x=x.next;while(x!==p);zt(m,i.memoizedState)||(mt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),c.lastRenderedState=m}return[m,h]}function Nh(){}function Ih(s,i){var c=$e,h=Nt(),p=i(),m=!zt(h.memoizedState,p);if(m&&(h.memoizedState=p,mt=!0),h=h.queue,lc(Dh.bind(null,c,h,s),[s]),h.getSnapshot!==i||m||Qe!==null&&Qe.memoizedState.tag&1){if(c.flags|=2048,Qs(9,Lh.bind(null,c,h,p,i),void 0,null),Xe===null)throw Error(t(349));(sr&30)!==0||Mh(c,i,p)}return p}function Mh(s,i,c){s.flags|=16384,s={getSnapshot:i,value:c},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.stores=[s]):(c=i.stores,c===null?i.stores=[s]:c.push(s))}function Lh(s,i,c,h){i.value=c,i.getSnapshot=h,Uh(i)&&$h(s)}function Dh(s,i,c){return c(function(){Uh(i)&&$h(s)})}function Uh(s){var i=s.getSnapshot;s=s.value;try{var c=i();return!zt(s,c)}catch{return!0}}function $h(s){var i=fn(s,1);i!==null&&qt(i,s,1,-1)}function Fh(s){var i=nn();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:s},i.queue=s,s=s.dispatch=Bv.bind(null,$e,s),[i.memoizedState,s]}function Qs(s,i,c,h){return s={tag:s,create:i,destroy:c,deps:h,next:null},i=$e.updateQueue,i===null?(i={lastEffect:null,stores:null},$e.updateQueue=i,i.lastEffect=s.next=s):(c=i.lastEffect,c===null?i.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,i.lastEffect=s)),s}function zh(){return Nt().memoizedState}function Co(s,i,c,h){var p=nn();$e.flags|=s,p.memoizedState=Qs(1|i,c,void 0,h===void 0?null:h)}function Po(s,i,c,h){var p=Nt();h=h===void 0?null:h;var m=void 0;if(Ke!==null){var x=Ke.memoizedState;if(m=x.destroy,h!==null&&rc(h,x.deps)){p.memoizedState=Qs(i,c,m,h);return}}$e.flags|=s,p.memoizedState=Qs(1|i,c,m,h)}function Bh(s,i){return Co(8390656,8,s,i)}function lc(s,i){return Po(2048,8,s,i)}function Wh(s,i){return Po(4,2,s,i)}function Hh(s,i){return Po(4,4,s,i)}function Vh(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function qh(s,i,c){return c=c!=null?c.concat([s]):null,Po(4,4,Vh.bind(null,i,s),c)}function cc(){}function Kh(s,i){var c=Nt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&rc(i,h[1])?h[0]:(c.memoizedState=[s,i],s)}function Gh(s,i){var c=Nt();i=i===void 0?null:i;var h=c.memoizedState;return h!==null&&i!==null&&rc(i,h[1])?h[0]:(s=s(),c.memoizedState=[s,i],s)}function Yh(s,i,c){return(sr&21)===0?(s.baseState&&(s.baseState=!1,mt=!0),s.memoizedState=c):(zt(c,i)||(c=Ed(),$e.lanes|=c,ir|=c,s.baseState=!0),i)}function Fv(s,i){var c=Ce;Ce=c!==0&&4>c?c:4,s(!0);var h=nc.transition;nc.transition={};try{s(!1),i()}finally{Ce=c,nc.transition=h}}function Jh(){return Nt().memoizedState}function zv(s,i,c){var h=Fn(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(s))Xh(i,c);else if(c=Ph(s,i,c,h),c!==null){var p=ft();qt(c,s,h,p),Zh(c,i,h)}}function Bv(s,i,c){var h=Fn(s),p={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))Xh(i,p);else{var m=s.alternate;if(s.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var x=i.lastRenderedState,E=m(x,c);if(p.hasEagerState=!0,p.eagerState=E,zt(E,x)){var P=i.interleaved;P===null?(p.next=p,Jl(i)):(p.next=P.next,P.next=p),i.interleaved=p;return}}catch{}c=Ph(s,i,p,h),c!==null&&(p=ft(),qt(c,s,h,p),Zh(c,i,h))}}function Qh(s){var i=s.alternate;return s===$e||i!==null&&i===$e}function Xh(s,i){Gs=To=!0;var c=s.pending;c===null?i.next=i:(i.next=c.next,c.next=i),s.pending=i}function Zh(s,i,c){if((c&4194240)!==0){var h=i.lanes;h&=s.pendingLanes,c|=h,i.lanes=c,dl(s,c)}}var Oo={readContext:At,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Wv={readContext:At,useCallback:function(s,i){return nn().memoizedState=[s,i===void 0?null:i],s},useContext:At,useEffect:Bh,useImperativeHandle:function(s,i,c){return c=c!=null?c.concat([s]):null,Co(4194308,4,Vh.bind(null,i,s),c)},useLayoutEffect:function(s,i){return Co(4194308,4,s,i)},useInsertionEffect:function(s,i){return Co(4,2,s,i)},useMemo:function(s,i){var c=nn();return i=i===void 0?null:i,s=s(),c.memoizedState=[s,i],s},useReducer:function(s,i,c){var h=nn();return i=c!==void 0?c(i):i,h.memoizedState=h.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},h.queue=s,s=s.dispatch=zv.bind(null,$e,s),[h.memoizedState,s]},useRef:function(s){var i=nn();return s={current:s},i.memoizedState=s},useState:Fh,useDebugValue:cc,useDeferredValue:function(s){return nn().memoizedState=s},useTransition:function(){var s=Fh(!1),i=s[0];return s=Fv.bind(null,s[1]),nn().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,c){var h=$e,p=nn();if(De){if(c===void 0)throw Error(t(407));c=c()}else{if(c=i(),Xe===null)throw Error(t(349));(sr&30)!==0||Mh(h,i,c)}p.memoizedState=c;var m={value:c,getSnapshot:i};return p.queue=m,Bh(Dh.bind(null,h,m,s),[s]),h.flags|=2048,Qs(9,Lh.bind(null,h,m,c,i),void 0,null),c},useId:function(){var s=nn(),i=Xe.identifierPrefix;if(De){var c=hn,h=dn;c=(h&~(1<<32-Ft(h)-1)).toString(32)+c,i=":"+i+"R"+c,c=Ys++,0<c&&(i+="H"+c.toString(32)),i+=":"}else c=$v++,i=":"+i+"r"+c.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Hv={readContext:At,useCallback:Kh,useContext:At,useEffect:lc,useImperativeHandle:qh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:oc,useRef:zh,useState:function(){return oc(Js)},useDebugValue:cc,useDeferredValue:function(s){var i=Nt();return Yh(i,Ke.memoizedState,s)},useTransition:function(){var s=oc(Js)[0],i=Nt().memoizedState;return[s,i]},useMutableSource:Nh,useSyncExternalStore:Ih,useId:Jh,unstable_isNewReconciler:!1},Vv={readContext:At,useCallback:Kh,useContext:At,useEffect:lc,useImperativeHandle:qh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Gh,useReducer:ac,useRef:zh,useState:function(){return ac(Js)},useDebugValue:cc,useDeferredValue:function(s){var i=Nt();return Ke===null?i.memoizedState=s:Yh(i,Ke.memoizedState,s)},useTransition:function(){var s=ac(Js)[0],i=Nt().memoizedState;return[s,i]},useMutableSource:Nh,useSyncExternalStore:Ih,useId:Jh,unstable_isNewReconciler:!1};function Wt(s,i){if(s&&s.defaultProps){i=W({},i),s=s.defaultProps;for(var c in s)i[c]===void 0&&(i[c]=s[c]);return i}return i}function uc(s,i,c,h){i=s.memoizedState,c=c(h,i),c=c==null?i:W({},i,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var jo={isMounted:function(s){return(s=s._reactInternals)?Qn(s)===s:!1},enqueueSetState:function(s,i,c){s=s._reactInternals;var h=ft(),p=Fn(s),m=pn(h,p);m.payload=i,c!=null&&(m.callback=c),i=Ln(s,m,p),i!==null&&(qt(i,s,p,h),bo(i,s,p))},enqueueReplaceState:function(s,i,c){s=s._reactInternals;var h=ft(),p=Fn(s),m=pn(h,p);m.tag=1,m.payload=i,c!=null&&(m.callback=c),i=Ln(s,m,p),i!==null&&(qt(i,s,p,h),bo(i,s,p))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var c=ft(),h=Fn(s),p=pn(c,h);p.tag=2,i!=null&&(p.callback=i),i=Ln(s,p,h),i!==null&&(qt(i,s,h,c),bo(i,s,h))}};function ef(s,i,c,h,p,m,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,m,x):i.prototype&&i.prototype.isPureReactComponent?!Ds(c,h)||!Ds(p,m):!0}function tf(s,i,c){var h=!1,p=Nn,m=i.contextType;return typeof m=="object"&&m!==null?m=At(m):(p=gt(i)?Zn:it.current,h=i.contextTypes,m=(h=h!=null)?$r(s,p):Nn),i=new i(c,m),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=jo,s.stateNode=i,i._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=m),i}function nf(s,i,c,h){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==s&&jo.enqueueReplaceState(i,i.state,null)}function dc(s,i,c,h){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs={},Ql(s);var m=i.contextType;typeof m=="object"&&m!==null?p.context=At(m):(m=gt(i)?Zn:it.current,p.context=$r(s,m)),p.state=s.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(uc(s,i,m,c),p.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&jo.enqueueReplaceState(p,p.state,null),So(s,c,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function Kr(s,i){try{var c="",h=i;do c+=ye(h),h=h.return;while(h);var p=c}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:s,source:i,stack:p,digest:null}}function hc(s,i,c){return{value:s,source:null,stack:c??null,digest:i??null}}function fc(s,i){try{console.error(i.value)}catch(c){setTimeout(function(){throw c})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function rf(s,i,c){c=pn(-1,c),c.tag=3,c.payload={element:null};var h=i.value;return c.callback=function(){Do||(Do=!0,Pc=h),fc(s,i)},c}function sf(s,i,c){c=pn(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;c.payload=function(){return h(p)},c.callback=function(){fc(s,i)}}var m=s.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(c.callback=function(){fc(s,i),typeof h!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var x=i.stack;this.componentDidCatch(i.value,{componentStack:x!==null?x:""})}),c}function of(s,i,c){var h=s.pingCache;if(h===null){h=s.pingCache=new qv;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(c)||(p.add(c),s=o0.bind(null,s,i,c),i.then(s,s))}function af(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function lf(s,i,c,h,p){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(i=pn(-1,1),i.tag=2,Ln(c,i,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var Kv=N.ReactCurrentOwner,mt=!1;function ht(s,i,c,h){i.child=s===null?Ch(i,null,c,h):Wr(i,s.child,c,h)}function cf(s,i,c,h,p){c=c.render;var m=i.ref;return Vr(i,p),h=sc(s,i,c,h,m,p),c=ic(),s!==null&&!mt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,gn(s,i,p)):(De&&c&&zl(i),i.flags|=1,ht(s,i,h,p),i.child)}function uf(s,i,c,h,p){if(s===null){var m=c.type;return typeof m=="function"&&!Mc(m)&&m.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(i.tag=15,i.type=m,df(s,i,m,h,p)):(s=Wo(c.type,null,h,i,i.mode,p),s.ref=i.ref,s.return=i,i.child=s)}if(m=s.child,(s.lanes&p)===0){var x=m.memoizedProps;if(c=c.compare,c=c!==null?c:Ds,c(x,h)&&s.ref===i.ref)return gn(s,i,p)}return i.flags|=1,s=Bn(m,h),s.ref=i.ref,s.return=i,i.child=s}function df(s,i,c,h,p){if(s!==null){var m=s.memoizedProps;if(Ds(m,h)&&s.ref===i.ref)if(mt=!1,i.pendingProps=h=m,(s.lanes&p)!==0)(s.flags&131072)!==0&&(mt=!0);else return i.lanes=s.lanes,gn(s,i,p)}return pc(s,i,c,h,p)}function hf(s,i,c){var h=i.pendingProps,p=h.children,m=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Yr,Tt),Tt|=c;else{if((c&1073741824)===0)return s=m!==null?m.baseLanes|c:c,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,je(Yr,Tt),Tt|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=m!==null?m.baseLanes:c,je(Yr,Tt),Tt|=h}else m!==null?(h=m.baseLanes|c,i.memoizedState=null):h=c,je(Yr,Tt),Tt|=h;return ht(s,i,p,c),i.child}function ff(s,i){var c=i.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(i.flags|=512,i.flags|=2097152)}function pc(s,i,c,h,p){var m=gt(c)?Zn:it.current;return m=$r(i,m),Vr(i,p),c=sc(s,i,c,h,m,p),h=ic(),s!==null&&!mt?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~p,gn(s,i,p)):(De&&h&&zl(i),i.flags|=1,ht(s,i,c,p),i.child)}function pf(s,i,c,h,p){if(gt(c)){var m=!0;po(i)}else m=!1;if(Vr(i,p),i.stateNode===null)Ao(s,i),tf(i,c,h),dc(i,c,h,p),h=!0;else if(s===null){var x=i.stateNode,E=i.memoizedProps;x.props=E;var P=x.context,L=c.contextType;typeof L=="object"&&L!==null?L=At(L):(L=gt(c)?Zn:it.current,L=$r(i,L));var V=c.getDerivedStateFromProps,q=typeof V=="function"||typeof x.getSnapshotBeforeUpdate=="function";q||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==h||P!==L)&&nf(i,x,h,L),Mn=!1;var H=i.memoizedState;x.state=H,So(i,h,x,p),P=i.memoizedState,E!==h||H!==P||pt.current||Mn?(typeof V=="function"&&(uc(i,c,V,h),P=i.memoizedState),(E=Mn||ef(i,c,E,h,H,P,L))?(q||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=P),x.props=h,x.state=P,x.context=L,h=E):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,Oh(s,i),E=i.memoizedProps,L=i.type===i.elementType?E:Wt(i.type,E),x.props=L,q=i.pendingProps,H=x.context,P=c.contextType,typeof P=="object"&&P!==null?P=At(P):(P=gt(c)?Zn:it.current,P=$r(i,P));var Z=c.getDerivedStateFromProps;(V=typeof Z=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(E!==q||H!==P)&&nf(i,x,h,P),Mn=!1,H=i.memoizedState,x.state=H,So(i,h,x,p);var ne=i.memoizedState;E!==q||H!==ne||pt.current||Mn?(typeof Z=="function"&&(uc(i,c,Z,h),ne=i.memoizedState),(L=Mn||ef(i,c,L,h,H,ne,P)||!1)?(V||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ne,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ne,P)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ne),x.props=h,x.state=ne,x.context=P,h=L):(typeof x.componentDidUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&H===s.memoizedState||(i.flags|=1024),h=!1)}return gc(s,i,c,h,m,p)}function gc(s,i,c,h,p,m){ff(s,i);var x=(i.flags&128)!==0;if(!h&&!x)return p&&vh(i,c,!1),gn(s,i,m);h=i.stateNode,Kv.current=i;var E=x&&typeof c.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,s!==null&&x?(i.child=Wr(i,s.child,null,m),i.child=Wr(i,null,E,m)):ht(s,i,E,m),i.memoizedState=h.state,p&&vh(i,c,!0),i.child}function gf(s){var i=s.stateNode;i.pendingContext?mh(s,i.pendingContext,i.pendingContext!==i.context):i.context&&mh(s,i.context,!1),Xl(s,i.containerInfo)}function mf(s,i,c,h,p){return Br(),Vl(p),i.flags|=256,ht(s,i,c,h),i.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function yc(s){return{baseLanes:s,cachePool:null,transitions:null}}function yf(s,i,c){var h=i.pendingProps,p=Ue.current,m=!1,x=(i.flags&128)!==0,E;if((E=x)||(E=s!==null&&s.memoizedState===null?!1:(p&2)!==0),E?(m=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),je(Ue,p&1),s===null)return Hl(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(x=h.children,s=h.fallback,m?(h=i.mode,m=i.child,x={mode:"hidden",children:x},(h&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Ho(x,h,0,null),s=cr(s,h,c,null),m.return=i,s.return=i,m.sibling=s,i.child=m,i.child.memoizedState=yc(c),i.memoizedState=mc,s):vc(i,x));if(p=s.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return Gv(s,i,x,h,E,p,c);if(m){m=h.fallback,x=i.mode,p=s.child,E=p.sibling;var P={mode:"hidden",children:h.children};return(x&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=P,i.deletions=null):(h=Bn(p,P),h.subtreeFlags=p.subtreeFlags&14680064),E!==null?m=Bn(E,m):(m=cr(m,x,c,null),m.flags|=2),m.return=i,h.return=i,h.sibling=m,i.child=h,h=m,m=i.child,x=s.child.memoizedState,x=x===null?yc(c):{baseLanes:x.baseLanes|c,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=s.childLanes&~c,i.memoizedState=mc,h}return m=s.child,s=m.sibling,h=Bn(m,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=c),h.return=i,h.sibling=null,s!==null&&(c=i.deletions,c===null?(i.deletions=[s],i.flags|=16):c.push(s)),i.child=h,i.memoizedState=null,h}function vc(s,i){return i=Ho({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Ro(s,i,c,h){return h!==null&&Vl(h),Wr(i,s.child,null,c),s=vc(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Gv(s,i,c,h,p,m,x){if(c)return i.flags&256?(i.flags&=-257,h=hc(Error(t(422))),Ro(s,i,x,h)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(m=h.fallback,p=i.mode,h=Ho({mode:"visible",children:h.children},p,0,null),m=cr(m,p,x,null),m.flags|=2,h.return=i,m.return=i,h.sibling=m,i.child=h,(i.mode&1)!==0&&Wr(i,s.child,null,x),i.child.memoizedState=yc(x),i.memoizedState=mc,m);if((i.mode&1)===0)return Ro(s,i,x,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var E=h.dgst;return h=E,m=Error(t(419)),h=hc(m,h,void 0),Ro(s,i,x,h)}if(E=(x&s.childLanes)!==0,mt||E){if(h=Xe,h!==null){switch(x&-x){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|x))!==0?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,fn(s,p),qt(h,s,p,-1))}return Ic(),h=hc(Error(t(421))),Ro(s,i,x,h)}return p.data==="$?"?(i.flags|=128,i.child=s.child,i=a0.bind(null,s),p._reactRetry=i,null):(s=m.treeContext,Et=Rn(p.nextSibling),kt=i,De=!0,Bt=null,s!==null&&(jt[Rt++]=dn,jt[Rt++]=hn,jt[Rt++]=er,dn=s.id,hn=s.overflow,er=i),i=vc(i,h.children),i.flags|=4096,i)}function vf(s,i,c){s.lanes|=i;var h=s.alternate;h!==null&&(h.lanes|=i),Yl(s.return,i,c)}function wc(s,i,c,h,p){var m=s.memoizedState;m===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=h,m.tail=c,m.tailMode=p)}function wf(s,i,c){var h=i.pendingProps,p=h.revealOrder,m=h.tail;if(ht(s,i,h.children,c),h=Ue.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vf(s,c,i);else if(s.tag===19)vf(s,c,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(je(Ue,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(c=i.child,p=null;c!==null;)s=c.alternate,s!==null&&ko(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=i.child,i.child=null):(p=c.sibling,c.sibling=null),wc(i,!1,p,c,m);break;case"backwards":for(c=null,p=i.child,i.child=null;p!==null;){if(s=p.alternate,s!==null&&ko(s)===null){i.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}wc(i,!0,c,null,m);break;case"together":wc(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ao(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function gn(s,i,c){if(s!==null&&(i.dependencies=s.dependencies),ir|=i.lanes,(c&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,c=Bn(s,s.pendingProps),i.child=c,c.return=i;s.sibling!==null;)s=s.sibling,c=c.sibling=Bn(s,s.pendingProps),c.return=i;c.sibling=null}return i.child}function Yv(s,i,c){switch(i.tag){case 3:gf(i),Br();break;case 5:Ah(i);break;case 1:gt(i.type)&&po(i);break;case 4:Xl(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;je(_o,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(je(Ue,Ue.current&1),i.flags|=128,null):(c&i.child.childLanes)!==0?yf(s,i,c):(je(Ue,Ue.current&1),s=gn(s,i,c),s!==null?s.sibling:null);je(Ue,Ue.current&1);break;case 19:if(h=(c&i.childLanes)!==0,(s.flags&128)!==0){if(h)return wf(s,i,c);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),je(Ue,Ue.current),h)break;return null;case 22:case 23:return i.lanes=0,hf(s,i,c)}return gn(s,i,c)}var _f,_c,xf,bf;_f=function(s,i){for(var c=i.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},_c=function(){},xf=function(s,i,c,h){var p=s.memoizedProps;if(p!==h){s=i.stateNode,rr(tn.current);var m=null;switch(c){case"input":p=Ya(s,p),h=Ya(s,h),m=[];break;case"select":p=W({},p,{value:void 0}),h=W({},h,{value:void 0}),m=[];break;case"textarea":p=Xa(s,p),h=Xa(s,h),m=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=uo)}el(c,h);var x;c=null;for(L in p)if(!h.hasOwnProperty(L)&&p.hasOwnProperty(L)&&p[L]!=null)if(L==="style"){var E=p[L];for(x in E)E.hasOwnProperty(x)&&(c||(c={}),c[x]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(o.hasOwnProperty(L)?m||(m=[]):(m=m||[]).push(L,null));for(L in h){var P=h[L];if(E=p?.[L],h.hasOwnProperty(L)&&P!==E&&(P!=null||E!=null))if(L==="style")if(E){for(x in E)!E.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(c||(c={}),c[x]="");for(x in P)P.hasOwnProperty(x)&&E[x]!==P[x]&&(c||(c={}),c[x]=P[x])}else c||(m||(m=[]),m.push(L,c)),c=P;else L==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,E=E?E.__html:void 0,P!=null&&E!==P&&(m=m||[]).push(L,P)):L==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(L,""+P):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(o.hasOwnProperty(L)?(P!=null&&L==="onScroll"&&Ne("scroll",s),m||E===P||(m=[])):(m=m||[]).push(L,P))}c&&(m=m||[]).push("style",c);var L=m;(i.updateQueue=L)&&(i.flags|=4)}},bf=function(s,i,c,h){c!==h&&(i.flags|=4)};function Xs(s,i){if(!De)switch(s.tailMode){case"hidden":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function at(s){var i=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(i)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,i}function Jv(s,i,c){var h=i.pendingProps;switch(Bl(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return gt(i.type)&&fo(),at(i),null;case 3:return h=i.stateNode,qr(),Ie(pt),Ie(it),tc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(vo(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bt!==null&&(Rc(Bt),Bt=null))),_c(s,i),at(i),null;case 5:Zl(i);var p=rr(Ks.current);if(c=i.type,s!==null&&i.stateNode!=null)xf(s,i,c,h,p),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return at(i),null}if(s=rr(tn.current),vo(i)){h=i.stateNode,c=i.type;var m=i.memoizedProps;switch(h[en]=i,h[Bs]=m,s=(i.mode&1)!==0,c){case"dialog":Ne("cancel",h),Ne("close",h);break;case"iframe":case"object":case"embed":Ne("load",h);break;case"video":case"audio":for(p=0;p<$s.length;p++)Ne($s[p],h);break;case"source":Ne("error",h);break;case"img":case"image":case"link":Ne("error",h),Ne("load",h);break;case"details":Ne("toggle",h);break;case"input":td(h,m),Ne("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!m.multiple},Ne("invalid",h);break;case"textarea":sd(h,m),Ne("invalid",h)}el(c,m),p=null;for(var x in m)if(m.hasOwnProperty(x)){var E=m[x];x==="children"?typeof E=="string"?h.textContent!==E&&(m.suppressHydrationWarning!==!0&&co(h.textContent,E,s),p=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&co(h.textContent,E,s),p=["children",""+E]):o.hasOwnProperty(x)&&E!=null&&x==="onScroll"&&Ne("scroll",h)}switch(c){case"input":Fi(h),rd(h,m,!0);break;case"textarea":Fi(h),od(h);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(h.onclick=uo)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{x=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ad(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=x.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=x.createElement(c,{is:h.is}):(s=x.createElement(c),c==="select"&&(x=s,h.multiple?x.multiple=!0:h.size&&(x.size=h.size))):s=x.createElementNS(s,c),s[en]=i,s[Bs]=h,_f(s,i,!1,!1),i.stateNode=s;e:{switch(x=tl(c,h),c){case"dialog":Ne("cancel",s),Ne("close",s),p=h;break;case"iframe":case"object":case"embed":Ne("load",s),p=h;break;case"video":case"audio":for(p=0;p<$s.length;p++)Ne($s[p],s);p=h;break;case"source":Ne("error",s),p=h;break;case"img":case"image":case"link":Ne("error",s),Ne("load",s),p=h;break;case"details":Ne("toggle",s),p=h;break;case"input":td(s,h),p=Ya(s,h),Ne("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=W({},h,{value:void 0}),Ne("invalid",s);break;case"textarea":sd(s,h),p=Xa(s,h),Ne("invalid",s);break;default:p=h}el(c,p),E=p;for(m in E)if(E.hasOwnProperty(m)){var P=E[m];m==="style"?ud(s,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ld(s,P)):m==="children"?typeof P=="string"?(c!=="textarea"||P!=="")&&_s(s,P):typeof P=="number"&&_s(s,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ne("scroll",s):P!=null&&R(s,m,P,x))}switch(c){case"input":Fi(s),rd(s,h,!1);break;case"textarea":Fi(s),od(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Te(h.value));break;case"select":s.multiple=!!h.multiple,m=h.value,m!=null?Cr(s,!!h.multiple,m,!1):h.defaultValue!=null&&Cr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=uo)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return at(i),null;case 6:if(s&&i.stateNode!=null)bf(s,i,s.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(c=rr(Ks.current),rr(tn.current),vo(i)){if(h=i.stateNode,c=i.memoizedProps,h[en]=i,(m=h.nodeValue!==c)&&(s=kt,s!==null))switch(s.tag){case 3:co(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&co(h.nodeValue,c,(s.mode&1)!==0)}m&&(i.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[en]=i,i.stateNode=h}return at(i),null;case 13:if(Ie(Ue),h=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(De&&Et!==null&&(i.mode&1)!==0&&(i.flags&128)===0)kh(),Br(),i.flags|=98560,m=!1;else if(m=vo(i),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(t(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[en]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),m=!1}else Bt!==null&&(Rc(Bt),Bt=null),m=!0;if(!m)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=c,i):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ue.current&1)!==0?Ge===0&&(Ge=3):Ic())),i.updateQueue!==null&&(i.flags|=4),at(i),null);case 4:return qr(),_c(s,i),s===null&&Fs(i.stateNode.containerInfo),at(i),null;case 10:return Gl(i.type._context),at(i),null;case 17:return gt(i.type)&&fo(),at(i),null;case 19:if(Ie(Ue),m=i.memoizedState,m===null)return at(i),null;if(h=(i.flags&128)!==0,x=m.rendering,x===null)if(h)Xs(m,!1);else{if(Ge!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(x=ko(s),x!==null){for(i.flags|=128,Xs(m,!1),h=x.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=c,c=i.child;c!==null;)m=c,s=h,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=s,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,s=x.dependencies,m.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return je(Ue,Ue.current&1|2),i.child}s=s.sibling}m.tail!==null&&Be()>Jr&&(i.flags|=128,h=!0,Xs(m,!1),i.lanes=4194304)}else{if(!h)if(s=ko(x),s!==null){if(i.flags|=128,h=!0,c=s.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),Xs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!De)return at(i),null}else 2*Be()-m.renderingStartTime>Jr&&c!==1073741824&&(i.flags|=128,h=!0,Xs(m,!1),i.lanes=4194304);m.isBackwards?(x.sibling=i.child,i.child=x):(c=m.last,c!==null?c.sibling=x:i.child=x,m.last=x)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Be(),i.sibling=null,c=Ue.current,je(Ue,h?c&1|2:c&1),i):(at(i),null);case 22:case 23:return Nc(),h=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Tt&1073741824)!==0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Qv(s,i){switch(Bl(i),i.tag){case 1:return gt(i.type)&&fo(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return qr(),Ie(pt),Ie(it),tc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Zl(i),null;case 13:if(Ie(Ue),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Br()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Ie(Ue),null;case 4:return qr(),null;case 10:return Gl(i.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var No=!1,lt=!1,Xv=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Gr(s,i){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Fe(s,i,h)}else c.current=null}function xc(s,i,c){try{c()}catch(h){Fe(s,i,h)}}var Sf=!1;function Zv(s,i){if(Nl=Xi,s=eh(),El(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,m=h.focusNode;h=h.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var x=0,E=-1,P=-1,L=0,V=0,q=s,H=null;t:for(;;){for(var Z;q!==c||p!==0&&q.nodeType!==3||(E=x+p),q!==m||h!==0&&q.nodeType!==3||(P=x+h),q.nodeType===3&&(x+=q.nodeValue.length),(Z=q.firstChild)!==null;)H=q,q=Z;for(;;){if(q===s)break t;if(H===c&&++L===p&&(E=x),H===m&&++V===h&&(P=x),(Z=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=Z}c=E===-1||P===-1?null:{start:E,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Il={focusedElem:s,selectionRange:c},Xi=!1,ee=i;ee!==null;)if(i=ee,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ee=s;else for(;ee!==null;){i=ee;try{var ne=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,We=ne.memoizedState,A=i.stateNode,j=A.getSnapshotBeforeUpdate(i.elementType===i.type?re:Wt(i.type,re),We);A.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(K){Fe(i,i.return,K)}if(s=i.sibling,s!==null){s.return=i.return,ee=s;break}ee=i.return}return ne=Sf,Sf=!1,ne}function Zs(s,i,c){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var m=p.destroy;p.destroy=void 0,m!==void 0&&xc(i,c,m)}p=p.next}while(p!==h)}}function Io(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==i)}}function bc(s){var i=s.ref;if(i!==null){var c=s.stateNode;s.tag,s=c,typeof i=="function"?i(s):i.current=s}}function kf(s){var i=s.alternate;i!==null&&(s.alternate=null,kf(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[en],delete i[Bs],delete i[Ul],delete i[Mv],delete i[Lv])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Ef(s){return s.tag===5||s.tag===3||s.tag===4}function Tf(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Ef(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Sc(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.nodeType===8?c.parentNode.insertBefore(s,i):c.insertBefore(s,i):(c.nodeType===8?(i=c.parentNode,i.insertBefore(s,c)):(i=c,i.appendChild(s)),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=uo));else if(h!==4&&(s=s.child,s!==null))for(Sc(s,i,c),s=s.sibling;s!==null;)Sc(s,i,c),s=s.sibling}function kc(s,i,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,i?c.insertBefore(s,i):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(kc(s,i,c),s=s.sibling;s!==null;)kc(s,i,c),s=s.sibling}var tt=null,Ht=!1;function Dn(s,i,c){for(c=c.child;c!==null;)Cf(s,i,c),c=c.sibling}function Cf(s,i,c){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(qi,c)}catch{}switch(c.tag){case 5:lt||Gr(c,i);case 6:var h=tt,p=Ht;tt=null,Dn(s,i,c),tt=h,Ht=p,tt!==null&&(Ht?(s=tt,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):tt.removeChild(c.stateNode));break;case 18:tt!==null&&(Ht?(s=tt,c=c.stateNode,s.nodeType===8?Dl(s.parentNode,c):s.nodeType===1&&Dl(s,c),Rs(s)):Dl(tt,c.stateNode));break;case 4:h=tt,p=Ht,tt=c.stateNode.containerInfo,Ht=!0,Dn(s,i,c),tt=h,Ht=p;break;case 0:case 11:case 14:case 15:if(!lt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var m=p,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&xc(c,i,x),p=p.next}while(p!==h)}Dn(s,i,c);break;case 1:if(!lt&&(Gr(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(E){Fe(c,i,E)}Dn(s,i,c);break;case 21:Dn(s,i,c);break;case 22:c.mode&1?(lt=(h=lt)||c.memoizedState!==null,Dn(s,i,c),lt=h):Dn(s,i,c);break;default:Dn(s,i,c)}}function Pf(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new Xv),i.forEach(function(h){var p=l0.bind(null,s,h);c.has(h)||(c.add(h),h.then(p,p))})}}function Vt(s,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];try{var m=s,x=i,E=x;e:for(;E!==null;){switch(E.tag){case 5:tt=E.stateNode,Ht=!1;break e;case 3:tt=E.stateNode.containerInfo,Ht=!0;break e;case 4:tt=E.stateNode.containerInfo,Ht=!0;break e}E=E.return}if(tt===null)throw Error(t(160));Cf(m,x,p),tt=null,Ht=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(L){Fe(p,i,L)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Of(i,s),i=i.sibling}function Of(s,i){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vt(i,s),rn(s),h&4){try{Zs(3,s,s.return),Io(3,s)}catch(re){Fe(s,s.return,re)}try{Zs(5,s,s.return)}catch(re){Fe(s,s.return,re)}}break;case 1:Vt(i,s),rn(s),h&512&&c!==null&&Gr(c,c.return);break;case 5:if(Vt(i,s),rn(s),h&512&&c!==null&&Gr(c,c.return),s.flags&32){var p=s.stateNode;try{_s(p,"")}catch(re){Fe(s,s.return,re)}}if(h&4&&(p=s.stateNode,p!=null)){var m=s.memoizedProps,x=c!==null?c.memoizedProps:m,E=s.type,P=s.updateQueue;if(s.updateQueue=null,P!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&nd(p,m),tl(E,x);var L=tl(E,m);for(x=0;x<P.length;x+=2){var V=P[x],q=P[x+1];V==="style"?ud(p,q):V==="dangerouslySetInnerHTML"?ld(p,q):V==="children"?_s(p,q):R(p,V,q,L)}switch(E){case"input":Ja(p,m);break;case"textarea":id(p,m);break;case"select":var H=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var Z=m.value;Z!=null?Cr(p,!!m.multiple,Z,!1):H!==!!m.multiple&&(m.defaultValue!=null?Cr(p,!!m.multiple,m.defaultValue,!0):Cr(p,!!m.multiple,m.multiple?[]:"",!1))}p[Bs]=m}catch(re){Fe(s,s.return,re)}}break;case 6:if(Vt(i,s),rn(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,m=s.memoizedProps;try{p.nodeValue=m}catch(re){Fe(s,s.return,re)}}break;case 3:if(Vt(i,s),rn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Rs(i.containerInfo)}catch(re){Fe(s,s.return,re)}break;case 4:Vt(i,s),rn(s);break;case 13:Vt(i,s),rn(s),p=s.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(Cc=Be())),h&4&&Pf(s);break;case 22:if(V=c!==null&&c.memoizedState!==null,s.mode&1?(lt=(L=lt)||V,Vt(i,s),lt=L):Vt(i,s),rn(s),h&8192){if(L=s.memoizedState!==null,(s.stateNode.isHidden=L)&&!V&&(s.mode&1)!==0)for(ee=s,V=s.child;V!==null;){for(q=ee=V;ee!==null;){switch(H=ee,Z=H.child,H.tag){case 0:case 11:case 14:case 15:Zs(4,H,H.return);break;case 1:Gr(H,H.return);var ne=H.stateNode;if(typeof ne.componentWillUnmount=="function"){h=H,c=H.return;try{i=h,ne.props=i.memoizedProps,ne.state=i.memoizedState,ne.componentWillUnmount()}catch(re){Fe(h,c,re)}}break;case 5:Gr(H,H.return);break;case 22:if(H.memoizedState!==null){Af(q);continue}}Z!==null?(Z.return=H,ee=Z):Af(q)}V=V.sibling}e:for(V=null,q=s;;){if(q.tag===5){if(V===null){V=q;try{p=q.stateNode,L?(m=p.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=q.stateNode,P=q.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,E.style.display=cd("display",x))}catch(re){Fe(s,s.return,re)}}}else if(q.tag===6){if(V===null)try{q.stateNode.nodeValue=L?"":q.memoizedProps}catch(re){Fe(s,s.return,re)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===s)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===s)break e;for(;q.sibling===null;){if(q.return===null||q.return===s)break e;V===q&&(V=null),q=q.return}V===q&&(V=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:Vt(i,s),rn(s),h&4&&Pf(s);break;case 21:break;default:Vt(i,s),rn(s)}}function rn(s){var i=s.flags;if(i&2){try{e:{for(var c=s.return;c!==null;){if(Ef(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(_s(p,""),h.flags&=-33);var m=Tf(s);kc(s,m,p);break;case 3:case 4:var x=h.stateNode.containerInfo,E=Tf(s);Sc(s,E,x);break;default:throw Error(t(161))}}catch(P){Fe(s,s.return,P)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function e0(s,i,c){ee=s,jf(s)}function jf(s,i,c){for(var h=(s.mode&1)!==0;ee!==null;){var p=ee,m=p.child;if(p.tag===22&&h){var x=p.memoizedState!==null||No;if(!x){var E=p.alternate,P=E!==null&&E.memoizedState!==null||lt;E=No;var L=lt;if(No=x,(lt=P)&&!L)for(ee=p;ee!==null;)x=ee,P=x.child,x.tag===22&&x.memoizedState!==null?Nf(p):P!==null?(P.return=x,ee=P):Nf(p);for(;m!==null;)ee=m,jf(m),m=m.sibling;ee=p,No=E,lt=L}Rf(s)}else(p.subtreeFlags&8772)!==0&&m!==null?(m.return=p,ee=m):Rf(s)}}function Rf(s){for(;ee!==null;){var i=ee;if((i.flags&8772)!==0){var c=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:lt||Io(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!lt)if(c===null)h.componentDidMount();else{var p=i.elementType===i.type?c.memoizedProps:Wt(i.type,c.memoizedProps);h.componentDidUpdate(p,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var m=i.updateQueue;m!==null&&Rh(i,m,h);break;case 3:var x=i.updateQueue;if(x!==null){if(c=null,i.child!==null)switch(i.child.tag){case 5:c=i.child.stateNode;break;case 1:c=i.child.stateNode}Rh(i,x,c)}break;case 5:var E=i.stateNode;if(c===null&&i.flags&4){c=E;var P=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&c.focus();break;case"img":P.src&&(c.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var L=i.alternate;if(L!==null){var V=L.memoizedState;if(V!==null){var q=V.dehydrated;q!==null&&Rs(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}lt||i.flags&512&&bc(i)}catch(H){Fe(i,i.return,H)}}if(i===s){ee=null;break}if(c=i.sibling,c!==null){c.return=i.return,ee=c;break}ee=i.return}}function Af(s){for(;ee!==null;){var i=ee;if(i===s){ee=null;break}var c=i.sibling;if(c!==null){c.return=i.return,ee=c;break}ee=i.return}}function Nf(s){for(;ee!==null;){var i=ee;try{switch(i.tag){case 0:case 11:case 15:var c=i.return;try{Io(4,i)}catch(P){Fe(i,c,P)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(P){Fe(i,p,P)}}var m=i.return;try{bc(i)}catch(P){Fe(i,m,P)}break;case 5:var x=i.return;try{bc(i)}catch(P){Fe(i,x,P)}}}catch(P){Fe(i,i.return,P)}if(i===s){ee=null;break}var E=i.sibling;if(E!==null){E.return=i.return,ee=E;break}ee=i.return}}var t0=Math.ceil,Mo=N.ReactCurrentDispatcher,Ec=N.ReactCurrentOwner,It=N.ReactCurrentBatchConfig,Se=0,Xe=null,Ve=null,nt=0,Tt=0,Yr=An(0),Ge=0,ei=null,ir=0,Lo=0,Tc=0,ti=null,yt=null,Cc=0,Jr=1/0,mn=null,Do=!1,Pc=null,Un=null,Uo=!1,$n=null,$o=0,ni=0,Oc=null,Fo=-1,zo=0;function ft(){return(Se&6)!==0?Be():Fo!==-1?Fo:Fo=Be()}function Fn(s){return(s.mode&1)===0?1:(Se&2)!==0&&nt!==0?nt&-nt:Uv.transition!==null?(zo===0&&(zo=Ed()),zo):(s=Ce,s!==0||(s=window.event,s=s===void 0?16:Id(s.type)),s)}function qt(s,i,c,h){if(50<ni)throw ni=0,Oc=null,Error(t(185));Ts(s,c,h),((Se&2)===0||s!==Xe)&&(s===Xe&&((Se&2)===0&&(Lo|=c),Ge===4&&zn(s,nt)),vt(s,h),c===1&&Se===0&&(i.mode&1)===0&&(Jr=Be()+500,go&&In()))}function vt(s,i){var c=s.callbackNode;Uy(s,i);var h=Yi(s,s===Xe?nt:0);if(h===0)c!==null&&bd(c),s.callbackNode=null,s.callbackPriority=0;else if(i=h&-h,s.callbackPriority!==i){if(c!=null&&bd(c),i===1)s.tag===0?Dv(Mf.bind(null,s)):wh(Mf.bind(null,s)),Nv(function(){(Se&6)===0&&In()}),c=null;else{switch(Td(h)){case 1:c=ll;break;case 4:c=Sd;break;case 16:c=Vi;break;case 536870912:c=kd;break;default:c=Vi}c=Wf(c,If.bind(null,s))}s.callbackPriority=i,s.callbackNode=c}}function If(s,i){if(Fo=-1,zo=0,(Se&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Qr()&&s.callbackNode!==c)return null;var h=Yi(s,s===Xe?nt:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||i)i=Bo(s,h);else{i=h;var p=Se;Se|=2;var m=Df();(Xe!==s||nt!==i)&&(mn=null,Jr=Be()+500,ar(s,i));do try{s0();break}catch(E){Lf(s,E)}while(!0);Kl(),Mo.current=m,Se=p,Ve!==null?i=0:(Xe=null,nt=0,i=Ge)}if(i!==0){if(i===2&&(p=cl(s),p!==0&&(h=p,i=jc(s,p))),i===1)throw c=ei,ar(s,0),zn(s,h),vt(s,Be()),c;if(i===6)zn(s,h);else{if(p=s.current.alternate,(h&30)===0&&!n0(p)&&(i=Bo(s,h),i===2&&(m=cl(s),m!==0&&(h=m,i=jc(s,m))),i===1))throw c=ei,ar(s,0),zn(s,h),vt(s,Be()),c;switch(s.finishedWork=p,s.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:lr(s,yt,mn);break;case 3:if(zn(s,h),(h&130023424)===h&&(i=Cc+500-Be(),10<i)){if(Yi(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){ft(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Ll(lr.bind(null,s,yt,mn),i);break}lr(s,yt,mn);break;case 4:if(zn(s,h),(h&4194240)===h)break;for(i=s.eventTimes,p=-1;0<h;){var x=31-Ft(h);m=1<<x,x=i[x],x>p&&(p=x),h&=~m}if(h=p,h=Be()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*t0(h/1960))-h,10<h){s.timeoutHandle=Ll(lr.bind(null,s,yt,mn),h);break}lr(s,yt,mn);break;case 5:lr(s,yt,mn);break;default:throw Error(t(329))}}}return vt(s,Be()),s.callbackNode===c?If.bind(null,s):null}function jc(s,i){var c=ti;return s.current.memoizedState.isDehydrated&&(ar(s,i).flags|=256),s=Bo(s,i),s!==2&&(i=yt,yt=c,i!==null&&Rc(i)),s}function Rc(s){yt===null?yt=s:yt.push.apply(yt,s)}function n0(s){for(var i=s;;){if(i.flags&16384){var c=i.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var p=c[h],m=p.getSnapshot;p=p.value;try{if(!zt(m(),p))return!1}catch{return!1}}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zn(s,i){for(i&=~Tc,i&=~Lo,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var c=31-Ft(i),h=1<<c;s[c]=-1,i&=~h}}function Mf(s){if((Se&6)!==0)throw Error(t(327));Qr();var i=Yi(s,0);if((i&1)===0)return vt(s,Be()),null;var c=Bo(s,i);if(s.tag!==0&&c===2){var h=cl(s);h!==0&&(i=h,c=jc(s,h))}if(c===1)throw c=ei,ar(s,0),zn(s,i),vt(s,Be()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,lr(s,yt,mn),vt(s,Be()),null}function Ac(s,i){var c=Se;Se|=1;try{return s(i)}finally{Se=c,Se===0&&(Jr=Be()+500,go&&In())}}function or(s){$n!==null&&$n.tag===0&&(Se&6)===0&&Qr();var i=Se;Se|=1;var c=It.transition,h=Ce;try{if(It.transition=null,Ce=1,s)return s()}finally{Ce=h,It.transition=c,Se=i,(Se&6)===0&&In()}}function Nc(){Tt=Yr.current,Ie(Yr)}function ar(s,i){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,Av(c)),Ve!==null)for(c=Ve.return;c!==null;){var h=c;switch(Bl(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&fo();break;case 3:qr(),Ie(pt),Ie(it),tc();break;case 5:Zl(h);break;case 4:qr();break;case 13:Ie(Ue);break;case 19:Ie(Ue);break;case 10:Gl(h.type._context);break;case 22:case 23:Nc()}c=c.return}if(Xe=s,Ve=s=Bn(s.current,null),nt=Tt=i,Ge=0,ei=null,Tc=Lo=ir=0,yt=ti=null,nr!==null){for(i=0;i<nr.length;i++)if(c=nr[i],h=c.interleaved,h!==null){c.interleaved=null;var p=h.next,m=c.pending;if(m!==null){var x=m.next;m.next=p,h.next=x}c.pending=h}nr=null}return s}function Lf(s,i){do{var c=Ve;try{if(Kl(),Eo.current=Oo,To){for(var h=$e.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}To=!1}if(sr=0,Qe=Ke=$e=null,Gs=!1,Ys=0,Ec.current=null,c===null||c.return===null){Ge=1,ei=i,Ve=null;break}e:{var m=s,x=c.return,E=c,P=i;if(i=nt,E.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var L=P,V=E,q=V.tag;if((V.mode&1)===0&&(q===0||q===11||q===15)){var H=V.alternate;H?(V.updateQueue=H.updateQueue,V.memoizedState=H.memoizedState,V.lanes=H.lanes):(V.updateQueue=null,V.memoizedState=null)}var Z=af(x);if(Z!==null){Z.flags&=-257,lf(Z,x,E,m,i),Z.mode&1&&of(m,L,i),i=Z,P=L;var ne=i.updateQueue;if(ne===null){var re=new Set;re.add(P),i.updateQueue=re}else ne.add(P);break e}else{if((i&1)===0){of(m,L,i),Ic();break e}P=Error(t(426))}}else if(De&&E.mode&1){var We=af(x);if(We!==null){(We.flags&65536)===0&&(We.flags|=256),lf(We,x,E,m,i),Vl(Kr(P,E));break e}}m=P=Kr(P,E),Ge!==4&&(Ge=2),ti===null?ti=[m]:ti.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,i&=-i,m.lanes|=i;var A=rf(m,P,i);jh(m,A);break e;case 1:E=P;var j=m.type,M=m.stateNode;if((m.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Un===null||!Un.has(M)))){m.flags|=65536,i&=-i,m.lanes|=i;var K=sf(m,E,i);jh(m,K);break e}}m=m.return}while(m!==null)}$f(c)}catch(se){i=se,Ve===c&&c!==null&&(Ve=c=c.return);continue}break}while(!0)}function Df(){var s=Mo.current;return Mo.current=Oo,s===null?Oo:s}function Ic(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Xe===null||(ir&268435455)===0&&(Lo&268435455)===0||zn(Xe,nt)}function Bo(s,i){var c=Se;Se|=2;var h=Df();(Xe!==s||nt!==i)&&(mn=null,ar(s,i));do try{r0();break}catch(p){Lf(s,p)}while(!0);if(Kl(),Se=c,Mo.current=h,Ve!==null)throw Error(t(261));return Xe=null,nt=0,Ge}function r0(){for(;Ve!==null;)Uf(Ve)}function s0(){for(;Ve!==null&&!Oy();)Uf(Ve)}function Uf(s){var i=Bf(s.alternate,s,Tt);s.memoizedProps=s.pendingProps,i===null?$f(s):Ve=i,Ec.current=null}function $f(s){var i=s;do{var c=i.alternate;if(s=i.return,(i.flags&32768)===0){if(c=Jv(c,i,Tt),c!==null){Ve=c;return}}else{if(c=Qv(c,i),c!==null){c.flags&=32767,Ve=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Ge=6,Ve=null;return}}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=s}while(i!==null);Ge===0&&(Ge=5)}function lr(s,i,c){var h=Ce,p=It.transition;try{It.transition=null,Ce=1,i0(s,i,c,h)}finally{It.transition=p,Ce=h}return null}function i0(s,i,c,h){do Qr();while($n!==null);if((Se&6)!==0)throw Error(t(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var m=c.lanes|c.childLanes;if($y(s,m),s===Xe&&(Ve=Xe=null,nt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Uo||(Uo=!0,Wf(Vi,function(){return Qr(),null})),m=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||m){m=It.transition,It.transition=null;var x=Ce;Ce=1;var E=Se;Se|=4,Ec.current=null,Zv(s,c),Of(c,s),Ev(Il),Xi=!!Nl,Il=Nl=null,s.current=c,e0(c),jy(),Se=E,Ce=x,It.transition=m}else s.current=c;if(Uo&&(Uo=!1,$n=s,$o=p),m=s.pendingLanes,m===0&&(Un=null),Ny(c.stateNode),vt(s,Be()),i!==null)for(h=s.onRecoverableError,c=0;c<i.length;c++)p=i[c],h(p.value,{componentStack:p.stack,digest:p.digest});if(Do)throw Do=!1,s=Pc,Pc=null,s;return($o&1)!==0&&s.tag!==0&&Qr(),m=s.pendingLanes,(m&1)!==0?s===Oc?ni++:(ni=0,Oc=s):ni=0,In(),null}function Qr(){if($n!==null){var s=Td($o),i=It.transition,c=Ce;try{if(It.transition=null,Ce=16>s?16:s,$n===null)var h=!1;else{if(s=$n,$n=null,$o=0,(Se&6)!==0)throw Error(t(331));var p=Se;for(Se|=4,ee=s.current;ee!==null;){var m=ee,x=m.child;if((ee.flags&16)!==0){var E=m.deletions;if(E!==null){for(var P=0;P<E.length;P++){var L=E[P];for(ee=L;ee!==null;){var V=ee;switch(V.tag){case 0:case 11:case 15:Zs(8,V,m)}var q=V.child;if(q!==null)q.return=V,ee=q;else for(;ee!==null;){V=ee;var H=V.sibling,Z=V.return;if(kf(V),V===L){ee=null;break}if(H!==null){H.return=Z,ee=H;break}ee=Z}}}var ne=m.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var We=re.sibling;re.sibling=null,re=We}while(re!==null)}}ee=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,ee=x;else e:for(;ee!==null;){if(m=ee,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Zs(9,m,m.return)}var A=m.sibling;if(A!==null){A.return=m.return,ee=A;break e}ee=m.return}}var j=s.current;for(ee=j;ee!==null;){x=ee;var M=x.child;if((x.subtreeFlags&2064)!==0&&M!==null)M.return=x,ee=M;else e:for(x=j;ee!==null;){if(E=ee,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Io(9,E)}}catch(se){Fe(E,E.return,se)}if(E===x){ee=null;break e}var K=E.sibling;if(K!==null){K.return=E.return,ee=K;break e}ee=E.return}}if(Se=p,In(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(qi,s)}catch{}h=!0}return h}finally{Ce=c,It.transition=i}}return!1}function Ff(s,i,c){i=Kr(c,i),i=rf(s,i,1),s=Ln(s,i,1),i=ft(),s!==null&&(Ts(s,1,i),vt(s,i))}function Fe(s,i,c){if(s.tag===3)Ff(s,s,c);else for(;i!==null;){if(i.tag===3){Ff(i,s,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Un===null||!Un.has(h))){s=Kr(c,s),s=sf(i,s,1),i=Ln(i,s,1),s=ft(),i!==null&&(Ts(i,1,s),vt(i,s));break}}i=i.return}}function o0(s,i,c){var h=s.pingCache;h!==null&&h.delete(i),i=ft(),s.pingedLanes|=s.suspendedLanes&c,Xe===s&&(nt&c)===c&&(Ge===4||Ge===3&&(nt&130023424)===nt&&500>Be()-Cc?ar(s,0):Tc|=c),vt(s,i)}function zf(s,i){i===0&&((s.mode&1)===0?i=1:(i=Gi,Gi<<=1,(Gi&130023424)===0&&(Gi=4194304)));var c=ft();s=fn(s,i),s!==null&&(Ts(s,i,c),vt(s,c))}function a0(s){var i=s.memoizedState,c=0;i!==null&&(c=i.retryLane),zf(s,c)}function l0(s,i){var c=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),zf(s,c)}var Bf;Bf=function(s,i,c){if(s!==null)if(s.memoizedProps!==i.pendingProps||pt.current)mt=!0;else{if((s.lanes&c)===0&&(i.flags&128)===0)return mt=!1,Yv(s,i,c);mt=(s.flags&131072)!==0}else mt=!1,De&&(i.flags&1048576)!==0&&_h(i,yo,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Ao(s,i),s=i.pendingProps;var p=$r(i,it.current);Vr(i,c),p=sc(null,i,h,s,p,c);var m=ic();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,gt(h)?(m=!0,po(i)):m=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Ql(i),p.updater=jo,i.stateNode=p,p._reactInternals=i,dc(i,h,s,c),i=gc(null,i,h,!0,m,c)):(i.tag=0,De&&m&&zl(i),ht(null,i,p,c),i=i.child),i;case 16:h=i.elementType;e:{switch(Ao(s,i),s=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=u0(h),s=Wt(h,s),p){case 0:i=pc(null,i,h,s,c);break e;case 1:i=pf(null,i,h,s,c);break e;case 11:i=cf(null,i,h,s,c);break e;case 14:i=uf(null,i,h,Wt(h.type,s),c);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Wt(h,p),pc(s,i,h,p,c);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Wt(h,p),pf(s,i,h,p,c);case 3:e:{if(gf(i),s===null)throw Error(t(387));h=i.pendingProps,m=i.memoizedState,p=m.element,Oh(s,i),So(i,h,null,c);var x=i.memoizedState;if(h=x.element,m.isDehydrated)if(m={element:h,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){p=Kr(Error(t(423)),i),i=mf(s,i,h,c,p);break e}else if(h!==p){p=Kr(Error(t(424)),i),i=mf(s,i,h,c,p);break e}else for(Et=Rn(i.stateNode.containerInfo.firstChild),kt=i,De=!0,Bt=null,c=Ch(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Br(),h===p){i=gn(s,i,c);break e}ht(s,i,h,c)}i=i.child}return i;case 5:return Ah(i),s===null&&Hl(i),h=i.type,p=i.pendingProps,m=s!==null?s.memoizedProps:null,x=p.children,Ml(h,p)?x=null:m!==null&&Ml(h,m)&&(i.flags|=32),ff(s,i),ht(s,i,x,c),i.child;case 6:return s===null&&Hl(i),null;case 13:return yf(s,i,c);case 4:return Xl(i,i.stateNode.containerInfo),h=i.pendingProps,s===null?i.child=Wr(i,null,h,c):ht(s,i,h,c),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Wt(h,p),cf(s,i,h,p,c);case 7:return ht(s,i,i.pendingProps,c),i.child;case 8:return ht(s,i,i.pendingProps.children,c),i.child;case 12:return ht(s,i,i.pendingProps.children,c),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,m=i.memoizedProps,x=p.value,je(_o,h._currentValue),h._currentValue=x,m!==null)if(zt(m.value,x)){if(m.children===p.children&&!pt.current){i=gn(s,i,c);break e}}else for(m=i.child,m!==null&&(m.return=i);m!==null;){var E=m.dependencies;if(E!==null){x=m.child;for(var P=E.firstContext;P!==null;){if(P.context===h){if(m.tag===1){P=pn(-1,c&-c),P.tag=2;var L=m.updateQueue;if(L!==null){L=L.shared;var V=L.pending;V===null?P.next=P:(P.next=V.next,V.next=P),L.pending=P}}m.lanes|=c,P=m.alternate,P!==null&&(P.lanes|=c),Yl(m.return,c,i),E.lanes|=c;break}P=P.next}}else if(m.tag===10)x=m.type===i.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(t(341));x.lanes|=c,E=x.alternate,E!==null&&(E.lanes|=c),Yl(x,c,i),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===i){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}ht(s,i,p.children,c),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,Vr(i,c),p=At(p),h=h(p),i.flags|=1,ht(s,i,h,c),i.child;case 14:return h=i.type,p=Wt(h,i.pendingProps),p=Wt(h.type,p),uf(s,i,h,p,c);case 15:return df(s,i,i.type,i.pendingProps,c);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Wt(h,p),Ao(s,i),i.tag=1,gt(h)?(s=!0,po(i)):s=!1,Vr(i,c),tf(i,h,p),dc(i,h,p,c),gc(null,i,h,!0,s,c);case 19:return wf(s,i,c);case 22:return hf(s,i,c)}throw Error(t(156,i.tag))};function Wf(s,i){return xd(s,i)}function c0(s,i,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(s,i,c,h){return new c0(s,i,c,h)}function Mc(s){return s=s.prototype,!(!s||!s.isReactComponent)}function u0(s){if(typeof s=="function")return Mc(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ce)return 11;if(s===te)return 14}return 2}function Bn(s,i){var c=s.alternate;return c===null?(c=Mt(s.tag,i,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=i,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,i=s.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Wo(s,i,c,h,p,m){var x=2;if(h=s,typeof s=="function")Mc(s)&&(x=1);else if(typeof s=="string")x=5;else e:switch(s){case z:return cr(c.children,p,m,i);case B:x=8,p|=8;break;case Q:return s=Mt(12,c,i,p|2),s.elementType=Q,s.lanes=m,s;case me:return s=Mt(13,c,i,p),s.elementType=me,s.lanes=m,s;case we:return s=Mt(19,c,i,p),s.elementType=we,s.lanes=m,s;case J:return Ho(c,p,m,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case oe:x=10;break e;case X:x=9;break e;case ce:x=11;break e;case te:x=14;break e;case ae:x=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Mt(x,c,i,p),i.elementType=s,i.type=h,i.lanes=m,i}function cr(s,i,c,h){return s=Mt(7,s,h,i),s.lanes=c,s}function Ho(s,i,c,h){return s=Mt(22,s,h,i),s.elementType=J,s.lanes=c,s.stateNode={isHidden:!1},s}function Lc(s,i,c){return s=Mt(6,s,null,i),s.lanes=c,s}function Dc(s,i,c){return i=Mt(4,s.children!==null?s.children:[],s.key,i),i.lanes=c,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function d0(s,i,c,h,p){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Uc(s,i,c,h,p,m,x,E,P){return s=new d0(s,i,c,E,P),i===1?(i=1,m===!0&&(i|=8)):i=0,m=Mt(3,null,null,i),s.current=m,m.stateNode=s,m.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ql(m),s}function h0(s,i,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:h==null?null:""+h,children:s,containerInfo:i,implementation:c}}function Hf(s){if(!s)return Nn;s=s._reactInternals;e:{if(Qn(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(gt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(gt(c))return yh(s,c,i)}return i}function Vf(s,i,c,h,p,m,x,E,P){return s=Uc(c,h,!0,s,p,m,x,E,P),s.context=Hf(null),c=s.current,h=ft(),p=Fn(c),m=pn(h,p),m.callback=i??null,Ln(c,m,p),s.current.lanes=p,Ts(s,p,h),vt(s,h),s}function Vo(s,i,c,h){var p=i.current,m=ft(),x=Fn(p);return c=Hf(c),i.context===null?i.context=c:i.pendingContext=c,i=pn(m,x),i.payload={element:s},h=h===void 0?null:h,h!==null&&(i.callback=h),s=Ln(p,i,x),s!==null&&(qt(s,p,x,m),bo(s,p,x)),x}function qo(s){return s=s.current,s.child?(s.child.tag===5,s.child.stateNode):null}function qf(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<i?c:i}}function $c(s,i){qf(s,i),(s=s.alternate)&&qf(s,i)}function f0(){return null}var Kf=typeof reportError=="function"?reportError:function(s){console.error(s)};function Fc(s){this._internalRoot=s}Ko.prototype.render=Fc.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));Vo(s,i,null,null)},Ko.prototype.unmount=Fc.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;or(function(){Vo(null,s,null,null)}),i[cn]=null}};function Ko(s){this._internalRoot=s}Ko.prototype.unstable_scheduleHydration=function(s){if(s){var i=Od();s={blockedOn:null,target:s,priority:i};for(var c=0;c<Pn.length&&i!==0&&i<Pn[c].priority;c++);Pn.splice(c,0,s),c===0&&Ad(s)}};function zc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Go(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Gf(){}function p0(s,i,c,h,p){if(p){if(typeof h=="function"){var m=h;h=function(){var L=qo(x);m.call(L)}}var x=Vf(i,h,s,0,null,!1,!1,"",Gf);return s._reactRootContainer=x,s[cn]=x.current,Fs(s.nodeType===8?s.parentNode:s),or(),x}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var E=h;h=function(){var L=qo(P);E.call(L)}}var P=Uc(s,0,!1,null,null,!1,!1,"",Gf);return s._reactRootContainer=P,s[cn]=P.current,Fs(s.nodeType===8?s.parentNode:s),or(function(){Vo(i,P,c,h)}),P}function Yo(s,i,c,h,p){var m=c._reactRootContainer;if(m){var x=m;if(typeof p=="function"){var E=p;p=function(){var P=qo(x);E.call(P)}}Vo(i,x,s,p)}else x=p0(c,i,s,p,h);return qo(x)}Cd=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var c=Es(i.pendingLanes);c!==0&&(dl(i,c|1),vt(i,Be()),(Se&6)===0&&(Jr=Be()+500,In()))}break;case 13:or(function(){var h=fn(s,1);if(h!==null){var p=ft();qt(h,s,1,p)}}),$c(s,1)}},hl=function(s){if(s.tag===13){var i=fn(s,134217728);if(i!==null){var c=ft();qt(i,s,134217728,c)}$c(s,134217728)}},Pd=function(s){if(s.tag===13){var i=Fn(s),c=fn(s,i);if(c!==null){var h=ft();qt(c,s,i,h)}$c(s,i)}},Od=function(){return Ce},jd=function(s,i){var c=Ce;try{return Ce=s,i()}finally{Ce=c}},sl=function(s,i,c){switch(i){case"input":if(Ja(s,c),i=c.name,c.type==="radio"&&i!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==s&&h.form===s.form){var p=ho(h);if(!p)throw Error(t(90));ed(h),Ja(h,p)}}}break;case"textarea":id(s,c);break;case"select":i=c.value,i!=null&&Cr(s,!!c.multiple,i,!1)}},pd=Ac,gd=or;var g0={usingClientEntryPoint:!1,Events:[Ws,Dr,ho,hd,fd,Ac]},ri={findFiberByHostInstance:Xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m0={bundleType:ri.bundleType,version:ri.version,rendererPackageName:ri.rendererPackageName,rendererConfig:ri.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=wd(s),s===null?null:s.stateNode},findFiberByHostInstance:ri.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jo.isDisabled&&Jo.supportsFiber)try{qi=Jo.inject(m0),Zt=Jo}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0,wt.createPortal=function(s,i){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zc(i))throw Error(t(200));return h0(s,i,null,c)},wt.createRoot=function(s,i){if(!zc(s))throw Error(t(299));var c=!1,h="",p=Kf;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Uc(s,1,!1,null,null,c,!1,h,p),s[cn]=i.current,Fs(s.nodeType===8?s.parentNode:s),new Fc(i)},wt.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=wd(i),s=s===null?null:s.stateNode,s},wt.flushSync=function(s){return or(s)},wt.hydrate=function(s,i,c){if(!Go(i))throw Error(t(200));return Yo(null,s,i,!0,c)},wt.hydrateRoot=function(s,i,c){if(!zc(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,p=!1,m="",x=Kf;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(x=c.onRecoverableError)),i=Vf(i,null,s,1,c??null,p,!1,m,x),s[cn]=i.current,Fs(s),h)for(s=0;s<h.length;s++)c=h[s],p=c._getVersion,p=p(c._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[c,p]:i.mutableSourceEagerHydrationData.push(c,p);return new Ko(i)},wt.render=function(s,i,c){if(!Go(i))throw Error(t(200));return Yo(null,s,i,!1,c)},wt.unmountComponentAtNode=function(s){if(!Go(s))throw Error(t(40));return s._reactRootContainer?(or(function(){Yo(null,null,s,!1,function(){s._reactRootContainer=null,s[cn]=null})}),!0):!1},wt.unstable_batchedUpdates=Ac,wt.unstable_renderSubtreeIntoContainer=function(s,i,c,h){if(!Go(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Yo(s,i,c,!1,h)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var np;function Kg(){if(np)return Hc.exports;np=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hc.exports=S0(),Hc.exports}var rp;function k0(){if(rp)return Qo;rp=1;var n=Kg();return Qo.createRoot=n.createRoot,Qo.hydrateRoot=n.hydrateRoot,Qo}var E0=k0();function Lu({value:n,width:e="fit",height:t="fit",bgClass:r="bg-card-bg",borderClass:o="border-2 border-card-border",className:a,open:l=!0,overlayClassName:u}){const[d,f]=D.useState(l),[g,y]=D.useState(!1);return D.useEffect(()=>{if(l){f(!0),y(!1);return}d&&y(!0)},[l,d]),d?w.jsx("div",{className:`fixed inset-0 z-30 bg-black/20 backdrop-blur-sm flex items-center justify-center ${g?"animate-fade-out":"animate-fade-in"} ${u??""}`,onAnimationEnd:()=>{g&&(y(!1),f(!1))},children:w.jsx("div",{style:{width:`${typeof e=="string"?e:`${e}%`}`,height:`${typeof t=="string"?t:`${t}%`}`,maxWidth:"92vw",maxHeight:"92vh"},className:`relative z-10 w-fit h-fit overflow-y-auto p-6 md:p-10 rounded-lg ${r} ${o} ${a??""} ${g?"animate-blur-down":""}`,children:n})}):null}function Ee({text:n,onClickFunction:e,pressed:t=!1,index:r,tooltip:o,disabled:a=!1,className:l}){const u=()=>{a||e?.(r)},d=t?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light";return w.jsxs("div",{className:"relative group/button",children:[w.jsx("button",{disabled:a,"aria-pressed":t,onClick:u,className:`w-fit h-9 px-3 bg-card-bg rounded-lg border-2 font-display font-semibold transition-all duration-200 whitespace-nowrap ${l} 
        ${a?"opacity-50 cursor-not-allowed border-card-border text-text-secondary bg-game-bg-dark":`active:scale-95 ${d}`}`,children:n}),o&&!a&&w.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/button:opacity-100 group-hover/button:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[w.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:o}),w.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:w.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]})]})}var Gg=Kg();function _a({children:n,defaultSelect:e,itemsPerRow:t}){const[r,o]=D.useState(e),a=typeof t=="number"&&t>0?Math.floor(t):void 0,l=d=>{d!==void 0&&o(d)},u=D.Children.toArray(n).map((d,f)=>D.isValidElement(d)?D.cloneElement(d,{index:f,pressed:f===r,onClickFunction:g=>{d.props.onClickFunction?.(g),l(g)}}):d);if(a){const d=[];for(let f=0;f<u.length;f+=a)d.push(u.slice(f,f+a));return w.jsx("div",{className:"flex flex-col gap-2 items-start",children:d.map((f,g)=>w.jsx("div",{className:"flex flex-row items-center gap-2",children:f},g))})}return w.jsx("div",{className:"flex flex-row items-center gap-2",children:u})}const T0=()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body;function Pt({content:n,children:e,disabled:t=!1,offset:r=10}){const[o,a]=D.useState(!1),[l,u]=D.useState(!1),[d,f]=D.useState({top:0,left:0}),g=D.useRef(null),y=D.useRef(null);D.useLayoutEffect(()=>{if(!o){u(!1);return}const _=g.current,S=y.current;if(!_||!S)return;const b=_.getBoundingClientRect(),k=S.getBoundingClientRect();let T=b.top-k.height-r,O=b.left+b.width/2-k.width/2;T<8&&(T=b.bottom+r),O=Math.max(8,Math.min(O,window.innerWidth-k.width-8)),f({top:T,left:O}),u(!0)},[o,r]);const v=D.useMemo(T0,[]);return w.jsxs("span",{ref:g,className:"inline-flex",onMouseEnter:()=>!t&&a(!0),onMouseLeave:()=>a(!1),children:[e,o&&v&&Gg.createPortal(w.jsxs("div",{ref:y,style:{position:"fixed",top:d.top,left:d.left},className:`z-[999] px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple transition-[opacity,transform] duration-200 ease-out will-change-transform ${l?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-2 scale-95"}`,"aria-hidden":"true",children:[w.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:n}),w.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:w.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]}),v)]})}function C0({children:n,setIsOpen:e,target:t,ignore:r=[]}){return D.useEffect(()=>{const o=a=>{const l=t.current;if(!l)return;const u=l.contains(a.target),d=r.some(f=>f.current?.contains(a.target));!u&&!d&&e(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[e,t,r]),w.jsx(w.Fragment,{children:n})}function xa({text:n,onClickFunction:e,optionsValue:t,tooltip:r,itemsPerRow:o}){const[a,l]=D.useState(!1),[u,d]=D.useState(!1),[f,g]=D.useState({top:0,left:0}),y=D.useRef(null),v=D.useRef(null),_=D.useRef(null),S=()=>{l(!a),e?.()},b=typeof o=="number"&&o>0?Math.floor(o):void 0,k=O=>D.isValidElement(O)&&O.type===_a;D.useLayoutEffect(()=>{if(!a){d(!1);return}const O=y.current,R=v.current;if(!O||!R)return;const N=O.getBoundingClientRect(),I=R.getBoundingClientRect();let $=N.top-I.height-12,z=N.left+N.width/2-I.width/2;$<8&&($=N.bottom+12),z=Math.max(8,Math.min(z,window.innerWidth-I.width-8)),g({top:$,left:z}),d(!0)},[a,b,t?.length]);const T=D.useMemo(()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body,[]);return w.jsx(C0,{setIsOpen:l,target:_,ignore:[v],children:w.jsxs("div",{ref:_,className:"relative z-50 flex flex-col items-center group/options",children:[a&&T&&Gg.createPortal(w.jsx("div",{ref:v,style:{position:"fixed",top:f.top,left:f.left},className:`z-[5000] w-fit h-fit p-2 bg-card-bg border-2 border-card-border rounded-xl shadow-card backdrop-blur-sm transition-[opacity,transform] duration-200 ease-out origin-bottom ${u?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 translate-y-2 scale-95 pointer-events-none"}`,children:w.jsx("div",{className:"flex flex-col gap-2",children:t?.map((O,R)=>k(O)&&b?D.cloneElement(O,{key:R,itemsPerRow:b}):w.jsx("div",{children:O},R))})}),T),w.jsx(Pt,{content:r??"",disabled:!r||a,children:w.jsx("button",{ref:y,onClick:S,className:`w-9 h-9 bg-card-bg rounded-lg border-2 font-display font-semibold active:scale-95 transition-all duration-200 ${a?"border-accent-primary text-accent-primary shadow-glow-purple -rotate-90":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple rotate-0"} ${a?"bg-game-bg-light":"hover:bg-game-bg-light"}`,children:n})})]})})}function mi({label:n,placeholder:e,value:t,onChange:r,onSubmit:o,defaultValue:a,type:l="text",disabled:u=!1,className:d,containerClassName:f}){const g=v=>{r?.(v.target.value)},y=v=>{v.key==="Enter"&&(v.preventDefault(),v.currentTarget.blur(),o?.())};return w.jsxs("label",{className:`flex flex-col gap-1 w-full ${f??""}`,children:[n&&w.jsx("span",{className:"text-text-secondary text-xs font-display font-semibold uppercase tracking-wide",children:n}),w.jsx("input",{type:l,value:t,defaultValue:a,onChange:g,onKeyDown:y,placeholder:e,disabled:u,className:`bg-card-bg border-2 border-card-border rounded-lg h-10 px-4 transition-all duration-200 hover:border-accent-warning focus:border-accent-primary focus:shadow-glow-purple text-text-primary font-display font-semibold placeholder:text-text-secondary placeholder:opacity-50 outline-none disabled:opacity-50 disabled:cursor-not-allowed ${d??""}`})]})}function Di(n){return n+.5|0}const qn=(n,e,t)=>Math.max(Math.min(n,t),e);function di(n){return qn(Di(n*2.55),0,255)}function Gn(n){return qn(Di(n*255),0,255)}function xn(n){return qn(Di(n/2.55)/100,0,1)}function sp(n){return qn(Di(n*100),0,100)}const Lt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hu=[..."0123456789ABCDEF"],P0=n=>hu[n&15],O0=n=>hu[(n&240)>>4]+hu[n&15],Xo=n=>(n&240)>>4===(n&15),j0=n=>Xo(n.r)&&Xo(n.g)&&Xo(n.b)&&Xo(n.a);function R0(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Lt[n[1]]*17,g:255&Lt[n[2]]*17,b:255&Lt[n[3]]*17,a:e===5?Lt[n[4]]*17:255}:(e===7||e===9)&&(t={r:Lt[n[1]]<<4|Lt[n[2]],g:Lt[n[3]]<<4|Lt[n[4]],b:Lt[n[5]]<<4|Lt[n[6]],a:e===9?Lt[n[7]]<<4|Lt[n[8]]:255})),t}const A0=(n,e)=>n<255?e(n):"";function N0(n){var e=j0(n)?P0:O0;return n?"#"+e(n.r)+e(n.g)+e(n.b)+A0(n.a,e):void 0}const I0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yg(n,e,t){const r=e*Math.min(t,1-t),o=(a,l=(a+n/30)%12)=>t-r*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function M0(n,e,t){const r=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[r(5),r(3),r(1)]}function L0(n,e,t){const r=Yg(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)r[o]*=1-e-t,r[o]+=e;return r}function D0(n,e,t,r,o){return n===o?(e-t)/r+(e<t?6:0):e===o?(t-n)/r+2:(n-e)/r+4}function Du(n){const t=n.r/255,r=n.g/255,o=n.b/255,a=Math.max(t,r,o),l=Math.min(t,r,o),u=(a+l)/2;let d,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),d=D0(t,r,o,g,a),d=d*60+.5),[d|0,f||0,u]}function Uu(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Gn)}function $u(n,e,t){return Uu(Yg,n,e,t)}function U0(n,e,t){return Uu(L0,n,e,t)}function $0(n,e,t){return Uu(M0,n,e,t)}function Jg(n){return(n%360+360)%360}function F0(n){const e=I0.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?di(+e[5]):Gn(+e[5]));const o=Jg(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=U0(o,a,l):e[1]==="hsv"?r=$0(o,a,l):r=$u(o,a,l),{r:r[0],g:r[1],b:r[2],a:t}}function z0(n,e){var t=Du(n);t[0]=Jg(t[0]+e),t=$u(t),n.r=t[0],n.g=t[1],n.b=t[2]}function B0(n){if(!n)return;const e=Du(n),t=e[0],r=sp(e[1]),o=sp(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${o}%, ${xn(n.a)})`:`hsl(${t}, ${r}%, ${o}%)`}const ip={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},op={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function W0(){const n={},e=Object.keys(op),t=Object.keys(ip);let r,o,a,l,u;for(r=0;r<e.length;r++){for(l=u=e[r],o=0;o<t.length;o++)a=t[o],u=u.replace(a,ip[a]);a=parseInt(op[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Zo;function H0(n){Zo||(Zo=W0(),Zo.transparent=[0,0,0,0]);const e=Zo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const V0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function q0(n){const e=V0.exec(n);let t=255,r,o,a;if(e){if(e[7]!==r){const l=+e[7];t=e[8]?di(l):qn(l*255,0,255)}return r=+e[1],o=+e[3],a=+e[5],r=255&(e[2]?di(r):qn(r,0,255)),o=255&(e[4]?di(o):qn(o,0,255)),a=255&(e[6]?di(a):qn(a,0,255)),{r,g:o,b:a,a:t}}}function K0(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${xn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Kc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function G0(n,e,t){const r=Xr(xn(n.r)),o=Xr(xn(n.g)),a=Xr(xn(n.b));return{r:Gn(Kc(r+t*(Xr(xn(e.r))-r))),g:Gn(Kc(o+t*(Xr(xn(e.g))-o))),b:Gn(Kc(a+t*(Xr(xn(e.b))-a))),a:n.a+t*(e.a-n.a)}}function ea(n,e,t){if(n){let r=Du(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=$u(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function Qg(n,e){return n&&Object.assign(e||{},n)}function ap(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Gn(n[3]))):(e=Qg(n,{r:0,g:0,b:0,a:1}),e.a=Gn(e.a)),e}function Y0(n){return n.charAt(0)==="r"?q0(n):F0(n)}class ki{constructor(e){if(e instanceof ki)return e;const t=typeof e;let r;t==="object"?r=ap(e):t==="string"&&(r=R0(e)||H0(e)||Y0(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Qg(this._rgb);return e&&(e.a=xn(e.a)),e}set rgb(e){this._rgb=ap(e)}rgbString(){return this._valid?K0(this._rgb):void 0}hexString(){return this._valid?N0(this._rgb):void 0}hslString(){return this._valid?B0(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,o=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,d=r.a-o.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;a=1-f,r.r=255&f*r.r+a*o.r+.5,r.g=255&f*r.g+a*o.g+.5,r.b=255&f*r.b+a*o.b+.5,r.a=l*r.a+(1-l)*o.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=G0(this._rgb,e._rgb,t)),this}clone(){return new ki(this.rgb)}alpha(e){return this._rgb.a=Gn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Di(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ea(this._rgb,2,e),this}darken(e){return ea(this._rgb,2,-e),this}saturate(e){return ea(this._rgb,1,e),this}desaturate(e){return ea(this._rgb,1,-e),this}rotate(e){return z0(this._rgb,e),this}}function yn(){}const J0=(()=>{let n=0;return()=>n++})();function Ae(n){return n==null}function Je(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dt(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function sn(n,e){return dt(n)?n:e}function xe(n,e){return typeof n>"u"?e:n}const Q0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Me(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Pe(n,e,t,r){let o,a,l;if(Je(n))for(a=n.length,o=0;o<a;o++)e.call(t,n[o],o);else if(be(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)e.call(t,n[l[o]],l[o])}function ka(n,e){let t,r,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function Ea(n){if(Je(n))return n.map(Ea);if(be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let o=0;for(;o<r;++o)e[t[o]]=Ea(n[t[o]]);return e}return n}function Xg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function X0(n,e,t,r){if(!Xg(n))return;const o=e[n],a=t[n];be(o)&&be(a)?Ei(o,a,r):e[n]=Ea(a)}function Ei(n,e,t){const r=Je(e)?e:[e],o=r.length;if(!be(n))return n;t=t||{};const a=t.merger||X0;let l;for(let u=0;u<o;++u){if(l=r[u],!be(l))continue;const d=Object.keys(l);for(let f=0,g=d.length;f<g;++f)a(d[f],n,l,t)}return n}function yi(n,e){return Ei(n,e,{merger:Z0})}function Z0(n,e,t){if(!Xg(n))return;const r=e[n],o=t[n];be(r)&&be(o)?yi(r,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Ea(o))}const lp={"":n=>n,x:n=>n.x,y:n=>n.y};function ew(n){const e=n.split("."),t=[];let r="";for(const o of e)r+=o,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function tw(n){const e=ew(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function Ta(n,e){return(lp[e]||(lp[e]=tw(e)))(n)}function Fu(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ca=n=>typeof n<"u",Jn=n=>typeof n=="function",cp=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function nw(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const et=Math.PI,Xt=2*et,rw=Xt+et,Pa=Number.POSITIVE_INFINITY,sw=et/180,Jt=et/2,ur=et/4,up=et*2/3,Zg=Math.log10,ps=Math.sign;function vi(n,e,t){return Math.abs(n-e)<t}function dp(n){const e=Math.round(n);n=vi(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Zg(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function iw(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function ow(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Ti(n){return!ow(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function aw(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function lw(n,e,t){let r,o,a;for(r=0,o=n.length;r<o;r++)a=n[r][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function _r(n){return n*(et/180)}function cw(n){return n*(180/et)}function hp(n){if(!dt(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function uw(n,e){const t=e.x-n.x,r=e.y-n.y,o=Math.sqrt(t*t+r*r);let a=Math.atan2(r,t);return a<-.5*et&&(a+=Xt),{angle:a,distance:o}}function fu(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function dw(n,e){return(n-e+rw)%Xt-et}function ln(n){return(n%Xt+Xt)%Xt}function em(n,e,t,r){const o=ln(n),a=ln(e),l=ln(t),u=ln(a-o),d=ln(l-o),f=ln(o-a),g=ln(o-l);return o===a||o===l||r&&a===l||u>d&&f<g}function Dt(n,e,t){return Math.max(e,Math.min(t,n))}function hw(n){return Dt(n,-32768,32767)}function cs(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function zu(n,e,t){t=t||(l=>n[l]<e);let r=n.length-1,o=0,a;for(;r-o>1;)a=o+r>>1,t(a)?o=a:r=a;return{lo:o,hi:r}}const xr=(n,e,t,r)=>zu(n,t,r?o=>{const a=n[o][e];return a<t||a===t&&n[o+1][e]===t}:o=>n[o][e]<t),fw=(n,e,t)=>zu(n,t,r=>n[r][e]>=t);function pw(n,e,t){let r=0,o=n.length;for(;r<o&&n[r]<e;)r++;for(;o>r&&n[o-1]>t;)o--;return r>0||o<n.length?n.slice(r,o):n}const tm=["push","pop","shift","splice","unshift"];function gw(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tm.forEach(t=>{const r="_onData"+Fu(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[r]=="function"&&u[r](...a)}),l}})})}function fp(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,o=r.indexOf(e);o!==-1&&r.splice(o,1),!(r.length>0)&&(tm.forEach(a=>{delete n[a]}),delete n._chartjs)}function mw(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const nm=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function rm(n,e){let t=[],r=!1;return function(...o){t=o,r||(r=!0,nm.call(window,()=>{r=!1,n.apply(e,t)}))}}function yw(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const Bu=n=>n==="start"?"left":n==="end"?"right":"center",ct=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,vw=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function ww(n,e,t){const r=e.length;let o=0,a=r;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:v,minDefined:_,maxDefined:S}=l.getUserBounds();if(_){if(o=Math.min(xr(d,g,y).lo,t?r:xr(e,g,l.getPixelForValue(y)).lo),f){const b=d.slice(0,o+1).reverse().findIndex(k=>!Ae(k[u.axis]));o-=Math.max(0,b)}o=Dt(o,0,r-1)}if(S){let b=Math.max(xr(d,l.axis,v,!0).hi+1,t?0:xr(e,g,l.getPixelForValue(v),!0).hi+1);if(f){const k=d.slice(b-1).findIndex(T=>!Ae(T[u.axis]));b+=Math.max(0,k)}a=Dt(b,o,r)-o}else a=r-o}return{start:o,count:a}}function _w(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=o,!0;const a=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,o),a}const ta=n=>n===0||n===1,pp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Xt/t)),gp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Xt/t)+1,wi={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jt)+1,easeOutSine:n=>Math.sin(n*Jt),easeInOutSine:n=>-.5*(Math.cos(et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ta(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ta(n)?n:pp(n,.075,.3),easeOutElastic:n=>ta(n)?n:gp(n,.075,.3),easeInOutElastic(n){return ta(n)?n:n<.5?.5*pp(n*2,.1125,.45):.5+.5*gp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-wi.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?wi.easeInBounce(n*2)*.5:wi.easeOutBounce(n*2-1)*.5+.5};function Wu(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function mp(n){return Wu(n)?n:new ki(n)}function Gc(n){return Wu(n)?n:new ki(n).saturate(.5).darken(.1).hexString()}const xw=["x","y","borderWidth","radius","tension"],bw=["color","borderColor","backgroundColor"];function Sw(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:bw},numbers:{type:"number",properties:xw}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function kw(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const yp=new Map;function Ew(n,e){e=e||{};const t=n+JSON.stringify(e);let r=yp.get(t);return r||(r=new Intl.NumberFormat(n,e),yp.set(t,r)),r}function sm(n,e,t){return Ew(e,t).format(n)}const Tw={values(n){return Je(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let o,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=Cw(n,t)}const l=Zg(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),sm(n,r,d)}};function Cw(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var im={formatters:Tw};function Pw(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:im.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kr=Object.create(null),pu=Object.create(null);function _i(n,e){if(!e)return n;const t=e.split(".");for(let r=0,o=t.length;r<o;++r){const a=t[r];n=n[a]||(n[a]=Object.create(null))}return n}function Yc(n,e,t){return typeof e=="string"?Ei(_i(n,e),t):Ei(_i(n,""),e)}class Ow{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>Gc(o.backgroundColor),this.hoverBorderColor=(r,o)=>Gc(o.borderColor),this.hoverColor=(r,o)=>Gc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Yc(this,e,t)}get(e){return _i(this,e)}describe(e,t){return Yc(pu,e,t)}override(e,t){return Yc(kr,e,t)}route(e,t,r,o){const a=_i(this,e),l=_i(this,r),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const d=this[u],f=l[o];return be(d)?Object.assign({},f,d):xe(d,f)},set(d){this[u]=d}}})}apply(e){e.forEach(t=>t(this))}}var He=new Ow({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Sw,kw,Pw]);function jw(n){return!n||Ae(n.size)||Ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function vp(n,e,t,r,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>r&&(r=a),r}function dr(n,e,t){const r=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*r)/r+o}function wp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function gu(n,e,t,r){om(n,e,t,r,null)}function om(n,e,t,r,o){let a,l,u,d,f,g,y,v;const _=e.pointStyle,S=e.rotation,b=e.radius;let k=(S||0)*sw;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(k),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),_){default:o?n.ellipse(t,r,o/2,b,0,0,Xt):n.arc(t,r,b,0,Xt),n.closePath();break;case"triangle":g=o?o/2:b,n.moveTo(t+Math.sin(k)*g,r-Math.cos(k)*b),k+=up,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*b),k+=up,n.lineTo(t+Math.sin(k)*g,r-Math.cos(k)*b),n.closePath();break;case"rectRounded":f=b*.516,d=b-f,l=Math.cos(k+ur)*d,y=Math.cos(k+ur)*(o?o/2-f:d),u=Math.sin(k+ur)*d,v=Math.sin(k+ur)*(o?o/2-f:d),n.arc(t-y,r-u,f,k-et,k-Jt),n.arc(t+v,r-l,f,k-Jt,k),n.arc(t+y,r+u,f,k,k+Jt),n.arc(t-v,r+l,f,k+Jt,k+et),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*b,g=o?o/2:d,n.rect(t-g,r-d,2*g,2*d);break}k+=ur;case"rectRot":y=Math.cos(k)*(o?o/2:b),l=Math.cos(k)*b,u=Math.sin(k)*b,v=Math.sin(k)*(o?o/2:b),n.moveTo(t-y,r-u),n.lineTo(t+v,r-l),n.lineTo(t+y,r+u),n.lineTo(t-v,r+l),n.closePath();break;case"crossRot":k+=ur;case"cross":y=Math.cos(k)*(o?o/2:b),l=Math.cos(k)*b,u=Math.sin(k)*b,v=Math.sin(k)*(o?o/2:b),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"star":y=Math.cos(k)*(o?o/2:b),l=Math.cos(k)*b,u=Math.sin(k)*b,v=Math.sin(k)*(o?o/2:b),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l),k+=ur,y=Math.cos(k)*(o?o/2:b),l=Math.cos(k)*b,u=Math.sin(k)*b,v=Math.sin(k)*(o?o/2:b),n.moveTo(t-y,r-u),n.lineTo(t+y,r+u),n.moveTo(t+v,r-l),n.lineTo(t-v,r+l);break;case"line":l=o?o/2:Math.cos(k)*b,u=Math.sin(k)*b,n.moveTo(t-l,r-u),n.lineTo(t+l,r+u);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(k)*(o?o/2:b),r+Math.sin(k)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ci(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function La(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Da(n){n.restore()}function Rw(n,e,t,r,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else o==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function Aw(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function Nw(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ae(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function Iw(n,e,t,r,o){if(o.strikethrough||o.underline){const a=n.measureText(r),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,d=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=o.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function Mw(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Pi(n,e,t,r,o,a={}){const l=Je(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let d,f;for(n.save(),n.font=o.string,Nw(n,a),d=0;d<l.length;++d)f=l[d],a.backdrop&&Mw(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Ae(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,r,a.maxWidth)),n.fillText(f,t,r,a.maxWidth),Iw(n,t,r,f,a),r+=Number(o.lineHeight);n.restore()}function mu(n,e){const{x:t,y:r,w:o,h:a,radius:l}=e;n.arc(t+l.topLeft,r+l.topLeft,l.topLeft,1.5*et,et,!0),n.lineTo(t,r+a-l.bottomLeft),n.arc(t+l.bottomLeft,r+a-l.bottomLeft,l.bottomLeft,et,Jt,!0),n.lineTo(t+o-l.bottomRight,r+a),n.arc(t+o-l.bottomRight,r+a-l.bottomRight,l.bottomRight,Jt,0,!0),n.lineTo(t+o,r+l.topRight),n.arc(t+o-l.topRight,r+l.topRight,l.topRight,0,-Jt,!0),n.lineTo(t+l.topLeft,r)}const Lw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Dw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Uw(n,e){const t=(""+n).match(Lw);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const $w=n=>+n||0;function am(n,e){const t={},r=be(e),o=r?Object.keys(e):e,a=be(n)?r?l=>xe(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=$w(a(l));return t}function Fw(n){return am(n,{top:"y",right:"x",bottom:"y",left:"x"})}function xi(n){return am(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(n){const e=Fw(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ut(n,e){n=n||{},e=e||He.font;let t=xe(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=xe(n.style,e.style);r&&!(""+r).match(Dw)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const o={family:xe(n.family,e.family),lineHeight:Uw(xe(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:xe(n.weight,e.weight),string:""};return o.string=jw(o),o}function na(n,e,t,r){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function zw(n,e,t){const{min:r,max:o}=n,a=Q0(e,(o-r)/2),l=(u,d)=>t&&u===0?0:u+d;return{min:l(r,-Math.abs(a)),max:l(o,a)}}function Er(n,e){return Object.assign(Object.create(n),e)}function Hu(n,e=[""],t,r,o=()=>n[0]){const a=t||n;typeof r>"u"&&(r=dm("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:r,_getTarget:o,override:u=>Hu([u,...n],e,a,r)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return cm(u,d,()=>Yw(d,e,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return xp(u).includes(d)},ownKeys(u){return xp(u)},set(u,d,f){const g=u._storage||(u._storage=o());return u[d]=g[d]=f,delete u._keys,!0}})}function gs(n,e,t,r){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:lm(n,r),setContext:a=>gs(n,a,t,r),override:a=>gs(n.override(a),e,t,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return cm(a,l,()=>Ww(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function lm(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:r,isScriptable:Jn(t)?t:()=>t,isIndexable:Jn(r)?r:()=>r}}const Bw=(n,e)=>n?n+Fu(e):e,Vu=(n,e)=>be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function cm(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function Ww(n,e,t){const{_proxy:r,_context:o,_subProxy:a,_descriptors:l}=n;let u=r[e];return Jn(u)&&l.isScriptable(e)&&(u=Hw(e,u,n,t)),Je(u)&&u.length&&(u=Vw(e,u,n,l.isIndexable)),Vu(e,u)&&(u=gs(u,o,a&&a[e],l)),u}function Hw(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=e(a,l||r);return u.delete(n),Vu(n,d)&&(d=qu(o._scopes,o,n,d)),d}function Vw(n,e,t,r){const{_proxy:o,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&r(n))return e[a.index%e.length];if(be(e[0])){const d=e,f=o._scopes.filter(g=>g!==d);e=[];for(const g of d){const y=qu(f,o,n,g);e.push(gs(y,a,l&&l[n],u))}}return e}function um(n,e,t){return Jn(n)?n(e,t):n}const qw=(n,e)=>n===!0?e:typeof n=="string"?Ta(e,n):void 0;function Kw(n,e,t,r,o){for(const a of e){const l=qw(t,a);if(l){n.add(l);const u=um(l._fallback,t,o);if(typeof u<"u"&&u!==t&&u!==r)return u}else if(l===!1&&typeof r<"u"&&t!==r)return null}return!1}function qu(n,e,t,r){const o=e._rootScopes,a=um(e._fallback,t,r),l=[...n,...o],u=new Set;u.add(r);let d=_p(u,l,t,a||t,r);return d===null||typeof a<"u"&&a!==t&&(d=_p(u,l,a,d,r),d===null)?!1:Hu(Array.from(u),[""],o,a,()=>Gw(e,t,r))}function _p(n,e,t,r,o){for(;t;)t=Kw(n,e,t,r,o);return t}function Gw(n,e,t){const r=n._getTarget();e in r||(r[e]={});const o=r[e];return Je(o)&&be(t)?t:o||{}}function Yw(n,e,t,r){let o;for(const a of e)if(o=dm(Bw(a,n),t),typeof o<"u")return Vu(n,o)?qu(t,r,n,o):o}function dm(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function xp(n){let e=n._keys;return e||(e=n._keys=Jw(n._scopes)),e}function Jw(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(r);return Array.from(e)}const Qw=Number.EPSILON||1e-14,ms=(n,e)=>e<n.length&&!n[e].skip&&n[e],hm=n=>n==="x"?"y":"x";function Xw(n,e,t,r){const o=n.skip?e:n,a=e,l=t.skip?e:t,u=fu(a,o),d=fu(l,a);let f=u/(u+d),g=d/(u+d);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const y=r*f,v=r*g;return{previous:{x:a.x-y*(l.x-o.x),y:a.y-y*(l.y-o.y)},next:{x:a.x+v*(l.x-o.x),y:a.y+v*(l.y-o.y)}}}function Zw(n,e,t){const r=n.length;let o,a,l,u,d,f=ms(n,0);for(let g=0;g<r-1;++g)if(d=f,f=ms(n,g+1),!(!d||!f)){if(vi(e[g],0,Qw)){t[g]=t[g+1]=0;continue}o=t[g]/e[g],a=t[g+1]/e[g],u=Math.pow(o,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),t[g]=o*l*e[g],t[g+1]=a*l*e[g])}}function e_(n,e,t="x"){const r=hm(t),o=n.length;let a,l,u,d=ms(n,0);for(let f=0;f<o;++f){if(l=u,u=d,d=ms(n,f+1),!u)continue;const g=u[t],y=u[r];l&&(a=(g-l[t])/3,u[`cp1${t}`]=g-a,u[`cp1${r}`]=y-a*e[f]),d&&(a=(d[t]-g)/3,u[`cp2${t}`]=g+a,u[`cp2${r}`]=y+a*e[f])}}function t_(n,e="x"){const t=hm(e),r=n.length,o=Array(r).fill(0),a=Array(r);let l,u,d,f=ms(n,0);for(l=0;l<r;++l)if(u=d,d=f,f=ms(n,l+1),!!d){if(f){const g=f[e]-d[e];o[l]=g!==0?(f[t]-d[t])/g:0}a[l]=u?f?ps(o[l-1])!==ps(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}Zw(n,o,a),e_(n,a,e)}function ra(n,e,t){return Math.max(Math.min(n,t),e)}function n_(n,e){let t,r,o,a,l,u=Ci(n[0],e);for(t=0,r=n.length;t<r;++t)l=a,a=u,u=t<r-1&&Ci(n[t+1],e),a&&(o=n[t],l&&(o.cp1x=ra(o.cp1x,e.left,e.right),o.cp1y=ra(o.cp1y,e.top,e.bottom)),u&&(o.cp2x=ra(o.cp2x,e.left,e.right),o.cp2y=ra(o.cp2y,e.top,e.bottom)))}function r_(n,e,t,r,o){let a,l,u,d;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")t_(n,o);else{let f=r?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],d=Xw(f,u,n[Math.min(a+1,l-(r?0:1))%l],e.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}e.capBezierPoints&&n_(n,t)}function Ku(){return typeof window<"u"&&typeof document<"u"}function Gu(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Oa(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Ua=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function s_(n,e){return Ua(n).getPropertyValue(e)}const i_=["top","right","bottom","left"];function Sr(n,e,t){const r={};t=t?"-"+t:"";for(let o=0;o<4;o++){const a=i_[o];r[a]=parseFloat(n[e+"-"+a+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const o_=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function a_(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=r;let l=!1,u,d;if(o_(o,a,n.target))u=o,d=a;else{const f=e.getBoundingClientRect();u=r.clientX-f.left,d=r.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function gr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,o=Ua(t),a=o.boxSizing==="border-box",l=Sr(o,"padding"),u=Sr(o,"border","width"),{x:d,y:f,box:g}=a_(n,t),y=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:_,height:S}=e;return a&&(_-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-y)/_*t.width/r),y:Math.round((f-v)/S*t.height/r)}}function l_(n,e,t){let r,o;if(e===void 0||t===void 0){const a=n&&Gu(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=Ua(a),d=Sr(u,"border","width"),f=Sr(u,"padding");e=l.width-f.width-d.width,t=l.height-f.height-d.height,r=Oa(u.maxWidth,a,"clientWidth"),o=Oa(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:r||Pa,maxHeight:o||Pa}}const Kn=n=>Math.round(n*10)/10;function c_(n,e,t,r){const o=Ua(n),a=Sr(o,"margin"),l=Oa(o.maxWidth,n,"clientWidth")||Pa,u=Oa(o.maxHeight,n,"clientHeight")||Pa,d=l_(n,e,t);let{width:f,height:g}=d;if(o.boxSizing==="content-box"){const v=Sr(o,"border","width"),_=Sr(o,"padding");f-=_.width+v.width,g-=_.height+v.height}return f=Math.max(0,f-a.width),g=Math.max(0,r?f/r:g-a.height),f=Kn(Math.min(f,l,d.maxWidth)),g=Kn(Math.min(g,u,d.maxHeight)),f&&!g&&(g=Kn(f/2)),(e!==void 0||t!==void 0)&&r&&d.height&&g>d.height&&(g=d.height,f=Kn(Math.floor(g*r))),{width:f,height:g}}function bp(n,e,t){const r=e||1,o=Kn(n.height*r),a=Kn(n.width*r);n.height=Kn(n.height),n.width=Kn(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=r,l.height=o,l.width=a,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const u_=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Ku()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function Sp(n,e){const t=s_(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function mr(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function d_(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function h_(n,e,t,r){const o={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=mr(n,o,t),u=mr(o,a,t),d=mr(a,e,t),f=mr(l,u,t),g=mr(u,d,t);return mr(f,g,t)}const f_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},p_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function ds(n,e,t){return n?f_(e,t):p_()}function fm(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function pm(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function gm(n){return n==="angle"?{between:em,compare:dw,normalize:ln}:{between:cs,compare:(e,t)=>e-t,normalize:e=>e}}function kp({start:n,end:e,count:t,loop:r,style:o}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:o}}function g_(n,e,t){const{property:r,start:o,end:a}=t,{between:l,normalize:u}=gm(r),d=e.length;let{start:f,end:g,loop:y}=n,v,_;if(y){for(f+=d,g+=d,v=0,_=d;v<_&&l(u(e[f%d][r]),o,a);++v)f--,g--;f%=d,g%=d}return g<f&&(g+=d),{start:f,end:g,loop:y,style:n.style}}function mm(n,e,t){if(!t)return[n];const{property:r,start:o,end:a}=t,l=e.length,{compare:u,between:d,normalize:f}=gm(r),{start:g,end:y,loop:v,style:_}=g_(n,e,t),S=[];let b=!1,k=null,T,O,R;const N=()=>d(o,R,T)&&u(o,R)!==0,I=()=>u(a,T)===0||d(a,R,T),$=()=>b||N(),z=()=>!b||I();for(let B=g,Q=g;B<=y;++B)O=e[B%l],!O.skip&&(T=f(O[r]),T!==R&&(b=d(T,o,a),k===null&&$()&&(k=u(T,o)===0?B:Q),k!==null&&z()&&(S.push(kp({start:k,end:B,loop:v,count:l,style:_})),k=null),Q=B,R=T));return k!==null&&S.push(kp({start:k,end:y,loop:v,count:l,style:_})),S}function ym(n,e){const t=[],r=n.segments;for(let o=0;o<r.length;o++){const a=mm(r[o],n.points,e);a.length&&t.push(...a)}return t}function m_(n,e,t,r){let o=0,a=e-1;if(t&&!r)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(a+=o);a>o&&n[a%e].skip;)a--;return a%=e,{start:o,end:a}}function y_(n,e,t,r){const o=n.length,a=[];let l=e,u=n[e],d;for(d=e+1;d<=t;++d){const f=n[d%o];f.skip||f.stop?u.skip||(r=!1,a.push({start:e%o,end:(d-1)%o,loop:r}),e=l=f.stop?d:null):(l=d,u.skip&&(e=d)),u=f}return l!==null&&a.push({start:e%o,end:l%o,loop:r}),a}function v_(n,e){const t=n.points,r=n.options.spanGaps,o=t.length;if(!o)return[];const a=!!n._loop,{start:l,end:u}=m_(t,o,a,r);if(r===!0)return Ep(n,[{start:l,end:u,loop:a}],t,e);const d=u<l?u+o:u,f=!!n._fullLoop&&l===0&&u===o-1;return Ep(n,y_(t,l,d,f),t,e)}function Ep(n,e,t,r){return!r||!r.setContext||!t?e:w_(n,e,t,r)}function w_(n,e,t,r){const o=n._chart.getContext(),a=Tp(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=t.length,f=[];let g=a,y=e[0].start,v=y;function _(S,b,k,T){const O=u?-1:1;if(S!==b){for(S+=d;t[S%d].skip;)S-=O;for(;t[b%d].skip;)b+=O;S%d!==b%d&&(f.push({start:S%d,end:b%d,loop:k,style:T}),g=T,y=b%d)}}for(const S of e){y=u?y:S.start;let b=t[y%d],k;for(v=y+1;v<=S.end;v++){const T=t[v%d];k=Tp(r.setContext(Er(o,{type:"segment",p0:b,p1:T,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),__(k,g)&&_(y,v-1,S.loop,g),b=T,g=k}y<v-1&&_(y,v-1,S.loop,g)}return f}function Tp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function __(n,e){if(!e)return!1;const t=[],r=function(o,a){return Wu(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,r)!==JSON.stringify(e,r)}function sa(n,e,t){return n.options.clip?n[t]:e[t]}function x_(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:sa(t,e,"left"),right:sa(t,e,"right"),top:sa(r,e,"top"),bottom:sa(r,e,"bottom")}:e}function vm(n,e){const t=e._clip;if(t.disabled)return!1;const r=x_(e,n.chartArea);return{left:t.left===!1?0:r.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:r.right+(t.right===!0?0:t.right),top:t.top===!1?0:r.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:r.bottom+(t.bottom===!0?0:t.bottom)}}class b_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,o){const a=t.listeners[o],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(r-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=nm.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,o)=>{if(!r.running||!r.items.length)return;const a=r.items;let l=a.length-1,u=!1,d;for(;l>=0;--l)d=a[l],d._active?(d._total>r.duration&&(r.duration=d._total),d.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(o.draw(),this._notify(o,r,e,"progress")),a.length||(r.running=!1,this._notify(o,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,o)=>Math.max(r,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let o=r.length-1;for(;o>=0;--o)r[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var vn=new b_;const Cp="transparent",S_={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=mp(n||Cp),o=r.valid&&mp(e||Cp);return o&&o.valid?o.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class k_{constructor(e,t,r,o){const a=t[r];o=na([e.to,o,a,e.from]);const l=na([e.from,a,o]);this._active=!0,this._fn=e.fn||S_[e.type||typeof l],this._easing=wi[e.easing]||wi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const o=this._target[this._prop],a=r-this._start,l=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=na([e.to,t,o,e.from]),this._from=na([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,o=this._prop,a=this._from,l=this._loop,u=this._to;let d;if(this._active=a!==u&&(l||t<r),!this._active){this._target[o]=u,this._notify(!0);return}if(t<0){this._target[o]=a;return}d=t/r%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[o]=this._fn(a,u,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let o=0;o<r.length;o++)r[o][t]()}}class wm{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!be(e))return;const t=Object.keys(He.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!be(a))return;const l={};for(const u of t)l[u]=a[u];(Je(a.properties)&&a.properties||[o]).forEach(u=>{(u===o||!r.has(u))&&r.set(u,l)})})}_animateOptions(e,t){const r=t.options,o=T_(e,r);if(!o)return[];const a=this._createAnimations(o,r);return r.$shared&&E_(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[f];let y=a[f];const v=r.get(f);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){e[f]=g;continue}a[f]=y=new k_(v,e,f,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return vn.add(this._chart,r),!0}}function E_(n,e){const t=[],r=Object.keys(e);for(let o=0;o<r.length;o++){const a=n[r[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function T_(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Pp(n,e){const t=n&&n.options||{},r=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:r?a:o,end:r?o:a}}function C_(n,e,t){if(t===!1)return!1;const r=Pp(n,t),o=Pp(e,t);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function P_(n){let e,t,r,o;return be(n)?(e=n.top,t=n.right,r=n.bottom,o=n.left):e=t=r=o=n,{top:e,right:t,bottom:r,left:o,disabled:n===!1}}function _m(n,e){const t=[],r=n._getSortedDatasetMetas(e);let o,a;for(o=0,a=r.length;o<a;++o)t.push(r[o].index);return t}function Op(n,e,t,r={}){const o=n.keys,a=r.mode==="single";let l,u,d,f;if(e===null)return;let g=!1;for(l=0,u=o.length;l<u;++l){if(d=+o[l],d===t){if(g=!0,r.all)continue;break}f=n.values[d],dt(f)&&(a||e===0||ps(e)===ps(f))&&(e+=f)}return!g&&!r.all?0:e}function O_(n,e){const{iScale:t,vScale:r}=e,o=t.axis==="x"?"x":"y",a=r.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,g;for(d=0,f=l.length;d<f;++d)g=l[d],u[d]={[o]:g,[a]:n[g]};return u}function Jc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function j_(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function R_(n){const{min:e,max:t,minDefined:r,maxDefined:o}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function A_(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function jp(n,e,t,r){for(const o of e.getMatchingVisibleMetas(r).reverse()){const a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function Rp(n,e){const{chart:t,_cachedMeta:r}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=r,d=a.axis,f=l.axis,g=j_(a,l,r),y=e.length;let v;for(let _=0;_<y;++_){const S=e[_],{[d]:b,[f]:k}=S,T=S._stacks||(S._stacks={});v=T[f]=A_(o,g,b),v[u]=k,v._top=jp(v,l,!0,r.type),v._bottom=jp(v,l,!1,r.type);const O=v._visualValues||(v._visualValues={});O[u]=k}}function Qc(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function N_(n,e){return Er(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function I_(n,e,t){return Er(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ii(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const o of e){const a=o._stacks;if(!a||a[r]===void 0||a[r][t]===void 0)return;delete a[r][t],a[r]._visualValues!==void 0&&a[r]._visualValues[t]!==void 0&&delete a[r]._visualValues[t]}}}const Xc=n=>n==="reset"||n==="none",Ap=(n,e)=>e?n:Object.assign({},n),M_=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:_m(t,!0),values:null};class xm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Jc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ii(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),o=(y,v,_,S)=>y==="x"?v:y==="r"?S:_,a=t.xAxisID=xe(r.xAxisID,Qc(e,"x")),l=t.yAxisID=xe(r.yAxisID,Qc(e,"y")),u=t.rAxisID=xe(r.rAxisID,Qc(e,"r")),d=t.indexAxis,f=t.iAxisID=o(d,a,l,u),g=t.vAxisID=o(d,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&fp(this._data,this),e._stacked&&ii(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(be(t)){const o=this._cachedMeta;this._data=O_(t,o)}else if(r!==t){if(r){fp(r,this);const o=this._cachedMeta;ii(o),o._parsed=[]}t&&Object.isExtensible(t)&&gw(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let o=!1;this._dataCheck();const a=t._stacked;t._stacked=Jc(t.vScale,t),t.stack!==r.stack&&(o=!0,ii(t),t.stack=r.stack),this._resyncElements(e),(o||a!==t._stacked)&&(Rp(this,t._parsed),t._stacked=Jc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:o}=this,{iScale:a,_stacked:l}=r,u=a.axis;let d=e===0&&t===o.length?!0:r._sorted,f=e>0&&r._parsed[e-1],g,y,v;if(this._parsing===!1)r._parsed=o,r._sorted=!0,v=o;else{Je(o[e])?v=this.parseArrayData(r,o,e,t):be(o[e])?v=this.parseObjectData(r,o,e,t):v=this.parsePrimitiveData(r,o,e,t);const _=()=>y[u]===null||f&&y[u]<f[u];for(g=0;g<t;++g)r._parsed[g+e]=y=v[g],d&&(_()&&(d=!1),f=y);r._sorted=d}l&&Rp(this,v)}parsePrimitiveData(e,t,r,o){const{iScale:a,vScale:l}=e,u=a.axis,d=l.axis,f=a.getLabels(),g=a===l,y=new Array(o);let v,_,S;for(v=0,_=o;v<_;++v)S=v+r,y[v]={[u]:g||a.parse(f[S],S),[d]:l.parse(t[S],S)};return y}parseArrayData(e,t,r,o){const{xScale:a,yScale:l}=e,u=new Array(o);let d,f,g,y;for(d=0,f=o;d<f;++d)g=d+r,y=t[g],u[d]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return u}parseObjectData(e,t,r,o){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(o);let g,y,v,_;for(g=0,y=o;g<y;++g)v=g+r,_=t[v],f[g]={x:a.parse(Ta(_,u),v),y:l.parse(Ta(_,d),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const o=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:_m(o,!0),values:t._stacks[e.axis]._visualValues};return Op(u,l,a.index,{mode:r})}updateRangeFromParsed(e,t,r,o){const a=r[t.axis];let l=a===null?NaN:a;const u=o&&r._stacks[t.axis];o&&u&&(o.values=u,l=Op(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,l=o.length,u=this._getOtherScale(e),d=M_(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=R_(u);let v,_;function S(){_=o[v];const b=_[u.axis];return!dt(_[e.axis])||g>b||y<b}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(f,e,_,d),a));++v);if(a){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,e,_,d);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let o,a,l;for(o=0,a=t.length;o<a;++o)l=t[o][e.axis],dt(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,o=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=P_(xe(this.options.clip,C_(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,o=r.data||[],a=t.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||o.length-u,f=this.options.drawActiveElementsOnTop;let g;for(r.dataset&&r.dataset.draw(e,a,u,d),g=u;g<u+d;++g){const y=o[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=I_(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=N_(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const o=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],d=this.enableOptionSharing&&Ca(r);if(u)return Ap(u,d);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),g),_=Object.keys(He.elements[e]),S=()=>this.getContext(r,o,t),b=f.resolveNamedOptions(v,_,S,y);return b.$shared&&(b.$shared=d,a[l]=Object.freeze(Ap(b,d))),b}_resolveAnimations(e,t,r){const o=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let d;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);d=g.createResolver(v,this.getContext(e,r,t))}const f=new wm(o,d&&d.animations);return d&&d._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Xc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),o=this._sharedOptions,a=this.getSharedOptions(r),l=this.includeOptions(t,a)||a!==o;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:l}}updateElement(e,t,r,o){Xc(o)?Object.assign(e,r):this._resolveAnimations(t,o).update(e,r)}updateSharedOptions(e,t,r){e&&!Xc(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,o){e.active=o;const a=this.getStyle(t,o);this._resolveAnimations(t,r,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const o=r.length,a=t.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,t,r=!0){const o=this._cachedMeta,a=o.data,l=e+t;let u;const d=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(d(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&d(o._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,o){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const o=r._parsed.splice(e,t);r._stacked&&ii(r,o)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,o]=e;this[t](r,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class L_ extends xm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:o=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:u,count:d}=ww(t,o,l);this._drawStart=u,this._drawCount=d,_w(t)&&(u=0,d=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=o;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:f},e),this.updateElements(o,u,d,e)}updateElements(e,t,r,o){const a=o==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,o),v=l.axis,_=u.axis,{spanGaps:S,segment:b}=this.options,k=Ti(S)?S:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||o==="none",O=t+r,R=e.length;let N=t>0&&this.getParsed(t-1);for(let I=0;I<R;++I){const $=e[I],z=T?$:{};if(I<t||I>=O){z.skip=!0;continue}const B=this.getParsed(I),Q=Ae(B[_]),oe=z[v]=l.getPixelForValue(B[v],I),X=z[_]=a||Q?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,B,d):B[_],I);z.skip=isNaN(oe)||isNaN(X)||Q,z.stop=I>0&&Math.abs(B[v]-N[v])>k,b&&(z.parsed=B,z.raw=f.data[I]),y&&(z.options=g||this.resolveDataElementOptions(I,$.active?"active":o)),T||this.updateElement($,I,z,o),N=B}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return r;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Yu{static override(e){Object.assign(Yu.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return hr()}parse(){return hr()}format(){return hr()}add(){return hr()}diff(){return hr()}startOf(){return hr()}endOf(){return hr()}}var D_={_date:Yu};function U_(n,e,t,r){const{controller:o,data:a,_sorted:l}=n,u=o._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?fw:xr;if(r){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=f(a,e,t-y),_=f(a,e,t+y);return{lo:v.lo,hi:_.hi}}}}else{const g=f(a,e,t);if(d){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,_=v.slice(0,g.lo+1).reverse().findIndex(b=>!Ae(b[y.axis]));g.lo-=Math.max(0,_);const S=v.slice(g.hi).findIndex(b=>!Ae(b[y.axis]));g.hi+=Math.max(0,S)}return g}}return{lo:0,hi:a.length-1}}function $a(n,e,t,r,o){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,d=a.length;u<d;++u){const{index:f,data:g}=a[u],{lo:y,hi:v}=U_(a[u],e,l,o);for(let _=y;_<=v;++_){const S=g[_];S.skip||r(S,f,_)}}}function $_(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,o){const a=e?Math.abs(r.x-o.x):0,l=t?Math.abs(r.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Zc(n,e,t,r,o){const a=[];return!o&&!n.isPointInArea(e)||$a(n,t,e,function(u,d,f){!o&&!Ci(u,n.chartArea,0)||u.inRange(e.x,e.y,r)&&a.push({element:u,datasetIndex:d,index:f})},!0),a}function F_(n,e,t,r){let o=[];function a(l,u,d){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],r),{angle:y}=uw(l,{x:e.x,y:e.y});em(y,f,g)&&o.push({element:l,datasetIndex:u,index:d})}return $a(n,t,e,a),o}function z_(n,e,t,r,o,a){let l=[];const u=$_(t);let d=Number.POSITIVE_INFINITY;function f(g,y,v){const _=g.inRange(e.x,e.y,o);if(r&&!_)return;const S=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(S))&&!_)return;const k=u(e,S);k<d?(l=[{element:g,datasetIndex:y,index:v}],d=k):k===d&&l.push({element:g,datasetIndex:y,index:v})}return $a(n,t,e,f),l}function eu(n,e,t,r,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!r?F_(n,e,t,o):z_(n,e,t,r,o,a)}function Np(n,e,t,r,o){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return $a(n,t,e,(d,f,g)=>{d[l]&&d[l](e[t],o)&&(a.push({element:d,datasetIndex:f,index:g}),u=u||d.inRange(e.x,e.y,o))}),r&&!u?[]:a}var B_={modes:{index(n,e,t,r){const o=gr(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Zc(n,o,a,r,l):eu(n,o,a,!1,r,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,y=f.data[g];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:g})}),d):[]},dataset(n,e,t,r){const o=gr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Zc(n,o,a,r,l):eu(n,o,a,!1,r,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:d,index:g})}return u},point(n,e,t,r){const o=gr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Zc(n,o,a,r,l)},nearest(n,e,t,r){const o=gr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return eu(n,o,a,t.intersect,r,l)},x(n,e,t,r){const o=gr(e,n);return Np(n,o,"x",t.intersect,r)},y(n,e,t,r){const o=gr(e,n);return Np(n,o,"y",t.intersect,r)}}};const bm=["left","top","right","bottom"];function oi(n,e){return n.filter(t=>t.pos===e)}function Ip(n,e){return n.filter(t=>bm.indexOf(t.pos)===-1&&t.box.axis===e)}function ai(n,e){return n.sort((t,r)=>{const o=e?r:t,a=e?t:r;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function W_(n){const e=[];let t,r,o,a,l,u;for(t=0,r=(n||[]).length;t<r;++t)o=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:u});return e}function H_(n){const e={};for(const t of n){const{stack:r,pos:o,stackWeight:a}=t;if(!r||!bm.includes(o))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function V_(n,e){const t=H_(n),{vBoxMaxWidth:r,hBoxMaxHeight:o}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:d}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*r:d&&e.availableWidth,u.height=o):(u.width=r,u.height=g?g*o:d&&e.availableHeight)}return t}function q_(n){const e=W_(n),t=ai(e.filter(f=>f.box.fullSize),!0),r=ai(oi(e,"left"),!0),o=ai(oi(e,"right")),a=ai(oi(e,"top"),!0),l=ai(oi(e,"bottom")),u=Ip(e,"x"),d=Ip(e,"y");return{fullSize:t,leftAndTop:r.concat(a),rightAndBottom:o.concat(d).concat(l).concat(u),chartArea:oi(e,"chartArea"),vertical:r.concat(o).concat(d),horizontal:a.concat(l).concat(u)}}function Mp(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function Sm(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function K_(n,e,t,r){const{pos:o,box:a}=t,l=n.maxPadding;if(!be(o)){t.size&&(n[o]-=t.size);const y=r[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[o]+=t.size}a.getPadding&&Sm(l,a.getPadding());const u=Math.max(0,e.outerWidth-Mp(l,n,"left","right")),d=Math.max(0,e.outerHeight-Mp(l,n,"top","bottom")),f=u!==n.w,g=d!==n.h;return n.w=u,n.h=d,t.horizontal?{same:f,other:g}:{same:g,other:f}}function G_(n){const e=n.maxPadding;function t(r){const o=Math.max(e[r]-n[r],0);return n[r]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Y_(n,e){const t=e.maxPadding;function r(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return r(n?["left","right"]:["top","bottom"])}function hi(n,e,t,r){const o=[];let a,l,u,d,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],d=u.box,d.update(u.width||e.w,u.height||e.h,Y_(u.horizontal,e));const{same:y,other:v}=K_(e,t,u,r);f|=y&&o.length,g=g||v,d.fullSize||o.push(u)}return f&&hi(o,e,t,r)||g}function ia(n,e,t,r,o){n.top=t,n.left=e,n.right=e+r,n.bottom=t+o,n.width=r,n.height=o}function Lp(n,e,t,r){const o=t.padding;let{x:a,y:l}=e;for(const u of n){const d=u.box,f=r[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const y=e.w*g,v=f.size||d.height;Ca(f.start)&&(l=f.start),d.fullSize?ia(d,o.left,l,t.outerWidth-o.right-o.left,v):ia(d,e.left+f.placed,l,y,v),f.start=l,f.placed+=y,l=d.bottom}else{const y=e.h*g,v=f.size||d.width;Ca(f.start)&&(a=f.start),d.fullSize?ia(d,a,o.top,v,t.outerHeight-o.bottom-o.top):ia(d,a,e.top+f.placed,v,y),f.start=a,f.placed+=y,a=d.right}}e.x=a,e.y=l}var Ut={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const o=$t(n.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(t-o.height,0),u=q_(n.boxes),d=u.vertical,f=u.horizontal;Pe(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const g=d.reduce((b,k)=>k.box.options&&k.box.options.display===!1?b:b+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},o);Sm(v,$t(r));const _=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),S=V_(d.concat(f),y);hi(u.fullSize,_,y,S),hi(d,_,y,S),hi(f,_,y,S)&&hi(d,_,y,S),G_(_),Lp(u.leftAndTop,_,y,S),_.x+=_.w,_.y+=_.h,Lp(u.rightAndBottom,_,y,S),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Pe(u.chartArea,b=>{const k=b.box;Object.assign(k,n.chartArea),k.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class km{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,o){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):r)}}isAttached(e){return!0}updateConfig(e){}}class J_ extends km{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ba="$chartjs",Q_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Dp=n=>n===null||n==="";function X_(n,e){const t=n.style,r=n.getAttribute("height"),o=n.getAttribute("width");if(n[ba]={initial:{height:r,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Dp(o)){const a=Sp(n,"width");a!==void 0&&(n.width=a)}if(Dp(r))if(n.style.height==="")n.height=n.width/(e||2);else{const a=Sp(n,"height");a!==void 0&&(n.height=a)}return n}const Em=u_?{passive:!0}:!1;function Z_(n,e,t){n&&n.addEventListener(e,t,Em)}function ex(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,Em)}function tx(n,e){const t=Q_[n.type]||n.type,{x:r,y:o}=gr(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:o!==void 0?o:null}}function ja(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function nx(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ja(u.addedNodes,r),l=l&&!ja(u.removedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function rx(n,e,t){const r=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||ja(u.removedNodes,r),l=l&&!ja(u.addedNodes,r);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const Oi=new Map;let Up=0;function Tm(){const n=window.devicePixelRatio;n!==Up&&(Up=n,Oi.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function sx(n,e){Oi.size||window.addEventListener("resize",Tm),Oi.set(n,e)}function ix(n){Oi.delete(n),Oi.size||window.removeEventListener("resize",Tm)}function ox(n,e,t){const r=n.canvas,o=r&&Gu(r);if(!o)return;const a=rm((u,d)=>{const f=o.clientWidth;t(u,d),f<o.clientWidth&&t()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,g=d.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(o),sx(n,a),l}function tu(n,e,t){t&&t.disconnect(),e==="resize"&&ix(n)}function ax(n,e,t){const r=n.canvas,o=rm(a=>{n.ctx!==null&&t(tx(a,n))},n);return Z_(r,e,o),o}class lx extends km{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(X_(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ba])return!1;const r=t[ba].initial;["height","width"].forEach(a=>{const l=r[a];Ae(l)?t.removeAttribute(a):t.setAttribute(a,l)});const o=r.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[ba],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:nx,detach:rx,resize:ox}[t]||ax;o[t]=l(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),o=r[t];if(!o)return;({attach:tu,detach:tu,resize:tu}[t]||ex)(e,t,o),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,o){return c_(e,t,r,o)}isAttached(e){const t=e&&Gu(e);return!!(t&&t.isConnected)}}function cx(n){return!Ku()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?J_:lx}class Tr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return Ti(this.x)&&Ti(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const o={};return e.forEach(a=>{o[a]=r[a]&&r[a].active()?r[a]._to:this[a]}),o}}function ux(n,e){const t=n.options.ticks,r=dx(n),o=Math.min(t.maxTicksLimit||r,r),a=t.major.enabled?fx(e):[],l=a.length,u=a[0],d=a[l-1],f=[];if(l>o)return px(e,f,a,l/o),f;const g=hx(a,e,o);if(l>0){let y,v;const _=l>1?Math.round((d-u)/(l-1)):null;for(oa(e,f,g,Ae(_)?0:u-_,u),y=0,v=l-1;y<v;y++)oa(e,f,g,a[y],a[y+1]);return oa(e,f,g,d,Ae(_)?e.length:d+_),f}return oa(e,f,g),f}function dx(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(r,o))}function hx(n,e,t){const r=gx(n),o=e.length/t;if(!r)return Math.max(o,1);const a=iw(r);for(let l=0,u=a.length-1;l<u;l++){const d=a[l];if(d>o)return d}return Math.max(o,1)}function fx(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function px(n,e,t,r){let o=0,a=t[0],l;for(r=Math.ceil(r),l=0;l<n.length;l++)l===a&&(e.push(n[l]),o++,a=t[o*r])}function oa(n,e,t,r,o){const a=xe(r,0),l=Math.min(xe(o,n.length),n.length);let u=0,d,f,g;for(t=Math.ceil(t),o&&(d=o-r,t=d/Math.floor(d/t)),g=a;g<0;)u++,g=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),u++,g=Math.round(a+u*t))}function gx(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const mx=n=>n==="left"?"right":n==="right"?"left":n,$p=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Fp=(n,e)=>Math.min(e||n,n);function zp(n,e){const t=[],r=n.length/e,o=n.length;let a=0;for(;a<o;a+=r)t.push(n[Math.floor(a)]);return t}function yx(n,e,t){const r=n.ticks.length,o=Math.min(e,r-1),a=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(o),f;if(!(t&&(r===1?f=Math.max(d-a,l-d):e===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(o-1))/2,d+=o<e?f:-f,d<a-u||d>l+u)))return d}function vx(n,e){Pe(n,t=>{const r=t.gc,o=r.length/2;let a;if(o>e){for(a=0;a<o;++a)delete t.data[r[a]];r.splice(0,o)}})}function li(n){return n.drawTicks?n.tickLength:0}function Bp(n,e){if(!n.display)return 0;const t=ut(n.font,e),r=$t(n.padding);return(Je(n.text)?n.text.length:1)*t.lineHeight+r.height}function wx(n,e){return Er(n,{scale:e,type:"scale"})}function _x(n,e,t){return Er(n,{tick:t,index:e,type:"tick"})}function xx(n,e,t){let r=Bu(n);return(t&&e!=="right"||!t&&e==="right")&&(r=mx(r)),r}function bx(n,e,t,r){const{top:o,left:a,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:g}=d;let y=0,v,_,S;const b=l-o,k=u-a;if(n.isHorizontal()){if(_=ct(r,a,u),be(t)){const T=Object.keys(t)[0],O=t[T];S=g[T].getPixelForValue(O)+b-e}else t==="center"?S=(f.bottom+f.top)/2+b-e:S=$p(n,t,e);v=u-a}else{if(be(t)){const T=Object.keys(t)[0],O=t[T];_=g[T].getPixelForValue(O)-k+e}else t==="center"?_=(f.left+f.right)/2-k+e:_=$p(n,t,e);S=ct(r,l,o),y=t==="left"?-Jt:Jt}return{titleX:_,titleY:S,maxWidth:v,rotation:y}}class ys extends Tr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:o}=this;return e=sn(e,Number.POSITIVE_INFINITY),t=sn(t,Number.NEGATIVE_INFINITY),r=sn(r,Number.POSITIVE_INFINITY),o=sn(o,Number.NEGATIVE_INFINITY),{min:sn(e,r),max:sn(t,o),minDefined:dt(e),maxDefined:dt(t)}}getMinMax(e){let{min:t,max:r,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:t,max:r};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),a||(r=Math.max(r,l.max));return t=a&&t>r?r:t,r=o&&t>r?t:r,{min:sn(t,sn(r,t)),max:sn(r,sn(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Me(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:o,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zw(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?zp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=ux(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Me(this.options.afterUpdate,[this])}beforeSetDimensions(){Me(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Me(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Me(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Me(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,o,a;for(r=0,o=e.length;r<o;r++)a=e[r],a.label=Me(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Me(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Me(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Fp(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,a=t.maxRotation;let l=o,u,d,f;if(!this._isVisible()||!t.display||o>=a||r<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,_=Dt(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/r:_/(r-1),y+6>u&&(u=_/(r-(e.offset?.5:1)),d=this.maxHeight-li(e.grid)-t.padding-Bp(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),l=cw(Math.min(Math.asin(Dt((g.highest.height+6)/u,-1,1)),Math.asin(Dt(d/f,-1,1))-Math.asin(Dt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Me(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Me(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:o,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Bp(o,t.options.font);if(u?(e.width=this.maxWidth,e.height=li(a)+d):(e.height=this.maxHeight,e.width=li(a)+d),r.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:v}=this._getLabelSizes(),_=r.padding*2,S=_r(this.labelRotation),b=Math.cos(S),k=Math.sin(S);if(u){const T=r.mirror?0:k*y.width+b*v.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=r.mirror?0:b*y.width+k*v.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(f,g,k,b)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,o){const{ticks:{align:a,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;d?f?(v=o*e.width,_=r*t.height):(v=r*e.height,_=o*t.width):a==="start"?_=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Me(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Ae(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=zp(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:o,_longestTextCache:a}=this,l=[],u=[],d=Math.floor(t/Fp(t,r));let f=0,g=0,y,v,_,S,b,k,T,O,R,N,I;for(y=0;y<t;y+=d){if(S=e[y].label,b=this._resolveTickFontOptions(y),o.font=k=b.string,T=a[k]=a[k]||{data:{},gc:[]},O=b.lineHeight,R=N=0,!Ae(S)&&!Je(S))R=vp(o,T.data,T.gc,R,S),N=O;else if(Je(S))for(v=0,_=S.length;v<_;++v)I=S[v],!Ae(I)&&!Je(I)&&(R=vp(o,T.data,T.gc,R,I),N+=O);l.push(R),u.push(N),f=Math.max(R,f),g=Math.max(N,g)}vx(a,t);const $=l.indexOf(f),z=u.indexOf(g),B=Q=>({width:l[Q]||0,height:u[Q]||0});return{first:B(0),last:B(t-1),widest:B($),highest:B(z),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return hw(this._alignToPixels?dr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=_x(this.getContext(),e,r))}return this.$context||(this.$context=wx(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=_r(this.labelRotation),r=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,d=a?a.highest.height+l:0;return this.isHorizontal()?d*r>u*o?u/r:d/o:d*o<u*r?d/r:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,o=this.options,{grid:a,position:l,border:u}=o,d=a.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),v=li(a),_=[],S=u.setContext(this.getContext()),b=S.display?S.width:0,k=b/2,T=function(ae){return dr(r,ae,b)};let O,R,N,I,$,z,B,Q,oe,X,ce,me;if(l==="top")O=T(this.bottom),z=this.bottom-v,Q=O-k,X=T(e.top)+k,me=e.bottom;else if(l==="bottom")O=T(this.top),X=e.top,me=T(e.bottom)-k,z=O+k,Q=this.top+v;else if(l==="left")O=T(this.right),$=this.right-v,B=O-k,oe=T(e.left)+k,ce=e.right;else if(l==="right")O=T(this.left),oe=e.left,ce=T(e.right)-k,$=O+k,B=this.left+v;else if(t==="x"){if(l==="center")O=T((e.top+e.bottom)/2+.5);else if(be(l)){const ae=Object.keys(l)[0],J=l[ae];O=T(this.chart.scales[ae].getPixelForValue(J))}X=e.top,me=e.bottom,z=O+k,Q=z+v}else if(t==="y"){if(l==="center")O=T((e.left+e.right)/2);else if(be(l)){const ae=Object.keys(l)[0],J=l[ae];O=T(this.chart.scales[ae].getPixelForValue(J))}$=O-k,B=$-v,oe=e.left,ce=e.right}const we=xe(o.ticks.maxTicksLimit,y),te=Math.max(1,Math.ceil(y/we));for(R=0;R<y;R+=te){const ae=this.getContext(R),J=a.setContext(ae),U=u.setContext(ae),G=J.lineWidth,W=J.color,C=U.dash||[],F=U.dashOffset,Y=J.tickWidth,le=J.tickColor,ye=J.tickBorderDash||[],ve=J.tickBorderDashOffset;N=yx(this,R,d),N!==void 0&&(I=dr(r,N,G),f?$=B=oe=ce=I:z=Q=X=me=I,_.push({tx1:$,ty1:z,tx2:B,ty2:Q,x1:oe,y1:X,x2:ce,y2:me,width:G,color:W,borderDash:C,borderDashOffset:F,tickWidth:Y,tickColor:le,tickBorderDash:ye,tickBorderDashOffset:ve}))}return this._ticksLength=y,this._borderValue=O,_}_computeLabelItems(e){const t=this.axis,r=this.options,{position:o,ticks:a}=r,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:g,mirror:y}=a,v=li(r.grid),_=v+g,S=y?-g:_,b=-_r(this.labelRotation),k=[];let T,O,R,N,I,$,z,B,Q,oe,X,ce,me="middle";if(o==="top")$=this.bottom-S,z=this._getXAxisLabelAlignment();else if(o==="bottom")$=this.top+S,z=this._getXAxisLabelAlignment();else if(o==="left"){const te=this._getYAxisLabelAlignment(v);z=te.textAlign,I=te.x}else if(o==="right"){const te=this._getYAxisLabelAlignment(v);z=te.textAlign,I=te.x}else if(t==="x"){if(o==="center")$=(e.top+e.bottom)/2+_;else if(be(o)){const te=Object.keys(o)[0],ae=o[te];$=this.chart.scales[te].getPixelForValue(ae)+_}z=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")I=(e.left+e.right)/2-_;else if(be(o)){const te=Object.keys(o)[0],ae=o[te];I=this.chart.scales[te].getPixelForValue(ae)}z=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(d==="start"?me="top":d==="end"&&(me="bottom"));const we=this._getLabelSizes();for(T=0,O=u.length;T<O;++T){R=u[T],N=R.label;const te=a.setContext(this.getContext(T));B=this.getPixelForTick(T)+a.labelOffset,Q=this._resolveTickFontOptions(T),oe=Q.lineHeight,X=Je(N)?N.length:1;const ae=X/2,J=te.color,U=te.textStrokeColor,G=te.textStrokeWidth;let W=z;l?(I=B,z==="inner"&&(T===O-1?W=this.options.reverse?"left":"right":T===0?W=this.options.reverse?"right":"left":W="center"),o==="top"?f==="near"||b!==0?ce=-X*oe+oe/2:f==="center"?ce=-we.highest.height/2-ae*oe+oe:ce=-we.highest.height+oe/2:f==="near"||b!==0?ce=oe/2:f==="center"?ce=we.highest.height/2-ae*oe:ce=we.highest.height-X*oe,y&&(ce*=-1),b!==0&&!te.showLabelBackdrop&&(I+=oe/2*Math.sin(b))):($=B,ce=(1-X)*oe/2);let C;if(te.showLabelBackdrop){const F=$t(te.backdropPadding),Y=we.heights[T],le=we.widths[T];let ye=ce-F.top,ve=0-F.left;switch(me){case"middle":ye-=Y/2;break;case"bottom":ye-=Y;break}switch(z){case"center":ve-=le/2;break;case"right":ve-=le;break;case"inner":T===O-1?ve-=le:T>0&&(ve-=le/2);break}C={left:ve,top:ye,width:le+F.width,height:Y+F.height,color:te.backdropColor}}k.push({label:N,font:Q,textOffset:ce,options:{rotation:b,color:J,strokeColor:U,strokeWidth:G,textAlign:W,textBaseline:me,translation:[I,$],backdrop:C}})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-_r(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,d=l.widest.width;let f,g;return t==="left"?o?(g=this.right+a,r==="near"?f="left":r==="center"?(f="center",g+=d/2):(f="right",g+=d)):(g=this.right-u,r==="near"?f="right":r==="center"?(f="center",g-=d/2):(f="left",g=this.left)):t==="right"?o?(g=this.left+a,r==="near"?f="right":r==="center"?(f="center",g-=d/2):(f="left",g-=d)):(g=this.left+u,r==="near"?f="left":r==="center"?(f="center",g+=d/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:o,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,o,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(d,f,g)=>{!g.width||!g.color||(r.save(),r.lineWidth=g.width,r.strokeStyle=g.color,r.setLineDash(g.borderDash||[]),r.lineDashOffset=g.borderDashOffset,r.beginPath(),r.moveTo(d.x,d.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(a=0,l=o.length;a<l;++a){const d=o[a];t.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),t.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:o}}=this,a=r.setContext(this.getContext()),l=r.display?a.width:0;if(!l)return;const u=o.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,g,y,v;this.isHorizontal()?(f=dr(e,this.left,l)-l/2,g=dr(e,this.right,u)+u/2,y=v=d):(y=dr(e,this.top,l)-l/2,v=dr(e,this.bottom,u)+u/2,f=g=d),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,o=this._computeLabelArea();o&&La(r,o);const a=this.getLabelItems(e);for(const l of a){const u=l.options,d=l.font,f=l.label,g=l.textOffset;Pi(r,f,0,g,d,u)}o&&Da(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:o}}=this;if(!r.display)return;const a=ut(r.font),l=$t(r.padding),u=r.align;let d=a.lineHeight/2;t==="bottom"||t==="center"||be(t)?(d+=l.bottom,Je(r.text)&&(d+=a.lineHeight*(r.text.length-1))):d+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:v}=bx(this,d,t,u);Pi(e,r.text,0,0,a,{color:r.color,maxWidth:y,rotation:v,textAlign:xx(u,t,o),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=xe(e.grid&&e.grid.z,-1),o=xe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ys.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:r,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[r]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ut(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class aa{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;Ex(t)&&(r=this.register(t));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,Sx(e,l,r),this.override&&He.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,o=this.scope;r in t&&delete t[r],o&&r in He[o]&&(delete He[o][r],this.override&&delete kr[r])}}function Sx(n,e,t){const r=Ei(Object.create(null),[t?He.get(t):{},He.get(e),n.defaults]);He.set(e,r),n.defaultRoutes&&kx(e,n.defaultRoutes),n.descriptors&&He.describe(e,n.descriptors)}function kx(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),o=r.pop(),a=[n].concat(r).join("."),l=e[t].split("."),u=l.pop(),d=l.join(".");He.route(a,o,d,u)})}function Ex(n){return"id"in n&&"defaults"in n}class Tx{constructor(){this.controllers=new aa(xm,"datasets",!0),this.elements=new aa(Tr,"elements"),this.plugins=new aa(Object,"plugins"),this.scales=new aa(ys,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(o=>{const a=r||this._getRegistryForType(o);r||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Pe(o,l=>{const u=r||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,r){const o=Fu(e);Me(r["before"+o],[],r),t[e](r),Me(r["after"+o],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return o}}var an=new Tx;class Cx{constructor(){this._init=void 0}notify(e,t,r,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,t,r);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,r,o){o=o||{};for(const a of e){const l=a.plugin,u=l[r],d=[t,o,a.options];if(Me(u,d,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,o=xe(r.options&&r.options.plugins,{}),a=Px(r);return o===!1&&!t?[]:jx(e,a,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,o=(a,l)=>a.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(o(t,r),e,"stop"),this._notify(o(r,t),e,"start")}}function Px(n){const e={},t=[],r=Object.keys(an.plugins.items);for(let a=0;a<r.length;a++)t.push(an.getPlugin(r[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function Ox(n,e){return!e&&n===!1?null:n===!0?{}:n}function jx(n,{plugins:e,localIds:t},r,o){const a=[],l=n.getContext();for(const u of e){const d=u.id,f=Ox(r[d],o);f!==null&&a.push({plugin:u,options:Rx(n.config,{plugin:u,local:t[d]},f,l)})}return a}function Rx(n,{plugin:e,local:t},r,o){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(r,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function yu(n,e){const t=He.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function Ax(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function Nx(n,e){return n===e?"_index_":"_value_"}function Wp(n){if(n==="x"||n==="y"||n==="r")return n}function Ix(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function vu(n,...e){if(Wp(n))return n;for(const t of e){const r=t.axis||Ix(t.position)||n.length>1&&Wp(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Hp(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function Mx(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return Hp(n,"x",t[0])||Hp(n,"y",t[0])}return{}}function Lx(n,e){const t=kr[n.type]||{scales:{}},r=e.scales||{},o=yu(n.type,e),a=Object.create(null);return Object.keys(r).forEach(l=>{const u=r[l];if(!be(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=vu(l,u,Mx(l,n),He.scales[u.type]),f=Nx(d,o),g=t.scales||{};a[l]=yi(Object.create(null),[{axis:d},u,g[d],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||yu(u,e),g=(kr[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=Ax(y,d),_=l[v+"AxisID"]||v;a[_]=a[_]||Object.create(null),yi(a[_],[{axis:v},r[_],g[y]])})}),Object.keys(a).forEach(l=>{const u=a[l];yi(u,[He.scales[u.type],He.scale])}),a}function Cm(n){const e=n.options||(n.options={});e.plugins=xe(e.plugins,{}),e.scales=Lx(n,e)}function Pm(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function Dx(n){return n=n||{},n.data=Pm(n.data),Cm(n),n}const Vp=new Map,Om=new Set;function la(n,e){let t=Vp.get(n);return t||(t=e(),Vp.set(n,t),Om.add(t)),t}const ci=(n,e,t)=>{const r=Ta(e,t);r!==void 0&&n.add(r)};class Ux{constructor(e){this._config=Dx(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Pm(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Cm(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return la(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return la(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return la(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return la(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let o=r.get(e);return(!o||t)&&(o=new Map,r.set(e,o)),o}getOptionScopes(e,t,r){const{options:o,type:a}=this,l=this._cachedScopes(e,r),u=l.get(t);if(u)return u;const d=new Set;t.forEach(g=>{e&&(d.add(e),g.forEach(y=>ci(d,e,y))),g.forEach(y=>ci(d,o,y)),g.forEach(y=>ci(d,kr[a]||{},y)),g.forEach(y=>ci(d,He,y)),g.forEach(y=>ci(d,pu,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),Om.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,kr[t]||{},He.datasets[t]||{},{type:t},He,pu]}resolveNamedOptions(e,t,r,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=qp(this._resolverCache,e,o);let d=l;if(Fx(l,t)){a.$shared=!1,r=Jn(r)?r():r;const f=this.createResolver(e,r,u);d=gs(l,r,f)}for(const f of t)a[f]=d[f];return a}createResolver(e,t,r=[""],o){const{resolver:a}=qp(this._resolverCache,e,r);return be(t)?gs(a,t,void 0,o):a}}function qp(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const o=t.join();let a=r.get(o);return a||(a={resolver:Hu(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},r.set(o,a)),a}const $x=n=>be(n)&&Object.getOwnPropertyNames(n).some(e=>Jn(n[e]));function Fx(n,e){const{isScriptable:t,isIndexable:r}=lm(n);for(const o of e){const a=t(o),l=r(o),u=(l||a)&&n[o];if(a&&(Jn(u)||$x(u))||l&&Je(u))return!0}return!1}var zx="4.5.1";const Bx=["top","bottom","left","right","chartArea"];function Kp(n,e){return n==="top"||n==="bottom"||Bx.indexOf(n)===-1&&e==="x"}function Gp(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Yp(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Me(t&&t.onComplete,[n],e)}function Wx(n){const e=n.chart,t=e.options.animation;Me(t&&t.onProgress,[n],e)}function jm(n){return Ku()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Sa={},Jp=n=>{const e=jm(n);return Object.values(Sa).filter(t=>t.canvas===e).pop()};function Hx(n,e,t){const r=Object.keys(n);for(const o of r){const a=+o;if(a>=e){const l=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=l)}}}function Vx(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}let Fa=class{static defaults=He;static instances=Sa;static overrides=kr;static registry=an;static version=zx;static getChart=Jp;static register(...e){an.add(...e),Qp()}static unregister(...e){an.remove(...e),Qp()}constructor(e,t){const r=this.config=new Ux(t),o=jm(e),a=Jp(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||cx(o)),this.platform.updateConfig(r);const u=this.platform.acquireContext(o,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,g=d&&d.width;if(this.id=J0(),this.ctx=u,this.canvas=d,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Cx,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=yw(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Sa[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}vn.listen(this,"complete",Yp),vn.listen(this,"progress",Wx),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:o,_aspectRatio:a}=this;return Ae(e)?t&&a?a:o?r/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return an}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return wp(this.canvas,this.ctx),this}stop(){return vn.stop(this),this}resize(e,t){vn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,o=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,a),u=r.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,bp(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Me(r.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Pe(t,(r,o)=>{r.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,o=Object.keys(r).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],d=vu(l,u),f=d==="r",g=d==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Pe(a,l=>{const u=l.options,d=u.id,f=vu(d,u),g=xe(u.type,l.dtype);(u.position===void 0||Kp(u.position,f)!==Kp(l.dposition))&&(u.position=l.dposition),o[d]=!0;let y=null;if(d in r&&r[d].type===g)y=r[d];else{const v=an.getScale(g);y=new v({id:d,type:g,ctx:this.ctx,chart:this}),r[y.id]=y}y.init(u,e)}),Pe(o,(l,u)=>{l||delete r[u]}),Pe(r,l=>{Ut.configure(this,l,l.options),Ut.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((o,a)=>o.index-a.index),r>t){for(let o=t;o<r;++o)this._destroyDatasetMeta(o);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Gp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,o)=>{t.filter(a=>a===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,o;for(this._removeUnreferencedMetasets(),r=0,o=t.length;r<o;r++){const a=t[r];let l=this.getDatasetMeta(r);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=u,l.indexAxis=a.indexAxis||yu(u,this.options),l.order=a.order||0,l.index=r,l.label=""+a.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const d=an.getController(u),{datasetElementType:f,dataElementType:g}=He.datasets[u];Object.assign(d,{dataElementType:an.getElement(g),datasetElementType:f&&an.getElement(f)}),l.controller=new d(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Pe(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),o||Pe(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Gp("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Pe(this.scales,e=>{Ut.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!cp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:o,count:a}of t){const l=r==="_removeElements"?-a:a;Hx(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),o=r(0);for(let a=1;a<t;a++)if(!cp(o,r(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ut.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Pe(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Jn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),o={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(vn.has(this)?this.attached&&!vn.running(this)&&vn.start(this):(this.draw(),Yp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},o=vm(this,e);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(o&&La(t,o),e.controller.draw(),o&&Da(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Ci(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,o){const a=B_.modes[t];return typeof a=="function"?a(this,e,r,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let o=r.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const o=r?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);Ca(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(a,{visible:r}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),vn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),wp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Sa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},o=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Pe(this.options.events,a=>r(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(d,f)=>{t.addEventListener(this,d,f),e[d]=f},o=(d,f)=>{e[d]&&(t.removeEventListener(this,d,f),delete e[d])},a=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{o("attach",u),this.attached=!0,this.resize(),r("resize",a),r("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),r("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Pe(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Pe(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const o=r?"set":"remove";let a,l,u,d;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),u=0,d=e.length;u<d;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!ka(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const o=this.options.hover,a=(d,f)=>d.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(t,e),u=r?e:a(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:o=[],options:a}=this,l=t,u=this._getActiveElements(e,o,r,l),d=nw(e),f=Vx(e,this._lastEvent,r,d);r&&(this._lastEvent=null,Me(a.onHover,[e,u,this],this),d&&Me(a.onClick,[e,u,this],this));const g=!ka(u,o);return(g||t)&&(this._active=u,this._updateHoverStyles(u,o,t)),this._lastEvent=f,g}_getActiveElements(e,t,r,o){if(e.type==="mouseout")return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}};function Qp(){return Pe(Fa.instances,n=>n._plugins.invalidate())}function Rm(n,e,t=e){n.lineCap=xe(t.borderCapStyle,e.borderCapStyle),n.setLineDash(xe(t.borderDash,e.borderDash)),n.lineDashOffset=xe(t.borderDashOffset,e.borderDashOffset),n.lineJoin=xe(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=xe(t.borderWidth,e.borderWidth),n.strokeStyle=xe(t.borderColor,e.borderColor)}function qx(n,e,t){n.lineTo(t.x,t.y)}function Kx(n){return n.stepped?Rw:n.tension||n.cubicInterpolationMode==="monotone"?Aw:qx}function Am(n,e,t={}){const r=n.length,{start:o=0,end:a=r-1}=t,{start:l,end:u}=e,d=Math.max(o,l),f=Math.min(a,u),g=o<l&&a<l||o>u&&a>u;return{count:r,start:d,loop:e.loop,ilen:f<d&&!g?r+f-d:f-d}}function Gx(n,e,t,r){const{points:o,options:a}=e,{count:l,start:u,loop:d,ilen:f}=Am(o,t,r),g=Kx(a);let{move:y=!0,reverse:v}=r||{},_,S,b;for(_=0;_<=f;++_)S=o[(u+(v?f-_:_))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):g(n,b,S,v,a.stepped),b=S);return d&&(S=o[(u+(v?f:0))%l],g(n,b,S,v,a.stepped)),!!d}function Yx(n,e,t,r){const o=e.points,{count:a,start:l,ilen:u}=Am(o,t,r),{move:d=!0,reverse:f}=r||{};let g=0,y=0,v,_,S,b,k,T;const O=N=>(l+(f?u-N:N))%a,R=()=>{b!==k&&(n.lineTo(g,k),n.lineTo(g,b),n.lineTo(g,T))};for(d&&(_=o[O(0)],n.moveTo(_.x,_.y)),v=0;v<=u;++v){if(_=o[O(v)],_.skip)continue;const N=_.x,I=_.y,$=N|0;$===S?(I<b?b=I:I>k&&(k=I),g=(y*g+N)/++y):(R(),n.lineTo(N,I),S=$,y=0,b=k=I),T=I}R()}function wu(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Yx:Gx}function Jx(n){return n.stepped?d_:n.tension||n.cubicInterpolationMode==="monotone"?h_:mr}function Qx(n,e,t,r){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,r)&&o.closePath()),Rm(n,e.options),n.stroke(o)}function Xx(n,e,t,r){const{segments:o,options:a}=e,l=wu(e);for(const u of o)Rm(n,a,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const Zx=typeof Path2D=="function";function eb(n,e,t,r){Zx&&!e.options.segment?Qx(n,e,t,r):Xx(n,e,t,r)}class za extends Tr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const o=r.spanGaps?this._loop:this._fullLoop;r_(this._points,r,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=v_(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,o=e[t],a=this.points,l=ym(this,{property:t,start:o,end:o});if(!l.length)return;const u=[],d=Jx(r);let f,g;for(f=0,g=l.length;f<g;++f){const{start:y,end:v}=l[f],_=a[y],S=a[v];if(_===S){u.push(_);continue}const b=Math.abs((o-_[t])/(S[t]-_[t])),k=d(_,S,b,r.stepped);k[t]=e[t],u.push(k)}return u.length===1?u[0]:u}pathSegment(e,t,r){return wu(this)(e,this,t,r)}path(e,t,r){const o=this.segments,a=wu(this);let l=this._loop;t=t||0,r=r||this.points.length-t;for(const u of o)l&=a(e,this,u,{start:t,end:t+r-1});return!!l}draw(e,t,r,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),eb(e,this,r,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Xp(n,e,t,r){const o=n.options,{[t]:a}=n.getProps([t],r);return Math.abs(e-a)<o.radius+o.hitRadius}class tb extends Tr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return Xp(this,e,"x",t)}inYRange(e,t){return Xp(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Ci(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,gu(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function nb(n,e,t){const r=n.segments,o=n.points,a=e.points,l=[];for(const u of r){let{start:d,end:f}=u;f=Ba(d,f,o);const g=_u(t,o[d],o[f],u.loop);if(!e.segments){l.push({source:u,target:g,start:o[d],end:o[f]});continue}const y=ym(e,g);for(const v of y){const _=_u(t,a[v.start],a[v.end],v.loop),S=mm(u,o,_);for(const b of S)l.push({source:b,target:v,start:{[t]:Zp(g,_,"start",Math.max)},end:{[t]:Zp(g,_,"end",Math.min)}})}}return l}function _u(n,e,t,r){if(r)return;let o=e[n],a=t[n];return n==="angle"&&(o=ln(o),a=ln(a)),{property:n,start:o,end:a}}function rb(n,e){const{x:t=null,y:r=null}=n||{},o=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=Ba(l,u,o);const d=o[l],f=o[u];r!==null?(a.push({x:d.x,y:r}),a.push({x:f.x,y:r})):t!==null&&(a.push({x:t,y:d.y}),a.push({x:t,y:f.y}))}),a}function Ba(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Zp(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Nm(n,e){let t=[],r=!1;return Je(n)?(r=!0,t=n):t=rb(n,e),t.length?new za({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function eg(n){return n&&n.fill!==!1}function sb(n,e,t){let o=n[e].fill;const a=[e];let l;if(!t)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!dt(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function ib(n,e,t){const r=cb(n);if(be(r))return isNaN(r.value)?!1:r;let o=parseFloat(r);return dt(o)&&Math.floor(o)===o?ob(r[0],e,o,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function ob(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function ab(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:be(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function lb(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:be(n)?r=n.value:r=e.getBaseValue(),r}function cb(n){const e=n.options,t=e.fill;let r=xe(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function ub(n){const{scale:e,index:t,line:r}=n,o=[],a=r.segments,l=r.points,u=db(e,t);u.push(Nm({x:null,y:e.bottom},r));for(let d=0;d<a.length;d++){const f=a[d];for(let g=f.start;g<=f.end;g++)hb(o,l[g],u)}return new za({points:o,options:{}})}function db(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let o=0;o<r.length;o++){const a=r[o];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function hb(n,e,t){const r=[];for(let o=0;o<t.length;o++){const a=t[o],{first:l,last:u,point:d}=fb(a,e,"x");if(!(!d||l&&u)){if(l)r.unshift(d);else if(n.push(d),!u)break}}n.push(...r)}function fb(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const o=r[t],a=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<a.length;f++){const g=a[f],y=l[g.start][t],v=l[g.end][t];if(cs(o,y,v)){u=o===y,d=o===v;break}}return{first:u,last:d,point:r}}class Im{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:o,y:a,radius:l}=this;return t=t||{start:0,end:Xt},e.arc(o,a,l,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:o}=this,a=e.angle;return{x:t+Math.cos(a)*o,y:r+Math.sin(a)*o,angle:a}}}function pb(n){const{chart:e,fill:t,line:r}=n;if(dt(t))return gb(e,t);if(t==="stack")return ub(n);if(t==="shape")return!0;const o=mb(n);return o instanceof Im?o:Nm(o,r)}function gb(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function mb(n){return(n.scale||{}).getPointPositionForValue?vb(n):yb(n)}function yb(n){const{scale:e={},fill:t}=n,r=ab(t,e);if(dt(r)){const o=e.isHorizontal();return{x:o?r:null,y:o?null:r}}return null}function vb(n){const{scale:e,fill:t}=n,r=e.options,o=e.getLabels().length,a=r.reverse?e.max:e.min,l=lb(t,e,a),u=[];if(r.grid.circular){const d=e.getPointPositionForValue(0,a);return new Im({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(l)})}for(let d=0;d<o;++d)u.push(e.getPointPositionForValue(d,l));return u}function nu(n,e,t){const r=pb(e),{chart:o,index:a,line:l,scale:u,axis:d}=e,f=l.options,g=f.fill,y=f.backgroundColor,{above:v=y,below:_=y}=g||{},S=o.getDatasetMeta(a),b=vm(o,S);r&&l.points.length&&(La(n,t),wb(n,{line:l,target:r,above:v,below:_,area:t,scale:u,axis:d,clip:b}),Da(n))}function wb(n,e){const{line:t,target:r,above:o,below:a,area:l,scale:u,clip:d}=e,f=t._loop?"angle":e.axis;n.save();let g=a;a!==o&&(f==="x"?(tg(n,r,l.top),ru(n,{line:t,target:r,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),tg(n,r,l.bottom)):f==="y"&&(ng(n,r,l.left),ru(n,{line:t,target:r,color:a,scale:u,property:f,clip:d}),n.restore(),n.save(),ng(n,r,l.right),g=o)),ru(n,{line:t,target:r,color:g,scale:u,property:f,clip:d}),n.restore()}function tg(n,e,t){const{segments:r,points:o}=e;let a=!0,l=!1;n.beginPath();for(const u of r){const{start:d,end:f}=u,g=o[d],y=o[Ba(d,f,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function ng(n,e,t){const{segments:r,points:o}=e;let a=!0,l=!1;n.beginPath();for(const u of r){const{start:d,end:f}=u,g=o[d],y=o[Ba(d,f,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(t,g.y),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function ru(n,e){const{line:t,target:r,property:o,color:a,scale:l,clip:u}=e,d=nb(t,r,o);for(const{source:f,target:g,start:y,end:v}of d){const{style:{backgroundColor:_=a}={}}=f,S=r!==!0;n.save(),n.fillStyle=_,_b(n,l,u,S&&_u(o,y,v)),n.beginPath();const b=!!t.pathSegment(n,f);let k;if(S){b?n.closePath():rg(n,r,v,o);const T=!!r.pathSegment(n,g,{move:b,reverse:!0});k=b&&T,k||rg(n,r,y,o)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function _b(n,e,t,r){const o=e.chart.chartArea,{property:a,start:l,end:u}=r||{};if(a==="x"||a==="y"){let d,f,g,y;a==="x"?(d=l,f=o.top,g=u,y=o.bottom):(d=o.left,f=l,g=o.right,y=u),n.beginPath(),t&&(d=Math.max(d,t.left),g=Math.min(g,t.right),f=Math.max(f,t.top),y=Math.min(y,t.bottom)),n.rect(d,f,g-d,y-f),n.clip()}}function rg(n,e,t,r){const o=e.interpolate(t,r);o&&n.lineTo(o.x,o.y)}var xb={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,o=[];let a,l,u,d;for(l=0;l<r;++l)a=n.getDatasetMeta(l),u=a.dataset,d=null,u&&u.options&&u instanceof za&&(d={visible:n.isDatasetVisible(l),index:l,fill:ib(u,l,r),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=d,o.push(d);for(l=0;l<r;++l)d=o[l],!(!d||d.fill===!1)&&(d.fill=sb(o,l,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=o.length-1;l>=0;--l){const u=o[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),r&&u.fill&&nu(n.ctx,u,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;eg(a)&&nu(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!eg(r)||t.drawTime!=="beforeDatasetDraw"||nu(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const sg=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},bb=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class ig extends Tr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Me(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,o)=>e.sort(r,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,o=ut(r.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=sg(r,a);let f,g;t.font=o.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,d)+10):(g=this.maxHeight,f=this._fitCols(l,o,u,d)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,o){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],g=o+u;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,_=-g;return this.legendItems.forEach((S,b)=>{const k=r+t/2+a.measureText(S.text).width;(b===0||f[f.length-1]+k+2*u>l)&&(y+=g,f[f.length-(b>0?0:1)]=0,_+=g,v++),d[b]={left:0,top:_,row:v,width:k,height:o},f[f.length-1]+=k+u}),y}_fitCols(e,t,r,o){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=u,v=0,_=0,S=0,b=0;return this.legendItems.forEach((k,T)=>{const{itemWidth:O,itemHeight:R}=Sb(r,t,a,k,o);T>0&&_+R+2*u>g&&(y+=v+u,f.push({width:v,height:_}),S+=v+u,b++,v=_=0),d[T]={left:S,top:_,col:b,width:O,height:R},v=Math.max(v,O),_+=R+u}),y+=v,f.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:o},rtl:a}}=this,l=ds(a,this.left,this.width);if(this.isHorizontal()){let u=0,d=ct(r,this.left+o,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,d=ct(r,this.left+o,this.right-this.lineWidths[u])),f.top+=this.top+e+o,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+o}else{let u=0,d=ct(r,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,d=ct(r,this.top+e+o,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;La(e,this),this._draw(),Da(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:o}=this,{align:a,labels:l}=e,u=He.color,d=ds(e.rtl,this.left,this.width),f=ut(l.font),{padding:g}=l,y=f.size,v=y/2;let _;this.drawTitle(),o.textAlign=d.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:S,boxHeight:b,itemHeight:k}=sg(l,y),T=function($,z,B){if(isNaN(S)||S<=0||isNaN(b)||b<0)return;o.save();const Q=xe(B.lineWidth,1);if(o.fillStyle=xe(B.fillStyle,u),o.lineCap=xe(B.lineCap,"butt"),o.lineDashOffset=xe(B.lineDashOffset,0),o.lineJoin=xe(B.lineJoin,"miter"),o.lineWidth=Q,o.strokeStyle=xe(B.strokeStyle,u),o.setLineDash(xe(B.lineDash,[])),l.usePointStyle){const oe={radius:b*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:Q},X=d.xPlus($,S/2),ce=z+v;om(o,oe,X,ce,l.pointStyleWidth&&S)}else{const oe=z+Math.max((y-b)/2,0),X=d.leftForLtr($,S),ce=xi(B.borderRadius);o.beginPath(),Object.values(ce).some(me=>me!==0)?mu(o,{x:X,y:oe,w:S,h:b,radius:ce}):o.rect(X,oe,S,b),o.fill(),Q!==0&&o.stroke()}o.restore()},O=function($,z,B){Pi(o,B.text,$,z+k/2,f,{strikethrough:B.hidden,textAlign:d.textAlign(B.textAlign)})},R=this.isHorizontal(),N=this._computeTitleHeight();R?_={x:ct(a,this.left+g,this.right-r[0]),y:this.top+g+N,line:0}:_={x:this.left+g,y:ct(a,this.top+N+g,this.bottom-t[0].height),line:0},fm(this.ctx,e.textDirection);const I=k+g;this.legendItems.forEach(($,z)=>{o.strokeStyle=$.fontColor,o.fillStyle=$.fontColor;const B=o.measureText($.text).width,Q=d.textAlign($.textAlign||($.textAlign=l.textAlign)),oe=S+v+B;let X=_.x,ce=_.y;d.setWidth(this.width),R?z>0&&X+oe+g>this.right&&(ce=_.y+=I,_.line++,X=_.x=ct(a,this.left+g,this.right-r[_.line])):z>0&&ce+I>this.bottom&&(X=_.x=X+t[_.line].width+g,_.line++,ce=_.y=ct(a,this.top+N+g,this.bottom-t[_.line].height));const me=d.x(X);if(T(me,ce,$),X=vw(Q,X+S+v,R?X+oe:this.right,e.rtl),O(d.x(X),ce,$),R)_.x+=oe+g;else if(typeof $.text!="string"){const we=f.lineHeight;_.y+=Mm($,we)+g}else _.y+=I}),pm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=ut(t.font),o=$t(t.padding);if(!t.display)return;const a=ds(e.rtl,this.left,this.width),l=this.ctx,u=t.position,d=r.size/2,f=o.top+d;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+f,y=ct(e.align,y,this.right-v);else{const S=this.columnSizes.reduce((b,k)=>Math.max(b,k.height),0);g=f+ct(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const _=ct(u,y,y+v);l.textAlign=a.textAlign(Bu(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=r.string,Pi(l,t.text,_,g,r)}_computeTitleHeight(){const e=this.options.title,t=ut(e.font),r=$t(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,o,a;if(cs(e,this.left,this.right)&&cs(t,this.top,this.bottom)){for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(o=a[r],cs(e,o.left,o.left+o.width)&&cs(t,o.top,o.top+o.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!Tb(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=bb(o,r);o&&!a&&Me(t.onLeave,[e,o,this],this),this._hoveredItem=r,r&&!a&&Me(t.onHover,[e,r,this],this)}else r&&Me(t.onClick,[e,r,this],this)}}function Sb(n,e,t,r,o){const a=kb(r,n,e,t),l=Eb(o,r,e.lineHeight);return{itemWidth:a,itemHeight:l}}function kb(n,e,t,r){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+r.measureText(o).width}function Eb(n,e,t){let r=n;return typeof e.text!="string"&&(r=Mm(e,t)),r}function Mm(n,e){const t=n.text?n.text.length:0;return e*t}function Tb(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var Cb={id:"legend",_element:ig,start(n,e,t){const r=n.legend=new ig({ctx:n.ctx,options:t,chart:n});Ut.configure(n,r,t),Ut.addBox(n,r)},stop(n){Ut.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Ut.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,o=t.chart;o.isDatasetVisible(r)?(o.hide(r),e.hidden=!0):(o.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:o,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(t?0:void 0),g=$t(f.borderWidth);return{text:e[d.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:r||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};let Lm=class extends Tr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Je(r.text)?r.text.length:1;this._padding=$t(r.padding);const a=o*ut(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:o,right:a,options:l}=this,u=l.align;let d=0,f,g,y;return this.isHorizontal()?(g=ct(u,r,a),y=t+e,f=a-r):(l.position==="left"?(g=r+e,y=ct(u,o,t),d=et*-.5):(g=a-e,y=ct(u,t,o),d=et*.5),f=o-t),{titleX:g,titleY:y,maxWidth:f,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=ut(t.font),a=r.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(a);Pi(e,t.text,0,0,r,{color:t.color,maxWidth:d,rotation:f,textAlign:Bu(t.align),textBaseline:"middle",translation:[l,u]})}};function Pb(n,e){const t=new Lm({ctx:n.ctx,options:e,chart:n});Ut.configure(n,t,e),Ut.addBox(n,t),n.titleBlock=t}var Ob={id:"title",_element:Lm,start(n,e,t){Pb(n,t)},stop(n){const e=n.titleBlock;Ut.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Ut.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const fi={average(n){if(!n.length)return!1;let e,t,r=new Set,o=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const d=u.tooltipPosition();r.add(d.x),o+=d.y,++a}}return a===0||r.size===0?!1:{x:[...r].reduce((u,d)=>u+d)/r.size,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,o=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const d=n[a].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),g=fu(e,f);g<o&&(o=g,u=d)}}if(u){const d=u.tooltipPosition();t=d.x,r=d.y}return{x:t,y:r}}};function on(n,e){return e&&(Je(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function wn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function jb(n,e){const{element:t,datasetIndex:r,index:o}=e,a=n.getDatasetMeta(r).controller,{label:l,value:u}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[r].data[o],formattedValue:u,dataset:a.getDataset(),dataIndex:o,datasetIndex:r,element:t}}function og(n,e){const t=n.chart.ctx,{body:r,footer:o,title:a}=n,{boxWidth:l,boxHeight:u}=e,d=ut(e.bodyFont),f=ut(e.titleFont),g=ut(e.footerFont),y=a.length,v=o.length,_=r.length,S=$t(e.padding);let b=S.height,k=0,T=r.reduce((N,I)=>N+I.before.length+I.lines.length+I.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,y&&(b+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),T){const N=e.displayColors?Math.max(u,d.lineHeight):d.lineHeight;b+=_*N+(T-_)*d.lineHeight+(T-1)*e.bodySpacing}v&&(b+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let O=0;const R=function(N){k=Math.max(k,t.measureText(N).width+O)};return t.save(),t.font=f.string,Pe(n.title,R),t.font=d.string,Pe(n.beforeBody.concat(n.afterBody),R),O=e.displayColors?l+2+e.boxPadding:0,Pe(r,N=>{Pe(N.before,R),Pe(N.lines,R),Pe(N.after,R)}),O=0,t.font=g.string,Pe(n.footer,R),t.restore(),k+=S.width,{width:k,height:b}}function Rb(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function Ab(n,e,t,r){const{x:o,width:a}=r,l=t.caretSize+t.caretPadding;if(n==="left"&&o+a+l>e.width||n==="right"&&o-a-l<0)return!0}function Nb(n,e,t,r){const{x:o,width:a}=t,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return r==="center"?f=o<=(u+d)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),Ab(f,n,e,t)&&(f="center"),f}function ag(n,e,t){const r=t.yAlign||e.yAlign||Rb(n,t);return{xAlign:t.xAlign||e.xAlign||Nb(n,e,t,r),yAlign:r}}function Ib(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function Mb(n,e,t){let{y:r,height:o}=n;return e==="top"?r+=t:e==="bottom"?r-=o+t:r-=o/2,r}function lg(n,e,t,r){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:d}=t,f=o+a,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:_}=xi(l);let S=Ib(e,u);const b=Mb(e,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(g,v)+o:u==="right"&&(S+=Math.max(y,_)+o),{x:Dt(S,0,r.width-e.width),y:Dt(b,0,r.height-e.height)}}function ca(n,e,t){const r=$t(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function cg(n){return on([],wn(n))}function Lb(n,e,t){return Er(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function ug(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Dm={beforeTitle:yn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:yn,beforeBody:yn,beforeLabel:yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ae(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:yn,afterBody:yn,beforeFooter:yn,footer:yn,afterFooter:yn};function _t(n,e,t,r){const o=n[e].call(t,r);return typeof o>"u"?Dm[e].call(t,r):o}class dg extends Tr{static positioners=fi;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&t.options.animation&&r.animations,a=new wm(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Lb(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,o=_t(r,"beforeTitle",this,e),a=_t(r,"title",this,e),l=_t(r,"afterTitle",this,e);let u=[];return u=on(u,wn(o)),u=on(u,wn(a)),u=on(u,wn(l)),u}getBeforeBody(e,t){return cg(_t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,o=[];return Pe(e,a=>{const l={before:[],lines:[],after:[]},u=ug(r,a);on(l.before,wn(_t(u,"beforeLabel",this,a))),on(l.lines,_t(u,"label",this,a)),on(l.after,wn(_t(u,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,t){return cg(_t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,o=_t(r,"beforeFooter",this,e),a=_t(r,"footer",this,e),l=_t(r,"afterFooter",this,e);let u=[];return u=on(u,wn(o)),u=on(u,wn(a)),u=on(u,wn(l)),u}_createItems(e){const t=this._active,r=this.chart.data,o=[],a=[],l=[];let u=[],d,f;for(d=0,f=t.length;d<f;++d)u.push(jb(this.chart,t[d]));return e.filter&&(u=u.filter((g,y,v)=>e.filter(g,y,v,r))),e.itemSort&&(u=u.sort((g,y)=>e.itemSort(g,y,r))),Pe(u,g=>{const y=ug(e.callbacks,g);o.push(_t(y,"labelColor",this,g)),a.push(_t(y,"labelPointStyle",this,g)),l.push(_t(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const r=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const u=fi[r.position].call(this,o,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const d=this._size=og(this,r),f=Object.assign({},u,d),g=ag(this.chart,r,f),y=lg(r,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,o){const a=this.getCaretPosition(e,r,o);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:u}=r,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=xi(u),{x:v,y:_}=e,{width:S,height:b}=t;let k,T,O,R,N,I;return a==="center"?(N=_+b/2,o==="left"?(k=v,T=k-l,R=N+l,I=N-l):(k=v+S,T=k+l,R=N-l,I=N+l),O=k):(o==="left"?T=v+Math.max(d,g)+l:o==="right"?T=v+S-Math.max(f,y)-l:T=this.caretX,a==="top"?(R=_,N=R-l,k=T-l,O=T+l):(R=_+b,N=R+l,k=T+l,O=T-l),I=R),{x1:k,x2:T,x3:O,y1:R,y2:N,y3:I}}drawTitle(e,t,r){const o=this.title,a=o.length;let l,u,d;if(a){const f=ds(r.rtl,this.x,this.width);for(e.x=ca(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",l=ut(r.titleFont),u=r.titleSpacing,t.fillStyle=r.titleColor,t.font=l.string,d=0;d<a;++d)t.fillText(o[d],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,d+1===a&&(e.y+=r.titleMarginBottom-u)}}_drawColorBox(e,t,r,o,a){const l=this.labelColors[r],u=this.labelPointStyles[r],{boxHeight:d,boxWidth:f}=a,g=ut(a.bodyFont),y=ca(this,"left",a),v=o.x(y),_=d<g.lineHeight?(g.lineHeight-d)/2:0,S=t.y+_;if(a.usePointStyle){const b={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},k=o.leftForLtr(v,f)+f/2,T=S+d/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,gu(e,b,k,T),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,gu(e,b,k,T)}else{e.lineWidth=be(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=o.leftForLtr(v,f),k=o.leftForLtr(o.xPlus(v,1),f-2),T=xi(l.borderRadius);Object.values(T).some(O=>O!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,mu(e,{x:b,y:S,w:f,h:d,radius:T}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),mu(e,{x:k,y:S+1,w:f-2,h:d-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,S,f,d),e.strokeRect(b,S,f,d),e.fillStyle=l.backgroundColor,e.fillRect(k,S+1,f-2,d-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:g}=r,y=ut(r.bodyFont);let v=y.lineHeight,_=0;const S=ds(r.rtl,this.x,this.width),b=function(B){t.fillText(B,S.x(e.x+_),e.y+v/2),e.y+=v+a},k=S.textAlign(l);let T,O,R,N,I,$,z;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=ca(this,k,r),t.fillStyle=r.bodyColor,Pe(this.beforeBody,b),_=u&&k!=="right"?l==="center"?f/2+g:f+2+g:0,N=0,$=o.length;N<$;++N){for(T=o[N],O=this.labelTextColors[N],t.fillStyle=O,Pe(T.before,b),R=T.lines,u&&R.length&&(this._drawColorBox(t,e,N,S,r),v=Math.max(y.lineHeight,d)),I=0,z=R.length;I<z;++I)b(R[I]),v=y.lineHeight;Pe(T.after,b)}_=0,v=y.lineHeight,Pe(this.afterBody,b),e.y-=a}drawFooter(e,t,r){const o=this.footer,a=o.length;let l,u;if(a){const d=ds(r.rtl,this.x,this.width);for(e.x=ca(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=d.textAlign(r.footerAlign),t.textBaseline="middle",l=ut(r.footerFont),t.fillStyle=r.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(o[u],d.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,t,r,o){const{xAlign:a,yAlign:l}=this,{x:u,y:d}=e,{width:f,height:g}=r,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:S}=xi(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(u+y,d),l==="top"&&this.drawCaret(e,t,r,o),t.lineTo(u+f-v,d),t.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&a==="right"&&this.drawCaret(e,t,r,o),t.lineTo(u+f,d+g-S),t.quadraticCurveTo(u+f,d+g,u+f-S,d+g),l==="bottom"&&this.drawCaret(e,t,r,o),t.lineTo(u+_,d+g),t.quadraticCurveTo(u,d+g,u,d+g-_),l==="center"&&a==="left"&&this.drawCaret(e,t,r,o),t.lineTo(u,d+y),t.quadraticCurveTo(u,d,u+y,d),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,o=r&&r.x,a=r&&r.y;if(o||a){const l=fi[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=og(this,e),d=Object.assign({},l,this._size),f=ag(t,e,d),g=lg(e,d,f,t);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=$t(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,o,t),fm(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),pm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,o=e.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),a=!ka(r,o),l=this._positionChanged(o,t);(a||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,r),u=this._positionChanged(l,e),d=t||!ka(l,a)||u;return d&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),d}_getActiveElements(e,t,r,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:r,caretY:o,options:a}=this,l=fi[a.position].call(this,e,t);return l!==!1&&(r!==l.x||o!==l.y)}}var Db={id:"tooltip",_element:dg,positioners:fi,afterInit(n,e,t){t&&(n.tooltip=new dg({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Dm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ub=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function $b(n,e,t,r){const o=n.indexOf(e);if(o===-1)return Ub(n,e,t,r);const a=n.lastIndexOf(e);return o!==a?t:o}const Fb=(n,e)=>n===null?null:Dt(Math.round(n),0,e);function hg(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class zb extends ys{static id="category";static defaults={ticks:{callback:hg}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:o,label:a}of t)r[o]===a&&r.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ae(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:$b(r,e,xe(t,e),this._addedLabels),Fb(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,o=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return hg.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Bb(n,e){const t=[],{bounds:o,step:a,min:l,max:u,precision:d,count:f,maxTicks:g,maxDigits:y,includeBounds:v}=n,_=a||1,S=g-1,{min:b,max:k}=e,T=!Ae(l),O=!Ae(u),R=!Ae(f),N=(k-b)/(y+1);let I=dp((k-b)/S/_)*_,$,z,B,Q;if(I<1e-14&&!T&&!O)return[{value:b},{value:k}];Q=Math.ceil(k/I)-Math.floor(b/I),Q>S&&(I=dp(Q*I/S/_)*_),Ae(d)||($=Math.pow(10,d),I=Math.ceil(I*$)/$),o==="ticks"?(z=Math.floor(b/I)*I,B=Math.ceil(k/I)*I):(z=b,B=k),T&&O&&a&&aw((u-l)/a,I/1e3)?(Q=Math.round(Math.min((u-l)/I,g)),I=(u-l)/Q,z=l,B=u):R?(z=T?l:z,B=O?u:B,Q=f-1,I=(B-z)/Q):(Q=(B-z)/I,vi(Q,Math.round(Q),I/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const oe=Math.max(hp(I),hp(z));$=Math.pow(10,Ae(d)?oe:d),z=Math.round(z*$)/$,B=Math.round(B*$)/$;let X=0;for(T&&(v&&z!==l?(t.push({value:l}),z<l&&X++,vi(Math.round((z+X*I)*$)/$,l,fg(l,N,n))&&X++):z<l&&X++);X<Q;++X){const ce=Math.round((z+X*I)*$)/$;if(O&&ce>u)break;t.push({value:ce})}return O&&v&&B!==u?t.length&&vi(t[t.length-1].value,u,fg(u,N,n))?t[t.length-1].value=u:t.push({value:u}):(!O||B===u)&&t.push({value:B}),t}function fg(n,e,{horizontal:t,minRotation:r}){const o=_r(r),a=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class Wb extends ys{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:o,max:a}=this;const l=d=>o=t?o:d,u=d=>a=r?a:d;if(e){const d=ps(o),f=ps(a);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(o===a){let d=a===0?1:Math.abs(a*.05);u(a+d),e||l(o-d)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,o;return r?(o=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const o={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=Bb(o,a);return e.bounds==="ticks"&&lw(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const o=(r-t)/Math.max(e.length-1,1)/2;t-=o,r+=o}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return sm(e,this.chart.options.locale,this.options.ticks.format)}}class Hb extends Wb{static id="linear";static defaults={ticks:{callback:im.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=dt(e)?e:0,this.max=dt(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=_r(this.options.ticks.minRotation),o=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Wa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},xt=Object.keys(Wa);function pg(n,e){return n-e}function gg(n,e){if(Ae(e))return null;const t=n._adapter,{parser:r,round:o,isoWeekday:a}=n._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),dt(l)||(l=typeof r=="string"?t.parse(l,r):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(Ti(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,o)),+l)}function mg(n,e,t,r){const o=xt.length;for(let a=xt.indexOf(n);a<o-1;++a){const l=Wa[xt[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=r)return xt[a]}return xt[o-1]}function Vb(n,e,t,r,o){for(let a=xt.length-1;a>=xt.indexOf(t);a--){const l=xt[a];if(Wa[l].common&&n._adapter.diff(o,r,l)>=e-1)return l}return xt[t?xt.indexOf(t):0]}function qb(n){for(let e=xt.indexOf(n)+1,t=xt.length;e<t;++e)if(Wa[xt[e]].common)return xt[e]}function yg(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:o}=zu(t,e),a=t[r]>=e?t[r]:t[o];n[a]=!0}}function Kb(n,e,t,r){const o=n._adapter,a=+o.startOf(e[0].value,r),l=e[e.length-1].value;let u,d;for(u=a;u<=l;u=+o.add(u,1,r))d=t[u],d>=0&&(e[d].major=!0);return e}function vg(n,e,t){const r=[],o={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],o[u]=l,r.push({value:u,major:!1});return a===0||!t?r:Kb(n,r,o,t)}class wg extends ys{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),o=this._adapter=new D_._date(e.adapters.date);o.init(t),yi(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:gg(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),o=dt(o)&&!isNaN(o)?o:+t.startOf(Date.now(),r),a=dt(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,u=pw(o,a,l);return this._unit=t.unit||(r.autoSkip?mg(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):Vb(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:qb(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),vg(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?r=a:r=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Dt(t,0,l),r=Dt(r,0,l),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,o=this.options,a=o.time,l=a.unit||mg(a.minUnit,t,r,this._getLabelCapacity(t)),u=xe(o.ticks.stepSize,1),d=l==="week"?a.isoWeekday:!1,f=Ti(d)||d===!0,g={};let y=t,v,_;if(f&&(y=+e.startOf(y,"isoWeek",d)),y=+e.startOf(y,f?"day":l),e.diff(r,t,l)>1e5*u)throw new Error(t+" and "+r+" are too far apart with stepSize of "+u+" "+l);const S=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<r;v=+e.add(v,u,l),_++)yg(g,v,S);return(v===r||o.bounds==="ticks"||_===1)&&yg(g,v,S),Object.keys(g).sort(pg).map(b=>+b)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,a=this._unit,l=t||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,r,o){const a=this.options,l=a.ticks.callback;if(l)return Me(l,[e,t,r],this);const u=a.time.displayFormats,d=this._unit,f=this._majorUnit,g=d&&u[d],y=f&&u[f],v=r[t],_=f&&y&&v&&v.major;return this._adapter.format(e,o||(_?y:g))}generateTickLabels(e){let t,r,o;for(t=0,r=e.length;t<r;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,o=_r(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(o),l=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:r*a+u*l,h:r*l+u*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,o=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,vg(this,[e],this._majorUnit),o),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,r=o.length;t<r;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const o=this.getLabels();for(t=0,r=o.length;t<r;++t)e.push(gg(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mw(e.sort(pg))}}function ua(n,e,t){let r=0,o=n.length-1,a,l,u,d;t?(e>=n[r].pos&&e<=n[o].pos&&({lo:r,hi:o}=xr(n,"pos",e)),{pos:a,time:u}=n[r],{pos:l,time:d}=n[o]):(e>=n[r].time&&e<=n[o].time&&({lo:r,hi:o}=xr(n,"time",e)),{time:a,pos:u}=n[r],{time:l,pos:d}=n[o]);const f=l-a;return f?u+(d-u)*(e-a)/f:u}class jE extends wg{static id="timeseries";static defaults=wg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ua(t,this.min),this._tableRange=ua(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,o=[],a=[];let l,u,d,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=r&&o.push(f);if(o.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(l=0,u=o.length;l<u;++l)g=o[l+1],d=o[l-1],f=o[l],Math.round((g+d)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(ua(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return ua(this._table,r*this._tableRange+this._minPos,!0)}}const Um="label";function _g(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Gb(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function $m(n,e){n.labels=e}function Fm(n,e,t=Um){const r=[];n.datasets=e.map(o=>{const a=n.datasets.find(l=>l[t]===o[t]);return!a||!o.data||r.includes(a)?{...o}:(r.push(a),Object.assign(a,o),a)})}function Yb(n,e=Um){const t={labels:[],datasets:[]};return $m(t,n.labels),Fm(t,n.datasets,e),t}function Jb(n,e){const{height:t=150,width:r=300,redraw:o=!1,datasetIdKey:a,type:l,data:u,options:d,plugins:f=[],fallbackContent:g,updateMode:y,...v}=n,_=D.useRef(null),S=D.useRef(null),b=()=>{_.current&&(S.current=new Fa(_.current,{type:l,data:Yb(u,a),options:d&&{...d},plugins:f}),_g(e,S.current))},k=()=>{_g(e,null),S.current&&(S.current.destroy(),S.current=null)};return D.useEffect(()=>{!o&&S.current&&d&&Gb(S.current,d)},[o,d]),D.useEffect(()=>{!o&&S.current&&$m(S.current.config.data,u.labels)},[o,u.labels]),D.useEffect(()=>{!o&&S.current&&u.datasets&&Fm(S.current.config.data,u.datasets,a)},[o,u.datasets]),D.useEffect(()=>{S.current&&(o?(k(),setTimeout(b)):S.current.update(y))},[o,d,u.labels,u.datasets,y]),D.useEffect(()=>{S.current&&(k(),setTimeout(b))},[l]),D.useEffect(()=>(b(),()=>k()),[]),w.jsx("canvas",{ref:_,role:"img",height:t,width:r,...v,children:g})}const Qb=D.forwardRef(Jb);function Xb(n,e){return Fa.register(e),D.forwardRef((t,r)=>w.jsx(Qb,{...t,ref:r,type:n}))}const Zb=Xb("line",L_);Fa.register(zb,Hb,tb,za,Ob,Db,Cb,xb);const Zr=n=>{if(typeof window>"u")return"";const e=document.querySelector("[class*='theme-']")??document.documentElement;return getComputedStyle(e).getPropertyValue(n).trim()},da=(n,e)=>{const t=n.replace("#","").trim(),r=t.length===3?t.split("").map(u=>u+u).join(""):t;if(!/^[0-9a-fA-F]{6}$/.test(r))return`rgba(200, 155, 94, ${e})`;const o=parseInt(r.slice(0,2),16),a=parseInt(r.slice(2,4),16),l=parseInt(r.slice(4,6),16);return`rgba(${o}, ${a}, ${l}, ${e})`};function bn({data:n,xKey:e,series:t,xTitle:r="X",yTitle:o="Y",className:a,height:l,width:u,showLegend:d=!1,yBeginAtZero:f=!0,tooltipValueSuffix:g=""}){const y=D.useMemo(()=>{const b=Zr("--accent-primary")||"#c89b5e",k=Zr("--accent-secondary")||"#8b7355",T=Zr("--accent-warning")||"#e8c080",O=Zr("--card-bg")||"#1a1a1a",R=Zr("--text-primary")||"#e8ddd0",N=Zr("--text-secondary")||"#b8a896";return{line:b,lineHover:T,point:b,pointHover:T,grid:da(k,.12),fill:da(b,.18),axis:N,axisTitle:R,tooltipBg:da(O,.98),tooltipBorder:b}},[]),v=D.useMemo(()=>{const b=n.map((T,O)=>typeof e=="function"?e(T,O):T[e]),k=b.some(T=>typeof T=="string");return{values:b.map(T=>T??""),isCategorical:k}},[n,e]),_=D.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:d},tooltip:{enabled:!0,backgroundColor:y.tooltipBg,titleColor:y.axisTitle,bodyColor:y.axis,borderColor:y.tooltipBorder,borderWidth:2,padding:14,titleFont:{size:15,weight:"bold",family:"'JetBrains Mono', monospace"},bodyFont:{size:14,family:"'JetBrains Mono', monospace"},displayColors:!1,callbacks:{title:b=>{const k=b[0]?.parsed?.x;return k==null?"":`${k}`},label:b=>{const k=b.parsed.y,T=g?` ${g}`:"";return`${Math.round(k??0)}${T}`}}}},scales:{x:{type:v.isCategorical?"category":"linear",grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:10},title:{display:!0,text:r,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{top:12}}},y:{beginAtZero:f,grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:8},title:{display:!0,text:o,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{bottom:12}}}},interaction:{intersect:!1,mode:"index"},animation:{duration:750,easing:"easeInOutQuart"}}),[y,d,g,r,f,o,v.isCategorical]),S=D.useMemo(()=>{const k=(t??[]).map(T=>{const O=T.color??y.line,R=T.fill??!1,N={label:T.label??String(T.key),borderColor:O,backgroundColor:R?da(O,.18):"transparent",pointRadius:5,pointHoverRadius:9,pointBackgroundColor:O,pointBorderColor:y.tooltipBg,pointBorderWidth:2.5,pointHoverBackgroundColor:y.lineHover,pointHoverBorderColor:O,pointHoverBorderWidth:3,tension:T.tension??.4,fill:R,borderWidth:3,segment:{borderColor:O}};return v.isCategorical?{...N,data:n.map(I=>Number(I[T.key])||0)}:{...N,data:n.map((I,$)=>({x:Number(v.values[$])||0,y:Number(I[T.key])||0}))}});return v.isCategorical?{labels:v.values.map(T=>String(T)),datasets:k}:{datasets:k}},[n,t,y,v]);return w.jsx("div",{className:["w-full h-full p-4 bg-card-bg/40 backdrop-blur-sm rounded-2xl border border-card-border/50 shadow-2xl",a].filter(Boolean).join(" "),style:{height:l,width:u},children:w.jsx(Zb,{options:_,data:S})})}function Ju({options:n,label:e,value:t,onChange:r}){const o=a=>{r(a.target.value)};return w.jsxs("label",{children:[e,w.jsx("select",{value:t,onChange:o,className:"bg-card-bg border-2 border-card-border rounded-lg h-9 w-fit px-3 transition-all duration-200 hover:border-accent-primary active:border-accent-primary active:scale-95 text-text-primary font-semibold",children:n.map((a,l)=>w.jsx("option",{value:a,children:a},l))})]})}function Ha(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function eS(n,e,t,r){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})}const tS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class Qu extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class nS extends Qu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class xg extends Qu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class bg extends Qu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(xu||(xu={}));class rS{constructor(e,{headers:t={},customFetch:r,region:o=xu.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=tS(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return eS(this,arguments,void 0,function*(t,r={}){var o;let a,l;try{const{headers:u,method:d,body:f,signal:g,timeout:y}=r;let v={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(v["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(v["Content-Type"]="application/json",b=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?b=JSON.stringify(f):b=f;let k=g;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),g?(k=l.signal,g.addEventListener("abort",()=>l.abort())):k=l.signal);const T=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:b,signal:k}).catch(I=>{throw new nS(I)}),O=T.headers.get("x-relay-error");if(O&&O==="true")throw new xg(T);if(!T.ok)throw new bg(T);let R=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return R==="application/json"?N=yield T.json():R==="application/octet-stream"||R==="application/pdf"?N=yield T.blob():R==="text/event-stream"?N=T:R==="multipart/form-data"?N=yield T.formData():N=yield T.text(),{data:N,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof bg||u instanceof xg?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var sS=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},iS=class{constructor(n){var e,t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,u=null,d=null,f=a.status,g=a.statusText;if(a.ok){var y,v;if(t.method!=="HEAD"){var _;const T=await a.text();T===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const b=(y=t.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),k=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&k&&k.length>1&&(d=parseInt(k[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var S;const b=await a.text();try{l=JSON.parse(b),Array.isArray(l)&&a.status===404&&(u=[],l=null,f=200,g="OK")}catch{a.status===404&&b===""?(f=204,g="No Content"):l={message:b}}if(l&&t.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&t.shouldThrowOnError)throw new sS(l)}return{error:l,data:u,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(o=o.catch(a=>{var l;let u="",d="",f="";const g=a?.cause;if(g){var y,v,_,S;const T=(y=g?.message)!==null&&y!==void 0?y:"",O=(v=g?.code)!==null&&v!==void 0?v:"";u=`${(_=a?.name)!==null&&_!==void 0?_:"FetchError"}: ${a?.message}`,u+=`

Caused by: ${(S=g?.name)!==null&&S!==void 0?S:"Error"}: ${T}`,O&&(u+=` (${O})`),g?.stack&&(u+=`
${g.stack}`)}else{var b;u=(b=a?.stack)!==null&&b!==void 0?b:""}const k=this.url.toString().length;return a?.name==="AbortError"||a?.code==="ABORT_ERR"?(f="",d="Request was aborted (timeout or manual cancellation)",k>this.urlLengthLimit&&(d+=`. Note: Your request URL is ${k} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",d="HTTP headers exceeded server limits (typically 16KB)",k>this.urlLengthLimit&&(d+=`. Your request URL is ${k} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=a?.name)!==null&&l!==void 0?l:"FetchError"}: ${a?.message}`,details:u,hint:d,code:f},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}},oS=class extends iS{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:o=r}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const o=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(a,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:o=!1,format:a="text"}={}){var l;const u=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const Sg=new RegExp("[,()]");var os=class extends oS{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&Sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&Sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${o}fts${a}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},aS=class{constructor(n,{headers:e={},schema:t,fetch:r,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},o=t?"HEAD":"GET";let a=!1;const l=(n??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",l),r&&d.append("Prefer",`count=${r}`),new os({method:o,url:u,headers:d,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),t||l.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);a.searchParams.set("columns",d.join(","))}}return new os({method:o,url:a,headers:l,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:o=!0}={}){var a;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),r&&d.append("Prefer",`count=${r}`),o||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);u.searchParams.set("columns",g.join(","))}}return new os({method:l,url:u,headers:d,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var t;const r="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new os({method:r,url:o,headers:a,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new os({method:t,url:r,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function ji(n){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(n)}function lS(n,e){if(ji(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ji(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function cS(n){var e=lS(n,"string");return ji(e)=="symbol"?e:e+""}function uS(n,e,t){return(e=cS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ha(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(t),!0).forEach(function(r){uS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var dS=class zm{constructor(e,{headers:t={},schema:r,fetch:o,timeout:a,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=l;const u=o??globalThis.fetch;a!==void 0&&a>0?this.fetch=(d,f)=>{const g=new AbortController,y=setTimeout(()=>g.abort(),a),v=f?.signal;if(v){if(v.aborted)return clearTimeout(y),u(d,f);const _=()=>{clearTimeout(y),g.abort()};return v.addEventListener("abort",_,{once:!0}),u(d,ha(ha({},f),{},{signal:g.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",_)})}return u(d,ha(ha({},f),{},{signal:g.signal})).finally(()=>clearTimeout(y))}:this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new aS(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new zm(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:o=!1,count:a}={}){var l;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),y=r&&Object.values(t).some(g);y?(u="POST",f=t):r||o?(u=r?"HEAD":"GET",Object.entries(t).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{d.searchParams.append(_,S)})):(u="POST",f=t);const v=new Headers(this.headers);return y?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new os({method:u,url:d,headers:v,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class hS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const o=r.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const fS="2.95.3",pS=`realtime-js/${fS}`,gS="1.0.0",Bm="2.0.0",Eg=Bm,bu=1e4,mS=1e3,yS=100;var Hn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Hn||(Hn={}));var Ye;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ye||(Ye={}));var Yt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Yt||(Yt={}));var Su;(function(n){n.websocket="websocket"})(Su||(Su={}));var vr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(vr||(vr={}));class vS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const o=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var t,r;const o=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,r){var o,a;const l=e.topic,u=(o=e.ref)!==null&&o!==void 0?o:"",d=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+l.length+f.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),b=0;S.setUint8(b++,this.KINDS.userBroadcastPush),S.setUint8(b++,d.length),S.setUint8(b++,u.length),S.setUint8(b++,l.length),S.setUint8(b++,f.length),S.setUint8(b++,y.length),S.setUint8(b++,t),Array.from(d,T=>S.setUint8(b++,T.charCodeAt(0))),Array.from(u,T=>S.setUint8(b++,T.charCodeAt(0))),Array.from(l,T=>S.setUint8(b++,T.charCodeAt(0))),Array.from(f,T=>S.setUint8(b++,T.charCodeAt(0))),Array.from(y,T=>S.setUint8(b++,T.charCodeAt(0)));var k=new Uint8Array(_.byteLength+r.byteLength);return k.set(new Uint8Array(_),0),k.set(new Uint8Array(r),_.byteLength),k.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[o,a,l,u,d]=r;return t({join_ref:o,ref:a,topic:l,event:u,payload:d})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),o=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,o)}_decodeUserBroadcast(e,t,r){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let d=this.HEADER_LENGTH+4;const f=r.decode(e.slice(d,d+o));d=d+o;const g=r.decode(e.slice(d,d+a));d=d+a;const y=r.decode(e.slice(d,d+l));d=d+l;const v=e.slice(d,e.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,S={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class Wm{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Re||(Re={}));const Tg=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=wS(l,n,e,o),a),{}):{}},wS=(n,e,t,r)=>{const o=e.find(u=>u.name===n),a=o?.type,l=t[n];return a&&!r.includes(a)?Hm(a,l):ku(l)},Hm=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return SS(e,t)}switch(n){case Re.bool:return _S(e);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return xS(e);case Re.json:case Re.jsonb:return bS(e);case Re.timestamp:return kS(e);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return ku(e);default:return ku(e)}},ku=n=>n,_S=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},xS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},bS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},SS=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>Hm(e,u))}return n},kS=n=>typeof n=="string"?n.replace(" ","T"):n,Vm=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class su{constructor(e,t,r={},o=bu){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(Cg||(Cg={}));class bi{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bi.syncState(this.state,o,a,l),this.pendingDiffs.forEach(d=>{this.state=bi.syncDiff(this.state,d,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=bi.syncDiff(this.state,o,a,l),u())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const a=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(a,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const y=a[f];if(y){const v=g.map(k=>k.presence_ref),_=y.map(k=>k.presence_ref),S=g.filter(k=>_.indexOf(k.presence_ref)<0),b=y.filter(k=>v.indexOf(k.presence_ref)<0);S.length>0&&(u[f]=S),b.length>0&&(d[f]=b)}else u[f]=g}),this.syncDiff(a,{joins:u,leaves:d},r,o)}static syncDiff(e,t,r,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const y=e[u].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[u].unshift(...v)}r(u,g,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=f,o(u,f,d),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Pg||(Pg={}));var Si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Si||(Si={}));var _n;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(_n||(_n={}));class us{constructor(e,t={config:{}},r){var o,a;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new su(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Wm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new bi(this),this.broadcastEndpointURL=Vm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:l,presence:u,private:d}}=this.params,f=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Si.PRESENCE]&&this.bindings[Si.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(_n.CHANNEL_ERROR,_)),this._onClose(()=>e?.(_n.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(_n.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(S=b?.length)!==null&&S!==void 0?S:0,T=[];for(let O=0;O<k;O++){const R=b[O],{filter:{event:N,schema:I,table:$,filter:z}}=R,B=_&&_[O];if(B&&B.event===N&&us.isFilterValueEqual(B.schema,I)&&us.isFilterValueEqual(B.table,$)&&us.isFilterValueEqual(B.filter,z))T.push(Object.assign(Object.assign({},R),{id:B.id}));else{this.unsubscribe(),this.state=Ye.errored,e?.(_n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(_n.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ye.errored,e?.(_n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(_n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Ye.joined&&e===Si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var o;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,d;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ye.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new su(this,Yt.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new su(this,e,t,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>yS){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,a;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=Yt;if(r&&[u,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,t,r);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,b,k;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(b=_.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var S,b,k,T,O,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const N=_.id,I=(S=_.filter)===null||S===void 0?void 0:S.event;return N&&((b=t.ids)===null||b===void 0?void 0:b.includes(N))&&(I==="*"||I?.toLocaleLowerCase()===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const N=(O=(T=_?.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return N==="*"||N===((R=t?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:b,table:k,commit_timestamp:T,type:O,errors:R}=S;v=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:T,eventType:O,new:{},old:{},errors:R}),this._getPayloadRecords(S))}_.callback(v,r)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&us.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yt.close,{},e)}_onError(e){this._on(Yt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=Tg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=Tg(e.columns,e.old_record)),t}}const iu=()=>{},fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ES=[1e3,2e3,5e3,1e4],TS=1e4,CS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PS{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bu,this.transport=null,this.heartbeatIntervalMs=fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=iu,this.ref=0,this.reconnectTimer=null,this.vsn=Eg,this.logger=iu,this.conn=null,this.sendBuffer=[],this.serializer=new vS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((r=t?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Su.websocket}`,this.httpEndpoint=Vm(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return t==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hn.connecting:return vr.Connecting;case Hn.open:return vr.Open;case Hn.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new us(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:r,payload:o,ref:a}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(mS,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:a,ref:l}=t,u=l?`(${l})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Hn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Hn.open||this.conn.readyState===Hn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([CS],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(o=>{const a={access_token:t,version:pS};t&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Yt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Wm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,o,a,l,u,d,f,g,y,v,_;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:bu,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:fa.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:iu,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:Eg,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(S=>ES[S-1]||TS),this.vsn){case gS:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((S,b)=>b(JSON.stringify(S))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((S,b)=>b(JSON.parse(S)));break;case Bm:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Ri=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OS(n,e,t){const r=new URL(e,n);if(t)for(const[o,a]of Object.entries(t))a!==void 0&&r.searchParams.set(o,a);return r.toString()}async function jS(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function RS(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:o,body:a,headers:l}){const u=OS(n.baseUrl,r,o),d=await jS(n.auth),f=await e(u,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...d,...l},body:a?JSON.stringify(a):void 0}),g=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),v=y&&g?JSON.parse(g):g;if(!f.ok){const _=y?v:void 0,S=_?.error;throw new Ri(S?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function pa(n){return n.join("")}var AS=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:pa(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pa(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pa(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pa(n.namespace)}`}),!0}catch(e){if(e instanceof Ri&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Ri&&t.status===409)return;throw t}}};function es(n){return n.join("")}var NS=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${es(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Ri&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Ri&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},IS=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=RS({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new AS(this.client,e),this.tableOps=new NS(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Va=class extends Error{constructor(n,e="storage",t,r){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function qa(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var ga=class extends Va{constructor(n,e,t,r="storage"){super(n,r,e,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qm=class extends Va{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const MS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),LS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Eu=n=>{if(Array.isArray(n))return n.map(t=>Eu(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Eu(r)}),e},DS=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function Ai(n){"@babel/helpers - typeof";return Ai=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ai(n)}function US(n,e){if(Ai(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Ai(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $S(n){var e=US(n,"string");return Ai(e)=="symbol"?e:e+""}function FS(n,e,t){return(e=$S(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Og(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function fe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Og(Object(t),!0).forEach(function(r){FS(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Og(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const jg=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},zS=async(n,e,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const o=n,a=o.status||500;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||a+"";e(new ga(jg(l),a,u,r))}).catch(()=>{if(r==="vectors"){const l=a+"";e(new ga(o.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";e(new ga(o.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";e(new ga(o.statusText||`HTTP ${a} error`,a,l,r))}}else e(new qm(jg(n),n,r))},BS=(n,e,t,r)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!r?fe(fe({},o),t):(LS(r)?(o.headers=fe({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(r)):o.body=r,e?.duplex&&(o.duplex=e.duplex),fe(fe({},o),t))};async function ui(n,e,t,r,o,a,l){return new Promise((u,d)=>{n(t,BS(e,r,o,a)).then(f=>{if(!f.ok)throw f;if(r?.noResolveJson)return f;if(l==="vectors"){const g=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!g||!g.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>zS(f,d,r,l))})}function Km(n="storage"){return{get:async(e,t,r,o)=>ui(e,"GET",t,r,o,void 0,n),post:async(e,t,r,o,a)=>ui(e,"POST",t,o,a,r,n),put:async(e,t,r,o,a)=>ui(e,"PUT",t,o,a,r,n),head:async(e,t,r,o)=>ui(e,"HEAD",t,fe(fe({},r),{},{noResolveJson:!0}),o,void 0,n),remove:async(e,t,r,o,a)=>ui(e,"DELETE",t,o,a,r,n)}}const WS=Km("storage"),{get:Ni,post:Gt,put:Tu,head:HS,remove:Xu}=WS,Ot=Km("vectors");var vs=class{constructor(n,e={},t,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=MS(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(qa(t))return{data:null,error:t};throw t}}},VS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(qa(e))return{data:null,error:e};throw e}}};let Gm;Gm=Symbol.toStringTag;var qS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Gm]="BlobDownloadBuilder",this.promise=null}asStream(){return new VS(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(qa(e))return{data:null,error:e};throw e}}};const KS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var GS=class extends vs{constructor(n,e={},t,r){super(n,e,r,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,r){var o=this;return o.handleOperation(async()=>{let a;const l=fe(fe({},Rg),r);let u=fe(fe({},o.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),d&&a.append("metadata",o.encodeMetadata(d)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),d&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(d))):(a=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=o.toBase64(o.encodeMetadata(d))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r?.headers&&(u=fe(fe({},u),r.headers));const f=o._removeEmptyFolders(e),g=o._getFinalPath(f),y=await(n=="PUT"?Tu:Gt)(o.fetch,`${o.url}/object/${g}`,a,fe({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{path:f,id:y.Id,fullPath:y.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var o=this;const a=o._removeEmptyFolders(n),l=o._getFinalPath(a),u=new URL(o.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",e),o.handleOperation(async()=>{let d;const f=fe({upsert:Rg.upsert},r),g=fe(fe({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",t)):typeof FormData<"u"&&t instanceof FormData?(d=t,d.append("cacheControl",f.cacheControl)):(d=t,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{path:a,fullPath:(await Tu(o.fetch,u.toString(),d,{headers:g})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(n);const o=fe({},t.headers);e?.upsert&&(o["x-upsert"]="true");const a=await Gt(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:o}),l=new URL(t.url+a.url),u=l.searchParams.get("token");if(!u)throw new Va("No token returned by API");return{signedUrl:l.toString(),path:n,token:u}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;return r.handleOperation(async()=>await Gt(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers}))}async copy(n,e,t){var r=this;return r.handleOperation(async()=>({path:(await Gt(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,e,t){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(n),a=await Gt(r.fetch,`${r.url}/object/sign/${o}`,fe({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:r.headers});const l=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(n,e,t){var r=this;return r.handleOperation(async()=>{const o=await Gt(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),a=t?.download?`&download=${t.download===!0?"":t.download}`:"";return o.map(l=>fe(fe({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(n,e,t){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(n),u=()=>Ni(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0},t);return new qS(u,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>Eu(await Ni(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await HS(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(qa(r)&&r instanceof qm){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&r.push(o);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${u}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await Xu(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var r=this;return r.handleOperation(async()=>{const o=fe(fe(fe({},KS),e),{},{prefix:n||""});return await Gt(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const r=fe({},n);return await Gt(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const YS="2.95.3",Ui={"X-Client-Info":`storage-js/${YS}`};var JS=class extends vs{constructor(n,e={},t,r){const o=new URL(n);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const a=o.href.replace(/\/$/,""),l=fe(fe({},Ui),e);super(a,l,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await Ni(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Ni(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await Gt(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await Tu(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await Gt(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Xu(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},QS=class extends vs{constructor(n,e={},t){const r=n.replace(/\/$/,""),o=fe(fe({},Ui),e);super(r,o,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Gt(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const r=t.toString(),o=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await Ni(e.fetch,o,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Xu(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!DS(n))throw new Va("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new IS({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(o,a){const l=o[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(o,u),error:null}}catch(d){if(r)throw d;return{data:null,error:d}}}}})}},XS=class extends vs{constructor(n,e={},t){const r=n.replace(/\/$/,""),o=fe(fe({},Ui),{},{"Content-Type":"application/json"},e);super(r,o,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await Ot.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},ZS=class extends vs{constructor(n,e={},t){const r=n.replace(/\/$/,""),o=fe(fe({},Ui),{},{"Content-Type":"application/json"},e);super(r,o,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},ek=class extends vs{constructor(n,e={},t){const r=n.replace(/\/$/,""),o=fe(fe({},Ui),{},{"Content-Type":"application/json"},e);super(r,o,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Ot.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},tk=class extends ek{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new nk(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},nk=class extends XS{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new rk(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},rk=class extends ZS{constructor(n,e,t,r,o){super(n,e,o),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,fe(fe({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},sk=class extends JS{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new GS(this.url,this.headers,n,this.fetch)}get vectors(){return new tk(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QS(this.url+"/iceberg",this.headers,this.fetch)}};const Ym="2.95.3",as=30*1e3,Cu=3,ou=Cu*as,ik="http://localhost:9999",ok="supabase.auth.token",ak={"X-Client-Info":`gotrue-js/${Ym}`},Pu="X-Supabase-Api-Version",Jm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ck=600*1e3;class Ii extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ie(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class uk extends Ii{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function dk(n){return ie(n)&&n.name==="AuthApiError"}class wr extends Ii{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class kn extends Ii{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Ct extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function au(n){return ie(n)&&n.name==="AuthSessionMissingError"}class ts extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ma extends kn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ya extends kn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function hk(n){return ie(n)&&n.name==="AuthImplicitGrantRedirectError"}class Ag extends kn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fk extends kn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ou extends kn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function lu(n){return ie(n)&&n.name==="AuthRetryableFetchError"}class Ng extends kn{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class ju extends kn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ig=` 	
\r=`.split(""),pk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Ig.length;e+=1)n[Ig[e].charCodeAt(0)]=-2;for(let e=0;e<Ra.length;e+=1)n[Ra[e].charCodeAt(0)]=e;return n})();function Mg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ra[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(Ra[r]),e.queuedBits-=6}}function Qm(n,e,t){const r=pk[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Lg(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{yk(l,r,t)};for(let l=0;l<n.length;l+=1)Qm(n.charCodeAt(l),o,a);return e.join("")}function gk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mk(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}gk(r,e)}}function yk(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function hs(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Qm(n.charCodeAt(o),t,r);return new Uint8Array(e)}function vk(n){const e=[];return mk(n,t=>e.push(t)),new Uint8Array(e)}function br(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>Mg(o,t,r)),Mg(null,t,r),e.join("")}function wk(n){return Math.round(Date.now()/1e3)+n}function _k(){return Symbol("auth-callback")}const st=()=>typeof window<"u"&&typeof document<"u",fr={tested:!1,writable:!1},Xm=()=>{if(!st())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function xk(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const Zm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),bk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ls=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},pr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},rt=async(n,e)=>{await n.removeItem(e)};class Ka{constructor(){this.promise=new Ka.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Ka.promiseConstructor=Promise;function va(n){const e=n.split(".");if(e.length!==3)throw new ju("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!lk.test(e[r]))throw new ju("JWT not in base64url format");return{header:JSON.parse(Lg(e[0])),payload:JSON.parse(Lg(e[1])),signature:hs(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function kk(n,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){r(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function Ek(n){return("0"+n.toString(16)).substr(-2)}function Tk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,Ek).join("")}async function Ck(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function Pk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await Ck(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ns(n,e,t=!1){const r=Tk();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await ls(n,`${e}-code-verifier`,o);const a=await Pk(r);return[a,r===a?"plain":"s256"]}const Ok=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jk(n){const e=n.headers.get(Pu);if(!e||!e.match(Ok))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Rk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Ak(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Nk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(n){if(!Nk.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cu(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ik(n,e){return new Proxy(n,{get:(t,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,o)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,o)}})}function Dg(n){return JSON.parse(JSON.stringify(n))}const yr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Mk=[502,503,504];async function Ug(n){var e;if(!bk(n))throw new Ou(yr(n),0);if(Mk.includes(n.status))throw new Ou(yr(n),n.status);let t;try{t=await n.json()}catch(a){throw new wr(yr(a),a)}let r;const o=jk(n);if(o&&o.getTime()>=Jm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Ng(yr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Ng(yr(t),n.status,t.weak_password.reasons);throw new uk(yr(t),n.status||500,r)}const Lk=(n,e,t,r)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function he(n,e,t,r){var o;const a=Object.assign({},r?.headers);a[Pu]||(a[Pu]=Jm["2024-01-01"].name),r?.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(o=r?.query)!==null&&o!==void 0?o:{};r?.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await Dk(n,e,t+u,{headers:a,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(d):{data:Object.assign({},d),error:null}}async function Dk(n,e,t,r,o,a){const l=Lk(e,r,o,a);let u;try{u=await n(t,Object.assign({},l))}catch(d){throw console.error(d),new Ou(yr(d),0)}if(u.ok||await Ug(u),r?.noResolveJson)return u;try{return await u.json()}catch(d){await Ug(d)}}function Kt(n){var e;let t=null;Fk(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=wk(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function $g(n){const e=Kt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Vn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Uk(n){return{data:n,error:null}}function $k(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a}=n,l=Ha(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Fg(n){return n}function Fk(n){return n.access_token&&n.refresh_token&&n.expires_in}const uu=["global","local","others"];class zk{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Zm(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=uu[0]){if(uu.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uu.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=Ha(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r?.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$k,redirectTo:t?.redirectTo})}catch(t){if(ie(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vn})}catch(t){if(ie(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Fg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ie(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){rs(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vn})}catch(t){if(ie(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){rs(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){rs(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Vn})}catch(r){if(ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){rs(e.userId);try{const{data:t,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _deleteFactor(e){rs(e.userId),rs(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,o,a,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Fg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return _.length>0&&(_.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);f[`${k}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ie(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ie(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}}function zg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const ss={debug:!!(globalThis&&Xm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ey extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Bk extends ey{}async function Wk(n,e,t){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Bk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ss.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Hk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ty(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Vk(n){return parseInt(n,16)}function qk(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function Kk(n){var e;const{chainId:t,domain:r,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:d,resources:f,scheme:g,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=ty(n.address),S=g?`${g}://${r}`:r,b=n.statement?`${n.statement}
`:"",k=`${S} wants you to sign in with your Ethereum account:
${_}

${b}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),d&&(T+=`
Request ID: ${d}`),f){let O=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);O+=`
- ${R}`}T+=O}return`${k}
${T}`}class qe extends Error{constructor({message:e,code:t,cause:r,name:o}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=o??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Aa extends qe{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Gk({error:n,options:e}){var t,r,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(ny(l)){if(a.rp.id!==l)return new qe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Yk({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new qe({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(ny(r)){if(t.rpId!==r)return new qe({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Jk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Qk=new Jk;function Xk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,o=Ha(n,["challenge","user","excludeCredentials"]),a=hs(e).buffer,l=Object.assign(Object.assign({},t),{id:hs(t.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const f=r[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:hs(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Zk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=Ha(n,["challenge","allowCredentials"]),o=hs(e).buffer,a=Object.assign(Object.assign({},r),{challenge:o});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:hs(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function e1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:br(new Uint8Array(n.response.attestationObject)),clientDataJSON:br(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function t1(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:br(new Uint8Array(o.authenticatorData)),clientDataJSON:br(new Uint8Array(o.clientDataJSON)),signature:br(new Uint8Array(o.signature)),userHandle:o.userHandle?br(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ny(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Bg(){var n,e;return!!(st()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function n1(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",e)}:{data:null,error:new Aa("Empty credential response",e)}}catch(e){return{data:null,error:Gk({error:e,options:n})}}}async function r1(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",e)}:{data:null,error:new Aa("Empty credential response",e)}}catch(e){return{data:null,error:Yk({error:e,options:n})}}}const s1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},i1={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Na(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of n)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(t(l))r[a]=l;else if(e(l)){const u=r[a];e(u)?r[a]=Na(u,l):r[a]=Na(l)}else r[a]=l}return r}function o1(n,e){return Na(s1,n,e||{})}function a1(n,e){return Na(i1,n,e||{})}class l1{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:o},a){var l;try{const{data:u,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:d};const f=o??Qk.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;if(!g.name){const y=r;if(y)g.name=`${g.id}:${y}`;else{const _=(await this.client.getUser()).data.user,S=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";g.name=`${g.id}:${S}`}}g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=o1(u.webauthn.credential_options.publicKey,a?.create),{data:y,error:v}=await n1({publicKey:g,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=a1(u.webauthn.credential_options.publicKey,a?.request),{data:y,error:v}=await r1(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return ie(u)?{data:null,error:u}:{data:null,error:new wr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Ii("rpId is required for WebAuthn authentication")};try{if(!Bg())return{data:null,error:new wr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:o},{request:a});if(!l)return{data:null,error:u};const{webauthn:d}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:d.type,rpId:t,rpOrigins:r,credential_response:d.credential_response}})}catch(l){return ie(l)?{data:null,error:l}:{data:null,error:new wr("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Ii("rpId is required for WebAuthn registration")};try{if(!Bg())return{data:null,error:new wr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:o},{create:a});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:t,rpOrigins:r,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(l){return ie(l)?{data:null,error:l}:{data:null,error:new wr("Unexpected error in register",l)}}}}Hk();const c1={url:ik,storageKey:ok,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ak,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Wg(n,e,t){return await t()}const is={};class Mi{get jwks(){var e,t;return(t=(e=is[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=is[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},c1),e);if(this.storageKey=a.storageKey,this.instanceID=(t=Mi.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Mi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&st()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new zk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Zm(a.fetch),this.lock=a.lock||Wg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&st()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Wk:this.lock=Wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new l1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Xm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=zg(this.memoryStorage)),st()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ym}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(st()&&(t=xk(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),st()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),hk(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ie(t)?this._returnResult({error:t}):this._returnResult({error:new wr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Kt}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,r,o;try{let a;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await ns(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:y,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},xform:Kt})}else if("phone"in e){const{phone:g,password:y,options:v}=e;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=v?.data)!==null&&r!==void 0?r:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Kt})}else throw new ma("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:$g})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:$g})}else throw new ma("You must provide either an email or phone number and a password");const{data:r,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const a=new ts;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,o,a,l,u,d,f,g,y,v;let _,S;if("message"in e)_=e.message,S=e.signature;else{const{chain:b,wallet:k,statement:T,options:O}=e;let R;if(st())if(typeof k=="object")R=k;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")R=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=k}const N=new URL((t=O?.url)!==null&&t!==void 0?t:window.location.href),I=await R.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=ty(I[0]);let z=(r=O?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!z){const Q=await R.request({method:"eth_chainId"});z=Vk(Q)}const B={domain:N.host,address:$,statement:T,uri:N.href,version:"1",chainId:z,nonce:(o=O?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=O?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=O?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=O?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=O?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=O?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=Kk(B),S=await R.request({method:"personal_sign",params:[qk(_),$]})}try{const{data:b,error:k}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kt});if(k)throw k;if(!b||!b.session||!b.user){const T=new ts;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(ie(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var t,r,o,a,l,u,d,f,g,y,v,_;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:k,wallet:T,statement:O,options:R}=e;let N;if(st())if(typeof T=="object")N=T;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))N=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=T}const I=new URL((t=R?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in N&&N.signIn){const $=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),O?{statement:O}:null));let z;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")z=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)z=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)S=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),b=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${I.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(r=R?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((d=R?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const $=await N.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=$}}try{const{data:k,error:T}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:br(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kt});if(T)throw T;if(!k||!k.session||!k.user){const O=new ts;return this._returnResult({data:{user:null,session:null},error:O})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:T})}catch(k){if(ie(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const t=await pr(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new fk;const{data:a,error:l}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Kt});if(await rt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new ts;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:a,nonce:l}=e,u=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Kt}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new ts;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,o,a,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ns(this.storage,this.storageKey));const{error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d?.data)!==null&&t!==void 0?t:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(l=d?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new ma("You must provide either an email or phone number.")}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,r;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Kt});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(o){if(ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,r,o,a,l;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ns(this.storage,this.storageKey));const f=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:Uk});return!((a=f.data)===null||a===void 0)&&a.url&&st()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ct;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:l}=await he(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:l,error:u}=await he(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new ma("You must provide either an email or phone number and a type")}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ou:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const l=await pr(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=cu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=Ik(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vn}):await this._useSession(async t=>{var r,o,a;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Vn})})}catch(t){if(ie(t))return au(t)&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new Ct;const l=o.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await ns(this.storage,this.storageKey));const{data:f,error:g}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:l.access_token,xform:Vn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const t=Date.now()/1e3;let r=t,o=!0,a=null;const{payload:l}=va(e.access_token);if(l.exp&&(r=l.exp,o=r<=t),o){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(ie(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Ct;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!st())throw new ya("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ya(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Ag("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ya("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ag("No code detected.");const{data:O,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!a||!u||!l||!f)throw new ya("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;d&&(v=parseInt(d));const _=v-g;_*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const S=v-y;g-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,g):g-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,g);const{data:b,error:k}=await this._getUser(a);if(k)throw k;const T={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(r){if(ie(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a&&!au(a))return this._returnResult({error:a});const l=(r=o.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(dk(u)&&(u.status===404||u.status===401||u.status===403)||au(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=_k(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ns(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:o}=await this._useSession(async a=>{var l,u,d,f,g;const{data:y,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return st()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(ie(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:o,data:{session:a}}=t;if(o)throw o;const{options:l,provider:u,token:d,access_token:f,nonce:g}=e,y=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kt}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ts}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(o){if(await rt(this.storage,`${this.storageKey}-code-verifier`),ie(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)throw l;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await kk(async o=>(o>0&&await Sk(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(o,a)=>{const l=200*Math.pow(2,o);return a&&lu(a)&&Date.now()+l-r<as})}catch(r){if(this._debug(t,"error",r),ie(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),st()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await pr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await ls(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:cu()}else if(o&&!o.user&&!o.user){const l=await pr(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await rt(this.storage,this.storageKey+"-user"),await ls(this.storage,this.storageKey,o)):o.user=cu()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ou;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${ou}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),lu(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ka;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Ct;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),ie(a)){const l={data:null,error:a};return lu(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(d){a.push(d)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await rt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await ls(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=Dg(o);await ls(this.storage,this.storageKey,a)}else{const o=Dg(t);await ls(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rt(this.storage,this.storageKey),await rt(this.storage,this.storageKey+"-code-verifier"),await rt(this.storage,this.storageKey+"-user"),this.userStorage&&await rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&st()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${as}ms, refresh threshold is ${Cu} ticks`),o<=Cu&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ey)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!st()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await ns(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(r?.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r?.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;return a?this._returnResult({data:null,error:a}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a?.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?e1(e.webauthn.credential_response):t1(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Xk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Zk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,o,a;if(e)try{const{payload:_}=va(e);let S=null;_.aal&&(S=_.aal);let b=S;const{data:{user:k},error:T}=await this.getUser(e);if(T)return this._returnResult({data:null,error:T});((r=(t=k?.factors)===null||t===void 0?void 0:t.filter(N=>N.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const R=_.amr||[];return{data:{currentLevel:S,nextLevel:b,currentAuthenticationMethods:R},error:null}}catch(_){if(ie(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=va(l.access_token);let f=null;d.aal&&(f=d.aal);let g=f;((a=(o=l.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=d.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ct});const l=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&st()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:o},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ct});const l=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&st()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(e){if(ie(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;return o?this._returnResult({data:null,error:o}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(u=>u.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(u=>u.kid===e),r&&this.jwks_cached_at+ck>o)return r;const{data:a,error:l}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(u=>u.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:o,payload:a,signature:l,raw:{header:u,payload:d}}=va(r);t?.allowExpired||Rk(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:o,signature:l},error:null}}const g=Ak(o.alg),y=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,l,vk(`${u}.${d}`)))throw new ju("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(ie(r))return this._returnResult({data:null,error:r});throw r}}}Mi.nextInstanceID={};const u1=Mi,d1="2.95.3";let pi="";typeof Deno<"u"?pi="deno":typeof document<"u"?pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pi="react-native":pi="node";const h1={"X-Client-Info":`supabase-js-${pi}/${d1}`},f1={headers:h1},p1={schema:"public"},g1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},m1={};function Li(n){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Li(n)}function y1(n,e){if(Li(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Li(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function v1(n){var e=y1(n,"string");return Li(e)=="symbol"?e:e+""}function w1(n,e,t){return(e=v1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Hg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function ze(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Hg(Object(t),!0).forEach(function(r){w1(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Hg(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const _1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),x1=()=>Headers,b1=(n,e,t)=>{const r=_1(t),o=x1();return async(a,l)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:n;let f=new o(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(a,ze(ze({},l),{},{headers:f}))}};function S1(n){return n.endsWith("/")?n:n+"/"}function k1(n,e){var t,r;const{db:o,auth:a,realtime:l,global:u}=n,{db:d,auth:f,realtime:g,global:y}=e,v={db:ze(ze({},d),o),auth:ze(ze({},f),a),realtime:ze(ze({},g),l),storage:{},global:ze(ze(ze({},y),u),{},{headers:ze(ze({},(t=y?.headers)!==null&&t!==void 0?t:{}),(r=u?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function E1(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(S1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var T1=class extends u1{constructor(n){super(n)}},C1=class{constructor(n,e,t){var r,o;this.supabaseUrl=n,this.supabaseKey=e;const a=E1(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:p1,realtime:m1,auth:ze(ze({},g1),{},{storageKey:l}),global:f1},d=k1(t??{},u);if(this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=b1(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new dS(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch,timeout:d.db.timeout,urlLengthLimit:d.db.urlLengthLimit}),this.storage=new sk(this.storageUrl.href,this.headers,this.fetch,t?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new rS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:o,storageKey:a,flowType:l,lock:u,debug:d,throwOnError:f},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new T1({url:this.authUrl.href,headers:ze(ze({},v),g),storageKey:a,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:o,flowType:l,lock:u,debug:d,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new PS(this.realtimeUrl.href,ze(ze({},n),{},{params:ze(ze({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const P1=(n,e,t)=>new C1(n,e,t);function O1(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}O1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const j1="https://qdwwowrsnlqrkfcfvgip.supabase.co",R1="sb_publishable_WPv3waHS1QBX_KzfWt7P4Q_U6FZMV8H",pe=P1(j1,R1),A1=[{Game:{Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,ErrorLetters:[],LineGraphDataSet:[]},GameSettings:{CurrentText:"",CurrentTitle:"",Timer:-1},Settings:{Text:{Length:"short"}}}],Sn=A1,N1=new Set,Ru=new Set;function ry(n,e){for(const t of n)try{t()}catch{}}function I1(){ry(N1)}function sy(){ry(Ru),I1()}function M1(n){return Ru.add(n),()=>{Ru.delete(n)}}function L1(n){return Sn[n].Game}function gi(n){return Sn[n].GameSettings}function Ia(n,e={}){if(n>=Sn.length)return;const t=Sn[n].GameSettings={...Sn[n].GameSettings,...e};return sy(),t}function iy(n){return Sn[n].Settings}function D1(n,e={}){if(n>=Sn.length)return;const t=Sn[n].Settings={...Sn[n].Settings,...e};return sy(),t}function Qt(n,e){localStorage.setItem(n,e)}function Yn(n){const e=localStorage.getItem(n);return e||""}function U1(n){localStorage.removeItem(n)}const $1="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg";function Ga(n,e){return!n||typeof n!="object"?e:"message"in n&&typeof n.message=="string"?n.message:e}async function oy(n,e){const{data:t,error:r}=await pe.from("Users").select("userId").eq("userId",n.id).maybeSingle();if(r)return;if(!t){const l=n.user_metadata?.username||e||(n.email?n.email.split("@")[0]:"Player"),{error:u}=await pe.from("Users").insert([{Username:l,Email:n.email??"",userId:n.id}]).single();if(u)return}const{data:o,error:a}=await pe.from("UserSettings").select("id").eq("id",n.id).maybeSingle();if(!a&&!o){const{error:l}=await pe.from("UserSettings").insert({id:n.id,profilePicture:$1})}}async function F1(n,e,t){const{data:r,error:o}=await pe.auth.signUp({email:e,password:t,options:{data:{username:n}}});if(o)return{status:"error",message:Ga(o,"Sign up error")};if(!r.session)return{status:"verify",message:"Bitte Email besttigen."};const a=r.user;return a?(await oy(a,n),Qt("logged in","true"),{status:"ok"}):{status:"error",message:"No user id from signup."}}async function z1(n,e){const{data:t,error:r}=await pe.auth.signInWithPassword({email:n,password:e});if(r)return{status:"error",message:Ga(r,"Sign in error")};const o=t.user;return o?o.email_confirmed_at??o.confirmed_at?(await oy(o),Qt("logged in","true"),{status:"ok"}):{status:"verify",message:"Bitte Email besttigen."}:{status:"error",message:"No user from sign in."}}async function B1(){const{error:n}=await pe.auth.signOut();return n?{status:"error",message:Ga(n,"Sign out error")}:(Qt("logged in","false"),{status:"ok"})}async function W1(n){const{error:e}=await pe.auth.signInWithOAuth({provider:n,options:{redirectTo:window.location.origin}});return e?{status:"error",message:Ga(e,"OAuth sign in error")}:{status:"ok"}}async function Zu(){const{data:{user:n},error:e}=await pe.auth.getUser();return e?null:n}async function H1(n){const{data:e,error:t}=await pe.from("UserSettings").select("*").eq("id",n).maybeSingle();if(t)throw t;return e??{id:n,profilePicture:null}}async function V1(n){const{data:e,error:t}=await pe.from("UserStats").select("*").eq("userId",n).maybeSingle();if(t)throw t;return e??{userId:n,created_at:new Date().toISOString(),rounds:[]}}async function q1(n){const{data:e,error:t}=await pe.from("Users").select("Username").eq("userId",n).maybeSingle();if(t)throw t;return e?.Username??""}async function K1(n){const e=n.trim();if(e.length<2)return[];const{data:t,error:r}=await pe.from("Users").select("userId, Username").ilike("Username",`%${e}%`).limit(20);if(r)throw r;return(t??[]).map(o=>({userId:o.userId,Username:o.Username??""}))}async function ay(n){if(n.length===0)return n;const e=n.map(a=>a.userId),{data:t,error:r}=await pe.from("UserSettings").select("id, profilePicture").in("id",e);if(r)throw r;const o=new Map;return(t??[]).forEach(a=>o.set(a.id,a.profilePicture)),n.map(a=>({...a,profilePicture:o.get(a.userId)??null}))}async function G1(n){const e=await Zu();if(!e)return;const{error:t}=await pe.from("Users").update({Username:n}).eq("userId",e.id)}async function Y1(){const n=await Zu();if(!n)return"";const{data:e,error:t}=await pe.from("Users").select("Username").eq("userId",n.id).single();return e?.Username??""}async function J1(){const{data:{user:n},error:e}=await pe.auth.getUser();if(e||!n)throw e??new Error("No user");const{data:t,error:r}=await pe.from("UserSettings").select("*").eq("id",n.id).maybeSingle();if(r)throw r;return t??{id:n.id,profilePicture:null}}async function Q1(n){const e=await Zu();if(!e)return;const t=n.name.split(".").pop(),r=`${e.id}/${Date.now()}.${t}`,{error:o}=await pe.storage.from("avatars").upload(r,n,{upsert:!0});if(o)return;const{data:a}=pe.storage.from("avatars").getPublicUrl(r),{error:l}=await pe.from("UserSettings").upsert({id:e.id,profilePicture:a.publicUrl},{onConflict:"id"});if(!l)return a.publicUrl}async function ly(){const{data:{user:n},error:e}=await pe.auth.getUser();if(e||!n)throw e??new Error("No user");const{data:t,error:r}=await pe.from("UserStats").select("*").eq("userId",n.id).maybeSingle();if(r)throw r;return t??{userId:n.id,created_at:new Date().toISOString(),rounds:[]}}async function X1(n){const{data:{user:e},error:t}=await pe.auth.getUser();if(t||!e)throw t??new Error("No user");const{data:r,error:o}=await pe.from("UserStats").upsert({userId:e.id,...n},{onConflict:"userId"}).select().single();if(o)throw o;return r}async function Z1(n){const t=[...(await ly()).rounds,n];return X1({rounds:t})}async function eE(n){if(n.length==0)return{friends:[],outgoing:{},incoming:{}};const{data:{user:e}}=await pe.auth.getUser();if(!e)return{friends:[],outgoing:{},incoming:{}};const[t,r,o]=await Promise.all([pe.from("friends").select("friend_id").eq("user_id",e.id).in("friend_id",n),pe.from("friendrequests").select("id, receiver_id").eq("sender_id",e.id).eq("status","pending").in("receiver_id",n),pe.from("friendrequests").select("id, sender_id").eq("receiver_id",e.id).eq("status","pending").in("sender_id",n)]);return{friends:(t.data??[]).map(a=>a.friend_id),outgoing:(r.data??[]).reduce((a,l)=>(a[l.receiver_id]=l.id,a),{}),incoming:(o.data??[]).reduce((a,l)=>(a[l.sender_id]=l.id,a),{})}}async function tE(n){const{data:{user:e}}=await pe.auth.getUser();if(!e)throw new Error("No user");const{data:t}=await pe.from("friends").select("friend_id").eq("user_id",e.id).eq("friend_id",n).maybeSingle();if(t)throw new Error("Already friends");const{data:r}=await pe.from("friendrequests").select("id").or(`and(sender_id.eq.${e.id},receiver_id.eq.${n}),and(sender_id.eq.${n},receiver_id.eq.${e.id})`).eq("status","pending").maybeSingle();if(r)throw new Error("Request already pending");const{data:o,error:a}=await pe.from("friendrequests").insert({sender_id:e.id,receiver_id:n,status:"pending"}).select("id").single();if(a)throw a;return o?.id}async function cy(n,e,t){const{data:{user:r}}=await pe.auth.getUser();if(!r)throw new Error("No user");const o=t=="accept"?"accepted":"rejected",{error:a}=await pe.from("friendrequests").update({status:o}).eq("id",n);if(a)throw a;if(t!="accept")return;const{error:l}=await pe.from("friends").insert([{user_id:r.id,friend_id:e},{user_id:e,friend_id:r.id}]);if(l)throw l}async function nE(){const{data:{user:n}}=await pe.auth.getUser();if(!n)return[];const{data:e,error:t}=await pe.from("friendrequests").select("id, sender_id").eq("receiver_id",n.id).eq("status","pending");if(t)throw t;const r=(e??[]).map(u=>u.sender_id);if(r.length==0)return[];const{data:o}=await pe.from("Users").select("Username, userId").in("userId",r),{data:a}=await pe.from("UserSettings").select("id, profilePicture").in("id",r),l=new Map;return(a??[]).forEach(u=>l.set(u.id,u.profilePicture)),(e??[]).map(u=>{const d=(o??[]).find(f=>f.userId===u.sender_id);return{id:u.id,sender_id:u.sender_id,Username:d?.Username??"Unknown",profilePicture:l.get(u.sender_id)??null}})}async function uy(n){const{data:{user:e}}=await pe.auth.getUser();if(!e)throw new Error("No user");const{error:t}=await pe.from("friends").delete().eq("user_id",e.id).eq("friend_id",n);if(t)throw t;const{error:r}=await pe.from("friends").delete().eq("user_id",n).eq("friend_id",e.id);if(r)throw r}async function rE(){const{data:{user:n}}=await pe.auth.getUser();if(!n)return[];const{data:e,error:t}=await pe.from("friends").select("friend_id").eq("user_id",n.id);if(t)throw t;const r=(e??[]).map(l=>l.friend_id);if(r.length==0)return[];const{data:o}=await pe.from("Users").select("Username, userId").in("userId",r),a=(o??[]).map(l=>({userId:l.userId,Username:l.Username??""}));return await ay(a)}function sE(){window.location.reload()}function iE(){Qt("open-profile-on-load","true"),window.location.reload()}function oE({text:n="Button",preferedPrefix:e="",onClick:t,setFile:r}){const o=D.useRef(null),a=()=>{o.current?.click(),t?.()},l=u=>{const d=u.target.files?.[0]??null;d!==null&&d.toString().startsWith(e)&&r(d)};return w.jsxs(w.Fragment,{children:[w.jsx(Ee,{onClickFunction:a,text:n}),w.jsx("input",{ref:o,type:"file",onChange:l,style:{display:"none"}})]})}const Au=JSON.parse(`[{"title":"The Wonders of the Ocean","short":"The ocean is a vast and mysterious world. It covers more than 70% of the Earths surface and is home to countless species, many of which remain undiscovered.","medium":"Oceans play a crucial role in regulating the Earth's climate. They provide oxygen, regulate temperature, and support biodiversity. Yet, they are facing threats from pollution, overfishing, and climate change.","long":"The ocean is not just a source of beauty, but it is also vital for life on Earth. It regulates the planet's climate by absorbing carbon dioxide and heat. Oceans are home to diverse ecosystems that support a vast array of marine life, from the smallest plankton to the largest whales. The depths of the ocean are still largely unexplored, and scientists continue to discover new species and learn more about the role oceans play in maintaining balance on Earth. However, these ecosystems are under threat due to human activities such as pollution, overfishing, and the effects of climate change, which are causing irreversible damage to marine life."},{"title":"The Evolution of Space Exploration","short":"Space exploration has fascinated humanity for centuries. From the early observations of the night sky to the historic moon landing, space has always been a realm of mystery and possibility.","medium":"With technological advancements, space exploration has moved from theoretical concepts to practical achievements. The Apollo moon landings in the 1960s were a milestone, and today, we have private companies sending spacecraft to Mars and beyond.","long":"Space exploration has come a long way since humanity first gazed at the stars. The first steps on the moon in 1969 marked a monumental achievement in science and technology, demonstrating humanity's ability to reach beyond our planet. Today, space exploration continues to evolve, with private companies like SpaceX and Blue Origin pushing the boundaries of what is possible. Mars missions, space tourism, and even the exploration of asteroids are now becoming realities. These advancements not only inspire future generations but also provide valuable insights into the origins of our solar system and the potential for life beyond Earth."},{"title":"The Influence of Social Media","short":"Social media has transformed how we communicate and interact with others. It has created a platform for self-expression, connection, and even activism.","medium":"While social media brings people closer together, it also raises concerns about privacy, mental health, and the spread of misinformation. Platforms like Facebook, Twitter, and Instagram have become integral parts of daily life for billions.","long":"Social media has revolutionized communication, allowing individuals to connect with others worldwide in an instant. It has provided a platform for self-expression, where people can share their lives, ideas, and opinions. Social movements have found a new voice through social media, allowing them to mobilize quickly and raise awareness for causes. However, the rise of social media has also led to several challenges. Privacy concerns are rampant, and the constant exposure to curated lives can have negative effects on mental health. Furthermore, the spread of misinformation and the ability to create echo chambers has become a growing concern for society."},{"title":"The Power of Music","short":"Music has the ability to inspire, uplift, and connect people. It transcends cultural and language barriers, evoking emotions and creating shared experiences.","medium":"From classical symphonies to modern pop hits, music plays a fundamental role in human culture. It brings people together, whether in concert halls, living rooms, or festivals. Music has the power to heal, to celebrate, and to communicate in ways that words alone cannot.","long":"Music is a universal language that speaks directly to the heart. It has been an essential part of human civilization for centuries, playing a central role in rituals, celebrations, and everyday life. Music can express a range of emotions, from joy and excitement to sorrow and nostalgia. It brings people together, whether they are singing in a choir, attending a concert, or simply enjoying a song on the radio. Music's therapeutic benefits are also widely recognized, helping to reduce stress, improve mood, and even aid in healing. As technology evolves, music continues to play an important role in shaping culture and personal identity."},{"title":"The Future of Renewable Energy","short":"Renewable energy sources such as solar, wind, and hydropower are rapidly changing the energy landscape, offering a cleaner, more sustainable alternative to fossil fuels.","medium":"The push for renewable energy is driven by the need to combat climate change and reduce our dependence on finite fossil fuels. Solar and wind energy have become some of the most cost-effective energy sources worldwide, with continued innovations in energy storage and grid integration.","long":"The future of energy lies in renewable sources that can provide sustainable power without the harmful environmental impacts of fossil fuels. Solar, wind, and hydropower are already playing significant roles in the global energy mix, and their potential to provide clean energy is growing. As technology advances, these renewable sources are becoming more efficient and cost-effective. Solar panels are now more affordable than ever, and wind turbines are harnessing energy at unprecedented rates. The challenge remains to create a reliable and efficient way to store and distribute this energy, but breakthroughs in battery storage and smart grids are making this more achievable. Transitioning to renewable energy is essential for reducing greenhouse gas emissions and mitigating the effects of climate change, ensuring a cleaner, healthier planet for future generations."},{"title":"The Rise of Artificial Intelligence","short":"Artificial intelligence is revolutionizing industries, from healthcare to finance, offering new solutions and efficiencies in ways previously unimaginable.","medium":"AI technologies, including machine learning and deep learning, are now integral to a variety of sectors. They help automate tasks, enhance decision-making, and provide insights that drive innovation and growth.","long":"Artificial intelligence is no longer just a futuristic concept. It's a driving force behind some of the most groundbreaking advancements in technology. AI systems, especially those using machine learning and deep learning, are transforming industries by automating routine tasks, improving efficiency, and solving complex problems that were once thought too difficult. In healthcare, AI is assisting in diagnostics and drug discovery, while in finance, it's enabling better risk management and fraud detection. As AI continues to evolve, its potential to reshape industries grows, leading to a future where machines work alongside humans to tackle challenges and create new opportunities. However, the rise of AI also raises ethical concerns, including job displacement and the need for responsible development."},{"title":"The Role of Education in Society","short":"Education is a cornerstone of personal and societal development, shaping individuals and communities, and playing a key role in advancing society.","medium":"Education opens doors to opportunity, fostering critical thinking, creativity, and innovation. It provides individuals with the tools to navigate life and contribute to society, while also being essential for economic and social progress.","long":"Education is one of the most powerful tools for societal transformation. It empowers individuals to build skills, broaden their perspectives, and achieve their full potential. Beyond personal development, education plays a central role in creating an informed and engaged citizenry. It fosters critical thinking, problem-solving, and the ability to engage with complex issues. On a societal level, education drives economic growth and social mobility, helping to bridge gaps between different communities and reducing inequality. As technology continues to evolve, education is also adapting, with online learning and digital tools revolutionizing how knowledge is shared. However, ensuring equitable access to quality education remains a key challenge for many parts of the world."},{"title":"The Impact of Climate Change","short":"Climate change is one of the most pressing global challenges, affecting ecosystems, weather patterns, and human communities around the world.","medium":"The effects of climate change are already being felt globally, with rising temperatures, more frequent natural disasters, and shifts in ecosystems. Addressing these challenges requires global cooperation and sustainable solutions.","long":"Climate change is no longer a distant threatit is a reality that is impacting every corner of the globe. Rising temperatures, shifting weather patterns, and extreme weather events such as hurricanes, droughts, and floods are becoming more frequent and intense. These changes are disrupting ecosystems, threatening biodiversity, and putting human populations at risk, particularly in vulnerable regions. Addressing climate change requires coordinated global action to reduce greenhouse gas emissions, transition to renewable energy, and protect ecosystems. Governments, businesses, and individuals must all play a role in mitigating the effects of climate change and adapting to its consequences. The urgency of this issue cannot be overstated, as the choices we make today will determine the future of our planet."},{"title":"The Wonders of Space","short":"Space is a vast and mysterious frontier that continues to captivate humanity, filled with galaxies, stars, and planets waiting to be discovered.","medium":"Space exploration has provided remarkable insights into the origins of the universe, the nature of distant stars and planets, and the possibility of life beyond Earth. The more we learn, the more we realize how much there is yet to explore.","long":"The universe is an awe-inspiring expanse that holds countless mysteries. Through the advancements in telescopes, spacecraft, and space exploration, we have begun to unravel the wonders of space. The study of distant galaxies, the birth of stars, and the exploration of exoplanets have provided invaluable insights into the origins of the cosmos and the potential for life beyond Earth. Space missions like the Hubble Space Telescope and the Mars Rover have opened our eyes to the beauty and complexity of the universe. As technology continues to improve, the possibilities for space exploration are endless, with future missions aimed at reaching distant asteroids, exploring the moons of Jupiter and Saturn, and even sending humans to Mars. Space holds infinite potential for discovery and understanding."},{"title":"The Importance of Mental Health","short":"Mental health is just as important as physical health, and its impact on overall well-being cannot be overstated.","medium":"Mental health affects every aspect of life, from personal relationships to career success. Tackling mental health challenges requires understanding, open communication, and access to proper care and support.","long":"Mental health is a crucial aspect of overall well-being, affecting how we think, feel, and act. It influences our relationships, work life, and ability to cope with stress. Yet, mental health is often overlooked, with many people facing stigma when seeking help. Mental health issues such as depression, anxiety, and stress can have a significant impact on a person's quality of life, making it essential to prioritize mental health alongside physical health. Raising awareness, reducing stigma, and ensuring access to mental health services are critical steps in supporting individuals who are struggling. Just as we would seek medical treatment for a physical illness, it's vital that we also take care of our mental health and encourage others to do the same."}]`),Nu=Au;function Vg(){const n=[];for(const e in Au){const t=Au[e];t?.title&&n.push(t.title)}return n}function aE(n){const e=Math.floor(Math.random()*Nu.length),t=Nu[e];return{title:t.title,text:t[n]}}function lE(n,e){const t=Nu.find(r=>r.title===n);return t?{title:t.title,text:t[e]}:null}function cE(n){for(let e=0;e<n.length;e++)if(n[e]==="@")return!0;return!1}function dy(){const n=aE(iy(0).Text.Length);Ia(0,{CurrentText:n.text,CurrentTitle:n.title})}function uE(n){Ia(0,{Timer:n})}function dE(){const n=new Array;for(const e of Array.from(document.styleSheets)){let t;try{t=e.cssRules}catch{continue}for(const r of Array.from(t))if(r instanceof CSSStyleRule){const o=r.selectorText.split(",");for(const a of o){const l=a.trim();l.startsWith(".theme")&&n.push(l.slice(1))}}}return n}function hy(n){return n.length===0?0:n.reduce((e,t)=>e+t,0)/n.length}function fy(n){if(n===void 0)return;const e=[];for(const t of n)e.push(t.accuracy);return hy(e)}function py(n){if(n===void 0)return;const e=[];for(const t of n)e.push(t.wpm);return hy(e)}function Ma(n){if(!n||n.length===0)return;let e=-1/0,t=[0,0,0];for(const r of n){const o=r.errorLetters.length*.5,a=r.text?.length??0;if(a>0&&o>=a/6)continue;const l=r.wpm-o;l>e&&(e=l,t=[r.wpm,r.time,o])}return t}function gy(n){if(!n||n.length===0)return;let e=!1;const t={};for(const a of n)for(const l of a.errorLetters)t[l]=(t[l]??0)+1;let r="",o=0;for(const a in t){const l=t[a];l>o&&(o=l,r=a,e=!0)}return e?{[r]:o}:void 0}function my(n){return n===void 0?0:n.length}function fs(n){return n.sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime())}function yy(n,e){if(e===0)return 0;const t=n/e*100;return Math.round(t*100)/100}function Iu(n,e){return e<=0?0:Math.round(n/5/e)}const vy=D.createContext(null);function hE({children:n}){const[e,t]=D.useState(!1),[r,o]=D.useState(!1),[a,l]=D.useState(()=>L1(0)),[u,d]=D.useState(0),[f,g]=D.useState(null),[y,v]=D.useState(!1),[_,S]=D.useState(null),[b,k]=D.useState(!0),[T,O]=D.useState(!1),R=D.useCallback(()=>d($=>$+1),[]);D.useEffect(()=>{l($=>{const z=$.Seconds/60,B=Iu($.Character,z),Q=$.Character-$.CorrectCharacter,oe=yy($.CorrectCharacter,$.Character);return z===$.Minutes&&B===$.WPM&&Q===$.Errors&&oe===$.Accurancy?$:{...$,Minutes:z,WPM:B,Errors:Q,Accurancy:oe}})},[a.Seconds,a.Character,a.CorrectCharacter]);const N=D.useCallback(async()=>{let $=!1;v(!0),S(null);try{const z=await ly();$||g(z)}catch{S("Konnte Stats nicht laden")}finally{v(!1)}},[]);D.useEffect(()=>{r&&N()},[r,N]),D.useEffect(()=>{b&&k(!1)},[b]);const I=D.useMemo(()=>({game:a,setGame:l,isGameStarted:e,setIsGameStarted:t,showResults:r,setShowResults:o,textVersion:u,bumpTextVersion:R,stats:f,loadingStats:y,statsError:_,firstLoaded:b,loadStats:N,isUserWindowOpen:T,setIsUserWindowOpen:O}),[a,e,r,u,f,y,_,R,b,N,T,O]);return w.jsx(vy.Provider,{value:I,children:n})}function $i(){const n=D.useContext(vy);if(!n)throw new Error("useGameStore must be used within GameStoreProvider");return n}function fE({data:n,classname:e}){const t=o=>new Date(o).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}),r=o=>new Date(o).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"});return w.jsxs("div",{className:`w-full h-16 bg-card-bg border border-card-border rounded-lg ${e} px-4 py-2 flex items-center justify-between transition-all duration-200 hover:border-accent-primary hover:shadow-glow-purple group`,children:[w.jsxs("div",{className:"flex flex-col items-start min-w-[90px] max-w-[90px]",children:[w.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Date"}),w.jsx("div",{className:"text-xs font-display font-bold text-text-primary",children:t(n.created_at)}),w.jsx("div",{className:"text-[10px] font-display font-semibold text-text-secondary opacity-70",children:r(n.created_at)})]}),w.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),w.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[w.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Time"}),w.jsxs("div",{className:"text-lg font-display font-bold text-text-primary",children:[n.time,"s"]})]}),w.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),w.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[w.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Accuracy"}),w.jsxs("div",{className:"text-lg font-display font-bold text-accent-primary",children:[n.accuracy,"%"]})]}),w.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),w.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[w.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"WPM"}),w.jsx("div",{className:"text-lg font-display font-bold text-accent-secondary",children:n.wpm})]}),w.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),w.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[w.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Errors"}),w.jsx("div",{className:"text-lg font-display font-bold text-accent-warning",children:n.errorLetters.length})]})]})}function wy({rounds:n}){const e=[...n].reverse();return w.jsx("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden blur-[0.6px] px-4 py-2 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:e.map((t,r)=>w.jsx(fE,{data:t,classname:"my-2"},r))})}const pE=D.forwardRef(function(e,t){const[r,o]=D.useState(!1),[a,l]=D.useState(!1),[u,d]=D.useState(""),[f,g]=D.useState(""),[y,v]=D.useState(null),[_,S]=D.useState(null),{isUserWindowOpen:b,setIsUserWindowOpen:k,stats:T,loadStats:O}=$i(),[R,N]=D.useState("WpmGraph"),I=D.useMemo(()=>{const J=fs(T?.rounds??[]),U=gy(J);return{"Average Acc":fy(J),"Average WPM":py(J),"Best WPM":Ma(J)?.[0]??0,"Best Time":Ma(J)?.[1]??0,"Error Hotspots":Object.keys(U??{})[0]??"",Streaks:my(J)}},[T]);D.useEffect(()=>{let J=!0;return Y1().then(U=>{J&&g(U)}),J1().then(U=>{J&&v(U.profilePicture??null)}).catch(U=>{}),Yn("open-profile-on-load")==="true"&&(k(!0),U1("open-profile-on-load")),()=>{J=!1}},[]),D.useEffect(()=>{_!==null&&Q1(_).then(J=>{J&&v(J)}).catch(J=>{})},[_]),D.useEffect(()=>{b&&O()},[b,O]);const $=()=>{k(!b)},z=async()=>{(await B1())?.status},B=J=>{d(J)},Q=async()=>{await G1(u.trim()),l(!1),iE()},oe=fs(T?.rounds??[]).map(J=>({...J,errorCount:J.errorLetters.length})),X=w.jsx(bn,{data:oe,xKey:(J,U)=>`Round ${U+1}`,series:[{key:"wpm",label:"WPM",fill:!0}],xTitle:"Rounds",yTitle:"WPM",height:"95%",width:"100%",tooltipValueSuffix:"WPM",className:"border-none shadow-none"}),ce=w.jsx(bn,{data:oe,xKey:(J,U)=>`Round ${U+1}`,series:[{key:"accuracy",label:"Accuracy",fill:!0}],xTitle:"Rounds",yTitle:"Accuracy",height:"95%",width:"100%",tooltipValueSuffix:"%",className:"border-none shadow-none"}),me=w.jsx(bn,{data:oe,xKey:(J,U)=>`Round ${U+1}`,series:[{key:"time",label:"Time",fill:!0}],xTitle:"Rounds",yTitle:"Time",height:"95%",width:"100%",tooltipValueSuffix:"'s'",className:"border-none shadow-none"}),we=w.jsx(bn,{data:oe,xKey:(J,U)=>`Round ${U+1}`,series:[{key:"errorCount",label:"ErrorLetters",fill:!0}],xTitle:"Rounds",yTitle:"Errors",height:"95%",width:"100%",tooltipValueSuffix:"Error's",className:"border-none shadow-none"}),te=J=>{N(J)},ae=w.jsxs("div",{ref:t||void 0,className:"flex flex-row gap-x-10 h-full",children:[w.jsx("div",{className:"w-1/4 flex flex-col gap-5",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsxs("div",{className:"w-full aspect-square relative overflow-visible",children:[w.jsx("div",{className:"absolute z-50 -m-5",children:w.jsx(xa,{tooltip:"Settings",onClickFunction:()=>o(!r),text:"",optionsValue:[w.jsx(Ee,{text:"Log Out",onClickFunction:z})]})}),w.jsxs("div",{className:"relative group",children:[w.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-4 border-card-border transition-all duration-700 group-hover:scale-105 shadow-2xl"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100",children:w.jsx(oE,{text:"",setFile:S})})]})]}),w.jsxs("div",{className:"group relative flex justify-center items-center p-5 overflow-hidden",children:[a?w.jsx(mi,{value:u,onSubmit:Q,onChange:B}):w.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest transition-all duration-700 group-hover:-translate-x-8 group-hover:tracking-normal",children:f}),w.jsx("div",{className:"absolute right-5 opacity-0 translate-x-4 transition-all duration-700 group-hover:opacity-100 group-hover:-translate-x-7",children:a?null:w.jsx(Ee,{onClickFunction:()=>l(!0),text:""})})]}),w.jsxs("ul",{className:"list-none pl-0 space-y-2 text-lg text-text-primary font-mono font-extrabold",children:[w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The average accuracy this player has.",children:w.jsx("span",{className:"cursor-default",children:"Average Accuracy"})}),w.jsxs("span",{children:[I["Average Acc"]!==void 0?Math.round(I["Average Acc"]*100)/100:0,"%"]})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The average words per minute this player has.",children:w.jsx("span",{className:"cursor-default",children:"Average WPM"})}),w.jsx("span",{children:I["Average WPM"]!==void 0?Math.round(I["Average WPM"]*100)/100:0})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The best WPM this player had.",children:w.jsx("span",{className:"cursor-default",children:"Best WPM"})}),w.jsx(Pt,{content:`This player got ${I["Best WPM"]} WPM in ${I["Best Time"]} seconds!`,children:w.jsx("span",{children:I["Best WPM"]})})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The letter the player misstypes the most.",children:w.jsx("span",{className:"cursor-default",children:"Error Hotspots"})}),w.jsx("span",{children:I["Error Hotspots"]})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"How many plays this payer has.",children:w.jsx("span",{className:"cursor-default",children:"Streak"})}),w.jsx("span",{children:I.Streaks})]})]})]})}),w.jsxs("div",{className:"w-3/4 flex flex-col gap-5 min-h-0",children:[w.jsx("div",{className:"flex-[3] flex flex-row gap-x-5 min-h-0",children:w.jsxs("div",{className:"w-full h-full bg-game-bg-light rounded-md p-5 pl-0",children:[w.jsx("div",{className:"w-fit h-fit flex items-center justify-center ml-5",children:w.jsx(Ju,{options:["WpmGraph","AccGraph","TimeGraph","ErrorLettersGraph"],value:R,onChange:J=>te(J)})}),R==="WpmGraph"&&X,R==="AccGraph"&&ce,R==="TimeGraph"&&me,R==="ErrorLettersGraph"&&we]})}),w.jsx("div",{className:"flex-[2] bg-game-bg-light rounded-md min-h-0",children:w.jsx(wy,{rounds:fs(T?.rounds??[])})})]})]});return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:$,style:{width:"15%"},className:"relative z-50 m-5 border-2 border-card-border rounded-full transition-all duration-150 hover:border-accent-primary active:scale-90",children:w.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full"})}),w.jsx(Lu,{open:b,value:ae,width:65,height:70,className:"motion-preset-blur-up-lg"})]})});function gE({glow:n=!1}){return w.jsx("h1",{className:`text-1xl font-display font-bold tracking-tight ${n?"drop-shadow-[0_0_25px_rgba(200,155,94,0.6)]":""}`,children:w.jsx("span",{className:"text-accent-primary",children:gi(0).CurrentTitle})})}function _y({userId:n,open:e,onClose:t}){const[r,o]=D.useState(""),[a,l]=D.useState(null),[u,d]=D.useState(null),[f,g]=D.useState(!1),[y,v]=D.useState("WpmGraph");D.useEffect(()=>{if(!e)return;let N=!0;return g(!0),Promise.all([q1(n),H1(n),V1(n)]).then(([I,$,z])=>{N&&(o(I),l($.profilePicture??null),d(z))}).catch(I=>{}).finally(()=>{N&&g(!1)}),()=>{N=!1}},[e,n]);const _=fs(u?.rounds??[]).map(N=>({...N,errorCount:N.errorLetters.length})),S=D.useMemo(()=>{const N=fs(u?.rounds??[]),I=gy(N);return{"Average Acc":fy(N),"Average WPM":py(N),"Best WPM":Ma(N)?.[0]??0,"Best Time":Ma(N)?.[1]??0,"Error Hotspots":Object.keys(I??{})[0]??"",Streaks:my(N)}},[u]),b=w.jsx(bn,{data:_,xKey:(N,I)=>`Round ${I+1}`,series:[{key:"wpm",label:"WPM",fill:!0}],xTitle:"Rounds",yTitle:"WPM",height:"95%",width:"100%",tooltipValueSuffix:"WPM",className:"border-none shadow-none"}),k=w.jsx(bn,{data:_,xKey:(N,I)=>`Round ${I+1}`,series:[{key:"accuracy",label:"Accuracy",fill:!0}],xTitle:"Rounds",yTitle:"Accuracy",height:"95%",width:"100%",tooltipValueSuffix:"%",className:"border-none shadow-none"}),T=w.jsx(bn,{data:_,xKey:(N,I)=>`Round ${I+1}`,series:[{key:"time",label:"Time",fill:!0}],xTitle:"Rounds",yTitle:"Time",height:"95%",width:"100%",tooltipValueSuffix:"'s'",className:"border-none shadow-none"}),O=w.jsx(bn,{data:_,xKey:(N,I)=>`Round ${I+1}`,series:[{key:"errorCount",label:"ErrorLetters",fill:!0}],xTitle:"Rounds",yTitle:"Errors",height:"95%",width:"100%",tooltipValueSuffix:"Error's",className:"border-none shadow-none"}),R=w.jsxs("div",{className:"flex flex-col gap-6 h-full",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("div",{className:"text-sm font-display uppercase tracking-[0.3em] text-text-secondary",children:"Public Profile"}),w.jsx(Ee,{text:"Close",onClickFunction:t})]}),f?w.jsx("div",{className:"text-text-secondary font-display",children:"Loading profile..."}):w.jsxs("div",{className:"flex flex-row gap-x-10 h-full min-h-0",children:[w.jsx("div",{className:"w-1/4 flex flex-col gap-5",children:w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx("div",{className:"w-full aspect-square",children:w.jsx("img",{src:a??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-4 border-card-border shadow-2xl"})}),w.jsx("div",{className:"flex justify-center items-center p-5",children:w.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest",children:r})}),w.jsxs("ul",{className:"list-none pl-0 space-y-2 text-lg text-text-primary font-mono font-extrabold",children:[w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The average accuracy this player has.",children:w.jsx("span",{className:"cursor-default",children:"Average Accuracy"})}),w.jsxs("span",{children:[S["Average Acc"]!==void 0?Math.round(S["Average Acc"]*100)/100:0,"%"]})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The average words per minute this player has.",children:w.jsx("span",{className:"cursor-default",children:"Average WPM"})}),w.jsx("span",{children:S["Average WPM"]!==void 0?Math.round(S["Average WPM"]*100)/100:0})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The best WPM this player had.",children:w.jsx("span",{className:"cursor-default",children:"Best WPM"})}),w.jsx(Pt,{content:`This player got ${S["Best WPM"]} WPM in ${S["Best Time"]} seconds!`,children:w.jsx("span",{children:S["Best WPM"]})})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"The letter the player misstypes the most.",children:w.jsx("span",{className:"cursor-default",children:"Error Hotspots"})}),w.jsx("span",{children:S["Error Hotspots"]})]}),w.jsx("div",{className:"h-px w-full bg-white/80"}),w.jsxs("li",{className:"flex items-center justify-between",children:[w.jsx(Pt,{content:"How many plays this payer has.",children:w.jsx("span",{className:"cursor-default",children:"Streak"})}),w.jsx("span",{children:S.Streaks})]})]})]})}),w.jsxs("div",{className:"w-3/4 flex flex-col gap-5 min-h-0",children:[w.jsx("div",{className:"flex-[3] flex flex-row gap-x-5 min-h-0",children:w.jsxs("div",{className:"w-full h-full bg-game-bg-light rounded-md p-5 pl-0",children:[w.jsx("div",{className:"w-fit h-fit flex items-center justify-center ml-5",children:w.jsx(Ju,{options:["WpmGraph","AccGraph","TimeGraph","ErrorLettersGraph"],value:y,onChange:v})}),y==="WpmGraph"&&b,y==="AccGraph"&&k,y==="TimeGraph"&&T,y==="ErrorLettersGraph"&&O]})}),w.jsx("div",{className:"flex-[2] bg-game-bg-light rounded-md min-h-0",children:w.jsx(wy,{rounds:fs(u?.rounds??[])})})]})]})]});return w.jsx(Lu,{open:e,value:R,width:75,height:80,className:"motion-preset-blur-up-lg",overlayClassName:"z-[60]"})}const mE="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",yE=({user:n,status:e,onViewProfile:t,onAddFriend:r,onRemoveFriend:o,onRespond:a})=>{const l=()=>{switch(e){case"friends":return w.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-accent-success/20 border border-accent-success/30 rounded-md",children:[w.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-accent-success shadow-glow-green animate-pulse"}),w.jsx("span",{className:"text-xs font-display font-semibold text-accent-success",children:"Friends"})]});case"outgoing":return w.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-accent-warning/20 border border-accent-warning/30 rounded-md",children:[w.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-accent-warning shadow-glow-yellow animate-pulse"}),w.jsx("span",{className:"text-xs font-display font-semibold text-accent-warning",children:"Pending"})]});case"incoming":return w.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-accent-primary/20 border border-accent-primary/30 rounded-md",children:[w.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-accent-primary shadow-glow-purple animate-pulse"}),w.jsx("span",{className:"text-xs font-display font-semibold text-accent-primary",children:"Incoming"})]});default:return null}},u=D.useMemo(()=>{switch(e){case"friends":return w.jsx(Ee,{className:"h-8 px-3 text-xs",text:"Remove",onClickFunction:o});case"outgoing":return w.jsx(Ee,{className:"h-8 px-3 text-xs opacity-60",text:"Requested",disabled:!0});case"incoming":return w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ee,{className:"h-8 px-3 text-xs",text:"Accept",onClickFunction:()=>a("accept")}),w.jsx(Ee,{className:"h-8 px-3 text-xs",text:"Decline",onClickFunction:()=>a("reject")})]});case"none":return w.jsx(Ee,{className:"h-8 px-3 text-xs",text:"Add Friend",onClickFunction:r})}},[e,r,o,a]);return w.jsx("div",{className:"group p-4 bg-gradient-to-br from-card-bg to-game-bg-light border-2 border-card-border rounded-xl transition-all duration-300 hover:border-accent-primary hover:shadow-glow-purple hover:scale-[1.01]",children:w.jsxs("div",{className:"flex items-center justify-between gap-4",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[w.jsx("img",{src:n.profilePicture??mE,alt:`${n.Username} avatar`,className:"w-11 h-11 rounded-full object-cover border-2 border-card-border group-hover:border-accent-primary transition-all duration-300 shadow-lg"}),e==="friends"&&w.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-3 h-3 bg-accent-success border-2 border-card-bg rounded-full shadow-glow-green"})]}),w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("div",{className:"font-display font-bold text-text-primary text-sm group-hover:text-accent-primary transition-colors",children:n.Username}),l()]})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(Ee,{className:"h-8 px-3 text-xs",text:"View",onClickFunction:t}),u]})]})})};function vE({open:n,onClose:e,showTriggerButton:t=!0}){const[r,o]=D.useState(!1),[a,l]=D.useState(""),[u,d]=D.useState([]),[f,g]=D.useState(!1),[y,v]=D.useState(null),[_,S]=D.useState(null),[b,k]=D.useState(!1),[T,O]=D.useState({}),[R,N]=D.useState(!1),I=n??r;D.useEffect(()=>{I||(k(!1),S(null),d([]),l(""),O({}),v(null),N(!1))},[I]);const $=()=>{n===void 0&&o(!0)},z=()=>{n!==void 0?e?.():o(!1)},B=async()=>{const te=a.trim();if(N(!0),te.length<2){v("Please enter at least 2 characters."),d([]);return}g(!0),v(null);try{const ae=await K1(te),J=await ay(ae),U=await eE(J.map(W=>W.userId)),G={};J.forEach(W=>{U.friends.includes(W.userId)?G[W.userId]={state:"friends"}:U.outgoing[W.userId]?G[W.userId]={state:"outgoing",requestId:U.outgoing[W.userId]}:U.incoming[W.userId]?G[W.userId]={state:"incoming",requestId:U.incoming[W.userId]}:G[W.userId]={state:"none"}}),d(J),O(G)}catch{v("Search failed. Please try again.")}finally{g(!1)}},Q=(te,ae)=>{O(J=>({...J,[te]:ae}))},oe=async te=>{try{const ae=await tE(te);Q(te,{state:"outgoing",requestId:ae})}catch{v("Could not send friend request.")}},X=async te=>{try{await uy(te),Q(te,{state:"none"})}catch{v("Could not remove friend.")}},ce=async(te,ae)=>{const J=T[te];if(J?.requestId)try{await cy(J.requestId,te,ae),Q(te,{state:ae==="accept"?"friends":"none"})}catch{v("Failed to update friend request.")}},me=te=>{S(te),k(!0)},we=D.useMemo(()=>f?w.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-3",children:[w.jsx("div",{className:"w-10 h-10 border-4 border-accent-primary/30 border-t-accent-primary rounded-full animate-spin"}),w.jsx("div",{className:"text-text-secondary font-display font-semibold text-sm",children:"Searching players..."})]}):u.length===0?w.jsx("div",{className:"flex flex-col items-center justify-center py-12 gap-2",children:w.jsxs("div",{className:"text-text-secondary font-display text-center",children:[w.jsx("div",{className:"font-semibold text-sm mb-1",children:"No players found"}),w.jsx("div",{className:"text-xs opacity-70",children:"Try a different search term"})]})}):w.jsx("div",{className:"flex flex-col gap-3",children:u.map(te=>w.jsx(yE,{user:te,status:T[te.userId]?.state??"none",onViewProfile:()=>me(te),onAddFriend:()=>oe(te.userId),onRemoveFriend:()=>X(te.userId),onRespond:ae=>ce(te.userId,ae)},te.userId))}),[f,u,T]);return!I&&!t?null:w.jsxs(w.Fragment,{children:[t&&w.jsx("div",{className:"m-5 z-30",children:w.jsx(Ee,{onClickFunction:$,text:"Search",className:"shadow-lg hover:shadow-glow-purple"})}),I&&w.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:w.jsxs("div",{className:"w-full max-w-3xl bg-gradient-to-br from-card-bg to-game-bg-light border-2 border-card-border rounded-2xl shadow-2xl overflow-hidden",children:[w.jsx("div",{className:"bg-gradient-to-r from-accent-primary/10 to-transparent border-b-2 border-card-border p-5",children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("h1",{className:"text-text-primary text-2xl font-display font-bold",children:"Find Players"}),w.jsx("p",{className:"text-text-secondary text-xs font-display",children:"Search and connect with other players"})]}),w.jsx(Ee,{text:"Close",onClickFunction:z,className:"w-9 h-9"})]})}),w.jsxs("div",{className:"p-5 space-y-4",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx(mi,{className:"flex-1 h-12 text-base",containerClassName:"flex-1",placeholder:"Search by username...",value:a,onChange:l,onSubmit:B}),w.jsx(Ee,{text:"Search",onClickFunction:B,className:"h-12 px-6 font-bold text-sm",disabled:a.trim().length<2})]}),y&&w.jsx("div",{className:"p-3 bg-accent-warning/10 border-2 border-accent-warning/30 rounded-xl",children:w.jsx("div",{className:"flex items-center gap-2",children:w.jsx("div",{className:"text-xs font-display font-semibold text-accent-warning",children:y})})}),(f||R)&&w.jsx("div",{className:"max-h-[450px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:we})]})]})}),_&&w.jsx(_y,{open:b,onClose:()=>k(!1),userId:_.userId})]})}const xy="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",wE=({request:n,onRespond:e})=>w.jsxs("div",{className:"flex items-center justify-between gap-2 p-2 border-2 border-card-border rounded-lg bg-game-bg-light",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("img",{src:n.profilePicture??xy,alt:`${n.Username} avatar`,className:"w-8 h-8 rounded-full object-cover border-2 border-card-border"}),w.jsx("div",{className:"text-text-primary text-sm font-display",children:n.Username})]}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(Ee,{className:"h-7 px-2 text-xs",text:"Accept",onClickFunction:()=>e(n.id,n.sender_id,"accept")}),w.jsx(Ee,{className:"h-7 px-2 text-xs",text:"Reject",onClickFunction:()=>e(n.id,n.sender_id,"reject")})]})]}),_E=({friend:n,onViewProfile:e,onRemove:t})=>w.jsxs("div",{className:"flex items-center justify-between gap-3 p-2 rounded-lg border-2 border-card-border bg-game-bg-light hover:border-accent-primary transition-all",children:[w.jsxs("button",{onClick:()=>e(n),className:"flex items-center gap-3 text-left flex-1 min-w-0",children:[w.jsx("img",{src:n.profilePicture??xy,alt:`${n.Username} avatar`,className:"w-10 h-10 rounded-full object-cover border-2 border-card-border flex-shrink-0"}),w.jsx("div",{className:"text-text-primary font-display font-semibold truncate",children:n.Username})]}),w.jsx(Ee,{className:"h-7 px-2 text-xs flex-shrink-0",text:"Remove",onClickFunction:()=>t(n.userId)})]}),qg=({title:n})=>w.jsx("div",{className:"text-xs font-display uppercase tracking-[0.25em] text-text-secondary",children:n}),du=({message:n})=>w.jsx("div",{className:"text-text-secondary text-xs font-display",children:n});function xE(){const[n,e]=D.useState(!1),[t,r]=D.useState([]),[o,a]=D.useState([]),[l,u]=D.useState(!1),[d,f]=D.useState(null),[g,y]=D.useState(!1),v=Yn("logged in")==="true",_=async()=>{if(v){u(!0);try{const[O,R]=await Promise.all([rE(),nE()]);r(O),a(R)}catch{}finally{u(!1)}}};D.useEffect(()=>{v&&_()},[v]),D.useEffect(()=>{!n&&v&&_()},[n,v]);const S=async(O,R,N)=>{try{await cy(O,R,N),await _()}catch{}},b=O=>{f(O),y(!0)},k=async O=>{try{await uy(O),await _()}catch{}},T=()=>{y(!1),f(null)};return v?w.jsxs("div",{className:"w-full h-full flex flex-col gap-4 p-5",children:[w.jsx(Ee,{text:"Search",onClickFunction:()=>e(!0),className:"w-full justify-center"}),w.jsxs("div",{className:"flex flex-col gap-2",children:[w.jsx(qg,{title:"Friend Requests"}),w.jsx("div",{className:"flex flex-col gap-2",children:o.length===0?w.jsx(du,{message:"No requests"}):o.map(O=>w.jsx(wE,{request:O,onRespond:S},O.id))})]}),w.jsxs("div",{className:"flex flex-col gap-2 flex-1 min-h-0",children:[w.jsx(qg,{title:"Friends"}),w.jsx("div",{className:"flex flex-col gap-2 overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:l?w.jsx(du,{message:"Loading..."}):t.length===0?w.jsx(du,{message:"No friends yet"}):t.map(O=>w.jsx(_E,{friend:O,onViewProfile:b,onRemove:k},O.userId))})]}),w.jsx(vE,{open:n,onClose:()=>e(!1),showTriggerButton:!1}),d&&w.jsx(_y,{open:g,onClose:T,userId:d.userId})]}):null}function wa({text:n,fontSize:e=30,infoText:t,infoFontSize:r=12,infoPlace:o="Bottom",color:a="text-text-primary"}){const l=w.jsx("p",{style:{fontSize:e},className:`${a} font-bold`,children:n}),u=w.jsx("p",{style:{fontSize:`${r}px`},className:"text-text-secondary font-bold uppercase tracking-wider",children:t});return w.jsxs("div",{className:"flex flex-col",children:[o=="Bottom"?l:u,o=="Top"?l:u]})}function bE(){const{game:n,stats:e}=$i(),t=e?.rounds?.length?e.rounds[e.rounds.length-1]:null,r=t?.wpm??n.WPM,o=t?.accuracy??n.Accurancy,a=n.Errors??t?.errorLetters?.length??0,l=t?.time??n.Seconds;return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"w-full h-full bg-card-bg border border-card-border rounded-lg shadow-card flex flex-col",children:[w.jsxs("div",{className:"w-full h-28 border-b border-card-border flex flex-row items-center justify-around px-12",children:[w.jsx(wa,{text:`${r}`,fontSize:42,infoText:"WPM",color:"text-accent-primary"}),w.jsx("div",{className:"h-16 w-px bg-card-border"}),w.jsx(wa,{text:`${o}%`,fontSize:42,infoText:"ACC",color:"text-accent-success"}),w.jsx("div",{className:"h-16 w-px bg-card-border"}),w.jsx(wa,{text:`${a}`,fontSize:42,infoText:"Errors",color:"text-accent-error"}),w.jsx("div",{className:"h-16 w-px bg-card-border"}),w.jsx(wa,{text:`${l}'s`,fontSize:42,infoText:"Time / Seconds",color:"text-accent-secondary"})]}),w.jsx("div",{className:"flex-1 p-10",children:w.jsx(bn,{data:n.LineGraphDataSet,xKey:"Seconds",series:[{key:"WPM",label:"WPM",fill:!0}],xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE",tooltipValueSuffix:"WPM",className:"border-none shadow-none"})})]})})}function SE(){const{isGameStarted:n,setIsGameStarted:e,setShowResults:t,setGame:r,textVersion:o}=$i(),[a,l]=D.useState(""),[u,d]=D.useState([]),[f,g]=D.useState(gi(0).Timer),[y,v]=D.useState(()=>gi(0).CurrentText),_=D.useRef(!1),S=D.useRef(f),[b,k]=D.useState({Normal:"text-text-primary opacity-30",Correct:"text-text-correct",Incorrect:"text-text-incorrect",Upcoming:"text-text-upcoming opacity-20",Current:"text-text-current font-semibold border-b-4 border-white/50"}),T=D.useRef(y),O=D.useRef(gi(0)),R=D.useMemo(()=>y.split(`
`).join(""),[y]),N=D.useMemo(()=>y.split(`
`),[y]),I=D.useRef(a),$=D.useRef(null),z=D.useRef(0),B=D.useRef(0),Q=D.useRef([]),oe=D.useRef(!1),X=D.useRef(0),ce=D.useCallback(async()=>{if(oe.current)return;oe.current=!0;const U=Math.max(B.current-z.current,0),G=Math.max(X.current,0),W=G/60,C={created_at:new Date().toISOString(),time:G,text:y,accuracy:yy(U,Math.max(B.current,1)),wpm:Iu(B.current,W),errorLetters:Q.current};try{await Z1(C)}catch{}},[R.length]);D.useEffect(()=>{},[k]);const me=D.useCallback(U=>{const W=(U??T.current).split(`
`).join(""),C=O.current.Timer;e(!1),t(!1),l(""),I.current="",z.current=0,B.current=0,Q.current=[],oe.current=!1,X.current=0,d(Array.from({length:W.length},()=>b.Normal)),g(C),S.current=C,r(F=>({...F,Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]})),requestAnimationFrame(()=>{$.current?.scrollTo({top:0}),$.current?.focus()})},[r,t,e,b]),we=D.useCallback(()=>{const U=gi(0),G=O.current,W=U.CurrentText!==G.CurrentText,C=U.Timer!==G.Timer,F=U.CurrentTitle!==G.CurrentTitle;if(!(!W&&!C&&!F)){if(O.current=U,W){T.current=U.CurrentText,v(U.CurrentText),me(U.CurrentText);return}if(C){me();return}me()}},[me]);D.useEffect(()=>{T.current=y},[y]),D.useEffect(()=>{S.current=f},[f]),D.useEffect(()=>{if(!_.current){_.current=!0;return}we()},[we,o]),D.useEffect(()=>{$.current?.focus()},[]),D.useEffect(()=>{const U=M1(we);return we(),U},[we]),D.useEffect(()=>{d(Array.from({length:R.length},()=>b.Normal))},[R,b]);const te=D.useMemo(()=>{const U=y.split(`
`),G=[];let W=0;for(const C of U)G.push(W),W+=C.length;return G},[y]);D.useEffect(()=>{if(!n)return;const U=O.current.Timer>0;U&&(S.current=O.current.Timer,g(S.current));const G=setInterval(()=>{r(C=>{const F=C.Seconds/60,Y={gameIndex:C.LineGraphDataSet.length,Seconds:C.Seconds,WPM:Iu(C.Character,F)};return{...C,LineGraphDataSet:[...C.LineGraphDataSet,Y]}})},5e3),W=setInterval(()=>{X.current+=1,r(C=>({...C,Seconds:C.Seconds+1})),U&&(S.current=Math.max(S.current-1,0),g(S.current),!(S.current>0)&&(e(!1),(async()=>(await ce(),t(!0)))(),clearInterval(W),clearInterval(G)))},1e3);return()=>{clearInterval(W),clearInterval(G)}},[n,r,t,e]),D.useEffect(()=>{const U=a.length-1;if(U<0){r(Y=>({...Y,Character:B.current,CorrectCharacter:Math.max(B.current-z.current,0)})),d(Array.from({length:R.length},()=>b.Normal));return}const G=a[U]==R[U],W=Math.min(a.length,R.length);for(let Y=0;Y<W;Y+=1)a[Y],R[Y];r(Y=>({...Y,Character:B.current,CorrectCharacter:Math.max(B.current-z.current,0)})),d(Y=>{const le=[...Y];return le[U]=G?b.Correct:b.Incorrect,U+1<le.length&&(le[U+1]=b.Current),U+2<le.length&&(le[U+2]=b.Upcoming),le});const C=$.current;let F=null;if(C){for(let Y=U;Y<R.length&&(F=C.querySelector(`[data-idx="${Y}"]`),!F);Y+=1);if(!F)for(let Y=U-1;Y>=0&&(F=C.querySelector(`[data-idx="${Y}"]`),!F);Y-=1);}if(C&&F instanceof HTMLElement){const Y=F.offsetTop-C.clientHeight/2+F.offsetHeight/2,le=Math.max(C.scrollHeight-C.clientHeight,0),ye=Math.max(0,Math.min(Y,le));C.scrollTo({top:ye})}U>=R.length-1&&(e(!1),(async()=>(await ce(),t(!0)))())},[a,R,ce,r,t,e,b]);const ae=(U,G)=>{let W=0;return U.split(/(\s+)/).map((C,F)=>{const Y=W;return W+=C.length,C.trim()===""?w.jsx("span",{children:C},F):w.jsx("span",{className:"whitespace-nowrap",children:C.split("").map((le,ye)=>{const ve=te[G]+Y+ye,Oe=u[ve]??b.Normal;return w.jsx("span",{"data-idx":ve,className:`inline-block ${Oe} transition-colors duration-100`,children:le},ye)})},F)})},J=O.current.Timer>0;return w.jsxs("div",{className:"relative w-full h-2/5",children:[J&&w.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-md border border-card-border bg-game-bg-light px-3 py-1 text-sm font-semibold text-text-primary shadow-card pointer-events-none",children:f}),w.jsx("div",{ref:$,tabIndex:0,onClick:()=>$.current?.focus(),onKeyDown:U=>{const G=U.key;if(G==="Escape"){U.preventDefault(),me();return}if(!(G==="Backspace"||G.length===1&&!U.ctrlKey&&!U.metaKey&&!U.altKey))return;if(U.preventDefault(),n||e(!0),G==="Backspace"){if(I.current.length===0)return;l(F=>{const Y=F.slice(0,F.length-1);return I.current=Y,Y});return}if(I.current.length>=R.length)return;const C=I.current.length;B.current+=1,R[C]!==G&&(z.current+=1,Q.current.push(R[C])),l(F=>{const Y=F+G;return I.current=Y,Y})},className:"w-full h-full bg-card-bg p-10 rounded-xl text-text-primary text-typing-xxl font-mono outline-none shadow-card border-2 border-card-border overflow-y-scroll hover:border-accent-warning focus:border-accent-primary transition-all duration-300 backdrop-blur-sm",style:{scrollbarWidth:"thin",scrollbarColor:"#3a352f #211e1b"},children:N.map((U,G)=>w.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:ae(U,G)},G))})]})}function kE(){const{bumpTextVersion:n}=$i(),[e,t]=D.useState(),[r,o]=D.useState("Random");D.useEffect(()=>{t(dE()),Yn("theme")===void 0&&Qt("theme","theme-earthy-earth"),Yn("theme-index")===""&&Qt("theme-index","0")},[]),D.useEffect(()=>{},[e]);const a=(f,g)=>{Qt("theme",f),Qt("theme-index",g),sE()},l=f=>{D1(0,{Text:{Length:f}}),dy(),n()},u=f=>{uE(f)},d=f=>{const g=Vg();if(!f||g.length===0)return;o(f);const y=f,v=iy(0).Text.Length,_=g[Math.floor(Math.random()*g.length)],S=y==="Random"?_:y,k=lE(S,v)?.text??"Something went wrong! Text not found!";Ia(0,{CurrentTitle:S}),Ia(0,{CurrentText:k})};return w.jsx(w.Fragment,{children:w.jsxs("div",{className:"w-full h-14 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row items-center gap-3 px-2 backdrop-blur-sm",children:[w.jsx(xa,{text:"",tooltip:"Text options",optionsValue:[w.jsx(_a,{children:[w.jsx(Ee,{index:0,text:"Short",onClickFunction:()=>l("short")}),w.jsx(Ee,{index:1,text:"Middle",onClickFunction:()=>l("medium")}),w.jsx(Ee,{index:2,text:"Long",onClickFunction:()=>l("long")}),w.jsx(Ju,{label:"",options:["Random",...Vg()],value:r,onChange:d})],defaultSelect:0})]}),w.jsx(xa,{text:"",tooltip:"Timer options",optionsValue:[w.jsx(_a,{children:[w.jsx(Ee,{index:0,text:"15's",onClickFunction:()=>u(15),tooltip:"Set a timer too 15 seconds."}),w.jsx(Ee,{index:1,text:"30's",onClickFunction:()=>u(30),tooltip:"Set a timer too 30 seconds."}),w.jsx(Ee,{index:2,text:"60's",onClickFunction:()=>u(60),tooltip:"Set a timer too 60 seconds."}),w.jsx(Ee,{index:3,text:"",onClickFunction:()=>u(-1),tooltip:"Set a timer that runs until u finished typing."})],defaultSelect:3})]}),w.jsx(xa,{text:"",tooltip:"Theme",itemsPerRow:15,optionsValue:[w.jsx(_a,{children:e!==void 0?e.map((f,g)=>w.jsx(Ee,{text:"",className:` h-10 ${f} text-accent-primary`,onClickFunction:()=>a(f,`${g}`)},g)):[w.jsx(Ee,{}),w.jsx(Ee,{})],defaultSelect:parseInt(Yn("theme-index"))})]})]})})}function EE({text:n="Loading..."}){return w.jsxs("div",{className:"w-screen h-screen bg-game-bg flex flex-col items-center justify-center gap-8",children:[w.jsxs("div",{className:"relative w-24 h-24",children:[[...Array(8)].map((e,t)=>w.jsx("div",{className:"absolute w-3 h-3 bg-accent-primary rounded-full",style:{top:"50%",left:"50%",transform:`rotate(${t*45}deg) translateY(-40px)`,animation:"pulse-glow 1.2s ease-in-out infinite",animationDelay:`${t*.15}s`}},t)),w.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-accent-warning rounded-full shadow-glow-purple animate-pulse"})]}),w.jsxs("div",{className:"flex flex-col items-center gap-2",children:[w.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary animate-pulse",children:n}),w.jsxs("div",{className:"flex gap-1.5",children:[w.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full animate-bounce",style:{animationDelay:"0s"}}),w.jsx("div",{className:"w-2 h-2 bg-accent-warning rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),w.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),w.jsx("style",{children:`
                @keyframes pulse-glow {
                    0%, 100% {
                        opacity: 0.3;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(0.8);
                    }
                    50% {
                        opacity: 1;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(1.2);
                        box-shadow: 0 0 20px rgba(200, 155, 94, 0.8);
                    }
                }
            `})]})}const TE=({authMode:n,setAuthMode:e,handleSignUp:t,handleSignupBtn:r,handleLoginBtn:o,handleOAuthLogin:a,signUpEmail:l,authMessage:u})=>w.jsxs("div",{className:"w-full h-full flex flex-col lg:flex-row gap-6 p-6 lg:p-8",children:[w.jsxs("div",{className:"lg:w-5/12 w-full flex flex-col gap-6 bg-gradient-to-br from-game-bg-light to-game-bg border-2 border-card-border rounded-xl p-6 lg:p-8 shadow-xl",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-warning shadow-glow-yellow animate-pulse"}),w.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-primary shadow-glow-purple animate-pulse",style:{animationDelay:"150ms"}}),w.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green animate-pulse",style:{animationDelay:"300ms"}})]}),w.jsx("div",{className:"text-xs font-display uppercase tracking-[0.35em] text-text-secondary opacity-70",children:"Portal"})]}),w.jsxs("div",{className:"flex flex-col gap-3",children:[w.jsx("div",{className:"flex items-center gap-3",children:w.jsx("div",{className:"h-1 w-12 bg-accent-primary rounded-full shadow-glow-purple"})}),w.jsx("h1",{className:"text-4xl lg:text-5xl font-display font-bold tracking-widest bg-gradient-to-r from-accent-primary to-accent-primary/60 bg-clip-text text-transparent",children:"WELCOME"}),w.jsx("p",{className:"text-text-secondary font-display text-sm leading-relaxed",children:"Join the community to track your progress, compete with friends, and unlock exclusive features."})]}),w.jsx("div",{className:"flex flex-col gap-3 mt-2",children:[{label:"Sync Progress",status:"Cloud Backup"},{label:"Daily Streaks",status:"Never Lose"},{label:"Custom Themes",status:"Unlock All"},{label:"Leaderboards",status:"Compete"}].map(d=>w.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-card-bg/30 border border-card-border/50 backdrop-blur-sm transition-all duration-300 hover:border-accent-primary/50 hover:shadow-glow-purple/20",children:[w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"text-sm font-display font-semibold text-text-primary",children:d.label}),w.jsx("div",{className:"text-xs text-text-secondary",children:d.status})]}),w.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green"})]},d.label))}),w.jsx("div",{className:"mt-auto pt-6 border-t border-card-border/30",children:w.jsx("div",{className:"text-xs font-display uppercase tracking-[0.3em] text-text-secondary/70",children:"Typing Game  2026"})})]}),w.jsxs("div",{className:"lg:w-7/12 w-full flex flex-col gap-5",children:[w.jsx("div",{className:"flex items-center gap-3 p-1 bg-game-bg-light border-2 border-card-border rounded-xl",children:["login","signup"].map(d=>w.jsx("button",{onClick:()=>e(d),className:`flex-1 px-6 py-2.5 rounded-lg font-display font-bold uppercase tracking-wider text-sm transition-all duration-300 ${n===d?"bg-gradient-to-r from-accent-primary to-accent-primary/80 text-white shadow-glow-purple scale-105":"text-text-secondary hover:text-text-primary hover:bg-card-bg/50"}`,children:d==="login"?"Sign In":"Register"},d))}),w.jsxs("div",{className:"flex flex-col gap-4 p-6 bg-game-bg-light/50 border-2 border-card-border rounded-xl backdrop-blur-sm",children:[w.jsxs("div",{className:"flex flex-col gap-1",children:[w.jsx("h2",{className:"text-xl font-display font-bold text-text-primary",children:n==="login"?"Welcome Back":"Create Account"}),w.jsx("p",{className:"text-sm text-text-secondary",children:n==="login"?"Enter your credentials to continue":"Fill in your details to get started"})]}),w.jsxs("div",{className:"flex flex-col gap-3",children:[n==="signup"&&w.jsx("div",{className:"animate-fade-in",children:w.jsx(mi,{onChange:d=>t("Username",d),label:"Username",placeholder:"Choose a unique username...",type:"text",className:"w-full"})}),w.jsx(mi,{onChange:d=>t("Email",d),label:"Email Address",placeholder:"your.email@example.com",type:"email",className:"w-full"}),w.jsx(mi,{onChange:d=>t("Password",d),label:"Password",placeholder:"Enter a secure password...",type:"password",className:"w-full"})]}),w.jsx(Ee,{disabled:!cE(l),onClickFunction:n==="signup"?r:o,text:n==="signup"?"Create Account":"Sign In",className:"w-full h-11 text-sm font-bold"}),u&&w.jsx("div",{className:"p-3 rounded-lg bg-accent-warning/10 border border-accent-warning/30",children:w.jsx("div",{className:"text-xs font-display text-accent-warning",children:u})})]}),w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-card-border to-transparent"}),w.jsx("span",{className:"text-xs font-display uppercase tracking-wider text-text-secondary",children:"Or continue with"}),w.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-card-border to-transparent"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("button",{onClick:()=>a("google"),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-white text-gray-700 font-display font-semibold text-sm rounded-lg border-2 border-gray-200 transition-all duration-200 hover:border-accent-primary hover:shadow-glow-purple active:scale-95",children:[w.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),w.jsxs("button",{onClick:()=>a("discord"),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-[#5865F2] text-white font-display font-semibold text-sm rounded-lg border-2 border-[#5865F2] transition-all duration-200 hover:bg-[#4752C4] hover:shadow-glow-purple active:scale-95",children:[w.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"})}),"Discord"]})]}),w.jsx("div",{className:"text-center text-xs text-text-secondary",children:n==="login"?w.jsxs("span",{children:["Don't have an account? ",w.jsx("button",{onClick:()=>e("signup"),className:"text-accent-primary hover:underline font-semibold",children:"Sign up here"})]}):w.jsxs("span",{children:["Already have an account? ",w.jsx("button",{onClick:()=>e("login"),className:"text-accent-primary hover:underline font-semibold",children:"Sign in here"})]})})]})]});function CE(){const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[o,a]=D.useState("login"),[l,u]=D.useState(""),[d,f]=D.useState(!1),[g,y]=D.useState(!0),[v,_]=D.useState(""),[S,b]=D.useState(""),[k,T]=D.useState(""),{showResults:O,setShowResults:R,bumpTextVersion:N,loadingStats:I}=$i();D.useEffect(()=>{dy(),N(),Yn("logged in")||Qt("logged in","false");const X=Yn("theme")||"theme-earthy-earth";(me=>{Array.from(me.classList).filter(we=>we.startsWith("theme-")).forEach(we=>me.classList.remove(we)),me.classList.add(X)})(document.documentElement)},[N]),D.useEffect(()=>{let X=!0;(async()=>{const{data:we,error:te}=await pe.auth.getSession();if(!X)return;const ae=!!we.session;f(ae),Qt("logged in",ae?"true":"false"),y(!1)})();const{data:{subscription:me}}=pe.auth.onAuthStateChange((we,te)=>{if(!X)return;const ae=!!te;f(ae),Qt("logged in",ae?"true":"false")});return()=>{X=!1,me.unsubscribe()}},[]);const $=(X,ce)=>{X==="Username"&&_(ce),X==="Email"&&b(ce),X==="Password"&&T(ce)},z=async()=>{if(a("signup"),d)return;const X=await F1(v,S,k);X?.status==="verify"?u(X.message??"Bitte Email besttigen."):X?.status==="error"?u(X.message??"Error, please try again."):(u(""),r(!1))},B=async()=>{const X=await z1(S,k);a("login"),X?.status==="verify"?u(X.message??"Bitte Email besttigen."):X?.status==="error"?u(X.message??"Error, please try again."):(u(""),r(!1))},Q=async X=>{await W1(X)},oe=Yn("theme")||"theme-earthy-earth";return w.jsx("div",{className:oe,children:w.jsx("div",{className:"w-screen h-screen bg-game-bg overflow-hidden",children:w.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center",children:[w.jsx("div",{id:"portal-root",className:oe}),O?w.jsxs("div",{className:"w-full h-full flex flex-row",children:[w.jsx("div",{className:"absolute w-fit h-fit flex items-start p-5 z-10",children:w.jsx(Ee,{onClickFunction:()=>R(!1),text:""})}),w.jsx("div",{className:"w-full h-full flex items-center justify-center",children:w.jsx("div",{className:"w-4/5 h-4/5",children:I?w.jsx(EE,{text:"Loading results..."}):w.jsx(bE,{})})})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"w-1/5 h-full flex-0",children:d?w.jsx(pE,{}):w.jsx("div",{className:"relative z-50 p-5",children:w.jsx(Ee,{onClickFunction:()=>r(!t),text:g?"Checking...":"Login",className:"shadow-lg hover:shadow-glow-purple"})})}),t&&w.jsx(Lu,{value:w.jsx(TE,{authMode:o,setAuthMode:a,handleSignUp:$,handleSignupBtn:z,handleLoginBtn:B,handleOAuthLogin:Q,signUpEmail:S,authMessage:l}),width:"min(1100px, 95vw)",height:"min(700px, 92vh)",className:"bg-transparent border-none"}),w.jsxs("div",{className:"w-1/5 h-full flex flex-col gap-3 justify-center items-center flex-1",children:[w.jsx(kE,{}),w.jsx(SE,{}),w.jsx("div",{className:"w-[98%] flex flex-row items-center justify-start",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:w.jsx(gE,{glow:n})})]}),w.jsx("div",{className:"w-1/5 h-full flex-2",children:w.jsx(xE,{})})]})]})})})}E0.createRoot(document.getElementById("root")).render(w.jsx(D.StrictMode,{children:w.jsx(hE,{children:w.jsx(CE,{})})}));
