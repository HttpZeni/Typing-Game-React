(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Uc={exports:{}},rs={},zc={exports:{}},ge={};var Hf;function s0(){if(Hf)return ge;Hf=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function S(C,$,J){this.props=C,this.context=$,this.refs=b,this.updater=J||_}S.prototype.isReactComponent={},S.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},S.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function T(){}T.prototype=S.prototype;function A(C,$,J){this.props=C,this.context=$,this.refs=b,this.updater=J||_}var R=A.prototype=new T;R.constructor=A,x(R,S.prototype),R.isPureReactComponent=!0;var M=Array.isArray,L=Object.prototype.hasOwnProperty,U={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function W(C,$,J){var se,fe={},pe=null,Ce=null;if($!=null)for(se in $.ref!==void 0&&(Ce=$.ref),$.key!==void 0&&(pe=""+$.key),$)L.call($,se)&&!F.hasOwnProperty(se)&&(fe[se]=$[se]);var ke=arguments.length-2;if(ke===1)fe.children=J;else if(1<ke){for(var Ne=Array(ke),xt=0;xt<ke;xt++)Ne[xt]=arguments[xt+2];fe.children=Ne}if(C&&C.defaultProps)for(se in ke=C.defaultProps,ke)fe[se]===void 0&&(fe[se]=ke[se]);return{$$typeof:n,type:C,key:pe,ref:Ce,props:fe,_owner:U.current}}function G(C,$){return{$$typeof:n,type:C.type,key:$,ref:C.ref,props:C.props,_owner:C._owner}}function ie(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function oe(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return $[J]})}var ce=/\/+/g;function me(C,$){return typeof C=="object"&&C!==null&&C.key!=null?oe(""+C.key):$.toString(36)}function Se(C,$,J,se,fe){var pe=typeof C;(pe==="undefined"||pe==="boolean")&&(C=null);var Ce=!1;if(C===null)Ce=!0;else switch(pe){case"string":case"number":Ce=!0;break;case"object":switch(C.$$typeof){case n:case e:Ce=!0}}if(Ce)return Ce=C,fe=fe(Ce),C=se===""?"."+me(Ce,0):se,M(fe)?(J="",C!=null&&(J=C.replace(ce,"$&/")+"/"),Se(fe,$,J,"",function(xt){return xt})):fe!=null&&(ie(fe)&&(fe=G(fe,J+(!fe.key||Ce&&Ce.key===fe.key?"":(""+fe.key).replace(ce,"$&/")+"/")+C)),$.push(fe)),1;if(Ce=0,se=se===""?".":se+":",M(C))for(var ke=0;ke<C.length;ke++){pe=C[ke];var Ne=se+me(pe,ke);Ce+=Se(pe,$,J,Ne,fe)}else if(Ne=v(C),typeof Ne=="function")for(C=Ne.call(C),ke=0;!(pe=C.next()).done;)pe=pe.value,Ne=se+me(pe,ke++),Ce+=Se(pe,$,J,Ne,fe);else if(pe==="object")throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ye(C,$,J){if(C==null)return C;var se=[],fe=0;return Se(C,se,"","",function(pe){return $.call(J,pe,fe++)}),se}function ve(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var X={current:null},D={transition:null},Y={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:D,ReactCurrentOwner:U};function q(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:ye,forEach:function(C,$,J){ye(C,function(){$.apply(this,arguments)},J)},count:function(C){var $=0;return ye(C,function(){$++}),$},toArray:function(C){return ye(C,function($){return $})||[]},only:function(C){if(!ie(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ge.Component=S,ge.Fragment=t,ge.Profiler=o,ge.PureComponent=A,ge.StrictMode=i,ge.Suspense=h,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,ge.act=q,ge.cloneElement=function(C,$,J){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var se=x({},C.props),fe=C.key,pe=C.ref,Ce=C._owner;if($!=null){if($.ref!==void 0&&(pe=$.ref,Ce=U.current),$.key!==void 0&&(fe=""+$.key),C.type&&C.type.defaultProps)var ke=C.type.defaultProps;for(Ne in $)L.call($,Ne)&&!F.hasOwnProperty(Ne)&&(se[Ne]=$[Ne]===void 0&&ke!==void 0?ke[Ne]:$[Ne])}var Ne=arguments.length-2;if(Ne===1)se.children=J;else if(1<Ne){ke=Array(Ne);for(var xt=0;xt<Ne;xt++)ke[xt]=arguments[xt+2];se.children=ke}return{$$typeof:n,type:C.type,key:fe,ref:pe,props:se,_owner:Ce}},ge.createContext=function(C){return C={$$typeof:l,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:a,_context:C},C.Consumer=C},ge.createElement=W,ge.createFactory=function(C){var $=W.bind(null,C);return $.type=C,$},ge.createRef=function(){return{current:null}},ge.forwardRef=function(C){return{$$typeof:u,render:C}},ge.isValidElement=ie,ge.lazy=function(C){return{$$typeof:g,_payload:{_status:-1,_result:C},_init:ve}},ge.memo=function(C,$){return{$$typeof:f,type:C,compare:$===void 0?null:$}},ge.startTransition=function(C){var $=D.transition;D.transition={};try{C()}finally{D.transition=$}},ge.unstable_act=q,ge.useCallback=function(C,$){return X.current.useCallback(C,$)},ge.useContext=function(C){return X.current.useContext(C)},ge.useDebugValue=function(){},ge.useDeferredValue=function(C){return X.current.useDeferredValue(C)},ge.useEffect=function(C,$){return X.current.useEffect(C,$)},ge.useId=function(){return X.current.useId()},ge.useImperativeHandle=function(C,$,J){return X.current.useImperativeHandle(C,$,J)},ge.useInsertionEffect=function(C,$){return X.current.useInsertionEffect(C,$)},ge.useLayoutEffect=function(C,$){return X.current.useLayoutEffect(C,$)},ge.useMemo=function(C,$){return X.current.useMemo(C,$)},ge.useReducer=function(C,$,J){return X.current.useReducer(C,$,J)},ge.useRef=function(C){return X.current.useRef(C)},ge.useState=function(C){return X.current.useState(C)},ge.useSyncExternalStore=function(C,$,J){return X.current.useSyncExternalStore(C,$,J)},ge.useTransition=function(){return X.current.useTransition()},ge.version="18.3.1",ge}var Vf;function ju(){return Vf||(Vf=1,zc.exports=s0()),zc.exports}var qf;function o0(){if(qf)return rs;qf=1;var n=ju(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,f){var g,y={},v=null,_=null;f!==void 0&&(v=""+f),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(_=h.ref);for(g in h)i.call(h,g)&&!a.hasOwnProperty(g)&&(y[g]=h[g]);if(u&&u.defaultProps)for(g in h=u.defaultProps,h)y[g]===void 0&&(y[g]=h[g]);return{$$typeof:e,type:u,key:v,ref:_,props:y,_owner:o.current}}return rs.Fragment=t,rs.jsx=l,rs.jsxs=l,rs}var Kf;function a0(){return Kf||(Kf=1,Uc.exports=o0()),Uc.exports}var k=a0(),z=ju(),Jo={},Fc={exports:{}},wt={},Bc={exports:{}},Wc={};var Gf;function l0(){return Gf||(Gf=1,(function(n){function e(D,Y){var q=D.length;D.push(Y);e:for(;0<q;){var C=q-1>>>1,$=D[C];if(0<o($,Y))D[C]=Y,D[q]=$,q=C;else break e}}function t(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var Y=D[0],q=D.pop();if(q!==Y){D[0]=q;e:for(var C=0,$=D.length,J=$>>>1;C<J;){var se=2*(C+1)-1,fe=D[se],pe=se+1,Ce=D[pe];if(0>o(fe,q))pe<$&&0>o(Ce,fe)?(D[C]=Ce,D[pe]=q,C=pe):(D[C]=fe,D[se]=q,C=se);else if(pe<$&&0>o(Ce,q))D[C]=Ce,D[pe]=q,C=pe;else break e}}return Y}function o(D,Y){var q=D.sortIndex-Y.sortIndex;return q!==0?q:D.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],f=[],g=1,y=null,v=3,_=!1,x=!1,b=!1,S=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(D){for(var Y=t(f);Y!==null;){if(Y.callback===null)i(f);else if(Y.startTime<=D)i(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=t(f)}}function M(D){if(b=!1,R(D),!x)if(t(h)!==null)x=!0,ve(L);else{var Y=t(f);Y!==null&&X(M,Y.startTime-D)}}function L(D,Y){x=!1,b&&(b=!1,T(W),W=-1),_=!0;var q=v;try{for(R(Y),y=t(h);y!==null&&(!(y.expirationTime>Y)||D&&!oe());){var C=y.callback;if(typeof C=="function"){y.callback=null,v=y.priorityLevel;var $=C(y.expirationTime<=Y);Y=n.unstable_now(),typeof $=="function"?y.callback=$:y===t(h)&&i(h),R(Y)}else i(h);y=t(h)}if(y!==null)var J=!0;else{var se=t(f);se!==null&&X(M,se.startTime-Y),J=!1}return J}finally{y=null,v=q,_=!1}}var U=!1,F=null,W=-1,G=5,ie=-1;function oe(){return!(n.unstable_now()-ie<G)}function ce(){if(F!==null){var D=n.unstable_now();ie=D;var Y=!0;try{Y=F(!0,D)}finally{Y?me():(U=!1,F=null)}}else U=!1}var me;if(typeof A=="function")me=function(){A(ce)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ye=Se.port2;Se.port1.onmessage=ce,me=function(){ye.postMessage(null)}}else me=function(){S(ce,0)};function ve(D){F=D,U||(U=!0,me())}function X(D,Y){W=S(function(){D(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){x||_||(x=!0,ve(L))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(D){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var q=v;v=Y;try{return D()}finally{v=q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=v;v=D;try{return Y()}finally{v=q}},n.unstable_scheduleCallback=function(D,Y,q){var C=n.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?C+q:C):q=C,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=q+$,D={id:g++,callback:Y,priorityLevel:D,startTime:q,expirationTime:$,sortIndex:-1},q>C?(D.sortIndex=q,e(f,D),t(h)===null&&D===t(f)&&(b?(T(W),W=-1):b=!0,X(M,q-C))):(D.sortIndex=$,e(h,D),x||_||(x=!0,ve(L))),D},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(D){var Y=v;return function(){var q=v;v=Y;try{return D.apply(this,arguments)}finally{v=q}}}})(Wc)),Wc}var Yf;function c0(){return Yf||(Yf=1,Bc.exports=l0()),Bc.exports}var Jf;function u0(){if(Jf)return wt;Jf=1;var n=ju(),e=c0();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){l(r,s),l(r+"Capture",s)}function l(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return h.call(y,r)?!0:h.call(g,r)?!1:f.test(r)?y[r]=!0:(g[r]=!0,!1)}function _(r,s,c,d){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,s,c,d){if(s===null||typeof s>"u"||_(r,s,c,d))return!0;if(d)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,c,d,p,m,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=r,this.type=s,this.sanitizeURL=m,this.removeEmptyString=w}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){S[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];S[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){S[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){S[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){S[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){S[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){S[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){S[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){S[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function A(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(T,A);S[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(T,A);S[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(T,A);S[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),S.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){S[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function R(r,s,c,d){var p=S.hasOwnProperty(s)?S[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,c,p,d)&&(c=null),d||p===null?v(s)&&(c===null?r.removeAttribute(s):r.setAttribute(s,""+c)):p.mustUseProperty?r[p.propertyName]=c===null?p.type===3?!1:"":c:(s=p.attributeName,d=p.attributeNamespace,c===null?r.removeAttribute(s):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,d?r.setAttributeNS(d,s,c):r.setAttribute(s,c))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),oe=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),ye=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),X=Symbol.for("react.offscreen"),D=Symbol.iterator;function Y(r){return r===null||typeof r!="object"?null:(r=D&&r[D]||r["@@iterator"],typeof r=="function"?r:null)}var q=Object.assign,C;function $(r){if(C===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);C=s&&s[1]||""}return`
`+C+r}var J=!1;function se(r,s){if(!r||J)return"";J=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(N){var d=N}Reflect.construct(r,[],s)}else{try{s.call()}catch(N){d=N}r.call(s.prototype)}else{try{throw Error()}catch(N){d=N}r()}}catch(N){if(N&&d&&typeof N.stack=="string"){for(var p=N.stack.split(`
`),m=d.stack.split(`
`),w=p.length-1,E=m.length-1;1<=w&&0<=E&&p[w]!==m[E];)E--;for(;1<=w&&0<=E;w--,E--)if(p[w]!==m[E]){if(w!==1||E!==1)do if(w--,E--,0>E||p[w]!==m[E]){var P=`
`+p[w].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=w&&0<=E);break}}}finally{J=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?$(r):""}function fe(r){switch(r.tag){case 5:return $(r.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return r=se(r.type,!1),r;case 11:return r=se(r.type.render,!1),r;case 1:return r=se(r.type,!0),r;default:return""}}function pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case F:return"Fragment";case U:return"Portal";case G:return"Profiler";case W:return"StrictMode";case me:return"Suspense";case Se:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case oe:return(r.displayName||"Context")+".Consumer";case ie:return(r._context.displayName||"Context")+".Provider";case ce:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ye:return s=r.displayName||null,s!==null?s:pe(r.type)||"Memo";case ve:s=r._payload,r=r._init;try{return pe(r(s))}catch{}}return null}function Ce(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(s);case 8:return s===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function ke(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ne(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(r){var s=Ne(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,m=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,m.call(this,w)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Us(r){r._valueTracker||(r._valueTracker=xt(r))}function Yu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return r&&(d=Ne(r)?r.checked?"true":"false":r.value),r=d,r!==c?(s.setValue(r),!0):!1}function zs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function qa(r,s){var c=s.checked;return q({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function Ju(r,s){var c=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;c=ke(s.value!=null?s.value:c),r._wrapperState={initialChecked:d,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qu(r,s){s=s.checked,s!=null&&R(r,"checked",s,!1)}function Ka(r,s){Qu(r,s);var c=ke(s.value),d=s.type;if(c!=null)d==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ga(r,s.type,c):s.hasOwnProperty("defaultValue")&&Ga(r,s.type,ke(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Xu(r,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,c||s===r.value||(r.value=s),r.defaultValue=s}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function Ga(r,s,c){(s!=="number"||zs(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var vi=Array.isArray;function Cr(r,s,c,d){if(r=r.options,s){s={};for(var p=0;p<c.length;p++)s["$"+c[p]]=!0;for(c=0;c<r.length;c++)p=s.hasOwnProperty("$"+r[c].value),r[c].selected!==p&&(r[c].selected=p),p&&d&&(r[c].defaultSelected=!0)}else{for(c=""+ke(c),s=null,p=0;p<r.length;p++){if(r[p].value===c){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Ya(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return q({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Zu(r,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(t(92));if(vi(c)){if(1<c.length)throw Error(t(93));c=c[0]}s=c}s==null&&(s=""),c=s}r._wrapperState={initialValue:ke(c)}}function eh(r,s){var c=ke(s.value),d=ke(s.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),s.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),d!=null&&(r.defaultValue=""+d)}function th(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function nh(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ja(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?nh(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Fs,rh=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,c,d,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Fs.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function wi(r,s){if(s){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=s;return}}r.textContent=s}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cy=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(r){cy.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),_i[s]=_i[r]})});function ih(r,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||_i.hasOwnProperty(r)&&_i[r]?(""+s).trim():s+"px"}function sh(r,s){r=r.style;for(var c in s)if(s.hasOwnProperty(c)){var d=c.indexOf("--")===0,p=ih(c,s[c],d);c==="float"&&(c="cssFloat"),d?r.setProperty(c,p):r[c]=p}}var uy=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qa(r,s){if(s){if(uy[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function Xa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Za=null;function el(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var tl=null,Pr=null,Or=null;function oh(r){if(r=Bi(r)){if(typeof tl!="function")throw Error(t(280));var s=r.stateNode;s&&(s=uo(s),tl(r.stateNode,r.type,s))}}function ah(r){Pr?Or?Or.push(r):Or=[r]:Pr=r}function lh(){if(Pr){var r=Pr,s=Or;if(Or=Pr=null,oh(r),s)for(r=0;r<s.length;r++)oh(s[r])}}function ch(r,s){return r(s)}function uh(){}var nl=!1;function hh(r,s,c){if(nl)return r(s,c);nl=!0;try{return ch(r,s,c)}finally{nl=!1,(Pr!==null||Or!==null)&&(uh(),lh())}}function bi(r,s){var c=r.stateNode;if(c===null)return null;var d=uo(c);if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(t(231,s,typeof c));return c}var rl=!1;if(u)try{var xi={};Object.defineProperty(xi,"passive",{get:function(){rl=!0}}),window.addEventListener("test",xi,xi),window.removeEventListener("test",xi,xi)}catch{rl=!1}function hy(r,s,c,d,p,m,w,E,P){var N=Array.prototype.slice.call(arguments,3);try{s.apply(c,N)}catch(H){this.onError(H)}}var Si=!1,Bs=null,Ws=!1,il=null,dy={onError:function(r){Si=!0,Bs=r}};function fy(r,s,c,d,p,m,w,E,P){Si=!1,Bs=null,hy.apply(dy,arguments)}function py(r,s,c,d,p,m,w,E,P){if(fy.apply(this,arguments),Si){if(Si){var N=Bs;Si=!1,Bs=null}else throw Error(t(198));Ws||(Ws=!0,il=N)}}function Yn(r){var s=r,c=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(c=s.return),r=s.return;while(r)}return s.tag===3?c:null}function dh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function fh(r){if(Yn(r)!==r)throw Error(t(188))}function gy(r){var s=r.alternate;if(!s){if(s=Yn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var c=r,d=s;;){var p=c.return;if(p===null)break;var m=p.alternate;if(m===null){if(d=p.return,d!==null){c=d;continue}break}if(p.child===m.child){for(m=p.child;m;){if(m===c)return fh(p),r;if(m===d)return fh(p),s;m=m.sibling}throw Error(t(188))}if(c.return!==d.return)c=p,d=m;else{for(var w=!1,E=p.child;E;){if(E===c){w=!0,c=p,d=m;break}if(E===d){w=!0,d=p,c=m;break}E=E.sibling}if(!w){for(E=m.child;E;){if(E===c){w=!0,c=m,d=p;break}if(E===d){w=!0,d=m,c=p;break}E=E.sibling}if(!w)throw Error(t(189))}}if(c.alternate!==d)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?r:s}function ph(r){return r=gy(r),r!==null?gh(r):null}function gh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=gh(r);if(s!==null)return s;r=r.sibling}return null}var mh=e.unstable_scheduleCallback,yh=e.unstable_cancelCallback,my=e.unstable_shouldYield,yy=e.unstable_requestPaint,ze=e.unstable_now,vy=e.unstable_getCurrentPriorityLevel,sl=e.unstable_ImmediatePriority,vh=e.unstable_UserBlockingPriority,Hs=e.unstable_NormalPriority,wy=e.unstable_LowPriority,wh=e.unstable_IdlePriority,Vs=null,Xt=null;function _y(r){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Vs,r,void 0,(r.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Sy,by=Math.log,xy=Math.LN2;function Sy(r){return r>>>=0,r===0?32:31-(by(r)/xy|0)|0}var qs=64,Ks=4194304;function ki(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gs(r,s){var c=r.pendingLanes;if(c===0)return 0;var d=0,p=r.suspendedLanes,m=r.pingedLanes,w=c&268435455;if(w!==0){var E=w&~p;E!==0?d=ki(E):(m&=w,m!==0&&(d=ki(m)))}else w=c&~p,w!==0?d=ki(w):m!==0&&(d=ki(m));if(d===0)return 0;if(s!==0&&s!==d&&(s&p)===0&&(p=d&-d,m=s&-s,p>=m||p===16&&(m&4194240)!==0))return s;if((d&4)!==0&&(d|=c&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)c=31-zt(s),p=1<<c,d|=r[c],s&=~p;return d}function ky(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ey(r,s){for(var c=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,m=r.pendingLanes;0<m;){var w=31-zt(m),E=1<<w,P=p[w];P===-1?((E&c)===0||(E&d)!==0)&&(p[w]=ky(E,s)):P<=s&&(r.expiredLanes|=E),m&=~E}}function ol(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function _h(){var r=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),r}function al(r){for(var s=[],c=0;31>c;c++)s.push(r);return s}function Ei(r,s,c){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-zt(s),r[s]=c}function Ty(r,s){var c=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<c;){var p=31-zt(c),m=1<<p;s[p]=0,d[p]=-1,r[p]=-1,c&=~m}}function ll(r,s){var c=r.entangledLanes|=s;for(r=r.entanglements;c;){var d=31-zt(c),p=1<<d;p&s|r[d]&s&&(r[d]|=s),c&=~p}}var Ee=0;function bh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var xh,cl,Sh,kh,Eh,ul=!1,Ys=[],kn=null,En=null,Tn=null,Ti=new Map,Ci=new Map,Cn=[],Cy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Th(r,s){switch(r){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":Tn=null;break;case"pointerover":case"pointerout":Ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(s.pointerId)}}function Pi(r,s,c,d,p,m){return r===null||r.nativeEvent!==m?(r={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:m,targetContainers:[p]},s!==null&&(s=Bi(s),s!==null&&cl(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Py(r,s,c,d,p){switch(s){case"focusin":return kn=Pi(kn,r,s,c,d,p),!0;case"dragenter":return En=Pi(En,r,s,c,d,p),!0;case"mouseover":return Tn=Pi(Tn,r,s,c,d,p),!0;case"pointerover":var m=p.pointerId;return Ti.set(m,Pi(Ti.get(m)||null,r,s,c,d,p)),!0;case"gotpointercapture":return m=p.pointerId,Ci.set(m,Pi(Ci.get(m)||null,r,s,c,d,p)),!0}return!1}function Ch(r){var s=Jn(r.target);if(s!==null){var c=Yn(s);if(c!==null){if(s=c.tag,s===13){if(s=dh(c),s!==null){r.blockedOn=s,Eh(r.priority,function(){Sh(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Js(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var c=dl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var d=new c.constructor(c.type,c);Za=d,c.target.dispatchEvent(d),Za=null}else return s=Bi(c),s!==null&&cl(s),r.blockedOn=c,!1;s.shift()}return!0}function Ph(r,s,c){Js(r)&&c.delete(s)}function Oy(){ul=!1,kn!==null&&Js(kn)&&(kn=null),En!==null&&Js(En)&&(En=null),Tn!==null&&Js(Tn)&&(Tn=null),Ti.forEach(Ph),Ci.forEach(Ph)}function Oi(r,s){r.blockedOn===s&&(r.blockedOn=null,ul||(ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Oy)))}function Ri(r){function s(p){return Oi(p,r)}if(0<Ys.length){Oi(Ys[0],r);for(var c=1;c<Ys.length;c++){var d=Ys[c];d.blockedOn===r&&(d.blockedOn=null)}}for(kn!==null&&Oi(kn,r),En!==null&&Oi(En,r),Tn!==null&&Oi(Tn,r),Ti.forEach(s),Ci.forEach(s),c=0;c<Cn.length;c++)d=Cn[c],d.blockedOn===r&&(d.blockedOn=null);for(;0<Cn.length&&(c=Cn[0],c.blockedOn===null);)Ch(c),c.blockedOn===null&&Cn.shift()}var Rr=M.ReactCurrentBatchConfig,Qs=!0;function Ry(r,s,c,d){var p=Ee,m=Rr.transition;Rr.transition=null;try{Ee=1,hl(r,s,c,d)}finally{Ee=p,Rr.transition=m}}function Ay(r,s,c,d){var p=Ee,m=Rr.transition;Rr.transition=null;try{Ee=4,hl(r,s,c,d)}finally{Ee=p,Rr.transition=m}}function hl(r,s,c,d){if(Qs){var p=dl(r,s,c,d);if(p===null)Ol(r,s,d,Xs,c),Th(r,d);else if(Py(p,r,s,c,d))d.stopPropagation();else if(Th(r,d),s&4&&-1<Cy.indexOf(r)){for(;p!==null;){var m=Bi(p);if(m!==null&&xh(m),m=dl(r,s,c,d),m===null&&Ol(r,s,d,Xs,c),m===p)break;p=m}p!==null&&d.stopPropagation()}else Ol(r,s,d,null,c)}}var Xs=null;function dl(r,s,c,d){if(Xs=null,r=el(d),r=Jn(r),r!==null)if(s=Yn(r),s===null)r=null;else if(c=s.tag,c===13){if(r=dh(s),r!==null)return r;r=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Xs=r,null}function Oh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vy()){case sl:return 1;case vh:return 4;case Hs:case wy:return 16;case wh:return 536870912;default:return 16}default:return 16}}var Pn=null,fl=null,Zs=null;function Rh(){if(Zs)return Zs;var r,s=fl,c=s.length,d,p="value"in Pn?Pn.value:Pn.textContent,m=p.length;for(r=0;r<c&&s[r]===p[r];r++);var w=c-r;for(d=1;d<=w&&s[c-d]===p[m-d];d++);return Zs=p.slice(r,1<d?1-d:void 0)}function eo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function to(){return!0}function Ah(){return!1}function St(r){function s(c,d,p,m,w){this._reactName=c,this._targetInst=p,this.type=d,this.nativeEvent=m,this.target=w,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(c=r[E],this[E]=c?c(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?to:Ah,this.isPropagationStopped=Ah,this}return q(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=to)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=to)},persist:function(){},isPersistent:to}),s}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=St(Ar),Ai=q({},Ar,{view:0,detail:0}),jy=St(Ai),gl,ml,ji,no=q({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ji&&(ji&&r.type==="mousemove"?(gl=r.screenX-ji.screenX,ml=r.screenY-ji.screenY):ml=gl=0,ji=r),gl)},movementY:function(r){return"movementY"in r?r.movementY:ml}}),jh=St(no),Iy=q({},no,{dataTransfer:0}),Ny=St(Iy),My=q({},Ai,{relatedTarget:0}),yl=St(My),Ly=q({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=St(Ly),$y=q({},Ar,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Uy=St($y),zy=q({},Ar,{data:0}),Ih=St(zy),Fy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Wy[r])?!!s[r]:!1}function vl(){return Hy}var Vy=q({},Ai,{key:function(r){if(r.key){var s=Fy[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=eo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?By[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vl,charCode:function(r){return r.type==="keypress"?eo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?eo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),qy=St(Vy),Ky=q({},no,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nh=St(Ky),Gy=q({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vl}),Yy=St(Gy),Jy=q({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qy=St(Jy),Xy=q({},no,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=St(Xy),ev=[9,13,27,32],wl=u&&"CompositionEvent"in window,Ii=null;u&&"documentMode"in document&&(Ii=document.documentMode);var tv=u&&"TextEvent"in window&&!Ii,Mh=u&&(!wl||Ii&&8<Ii&&11>=Ii),Lh=" ",Dh=!1;function $h(r,s){switch(r){case"keyup":return ev.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var jr=!1;function nv(r,s){switch(r){case"compositionend":return Uh(s);case"keypress":return s.which!==32?null:(Dh=!0,Lh);case"textInput":return r=s.data,r===Lh&&Dh?null:r;default:return null}}function rv(r,s){if(jr)return r==="compositionend"||!wl&&$h(r,s)?(r=Rh(),Zs=fl=Pn=null,jr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Mh&&s.locale!=="ko"?null:s.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!iv[r.type]:s==="textarea"}function Fh(r,s,c,d){ah(d),s=ao(s,"onChange"),0<s.length&&(c=new pl("onChange","change",null,c,d),r.push({event:c,listeners:s}))}var Ni=null,Mi=null;function sv(r){sd(r,0)}function ro(r){var s=Dr(r);if(Yu(s))return r}function ov(r,s){if(r==="change")return s}var Bh=!1;if(u){var _l;if(u){var bl="oninput"in document;if(!bl){var Wh=document.createElement("div");Wh.setAttribute("oninput","return;"),bl=typeof Wh.oninput=="function"}_l=bl}else _l=!1;Bh=_l&&(!document.documentMode||9<document.documentMode)}function Hh(){Ni&&(Ni.detachEvent("onpropertychange",Vh),Mi=Ni=null)}function Vh(r){if(r.propertyName==="value"&&ro(Mi)){var s=[];Fh(s,Mi,r,el(r)),hh(sv,s)}}function av(r,s,c){r==="focusin"?(Hh(),Ni=s,Mi=c,Ni.attachEvent("onpropertychange",Vh)):r==="focusout"&&Hh()}function lv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ro(Mi)}function cv(r,s){if(r==="click")return ro(s)}function uv(r,s){if(r==="input"||r==="change")return ro(s)}function hv(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ft=typeof Object.is=="function"?Object.is:hv;function Li(r,s){if(Ft(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var c=Object.keys(r),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var p=c[d];if(!h.call(s,p)||!Ft(r[p],s[p]))return!1}return!0}function qh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kh(r,s){var c=qh(r);r=0;for(var d;c;){if(c.nodeType===3){if(d=r+c.textContent.length,r<=s&&d>=s)return{node:c,offset:s-r};r=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=qh(c)}}function Gh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Gh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Yh(){for(var r=window,s=zs();s instanceof r.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)r=s.contentWindow;else break;s=zs(r.document)}return s}function xl(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function dv(r){var s=Yh(),c=r.focusedElem,d=r.selectionRange;if(s!==c&&c&&c.ownerDocument&&Gh(c.ownerDocument.documentElement,c)){if(d!==null&&xl(c)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(r,c.value.length);else if(r=(s=c.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=c.textContent.length,m=Math.min(d.start,p);d=d.end===void 0?m:Math.min(d.end,p),!r.extend&&m>d&&(p=d,d=m,m=p),p=Kh(c,m);var w=Kh(c,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),m>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=c;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)r=s[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var fv=u&&"documentMode"in document&&11>=document.documentMode,Ir=null,Sl=null,Di=null,kl=!1;function Jh(r,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;kl||Ir==null||Ir!==zs(d)||(d=Ir,"selectionStart"in d&&xl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Di&&Li(Di,d)||(Di=d,d=ao(Sl,"onSelect"),0<d.length&&(s=new pl("onSelect","select",null,s,c),r.push({event:s,listeners:d}),s.target=Ir)))}function io(r,s){var c={};return c[r.toLowerCase()]=s.toLowerCase(),c["Webkit"+r]="webkit"+s,c["Moz"+r]="moz"+s,c}var Nr={animationend:io("Animation","AnimationEnd"),animationiteration:io("Animation","AnimationIteration"),animationstart:io("Animation","AnimationStart"),transitionend:io("Transition","TransitionEnd")},El={},Qh={};u&&(Qh=document.createElement("div").style,"AnimationEvent"in window||(delete Nr.animationend.animation,delete Nr.animationiteration.animation,delete Nr.animationstart.animation),"TransitionEvent"in window||delete Nr.transitionend.transition);function so(r){if(El[r])return El[r];if(!Nr[r])return r;var s=Nr[r],c;for(c in s)if(s.hasOwnProperty(c)&&c in Qh)return El[r]=s[c];return r}var Xh=so("animationend"),Zh=so("animationiteration"),ed=so("animationstart"),td=so("transitionend"),nd=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(r,s){nd.set(r,s),a(s,[r])}for(var Tl=0;Tl<rd.length;Tl++){var Cl=rd[Tl],pv=Cl.toLowerCase(),gv=Cl[0].toUpperCase()+Cl.slice(1);On(pv,"on"+gv)}On(Xh,"onAnimationEnd"),On(Zh,"onAnimationIteration"),On(ed,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(td,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mv=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function id(r,s,c){var d=r.type||"unknown-event";r.currentTarget=c,py(d,s,void 0,r),r.currentTarget=null}function sd(r,s){s=(s&4)!==0;for(var c=0;c<r.length;c++){var d=r[c],p=d.event;d=d.listeners;e:{var m=void 0;if(s)for(var w=d.length-1;0<=w;w--){var E=d[w],P=E.instance,N=E.currentTarget;if(E=E.listener,P!==m&&p.isPropagationStopped())break e;id(p,E,N),m=P}else for(w=0;w<d.length;w++){if(E=d[w],P=E.instance,N=E.currentTarget,E=E.listener,P!==m&&p.isPropagationStopped())break e;id(p,E,N),m=P}}}if(Ws)throw r=il,Ws=!1,il=null,r}function Ae(r,s){var c=s[Ml];c===void 0&&(c=s[Ml]=new Set);var d=r+"__bubble";c.has(d)||(od(s,r,2,!1),c.add(d))}function Pl(r,s,c){var d=0;s&&(d|=4),od(c,r,d,s)}var oo="_reactListening"+Math.random().toString(36).slice(2);function Ui(r){if(!r[oo]){r[oo]=!0,i.forEach(function(c){c!=="selectionchange"&&(mv.has(c)||Pl(c,!1,r),Pl(c,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[oo]||(s[oo]=!0,Pl("selectionchange",!1,s))}}function od(r,s,c,d){switch(Oh(s)){case 1:var p=Ry;break;case 4:p=Ay;break;default:p=hl}c=p.bind(null,s,c,r),p=void 0,!rl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,c,{capture:!0,passive:p}):r.addEventListener(s,c,!0):p!==void 0?r.addEventListener(s,c,{passive:p}):r.addEventListener(s,c,!1)}function Ol(r,s,c,d,p){var m=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var E=d.stateNode.containerInfo;if(E===p||E.nodeType===8&&E.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var P=w.tag;if((P===3||P===4)&&(P=w.stateNode.containerInfo,P===p||P.nodeType===8&&P.parentNode===p))return;w=w.return}for(;E!==null;){if(w=Jn(E),w===null)return;if(P=w.tag,P===5||P===6){d=m=w;continue e}E=E.parentNode}}d=d.return}hh(function(){var N=m,H=el(c),V=[];e:{var B=nd.get(r);if(B!==void 0){var Q=pl,ee=r;switch(r){case"keypress":if(eo(c)===0)break e;case"keydown":case"keyup":Q=qy;break;case"focusin":ee="focus",Q=yl;break;case"focusout":ee="blur",Q=yl;break;case"beforeblur":case"afterblur":Q=yl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Ny;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Yy;break;case Xh:case Zh:case ed:Q=Dy;break;case td:Q=Qy;break;case"scroll":Q=jy;break;case"wheel":Q=Zy;break;case"copy":case"cut":case"paste":Q=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Nh}var te=(s&4)!==0,Fe=!te&&r==="scroll",j=te?B!==null?B+"Capture":null:B;te=[];for(var O=N,I;O!==null;){I=O;var K=I.stateNode;if(I.tag===5&&K!==null&&(I=K,j!==null&&(K=bi(O,j),K!=null&&te.push(zi(O,K,I)))),Fe)break;O=O.return}0<te.length&&(B=new Q(B,ee,null,c,H),V.push({event:B,listeners:te}))}}if((s&7)===0){e:{if(B=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",B&&c!==Za&&(ee=c.relatedTarget||c.fromElement)&&(Jn(ee)||ee[ln]))break e;if((Q||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,Q?(ee=c.relatedTarget||c.toElement,Q=N,ee=ee?Jn(ee):null,ee!==null&&(Fe=Yn(ee),ee!==Fe||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=N),Q!==ee)){if(te=jh,K="onMouseLeave",j="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(te=Nh,K="onPointerLeave",j="onPointerEnter",O="pointer"),Fe=Q==null?B:Dr(Q),I=ee==null?B:Dr(ee),B=new te(K,O+"leave",Q,c,H),B.target=Fe,B.relatedTarget=I,K=null,Jn(H)===N&&(te=new te(j,O+"enter",ee,c,H),te.target=I,te.relatedTarget=Fe,K=te),Fe=K,Q&&ee)t:{for(te=Q,j=ee,O=0,I=te;I;I=Mr(I))O++;for(I=0,K=j;K;K=Mr(K))I++;for(;0<O-I;)te=Mr(te),O--;for(;0<I-O;)j=Mr(j),I--;for(;O--;){if(te===j||j!==null&&te===j.alternate)break t;te=Mr(te),j=Mr(j)}te=null}else te=null;Q!==null&&ad(V,B,Q,te,!1),ee!==null&&Fe!==null&&ad(V,Fe,ee,te,!0)}}e:{if(B=N?Dr(N):window,Q=B.nodeName&&B.nodeName.toLowerCase(),Q==="select"||Q==="input"&&B.type==="file")var ne=ov;else if(zh(B))if(Bh)ne=uv;else{ne=lv;var ae=av}else(Q=B.nodeName)&&Q.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ne=cv);if(ne&&(ne=ne(r,N))){Fh(V,ne,c,H);break e}ae&&ae(r,B,N),r==="focusout"&&(ae=B._wrapperState)&&ae.controlled&&B.type==="number"&&Ga(B,"number",B.value)}switch(ae=N?Dr(N):window,r){case"focusin":(zh(ae)||ae.contentEditable==="true")&&(Ir=ae,Sl=N,Di=null);break;case"focusout":Di=Sl=Ir=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,Jh(V,c,H);break;case"selectionchange":if(fv)break;case"keydown":case"keyup":Jh(V,c,H)}var le;if(wl)e:{switch(r){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else jr?$h(r,c)&&(de="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(de="onCompositionStart");de&&(Mh&&c.locale!=="ko"&&(jr||de!=="onCompositionStart"?de==="onCompositionEnd"&&jr&&(le=Rh()):(Pn=H,fl="value"in Pn?Pn.value:Pn.textContent,jr=!0)),ae=ao(N,de),0<ae.length&&(de=new Ih(de,r,null,c,H),V.push({event:de,listeners:ae}),le?de.data=le:(le=Uh(c),le!==null&&(de.data=le)))),(le=tv?nv(r,c):rv(r,c))&&(N=ao(N,"onBeforeInput"),0<N.length&&(H=new Ih("onBeforeInput","beforeinput",null,c,H),V.push({event:H,listeners:N}),H.data=le))}sd(V,s)})}function zi(r,s,c){return{instance:r,listener:s,currentTarget:c}}function ao(r,s){for(var c=s+"Capture",d=[];r!==null;){var p=r,m=p.stateNode;p.tag===5&&m!==null&&(p=m,m=bi(r,c),m!=null&&d.unshift(zi(r,m,p)),m=bi(r,s),m!=null&&d.push(zi(r,m,p))),r=r.return}return d}function Mr(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ad(r,s,c,d,p){for(var m=s._reactName,w=[];c!==null&&c!==d;){var E=c,P=E.alternate,N=E.stateNode;if(P!==null&&P===d)break;E.tag===5&&N!==null&&(E=N,p?(P=bi(c,m),P!=null&&w.unshift(zi(c,P,E))):p||(P=bi(c,m),P!=null&&w.push(zi(c,P,E)))),c=c.return}w.length!==0&&r.push({event:s,listeners:w})}var yv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function ld(r){return(typeof r=="string"?r:""+r).replace(yv,`
`).replace(vv,"")}function lo(r,s,c){if(s=ld(s),ld(r)!==s&&c)throw Error(t(425))}function co(){}var Rl=null,Al=null;function jl(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,wv=typeof clearTimeout=="function"?clearTimeout:void 0,cd=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof cd<"u"?function(r){return cd.resolve(null).then(r).catch(bv)}:Il;function bv(r){setTimeout(function(){throw r})}function Nl(r,s){var c=s,d=0;do{var p=c.nextSibling;if(r.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(d===0){r.removeChild(p),Ri(s);return}d--}else c!=="$"&&c!=="$?"&&c!=="$!"||d++;c=p}while(c);Ri(s)}function Rn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function ud(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return r;s--}else c==="/$"&&s++}r=r.previousSibling}return null}var Lr=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Lr,Fi="__reactProps$"+Lr,ln="__reactContainer$"+Lr,Ml="__reactEvents$"+Lr,xv="__reactListeners$"+Lr,Sv="__reactHandles$"+Lr;function Jn(r){var s=r[Zt];if(s)return s;for(var c=r.parentNode;c;){if(s=c[ln]||c[Zt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(r=ud(r);r!==null;){if(c=r[Zt])return c;r=ud(r)}return s}r=c,c=r.parentNode}return null}function Bi(r){return r=r[Zt]||r[ln],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Dr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function uo(r){return r[Fi]||null}var Ll=[],$r=-1;function An(r){return{current:r}}function je(r){0>$r||(r.current=Ll[$r],Ll[$r]=null,$r--)}function Pe(r,s){$r++,Ll[$r]=r.current,r.current=s}var jn={},st=An(jn),pt=An(!1),Qn=jn;function Ur(r,s){var c=r.type.contextTypes;if(!c)return jn;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},m;for(m in c)p[m]=s[m];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function gt(r){return r=r.childContextTypes,r!=null}function ho(){je(pt),je(st)}function hd(r,s,c){if(st.current!==jn)throw Error(t(168));Pe(st,s),Pe(pt,c)}function dd(r,s,c){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return c;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Ce(r)||"Unknown",p));return q({},c,d)}function fo(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||jn,Qn=st.current,Pe(st,r),Pe(pt,pt.current),!0}function fd(r,s,c){var d=r.stateNode;if(!d)throw Error(t(169));c?(r=dd(r,s,Qn),d.__reactInternalMemoizedMergedChildContext=r,je(pt),je(st),Pe(st,r)):je(pt),Pe(pt,c)}var cn=null,po=!1,Dl=!1;function pd(r){cn===null?cn=[r]:cn.push(r)}function kv(r){po=!0,pd(r)}function In(){if(!Dl&&cn!==null){Dl=!0;var r=0,s=Ee;try{var c=cn;for(Ee=1;r<c.length;r++){var d=c[r];do d=d(!0);while(d!==null)}cn=null,po=!1}catch(p){throw cn!==null&&(cn=cn.slice(r+1)),mh(sl,In),p}finally{Ee=s,Dl=!1}}return null}var zr=[],Fr=0,go=null,mo=0,Ot=[],Rt=0,Xn=null,un=1,hn="";function Zn(r,s){zr[Fr++]=mo,zr[Fr++]=go,go=r,mo=s}function gd(r,s,c){Ot[Rt++]=un,Ot[Rt++]=hn,Ot[Rt++]=Xn,Xn=r;var d=un;r=hn;var p=32-zt(d)-1;d&=~(1<<p),c+=1;var m=32-zt(s)+p;if(30<m){var w=p-p%5;m=(d&(1<<w)-1).toString(32),d>>=w,p-=w,un=1<<32-zt(s)+p|c<<p|d,hn=m+r}else un=1<<m|c<<p|d,hn=r}function $l(r){r.return!==null&&(Zn(r,1),gd(r,1,0))}function Ul(r){for(;r===go;)go=zr[--Fr],zr[Fr]=null,mo=zr[--Fr],zr[Fr]=null;for(;r===Xn;)Xn=Ot[--Rt],Ot[Rt]=null,hn=Ot[--Rt],Ot[Rt]=null,un=Ot[--Rt],Ot[Rt]=null}var kt=null,Et=null,Me=!1,Bt=null;function md(r,s){var c=Nt(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=r,s=r.deletions,s===null?(r.deletions=[c],r.flags|=16):s.push(c)}function yd(r,s){switch(r.tag){case 5:var c=r.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,kt=r,Et=Rn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,kt=r,Et=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=Xn!==null?{id:un,overflow:hn}:null,r.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Nt(18,null,null,0),c.stateNode=s,c.return=r,r.child=c,kt=r,Et=null,!0):!1;default:return!1}}function zl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Fl(r){if(Me){var s=Et;if(s){var c=s;if(!yd(r,s)){if(zl(r))throw Error(t(418));s=Rn(c.nextSibling);var d=kt;s&&yd(r,s)?md(d,c):(r.flags=r.flags&-4097|2,Me=!1,kt=r)}}else{if(zl(r))throw Error(t(418));r.flags=r.flags&-4097|2,Me=!1,kt=r}}}function vd(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;kt=r}function yo(r){if(r!==kt)return!1;if(!Me)return vd(r),Me=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!jl(r.type,r.memoizedProps)),s&&(s=Et)){if(zl(r))throw wd(),Error(t(418));for(;s;)md(r,s),s=Rn(s.nextSibling)}if(vd(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(s===0){Et=Rn(r.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}r=r.nextSibling}Et=null}}else Et=kt?Rn(r.stateNode.nextSibling):null;return!0}function wd(){for(var r=Et;r;)r=Rn(r.nextSibling)}function Br(){Et=kt=null,Me=!1}function Bl(r){Bt===null?Bt=[r]:Bt.push(r)}var Ev=M.ReactCurrentBatchConfig;function Wi(r,s,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var d=c.stateNode}if(!d)throw Error(t(147,r));var p=d,m=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===m?s.ref:(s=function(w){var E=p.refs;w===null?delete E[m]:E[m]=w},s._stringRef=m,s)}if(typeof r!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,r))}return r}function vo(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function _d(r){var s=r._init;return s(r._payload)}function bd(r){function s(j,O){if(r){var I=j.deletions;I===null?(j.deletions=[O],j.flags|=16):I.push(O)}}function c(j,O){if(!r)return null;for(;O!==null;)s(j,O),O=O.sibling;return null}function d(j,O){for(j=new Map;O!==null;)O.key!==null?j.set(O.key,O):j.set(O.index,O),O=O.sibling;return j}function p(j,O){return j=Fn(j,O),j.index=0,j.sibling=null,j}function m(j,O,I){return j.index=I,r?(I=j.alternate,I!==null?(I=I.index,I<O?(j.flags|=2,O):I):(j.flags|=2,O)):(j.flags|=1048576,O)}function w(j){return r&&j.alternate===null&&(j.flags|=2),j}function E(j,O,I,K){return O===null||O.tag!==6?(O=Ic(I,j.mode,K),O.return=j,O):(O=p(O,I),O.return=j,O)}function P(j,O,I,K){var ne=I.type;return ne===F?H(j,O,I.props.children,K,I.key):O!==null&&(O.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ve&&_d(ne)===O.type)?(K=p(O,I.props),K.ref=Wi(j,O,I),K.return=j,K):(K=Bo(I.type,I.key,I.props,null,j.mode,K),K.ref=Wi(j,O,I),K.return=j,K)}function N(j,O,I,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==I.containerInfo||O.stateNode.implementation!==I.implementation?(O=Nc(I,j.mode,K),O.return=j,O):(O=p(O,I.children||[]),O.return=j,O)}function H(j,O,I,K,ne){return O===null||O.tag!==7?(O=ar(I,j.mode,K,ne),O.return=j,O):(O=p(O,I),O.return=j,O)}function V(j,O,I){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ic(""+O,j.mode,I),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case L:return I=Bo(O.type,O.key,O.props,null,j.mode,I),I.ref=Wi(j,null,O),I.return=j,I;case U:return O=Nc(O,j.mode,I),O.return=j,O;case ve:var K=O._init;return V(j,K(O._payload),I)}if(vi(O)||Y(O))return O=ar(O,j.mode,I,null),O.return=j,O;vo(j,O)}return null}function B(j,O,I,K){var ne=O!==null?O.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ne!==null?null:E(j,O,""+I,K);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case L:return I.key===ne?P(j,O,I,K):null;case U:return I.key===ne?N(j,O,I,K):null;case ve:return ne=I._init,B(j,O,ne(I._payload),K)}if(vi(I)||Y(I))return ne!==null?null:H(j,O,I,K,null);vo(j,I)}return null}function Q(j,O,I,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number")return j=j.get(I)||null,E(O,j,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case L:return j=j.get(K.key===null?I:K.key)||null,P(O,j,K,ne);case U:return j=j.get(K.key===null?I:K.key)||null,N(O,j,K,ne);case ve:var ae=K._init;return Q(j,O,I,ae(K._payload),ne)}if(vi(K)||Y(K))return j=j.get(I)||null,H(O,j,K,ne,null);vo(O,K)}return null}function ee(j,O,I,K){for(var ne=null,ae=null,le=O,de=O=0,Xe=null;le!==null&&de<I.length;de++){le.index>de?(Xe=le,le=null):Xe=le.sibling;var xe=B(j,le,I[de],K);if(xe===null){le===null&&(le=Xe);break}r&&le&&xe.alternate===null&&s(j,le),O=m(xe,O,de),ae===null?ne=xe:ae.sibling=xe,ae=xe,le=Xe}if(de===I.length)return c(j,le),Me&&Zn(j,de),ne;if(le===null){for(;de<I.length;de++)le=V(j,I[de],K),le!==null&&(O=m(le,O,de),ae===null?ne=le:ae.sibling=le,ae=le);return Me&&Zn(j,de),ne}for(le=d(j,le);de<I.length;de++)Xe=Q(le,j,de,I[de],K),Xe!==null&&(r&&Xe.alternate!==null&&le.delete(Xe.key===null?de:Xe.key),O=m(Xe,O,de),ae===null?ne=Xe:ae.sibling=Xe,ae=Xe);return r&&le.forEach(function(Bn){return s(j,Bn)}),Me&&Zn(j,de),ne}function te(j,O,I,K){var ne=Y(I);if(typeof ne!="function")throw Error(t(150));if(I=ne.call(I),I==null)throw Error(t(151));for(var ae=ne=null,le=O,de=O=0,Xe=null,xe=I.next();le!==null&&!xe.done;de++,xe=I.next()){le.index>de?(Xe=le,le=null):Xe=le.sibling;var Bn=B(j,le,xe.value,K);if(Bn===null){le===null&&(le=Xe);break}r&&le&&Bn.alternate===null&&s(j,le),O=m(Bn,O,de),ae===null?ne=Bn:ae.sibling=Bn,ae=Bn,le=Xe}if(xe.done)return c(j,le),Me&&Zn(j,de),ne;if(le===null){for(;!xe.done;de++,xe=I.next())xe=V(j,xe.value,K),xe!==null&&(O=m(xe,O,de),ae===null?ne=xe:ae.sibling=xe,ae=xe);return Me&&Zn(j,de),ne}for(le=d(j,le);!xe.done;de++,xe=I.next())xe=Q(le,j,de,xe.value,K),xe!==null&&(r&&xe.alternate!==null&&le.delete(xe.key===null?de:xe.key),O=m(xe,O,de),ae===null?ne=xe:ae.sibling=xe,ae=xe);return r&&le.forEach(function(i0){return s(j,i0)}),Me&&Zn(j,de),ne}function Fe(j,O,I,K){if(typeof I=="object"&&I!==null&&I.type===F&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case L:e:{for(var ne=I.key,ae=O;ae!==null;){if(ae.key===ne){if(ne=I.type,ne===F){if(ae.tag===7){c(j,ae.sibling),O=p(ae,I.props.children),O.return=j,j=O;break e}}else if(ae.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ve&&_d(ne)===ae.type){c(j,ae.sibling),O=p(ae,I.props),O.ref=Wi(j,ae,I),O.return=j,j=O;break e}c(j,ae);break}else s(j,ae);ae=ae.sibling}I.type===F?(O=ar(I.props.children,j.mode,K,I.key),O.return=j,j=O):(K=Bo(I.type,I.key,I.props,null,j.mode,K),K.ref=Wi(j,O,I),K.return=j,j=K)}return w(j);case U:e:{for(ae=I.key;O!==null;){if(O.key===ae)if(O.tag===4&&O.stateNode.containerInfo===I.containerInfo&&O.stateNode.implementation===I.implementation){c(j,O.sibling),O=p(O,I.children||[]),O.return=j,j=O;break e}else{c(j,O);break}else s(j,O);O=O.sibling}O=Nc(I,j.mode,K),O.return=j,j=O}return w(j);case ve:return ae=I._init,Fe(j,O,ae(I._payload),K)}if(vi(I))return ee(j,O,I,K);if(Y(I))return te(j,O,I,K);vo(j,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,O!==null&&O.tag===6?(c(j,O.sibling),O=p(O,I),O.return=j,j=O):(c(j,O),O=Ic(I,j.mode,K),O.return=j,j=O),w(j)):c(j,O)}return Fe}var Wr=bd(!0),xd=bd(!1),wo=An(null),_o=null,Hr=null,Wl=null;function Hl(){Wl=Hr=_o=null}function Vl(r){var s=wo.current;je(wo),r._currentValue=s}function ql(r,s,c){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===c)break;r=r.return}}function Vr(r,s){_o=r,Wl=Hr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(mt=!0),r.firstContext=null)}function At(r){var s=r._currentValue;if(Wl!==r)if(r={context:r,memoizedValue:s,next:null},Hr===null){if(_o===null)throw Error(t(308));Hr=r,_o.dependencies={lanes:0,firstContext:r}}else Hr=Hr.next=r;return s}var er=null;function Kl(r){er===null?er=[r]:er.push(r)}function Sd(r,s,c,d){var p=s.interleaved;return p===null?(c.next=c,Kl(s)):(c.next=p.next,p.next=c),s.interleaved=c,dn(r,d)}function dn(r,s){r.lanes|=s;var c=r.alternate;for(c!==null&&(c.lanes|=s),c=r,r=r.return;r!==null;)r.childLanes|=s,c=r.alternate,c!==null&&(c.childLanes|=s),c=r,r=r.return;return c.tag===3?c.stateNode:null}var Nn=!1;function Gl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kd(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function fn(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Mn(r,s,c){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(be&2)!==0){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,dn(r,c)}return p=d.interleaved,p===null?(s.next=s,Kl(d)):(s.next=p.next,p.next=s),d.interleaved=s,dn(r,c)}function bo(r,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,c|=d,s.lanes=c,ll(r,c)}}function Ed(r,s){var c=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var p=null,m=null;if(c=c.firstBaseUpdate,c!==null){do{var w={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};m===null?p=m=w:m=m.next=w,c=c.next}while(c!==null);m===null?p=m=s:m=m.next=s}else p=m=s;c={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:m,shared:d.shared,effects:d.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=s:r.next=s,c.lastBaseUpdate=s}function xo(r,s,c,d){var p=r.updateQueue;Nn=!1;var m=p.firstBaseUpdate,w=p.lastBaseUpdate,E=p.shared.pending;if(E!==null){p.shared.pending=null;var P=E,N=P.next;P.next=null,w===null?m=N:w.next=N,w=P;var H=r.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==w&&(E===null?H.firstBaseUpdate=N:E.next=N,H.lastBaseUpdate=P))}if(m!==null){var V=p.baseState;w=0,H=N=P=null,E=m;do{var B=E.lane,Q=E.eventTime;if((d&B)===B){H!==null&&(H=H.next={eventTime:Q,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var ee=r,te=E;switch(B=s,Q=c,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){V=ee.call(Q,V,B);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,B=typeof ee=="function"?ee.call(Q,V,B):ee,B==null)break e;V=q({},V,B);break e;case 2:Nn=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,B=p.effects,B===null?p.effects=[E]:B.push(E))}else Q={eventTime:Q,lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(N=H=Q,P=V):H=H.next=Q,w|=B;if(E=E.next,E===null){if(E=p.shared.pending,E===null)break;B=E,E=B.next,B.next=null,p.lastBaseUpdate=B,p.shared.pending=null}}while(!0);if(H===null&&(P=V),p.baseState=P,p.firstBaseUpdate=N,p.lastBaseUpdate=H,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else m===null&&(p.shared.lanes=0);rr|=w,r.lanes=w,r.memoizedState=V}}function Td(r,s,c){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=c,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Hi={},en=An(Hi),Vi=An(Hi),qi=An(Hi);function tr(r){if(r===Hi)throw Error(t(174));return r}function Yl(r,s){switch(Pe(qi,s),Pe(Vi,r),Pe(en,Hi),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ja(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ja(s,r)}je(en),Pe(en,s)}function qr(){je(en),je(Vi),je(qi)}function Cd(r){tr(qi.current);var s=tr(en.current),c=Ja(s,r.type);s!==c&&(Pe(Vi,r),Pe(en,c))}function Jl(r){Vi.current===r&&(je(en),je(Vi))}var Le=An(0);function So(r){for(var s=r;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ql=[];function Xl(){for(var r=0;r<Ql.length;r++)Ql[r]._workInProgressVersionPrimary=null;Ql.length=0}var ko=M.ReactCurrentDispatcher,Zl=M.ReactCurrentBatchConfig,nr=0,De=null,qe=null,Je=null,Eo=!1,Ki=!1,Gi=0,Tv=0;function ot(){throw Error(t(321))}function ec(r,s){if(s===null)return!1;for(var c=0;c<s.length&&c<r.length;c++)if(!Ft(r[c],s[c]))return!1;return!0}function tc(r,s,c,d,p,m){if(nr=m,De=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ko.current=r===null||r.memoizedState===null?Rv:Av,r=c(d,p),Ki){m=0;do{if(Ki=!1,Gi=0,25<=m)throw Error(t(301));m+=1,Je=qe=null,s.updateQueue=null,ko.current=jv,r=c(d,p)}while(Ki)}if(ko.current=Po,s=qe!==null&&qe.next!==null,nr=0,Je=qe=De=null,Eo=!1,s)throw Error(t(300));return r}function nc(){var r=Gi!==0;return Gi=0,r}function tn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?De.memoizedState=Je=r:Je=Je.next=r,Je}function jt(){if(qe===null){var r=De.alternate;r=r!==null?r.memoizedState:null}else r=qe.next;var s=Je===null?De.memoizedState:Je.next;if(s!==null)Je=s,qe=r;else{if(r===null)throw Error(t(310));qe=r,r={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},Je===null?De.memoizedState=Je=r:Je=Je.next=r}return Je}function Yi(r,s){return typeof s=="function"?s(r):s}function rc(r){var s=jt(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var d=qe,p=d.baseQueue,m=c.pending;if(m!==null){if(p!==null){var w=p.next;p.next=m.next,m.next=w}d.baseQueue=p=m,c.pending=null}if(p!==null){m=p.next,d=d.baseState;var E=w=null,P=null,N=m;do{var H=N.lane;if((nr&H)===H)P!==null&&(P=P.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),d=N.hasEagerState?N.eagerState:r(d,N.action);else{var V={lane:H,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};P===null?(E=P=V,w=d):P=P.next=V,De.lanes|=H,rr|=H}N=N.next}while(N!==null&&N!==m);P===null?w=d:P.next=E,Ft(d,s.memoizedState)||(mt=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=P,c.lastRenderedState=d}if(r=c.interleaved,r!==null){p=r;do m=p.lane,De.lanes|=m,rr|=m,p=p.next;while(p!==r)}else p===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function ic(r){var s=jt(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=r;var d=c.dispatch,p=c.pending,m=s.memoizedState;if(p!==null){c.pending=null;var w=p=p.next;do m=r(m,w.action),w=w.next;while(w!==p);Ft(m,s.memoizedState)||(mt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),c.lastRenderedState=m}return[m,d]}function Pd(){}function Od(r,s){var c=De,d=jt(),p=s(),m=!Ft(d.memoizedState,p);if(m&&(d.memoizedState=p,mt=!0),d=d.queue,sc(jd.bind(null,c,d,r),[r]),d.getSnapshot!==s||m||Je!==null&&Je.memoizedState.tag&1){if(c.flags|=2048,Ji(9,Ad.bind(null,c,d,p,s),void 0,null),Qe===null)throw Error(t(349));(nr&30)!==0||Rd(c,s,p)}return p}function Rd(r,s,c){r.flags|=16384,r={getSnapshot:s,value:c},s=De.updateQueue,s===null?(s={lastEffect:null,stores:null},De.updateQueue=s,s.stores=[r]):(c=s.stores,c===null?s.stores=[r]:c.push(r))}function Ad(r,s,c,d){s.value=c,s.getSnapshot=d,Id(s)&&Nd(r)}function jd(r,s,c){return c(function(){Id(s)&&Nd(r)})}function Id(r){var s=r.getSnapshot;r=r.value;try{var c=s();return!Ft(r,c)}catch{return!0}}function Nd(r){var s=dn(r,1);s!==null&&qt(s,r,1,-1)}function Md(r){var s=tn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},s.queue=r,r=r.dispatch=Ov.bind(null,De,r),[s.memoizedState,r]}function Ji(r,s,c,d){return r={tag:r,create:s,destroy:c,deps:d,next:null},s=De.updateQueue,s===null?(s={lastEffect:null,stores:null},De.updateQueue=s,s.lastEffect=r.next=r):(c=s.lastEffect,c===null?s.lastEffect=r.next=r:(d=c.next,c.next=r,r.next=d,s.lastEffect=r)),r}function Ld(){return jt().memoizedState}function To(r,s,c,d){var p=tn();De.flags|=r,p.memoizedState=Ji(1|s,c,void 0,d===void 0?null:d)}function Co(r,s,c,d){var p=jt();d=d===void 0?null:d;var m=void 0;if(qe!==null){var w=qe.memoizedState;if(m=w.destroy,d!==null&&ec(d,w.deps)){p.memoizedState=Ji(s,c,m,d);return}}De.flags|=r,p.memoizedState=Ji(1|s,c,m,d)}function Dd(r,s){return To(8390656,8,r,s)}function sc(r,s){return Co(2048,8,r,s)}function $d(r,s){return Co(4,2,r,s)}function Ud(r,s){return Co(4,4,r,s)}function zd(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Fd(r,s,c){return c=c!=null?c.concat([r]):null,Co(4,4,zd.bind(null,s,r),c)}function oc(){}function Bd(r,s){var c=jt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&ec(s,d[1])?d[0]:(c.memoizedState=[r,s],r)}function Wd(r,s){var c=jt();s=s===void 0?null:s;var d=c.memoizedState;return d!==null&&s!==null&&ec(s,d[1])?d[0]:(r=r(),c.memoizedState=[r,s],r)}function Hd(r,s,c){return(nr&21)===0?(r.baseState&&(r.baseState=!1,mt=!0),r.memoizedState=c):(Ft(c,s)||(c=_h(),De.lanes|=c,rr|=c,r.baseState=!0),s)}function Cv(r,s){var c=Ee;Ee=c!==0&&4>c?c:4,r(!0);var d=Zl.transition;Zl.transition={};try{r(!1),s()}finally{Ee=c,Zl.transition=d}}function Vd(){return jt().memoizedState}function Pv(r,s,c){var d=Un(r);if(c={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null},qd(r))Kd(s,c);else if(c=Sd(r,s,c,d),c!==null){var p=ft();qt(c,r,d,p),Gd(c,s,d)}}function Ov(r,s,c){var d=Un(r),p={lane:d,action:c,hasEagerState:!1,eagerState:null,next:null};if(qd(r))Kd(s,p);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var w=s.lastRenderedState,E=m(w,c);if(p.hasEagerState=!0,p.eagerState=E,Ft(E,w)){var P=s.interleaved;P===null?(p.next=p,Kl(s)):(p.next=P.next,P.next=p),s.interleaved=p;return}}catch{}c=Sd(r,s,p,d),c!==null&&(p=ft(),qt(c,r,d,p),Gd(c,s,d))}}function qd(r){var s=r.alternate;return r===De||s!==null&&s===De}function Kd(r,s){Ki=Eo=!0;var c=r.pending;c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s}function Gd(r,s,c){if((c&4194240)!==0){var d=s.lanes;d&=r.pendingLanes,c|=d,s.lanes=c,ll(r,c)}}var Po={readContext:At,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useInsertionEffect:ot,useLayoutEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useMutableSource:ot,useSyncExternalStore:ot,useId:ot,unstable_isNewReconciler:!1},Rv={readContext:At,useCallback:function(r,s){return tn().memoizedState=[r,s===void 0?null:s],r},useContext:At,useEffect:Dd,useImperativeHandle:function(r,s,c){return c=c!=null?c.concat([r]):null,To(4194308,4,zd.bind(null,s,r),c)},useLayoutEffect:function(r,s){return To(4194308,4,r,s)},useInsertionEffect:function(r,s){return To(4,2,r,s)},useMemo:function(r,s){var c=tn();return s=s===void 0?null:s,r=r(),c.memoizedState=[r,s],r},useReducer:function(r,s,c){var d=tn();return s=c!==void 0?c(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Pv.bind(null,De,r),[d.memoizedState,r]},useRef:function(r){var s=tn();return r={current:r},s.memoizedState=r},useState:Md,useDebugValue:oc,useDeferredValue:function(r){return tn().memoizedState=r},useTransition:function(){var r=Md(!1),s=r[0];return r=Cv.bind(null,r[1]),tn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,c){var d=De,p=tn();if(Me){if(c===void 0)throw Error(t(407));c=c()}else{if(c=s(),Qe===null)throw Error(t(349));(nr&30)!==0||Rd(d,s,c)}p.memoizedState=c;var m={value:c,getSnapshot:s};return p.queue=m,Dd(jd.bind(null,d,m,r),[r]),d.flags|=2048,Ji(9,Ad.bind(null,d,m,c,s),void 0,null),c},useId:function(){var r=tn(),s=Qe.identifierPrefix;if(Me){var c=hn,d=un;c=(d&~(1<<32-zt(d)-1)).toString(32)+c,s=":"+s+"R"+c,c=Gi++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Tv++,s=":"+s+"r"+c.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Av={readContext:At,useCallback:Bd,useContext:At,useEffect:sc,useImperativeHandle:Fd,useInsertionEffect:$d,useLayoutEffect:Ud,useMemo:Wd,useReducer:rc,useRef:Ld,useState:function(){return rc(Yi)},useDebugValue:oc,useDeferredValue:function(r){var s=jt();return Hd(s,qe.memoizedState,r)},useTransition:function(){var r=rc(Yi)[0],s=jt().memoizedState;return[r,s]},useMutableSource:Pd,useSyncExternalStore:Od,useId:Vd,unstable_isNewReconciler:!1},jv={readContext:At,useCallback:Bd,useContext:At,useEffect:sc,useImperativeHandle:Fd,useInsertionEffect:$d,useLayoutEffect:Ud,useMemo:Wd,useReducer:ic,useRef:Ld,useState:function(){return ic(Yi)},useDebugValue:oc,useDeferredValue:function(r){var s=jt();return qe===null?s.memoizedState=r:Hd(s,qe.memoizedState,r)},useTransition:function(){var r=ic(Yi)[0],s=jt().memoizedState;return[r,s]},useMutableSource:Pd,useSyncExternalStore:Od,useId:Vd,unstable_isNewReconciler:!1};function Wt(r,s){if(r&&r.defaultProps){s=q({},s),r=r.defaultProps;for(var c in r)s[c]===void 0&&(s[c]=r[c]);return s}return s}function ac(r,s,c,d){s=r.memoizedState,c=c(d,s),c=c==null?s:q({},s,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var Oo={isMounted:function(r){return(r=r._reactInternals)?Yn(r)===r:!1},enqueueSetState:function(r,s,c){r=r._reactInternals;var d=ft(),p=Un(r),m=fn(d,p);m.payload=s,c!=null&&(m.callback=c),s=Mn(r,m,p),s!==null&&(qt(s,r,p,d),bo(s,r,p))},enqueueReplaceState:function(r,s,c){r=r._reactInternals;var d=ft(),p=Un(r),m=fn(d,p);m.tag=1,m.payload=s,c!=null&&(m.callback=c),s=Mn(r,m,p),s!==null&&(qt(s,r,p,d),bo(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var c=ft(),d=Un(r),p=fn(c,d);p.tag=2,s!=null&&(p.callback=s),s=Mn(r,p,d),s!==null&&(qt(s,r,d,c),bo(s,r,d))}};function Yd(r,s,c,d,p,m,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,m,w):s.prototype&&s.prototype.isPureReactComponent?!Li(c,d)||!Li(p,m):!0}function Jd(r,s,c){var d=!1,p=jn,m=s.contextType;return typeof m=="object"&&m!==null?m=At(m):(p=gt(s)?Qn:st.current,d=s.contextTypes,m=(d=d!=null)?Ur(r,p):jn),s=new s(c,m),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Oo,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=m),s}function Qd(r,s,c,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==r&&Oo.enqueueReplaceState(s,s.state,null)}function lc(r,s,c,d){var p=r.stateNode;p.props=c,p.state=r.memoizedState,p.refs={},Gl(r);var m=s.contextType;typeof m=="object"&&m!==null?p.context=At(m):(m=gt(s)?Qn:st.current,p.context=Ur(r,m)),p.state=r.memoizedState,m=s.getDerivedStateFromProps,typeof m=="function"&&(ac(r,s,m,c),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Oo.enqueueReplaceState(p,p.state,null),xo(r,c,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Kr(r,s){try{var c="",d=s;do c+=fe(d),d=d.return;while(d);var p=c}catch(m){p=`
Error generating stack: `+m.message+`
`+m.stack}return{value:r,source:s,stack:p,digest:null}}function cc(r,s,c){return{value:r,source:null,stack:c??null,digest:s??null}}function uc(r,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function Xd(r,s,c){c=fn(-1,c),c.tag=3,c.payload={element:null};var d=s.value;return c.callback=function(){Lo||(Lo=!0,Ec=d),uc(r,s)},c}function Zd(r,s,c){c=fn(-1,c),c.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;c.payload=function(){return d(p)},c.callback=function(){uc(r,s)}}var m=r.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(c.callback=function(){uc(r,s),typeof d!="function"&&(Dn===null?Dn=new Set([this]):Dn.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),c}function ef(r,s,c){var d=r.pingCache;if(d===null){d=r.pingCache=new Iv;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(c)||(p.add(c),r=Kv.bind(null,r,s,c),s.then(r,r))}function tf(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function nf(r,s,c,d,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=fn(-1,1),s.tag=2,Mn(c,s,1))),c.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var Nv=M.ReactCurrentOwner,mt=!1;function dt(r,s,c,d){s.child=r===null?xd(s,null,c,d):Wr(s,r.child,c,d)}function rf(r,s,c,d,p){c=c.render;var m=s.ref;return Vr(s,p),d=tc(r,s,c,d,m,p),c=nc(),r!==null&&!mt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,pn(r,s,p)):(Me&&c&&$l(s),s.flags|=1,dt(r,s,d,p),s.child)}function sf(r,s,c,d,p){if(r===null){var m=c.type;return typeof m=="function"&&!jc(m)&&m.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=m,of(r,s,m,d,p)):(r=Bo(c.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(m=r.child,(r.lanes&p)===0){var w=m.memoizedProps;if(c=c.compare,c=c!==null?c:Li,c(w,d)&&r.ref===s.ref)return pn(r,s,p)}return s.flags|=1,r=Fn(m,d),r.ref=s.ref,r.return=s,s.child=r}function of(r,s,c,d,p){if(r!==null){var m=r.memoizedProps;if(Li(m,d)&&r.ref===s.ref)if(mt=!1,s.pendingProps=d=m,(r.lanes&p)!==0)(r.flags&131072)!==0&&(mt=!0);else return s.lanes=r.lanes,pn(r,s,p)}return hc(r,s,c,d,p)}function af(r,s,c){var d=s.pendingProps,p=d.children,m=r!==null?r.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Yr,Tt),Tt|=c;else{if((c&1073741824)===0)return r=m!==null?m.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Pe(Yr,Tt),Tt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:c,Pe(Yr,Tt),Tt|=d}else m!==null?(d=m.baseLanes|c,s.memoizedState=null):d=c,Pe(Yr,Tt),Tt|=d;return dt(r,s,p,c),s.child}function lf(r,s){var c=s.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function hc(r,s,c,d,p){var m=gt(c)?Qn:st.current;return m=Ur(s,m),Vr(s,p),c=tc(r,s,c,d,m,p),d=nc(),r!==null&&!mt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,pn(r,s,p)):(Me&&d&&$l(s),s.flags|=1,dt(r,s,c,p),s.child)}function cf(r,s,c,d,p){if(gt(c)){var m=!0;fo(s)}else m=!1;if(Vr(s,p),s.stateNode===null)Ao(r,s),Jd(s,c,d),lc(s,c,d,p),d=!0;else if(r===null){var w=s.stateNode,E=s.memoizedProps;w.props=E;var P=w.context,N=c.contextType;typeof N=="object"&&N!==null?N=At(N):(N=gt(c)?Qn:st.current,N=Ur(s,N));var H=c.getDerivedStateFromProps,V=typeof H=="function"||typeof w.getSnapshotBeforeUpdate=="function";V||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==d||P!==N)&&Qd(s,w,d,N),Nn=!1;var B=s.memoizedState;w.state=B,xo(s,d,w,p),P=s.memoizedState,E!==d||B!==P||pt.current||Nn?(typeof H=="function"&&(ac(s,c,H,d),P=s.memoizedState),(E=Nn||Yd(s,c,E,d,B,P,N))?(V||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=P),w.props=d,w.state=P,w.context=N,d=E):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,kd(r,s),E=s.memoizedProps,N=s.type===s.elementType?E:Wt(s.type,E),w.props=N,V=s.pendingProps,B=w.context,P=c.contextType,typeof P=="object"&&P!==null?P=At(P):(P=gt(c)?Qn:st.current,P=Ur(s,P));var Q=c.getDerivedStateFromProps;(H=typeof Q=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(E!==V||B!==P)&&Qd(s,w,d,P),Nn=!1,B=s.memoizedState,w.state=B,xo(s,d,w,p);var ee=s.memoizedState;E!==V||B!==ee||pt.current||Nn?(typeof Q=="function"&&(ac(s,c,Q,d),ee=s.memoizedState),(N=Nn||Yd(s,c,N,d,B,ee,P)||!1)?(H||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ee,P),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ee,P)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ee),w.props=d,w.state=ee,w.context=P,d=N):(typeof w.componentDidUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&B===r.memoizedState||(s.flags|=1024),d=!1)}return dc(r,s,c,d,m,p)}function dc(r,s,c,d,p,m){lf(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return p&&fd(s,c,!1),pn(r,s,m);d=s.stateNode,Nv.current=s;var E=w&&typeof c.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=Wr(s,r.child,null,m),s.child=Wr(s,null,E,m)):dt(r,s,E,m),s.memoizedState=d.state,p&&fd(s,c,!0),s.child}function uf(r){var s=r.stateNode;s.pendingContext?hd(r,s.pendingContext,s.pendingContext!==s.context):s.context&&hd(r,s.context,!1),Yl(r,s.containerInfo)}function hf(r,s,c,d,p){return Br(),Bl(p),s.flags|=256,dt(r,s,c,d),s.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function pc(r){return{baseLanes:r,cachePool:null,transitions:null}}function df(r,s,c){var d=s.pendingProps,p=Le.current,m=!1,w=(s.flags&128)!==0,E;if((E=w)||(E=r!==null&&r.memoizedState===null?!1:(p&2)!==0),E?(m=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Pe(Le,p&1),r===null)return Fl(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,r=d.fallback,m?(d=s.mode,m=s.child,w={mode:"hidden",children:w},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=w):m=Wo(w,d,0,null),r=ar(r,d,c,null),m.return=s,r.return=s,m.sibling=r,s.child=m,s.child.memoizedState=pc(c),s.memoizedState=fc,r):gc(s,w));if(p=r.memoizedState,p!==null&&(E=p.dehydrated,E!==null))return Mv(r,s,w,d,E,p,c);if(m){m=d.fallback,w=s.mode,p=r.child,E=p.sibling;var P={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=P,s.deletions=null):(d=Fn(p,P),d.subtreeFlags=p.subtreeFlags&14680064),E!==null?m=Fn(E,m):(m=ar(m,w,c,null),m.flags|=2),m.return=s,d.return=s,d.sibling=m,s.child=d,d=m,m=s.child,w=r.child.memoizedState,w=w===null?pc(c):{baseLanes:w.baseLanes|c,cachePool:null,transitions:w.transitions},m.memoizedState=w,m.childLanes=r.childLanes&~c,s.memoizedState=fc,d}return m=r.child,r=m.sibling,d=Fn(m,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=c),d.return=s,d.sibling=null,r!==null&&(c=s.deletions,c===null?(s.deletions=[r],s.flags|=16):c.push(r)),s.child=d,s.memoizedState=null,d}function gc(r,s){return s=Wo({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ro(r,s,c,d){return d!==null&&Bl(d),Wr(s,r.child,null,c),r=gc(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Mv(r,s,c,d,p,m,w){if(c)return s.flags&256?(s.flags&=-257,d=cc(Error(t(422))),Ro(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(m=d.fallback,p=s.mode,d=Wo({mode:"visible",children:d.children},p,0,null),m=ar(m,p,w,null),m.flags|=2,d.return=s,m.return=s,d.sibling=m,s.child=d,(s.mode&1)!==0&&Wr(s,r.child,null,w),s.child.memoizedState=pc(w),s.memoizedState=fc,m);if((s.mode&1)===0)return Ro(r,s,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var E=d.dgst;return d=E,m=Error(t(419)),d=cc(m,d,void 0),Ro(r,s,w,d)}if(E=(w&r.childLanes)!==0,mt||E){if(d=Qe,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(d.suspendedLanes|w))!==0?0:p,p!==0&&p!==m.retryLane&&(m.retryLane=p,dn(r,p),qt(d,r,p,-1))}return Ac(),d=cc(Error(t(421))),Ro(r,s,w,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=Gv.bind(null,r),p._reactRetry=s,null):(r=m.treeContext,Et=Rn(p.nextSibling),kt=s,Me=!0,Bt=null,r!==null&&(Ot[Rt++]=un,Ot[Rt++]=hn,Ot[Rt++]=Xn,un=r.id,hn=r.overflow,Xn=s),s=gc(s,d.children),s.flags|=4096,s)}function ff(r,s,c){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),ql(r.return,s,c)}function mc(r,s,c,d,p){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:p}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=c,m.tailMode=p)}function pf(r,s,c){var d=s.pendingProps,p=d.revealOrder,m=d.tail;if(dt(r,s,d.children,c),d=Le.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ff(r,c,s);else if(r.tag===19)ff(r,c,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Pe(Le,d),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(c=s.child,p=null;c!==null;)r=c.alternate,r!==null&&So(r)===null&&(p=c),c=c.sibling;c=p,c===null?(p=s.child,s.child=null):(p=c.sibling,c.sibling=null),mc(s,!1,p,c,m);break;case"backwards":for(c=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&So(r)===null){s.child=p;break}r=p.sibling,p.sibling=c,c=p,p=r}mc(s,!0,c,null,m);break;case"together":mc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ao(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function pn(r,s,c){if(r!==null&&(s.dependencies=r.dependencies),rr|=s.lanes,(c&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,c=Fn(r,r.pendingProps),s.child=c,c.return=s;r.sibling!==null;)r=r.sibling,c=c.sibling=Fn(r,r.pendingProps),c.return=s;c.sibling=null}return s.child}function Lv(r,s,c){switch(s.tag){case 3:uf(s),Br();break;case 5:Cd(s);break;case 1:gt(s.type)&&fo(s);break;case 4:Yl(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Pe(wo,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Pe(Le,Le.current&1),s.flags|=128,null):(c&s.child.childLanes)!==0?df(r,s,c):(Pe(Le,Le.current&1),r=pn(r,s,c),r!==null?r.sibling:null);Pe(Le,Le.current&1);break;case 19:if(d=(c&s.childLanes)!==0,(r.flags&128)!==0){if(d)return pf(r,s,c);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Pe(Le,Le.current),d)break;return null;case 22:case 23:return s.lanes=0,af(r,s,c)}return pn(r,s,c)}var gf,yc,mf,yf;gf=function(r,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},yc=function(){},mf=function(r,s,c,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,tr(en.current);var m=null;switch(c){case"input":p=qa(r,p),d=qa(r,d),m=[];break;case"select":p=q({},p,{value:void 0}),d=q({},d,{value:void 0}),m=[];break;case"textarea":p=Ya(r,p),d=Ya(r,d),m=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=co)}Qa(c,d);var w;c=null;for(N in p)if(!d.hasOwnProperty(N)&&p.hasOwnProperty(N)&&p[N]!=null)if(N==="style"){var E=p[N];for(w in E)E.hasOwnProperty(w)&&(c||(c={}),c[w]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(o.hasOwnProperty(N)?m||(m=[]):(m=m||[]).push(N,null));for(N in d){var P=d[N];if(E=p?.[N],d.hasOwnProperty(N)&&P!==E&&(P!=null||E!=null))if(N==="style")if(E){for(w in E)!E.hasOwnProperty(w)||P&&P.hasOwnProperty(w)||(c||(c={}),c[w]="");for(w in P)P.hasOwnProperty(w)&&E[w]!==P[w]&&(c||(c={}),c[w]=P[w])}else c||(m||(m=[]),m.push(N,c)),c=P;else N==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,E=E?E.__html:void 0,P!=null&&E!==P&&(m=m||[]).push(N,P)):N==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(N,""+P):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(o.hasOwnProperty(N)?(P!=null&&N==="onScroll"&&Ae("scroll",r),m||E===P||(m=[])):(m=m||[]).push(N,P))}c&&(m=m||[]).push("style",c);var N=m;(s.updateQueue=N)&&(s.flags|=4)}},yf=function(r,s,c,d){c!==d&&(s.flags|=4)};function Qi(r,s){if(!Me)switch(r.tailMode){case"hidden":s=r.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function at(r){var s=r.alternate!==null&&r.alternate.child===r.child,c=0,d=0;if(s)for(var p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)c|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=c,s}function Dv(r,s,c){var d=s.pendingProps;switch(Ul(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return gt(s.type)&&ho(),at(s),null;case 3:return d=s.stateNode,qr(),je(pt),je(st),Xl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(yo(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bt!==null&&(Pc(Bt),Bt=null))),yc(r,s),at(s),null;case 5:Jl(s);var p=tr(qi.current);if(c=s.type,r!==null&&s.stateNode!=null)mf(r,s,c,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return at(s),null}if(r=tr(en.current),yo(s)){d=s.stateNode,c=s.type;var m=s.memoizedProps;switch(d[Zt]=s,d[Fi]=m,r=(s.mode&1)!==0,c){case"dialog":Ae("cancel",d),Ae("close",d);break;case"iframe":case"object":case"embed":Ae("load",d);break;case"video":case"audio":for(p=0;p<$i.length;p++)Ae($i[p],d);break;case"source":Ae("error",d);break;case"img":case"image":case"link":Ae("error",d),Ae("load",d);break;case"details":Ae("toggle",d);break;case"input":Ju(d,m),Ae("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},Ae("invalid",d);break;case"textarea":Zu(d,m),Ae("invalid",d)}Qa(c,m),p=null;for(var w in m)if(m.hasOwnProperty(w)){var E=m[w];w==="children"?typeof E=="string"?d.textContent!==E&&(m.suppressHydrationWarning!==!0&&lo(d.textContent,E,r),p=["children",E]):typeof E=="number"&&d.textContent!==""+E&&(m.suppressHydrationWarning!==!0&&lo(d.textContent,E,r),p=["children",""+E]):o.hasOwnProperty(w)&&E!=null&&w==="onScroll"&&Ae("scroll",d)}switch(c){case"input":Us(d),Xu(d,m,!0);break;case"textarea":Us(d),th(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=co)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=nh(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(c,{is:d.is}):(r=w.createElement(c),c==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,c),r[Zt]=s,r[Fi]=d,gf(r,s,!1,!1),s.stateNode=r;e:{switch(w=Xa(c,d),c){case"dialog":Ae("cancel",r),Ae("close",r),p=d;break;case"iframe":case"object":case"embed":Ae("load",r),p=d;break;case"video":case"audio":for(p=0;p<$i.length;p++)Ae($i[p],r);p=d;break;case"source":Ae("error",r),p=d;break;case"img":case"image":case"link":Ae("error",r),Ae("load",r),p=d;break;case"details":Ae("toggle",r),p=d;break;case"input":Ju(r,d),p=qa(r,d),Ae("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=q({},d,{value:void 0}),Ae("invalid",r);break;case"textarea":Zu(r,d),p=Ya(r,d),Ae("invalid",r);break;default:p=d}Qa(c,p),E=p;for(m in E)if(E.hasOwnProperty(m)){var P=E[m];m==="style"?sh(r,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&rh(r,P)):m==="children"?typeof P=="string"?(c!=="textarea"||P!=="")&&wi(r,P):typeof P=="number"&&wi(r,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(o.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ae("scroll",r):P!=null&&R(r,m,P,w))}switch(c){case"input":Us(r),Xu(r,d,!1);break;case"textarea":Us(r),th(r);break;case"option":d.value!=null&&r.setAttribute("value",""+ke(d.value));break;case"select":r.multiple=!!d.multiple,m=d.value,m!=null?Cr(r,!!d.multiple,m,!1):d.defaultValue!=null&&Cr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=co)}switch(c){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return at(s),null;case 6:if(r&&s.stateNode!=null)yf(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(c=tr(qi.current),tr(en.current),yo(s)){if(d=s.stateNode,c=s.memoizedProps,d[Zt]=s,(m=d.nodeValue!==c)&&(r=kt,r!==null))switch(r.tag){case 3:lo(d.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lo(d.nodeValue,c,(r.mode&1)!==0)}m&&(s.flags|=4)}else d=(c.nodeType===9?c:c.ownerDocument).createTextNode(d),d[Zt]=s,s.stateNode=d}return at(s),null;case 13:if(je(Le),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Me&&Et!==null&&(s.mode&1)!==0&&(s.flags&128)===0)wd(),Br(),s.flags|=98560,m=!1;else if(m=yo(s),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(t(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(t(317));m[Zt]=s}else Br(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),m=!1}else Bt!==null&&(Pc(Bt),Bt=null),m=!0;if(!m)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=c,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Le.current&1)!==0?Ke===0&&(Ke=3):Ac())),s.updateQueue!==null&&(s.flags|=4),at(s),null);case 4:return qr(),yc(r,s),r===null&&Ui(s.stateNode.containerInfo),at(s),null;case 10:return Vl(s.type._context),at(s),null;case 17:return gt(s.type)&&ho(),at(s),null;case 19:if(je(Le),m=s.memoizedState,m===null)return at(s),null;if(d=(s.flags&128)!==0,w=m.rendering,w===null)if(d)Qi(m,!1);else{if(Ke!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=So(r),w!==null){for(s.flags|=128,Qi(m,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=c,c=s.child;c!==null;)m=c,r=d,m.flags&=14680066,w=m.alternate,w===null?(m.childLanes=0,m.lanes=r,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=w.childLanes,m.lanes=w.lanes,m.child=w.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=w.memoizedProps,m.memoizedState=w.memoizedState,m.updateQueue=w.updateQueue,m.type=w.type,r=w.dependencies,m.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return Pe(Le,Le.current&1|2),s.child}r=r.sibling}m.tail!==null&&ze()>Jr&&(s.flags|=128,d=!0,Qi(m,!1),s.lanes=4194304)}else{if(!d)if(r=So(w),r!==null){if(s.flags|=128,d=!0,c=r.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Qi(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!Me)return at(s),null}else 2*ze()-m.renderingStartTime>Jr&&c!==1073741824&&(s.flags|=128,d=!0,Qi(m,!1),s.lanes=4194304);m.isBackwards?(w.sibling=s.child,s.child=w):(c=m.last,c!==null?c.sibling=w:s.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=ze(),s.sibling=null,c=Le.current,Pe(Le,d?c&1|2:c&1),s):(at(s),null);case 22:case 23:return Rc(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(Tt&1073741824)!==0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function $v(r,s){switch(Ul(s),s.tag){case 1:return gt(s.type)&&ho(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return qr(),je(pt),je(st),Xl(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Jl(s),null;case 13:if(je(Le),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Br()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return je(Le),null;case 4:return qr(),null;case 10:return Vl(s.type._context),null;case 22:case 23:return Rc(),null;case 24:return null;default:return null}}var jo=!1,lt=!1,Uv=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Gr(r,s){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(d){$e(r,s,d)}else c.current=null}function vc(r,s,c){try{c()}catch(d){$e(r,s,d)}}var vf=!1;function zv(r,s){if(Rl=Qs,r=Yh(),xl(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var p=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{c.nodeType,m.nodeType}catch{c=null;break e}var w=0,E=-1,P=-1,N=0,H=0,V=r,B=null;t:for(;;){for(var Q;V!==c||p!==0&&V.nodeType!==3||(E=w+p),V!==m||d!==0&&V.nodeType!==3||(P=w+d),V.nodeType===3&&(w+=V.nodeValue.length),(Q=V.firstChild)!==null;)B=V,V=Q;for(;;){if(V===r)break t;if(B===c&&++N===p&&(E=w),B===m&&++H===d&&(P=w),(Q=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=Q}c=E===-1||P===-1?null:{start:E,end:P}}else c=null}c=c||{start:0,end:0}}else c=null;for(Al={focusedElem:r,selectionRange:c},Qs=!1,Z=s;Z!==null;)if(s=Z,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Z=r;else for(;Z!==null;){s=Z;try{var ee=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Fe=ee.memoizedState,j=s.stateNode,O=j.getSnapshotBeforeUpdate(s.elementType===s.type?te:Wt(s.type,te),Fe);j.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var I=s.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(K){$e(s,s.return,K)}if(r=s.sibling,r!==null){r.return=s.return,Z=r;break}Z=s.return}return ee=vf,vf=!1,ee}function Xi(r,s,c){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var m=p.destroy;p.destroy=void 0,m!==void 0&&vc(s,c,m)}p=p.next}while(p!==d)}}function Io(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&r)===r){var d=c.create;c.destroy=d()}c=c.next}while(c!==s)}}function wc(r){var s=r.ref;if(s!==null){var c=r.stateNode;r.tag,r=c,typeof s=="function"?s(r):s.current=r}}function wf(r){var s=r.alternate;s!==null&&(r.alternate=null,wf(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Zt],delete s[Fi],delete s[Ml],delete s[xv],delete s[Sv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _f(r){return r.tag===5||r.tag===3||r.tag===4}function bf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_f(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _c(r,s,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(r,s):c.insertBefore(r,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(r,c)):(s=c,s.appendChild(r)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=co));else if(d!==4&&(r=r.child,r!==null))for(_c(r,s,c),r=r.sibling;r!==null;)_c(r,s,c),r=r.sibling}function bc(r,s,c){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?c.insertBefore(r,s):c.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(bc(r,s,c),r=r.sibling;r!==null;)bc(r,s,c),r=r.sibling}var tt=null,Ht=!1;function Ln(r,s,c){for(c=c.child;c!==null;)xf(r,s,c),c=c.sibling}function xf(r,s,c){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Vs,c)}catch{}switch(c.tag){case 5:lt||Gr(c,s);case 6:var d=tt,p=Ht;tt=null,Ln(r,s,c),tt=d,Ht=p,tt!==null&&(Ht?(r=tt,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):tt.removeChild(c.stateNode));break;case 18:tt!==null&&(Ht?(r=tt,c=c.stateNode,r.nodeType===8?Nl(r.parentNode,c):r.nodeType===1&&Nl(r,c),Ri(r)):Nl(tt,c.stateNode));break;case 4:d=tt,p=Ht,tt=c.stateNode.containerInfo,Ht=!0,Ln(r,s,c),tt=d,Ht=p;break;case 0:case 11:case 14:case 15:if(!lt&&(d=c.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var m=p,w=m.destroy;m=m.tag,w!==void 0&&((m&2)!==0||(m&4)!==0)&&vc(c,s,w),p=p.next}while(p!==d)}Ln(r,s,c);break;case 1:if(!lt&&(Gr(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=c.memoizedProps,d.state=c.memoizedState,d.componentWillUnmount()}catch(E){$e(c,s,E)}Ln(r,s,c);break;case 21:Ln(r,s,c);break;case 22:c.mode&1?(lt=(d=lt)||c.memoizedState!==null,Ln(r,s,c),lt=d):Ln(r,s,c);break;default:Ln(r,s,c)}}function Sf(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Uv),s.forEach(function(d){var p=Yv.bind(null,r,d);c.has(d)||(c.add(d),d.then(p,p))})}}function Vt(r,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var p=c[d];try{var m=r,w=s,E=w;e:for(;E!==null;){switch(E.tag){case 5:tt=E.stateNode,Ht=!1;break e;case 3:tt=E.stateNode.containerInfo,Ht=!0;break e;case 4:tt=E.stateNode.containerInfo,Ht=!0;break e}E=E.return}if(tt===null)throw Error(t(160));xf(m,w,p),tt=null,Ht=!1;var P=p.alternate;P!==null&&(P.return=null),p.return=null}catch(N){$e(p,s,N)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)kf(s,r),s=s.sibling}function kf(r,s){var c=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vt(s,r),nn(r),d&4){try{Xi(3,r,r.return),Io(3,r)}catch(te){$e(r,r.return,te)}try{Xi(5,r,r.return)}catch(te){$e(r,r.return,te)}}break;case 1:Vt(s,r),nn(r),d&512&&c!==null&&Gr(c,c.return);break;case 5:if(Vt(s,r),nn(r),d&512&&c!==null&&Gr(c,c.return),r.flags&32){var p=r.stateNode;try{wi(p,"")}catch(te){$e(r,r.return,te)}}if(d&4&&(p=r.stateNode,p!=null)){var m=r.memoizedProps,w=c!==null?c.memoizedProps:m,E=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{E==="input"&&m.type==="radio"&&m.name!=null&&Qu(p,m),Xa(E,w);var N=Xa(E,m);for(w=0;w<P.length;w+=2){var H=P[w],V=P[w+1];H==="style"?sh(p,V):H==="dangerouslySetInnerHTML"?rh(p,V):H==="children"?wi(p,V):R(p,H,V,N)}switch(E){case"input":Ka(p,m);break;case"textarea":eh(p,m);break;case"select":var B=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!m.multiple;var Q=m.value;Q!=null?Cr(p,!!m.multiple,Q,!1):B!==!!m.multiple&&(m.defaultValue!=null?Cr(p,!!m.multiple,m.defaultValue,!0):Cr(p,!!m.multiple,m.multiple?[]:"",!1))}p[Fi]=m}catch(te){$e(r,r.return,te)}}break;case 6:if(Vt(s,r),nn(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,m=r.memoizedProps;try{p.nodeValue=m}catch(te){$e(r,r.return,te)}}break;case 3:if(Vt(s,r),nn(r),d&4&&c!==null&&c.memoizedState.isDehydrated)try{Ri(s.containerInfo)}catch(te){$e(r,r.return,te)}break;case 4:Vt(s,r),nn(r);break;case 13:Vt(s,r),nn(r),p=r.child,p.flags&8192&&(m=p.memoizedState!==null,p.stateNode.isHidden=m,!m||p.alternate!==null&&p.alternate.memoizedState!==null||(kc=ze())),d&4&&Sf(r);break;case 22:if(H=c!==null&&c.memoizedState!==null,r.mode&1?(lt=(N=lt)||H,Vt(s,r),lt=N):Vt(s,r),nn(r),d&8192){if(N=r.memoizedState!==null,(r.stateNode.isHidden=N)&&!H&&(r.mode&1)!==0)for(Z=r,H=r.child;H!==null;){for(V=Z=H;Z!==null;){switch(B=Z,Q=B.child,B.tag){case 0:case 11:case 14:case 15:Xi(4,B,B.return);break;case 1:Gr(B,B.return);var ee=B.stateNode;if(typeof ee.componentWillUnmount=="function"){d=B,c=B.return;try{s=d,ee.props=s.memoizedProps,ee.state=s.memoizedState,ee.componentWillUnmount()}catch(te){$e(d,c,te)}}break;case 5:Gr(B,B.return);break;case 22:if(B.memoizedState!==null){Cf(V);continue}}Q!==null?(Q.return=B,Z=Q):Cf(V)}H=H.sibling}e:for(H=null,V=r;;){if(V.tag===5){if(H===null){H=V;try{p=V.stateNode,N?(m=p.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(E=V.stateNode,P=V.memoizedProps.style,w=P!=null&&P.hasOwnProperty("display")?P.display:null,E.style.display=ih("display",w))}catch(te){$e(r,r.return,te)}}}else if(V.tag===6){if(H===null)try{V.stateNode.nodeValue=N?"":V.memoizedProps}catch(te){$e(r,r.return,te)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===r)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===r)break e;for(;V.sibling===null;){if(V.return===null||V.return===r)break e;H===V&&(H=null),V=V.return}H===V&&(H=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Vt(s,r),nn(r),d&4&&Sf(r);break;case 21:break;default:Vt(s,r),nn(r)}}function nn(r){var s=r.flags;if(s&2){try{e:{for(var c=r.return;c!==null;){if(_f(c)){var d=c;break e}c=c.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(wi(p,""),d.flags&=-33);var m=bf(r);bc(r,m,p);break;case 3:case 4:var w=d.stateNode.containerInfo,E=bf(r);_c(r,E,w);break;default:throw Error(t(161))}}catch(P){$e(r,r.return,P)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Fv(r,s,c){Z=r,Ef(r)}function Ef(r,s,c){for(var d=(r.mode&1)!==0;Z!==null;){var p=Z,m=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||jo;if(!w){var E=p.alternate,P=E!==null&&E.memoizedState!==null||lt;E=jo;var N=lt;if(jo=w,(lt=P)&&!N)for(Z=p;Z!==null;)w=Z,P=w.child,w.tag===22&&w.memoizedState!==null?Pf(p):P!==null?(P.return=w,Z=P):Pf(p);for(;m!==null;)Z=m,Ef(m),m=m.sibling;Z=p,jo=E,lt=N}Tf(r)}else(p.subtreeFlags&8772)!==0&&m!==null?(m.return=p,Z=m):Tf(r)}}function Tf(r){for(;Z!==null;){var s=Z;if((s.flags&8772)!==0){var c=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:lt||Io(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!lt)if(c===null)d.componentDidMount();else{var p=s.elementType===s.type?c.memoizedProps:Wt(s.type,c.memoizedProps);d.componentDidUpdate(p,c.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=s.updateQueue;m!==null&&Td(s,m,d);break;case 3:var w=s.updateQueue;if(w!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}Td(s,w,c)}break;case 5:var E=s.stateNode;if(c===null&&s.flags&4){c=E;var P=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&c.focus();break;case"img":P.src&&(c.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var N=s.alternate;if(N!==null){var H=N.memoizedState;if(H!==null){var V=H.dehydrated;V!==null&&Ri(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}lt||s.flags&512&&wc(s)}catch(B){$e(s,s.return,B)}}if(s===r){Z=null;break}if(c=s.sibling,c!==null){c.return=s.return,Z=c;break}Z=s.return}}function Cf(r){for(;Z!==null;){var s=Z;if(s===r){Z=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Z=c;break}Z=s.return}}function Pf(r){for(;Z!==null;){var s=Z;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Io(4,s)}catch(P){$e(s,c,P)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(P){$e(s,p,P)}}var m=s.return;try{wc(s)}catch(P){$e(s,m,P)}break;case 5:var w=s.return;try{wc(s)}catch(P){$e(s,w,P)}}}catch(P){$e(s,s.return,P)}if(s===r){Z=null;break}var E=s.sibling;if(E!==null){E.return=s.return,Z=E;break}Z=s.return}}var Bv=Math.ceil,No=M.ReactCurrentDispatcher,xc=M.ReactCurrentOwner,It=M.ReactCurrentBatchConfig,be=0,Qe=null,We=null,nt=0,Tt=0,Yr=An(0),Ke=0,Zi=null,rr=0,Mo=0,Sc=0,es=null,yt=null,kc=0,Jr=1/0,gn=null,Lo=!1,Ec=null,Dn=null,Do=!1,$n=null,$o=0,ts=0,Tc=null,Uo=-1,zo=0;function ft(){return(be&6)!==0?ze():Uo!==-1?Uo:Uo=ze()}function Un(r){return(r.mode&1)===0?1:(be&2)!==0&&nt!==0?nt&-nt:Ev.transition!==null?(zo===0&&(zo=_h()),zo):(r=Ee,r!==0||(r=window.event,r=r===void 0?16:Oh(r.type)),r)}function qt(r,s,c,d){if(50<ts)throw ts=0,Tc=null,Error(t(185));Ei(r,c,d),((be&2)===0||r!==Qe)&&(r===Qe&&((be&2)===0&&(Mo|=c),Ke===4&&zn(r,nt)),vt(r,d),c===1&&be===0&&(s.mode&1)===0&&(Jr=ze()+500,po&&In()))}function vt(r,s){var c=r.callbackNode;Ey(r,s);var d=Gs(r,r===Qe?nt:0);if(d===0)c!==null&&yh(c),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(c!=null&&yh(c),s===1)r.tag===0?kv(Rf.bind(null,r)):pd(Rf.bind(null,r)),_v(function(){(be&6)===0&&In()}),c=null;else{switch(bh(d)){case 1:c=sl;break;case 4:c=vh;break;case 16:c=Hs;break;case 536870912:c=wh;break;default:c=Hs}c=$f(c,Of.bind(null,r))}r.callbackPriority=s,r.callbackNode=c}}function Of(r,s){if(Uo=-1,zo=0,(be&6)!==0)throw Error(t(327));var c=r.callbackNode;if(Qr()&&r.callbackNode!==c)return null;var d=Gs(r,r===Qe?nt:0);if(d===0)return null;if((d&30)!==0||(d&r.expiredLanes)!==0||s)s=Fo(r,d);else{s=d;var p=be;be|=2;var m=jf();(Qe!==r||nt!==s)&&(gn=null,Jr=ze()+500,sr(r,s));do try{Vv();break}catch(E){Af(r,E)}while(!0);Hl(),No.current=m,be=p,We!==null?s=0:(Qe=null,nt=0,s=Ke)}if(s!==0){if(s===2&&(p=ol(r),p!==0&&(d=p,s=Cc(r,p))),s===1)throw c=Zi,sr(r,0),zn(r,d),vt(r,ze()),c;if(s===6)zn(r,d);else{if(p=r.current.alternate,(d&30)===0&&!Wv(p)&&(s=Fo(r,d),s===2&&(m=ol(r),m!==0&&(d=m,s=Cc(r,m))),s===1))throw c=Zi,sr(r,0),zn(r,d),vt(r,ze()),c;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:or(r,yt,gn);break;case 3:if(zn(r,d),(d&130023424)===d&&(s=kc+500-ze(),10<s)){if(Gs(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){ft(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Il(or.bind(null,r,yt,gn),s);break}or(r,yt,gn);break;case 4:if(zn(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var w=31-zt(d);m=1<<w,w=s[w],w>p&&(p=w),d&=~m}if(d=p,d=ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Bv(d/1960))-d,10<d){r.timeoutHandle=Il(or.bind(null,r,yt,gn),d);break}or(r,yt,gn);break;case 5:or(r,yt,gn);break;default:throw Error(t(329))}}}return vt(r,ze()),r.callbackNode===c?Of.bind(null,r):null}function Cc(r,s){var c=es;return r.current.memoizedState.isDehydrated&&(sr(r,s).flags|=256),r=Fo(r,s),r!==2&&(s=yt,yt=c,s!==null&&Pc(s)),r}function Pc(r){yt===null?yt=r:yt.push.apply(yt,r)}function Wv(r){for(var s=r;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var d=0;d<c.length;d++){var p=c[d],m=p.getSnapshot;p=p.value;try{if(!Ft(m(),p))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zn(r,s){for(s&=~Sc,s&=~Mo,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var c=31-zt(s),d=1<<c;r[c]=-1,s&=~d}}function Rf(r){if((be&6)!==0)throw Error(t(327));Qr();var s=Gs(r,0);if((s&1)===0)return vt(r,ze()),null;var c=Fo(r,s);if(r.tag!==0&&c===2){var d=ol(r);d!==0&&(s=d,c=Cc(r,d))}if(c===1)throw c=Zi,sr(r,0),zn(r,s),vt(r,ze()),c;if(c===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,or(r,yt,gn),vt(r,ze()),null}function Oc(r,s){var c=be;be|=1;try{return r(s)}finally{be=c,be===0&&(Jr=ze()+500,po&&In())}}function ir(r){$n!==null&&$n.tag===0&&(be&6)===0&&Qr();var s=be;be|=1;var c=It.transition,d=Ee;try{if(It.transition=null,Ee=1,r)return r()}finally{Ee=d,It.transition=c,be=s,(be&6)===0&&In()}}function Rc(){Tt=Yr.current,je(Yr)}function sr(r,s){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,wv(c)),We!==null)for(c=We.return;c!==null;){var d=c;switch(Ul(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ho();break;case 3:qr(),je(pt),je(st),Xl();break;case 5:Jl(d);break;case 4:qr();break;case 13:je(Le);break;case 19:je(Le);break;case 10:Vl(d.type._context);break;case 22:case 23:Rc()}c=c.return}if(Qe=r,We=r=Fn(r.current,null),nt=Tt=s,Ke=0,Zi=null,Sc=Mo=rr=0,yt=es=null,er!==null){for(s=0;s<er.length;s++)if(c=er[s],d=c.interleaved,d!==null){c.interleaved=null;var p=d.next,m=c.pending;if(m!==null){var w=m.next;m.next=p,d.next=w}c.pending=d}er=null}return r}function Af(r,s){do{var c=We;try{if(Hl(),ko.current=Po,Eo){for(var d=De.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Eo=!1}if(nr=0,Je=qe=De=null,Ki=!1,Gi=0,xc.current=null,c===null||c.return===null){Ke=1,Zi=s,We=null;break}e:{var m=r,w=c.return,E=c,P=s;if(s=nt,E.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var N=P,H=E,V=H.tag;if((H.mode&1)===0&&(V===0||V===11||V===15)){var B=H.alternate;B?(H.updateQueue=B.updateQueue,H.memoizedState=B.memoizedState,H.lanes=B.lanes):(H.updateQueue=null,H.memoizedState=null)}var Q=tf(w);if(Q!==null){Q.flags&=-257,nf(Q,w,E,m,s),Q.mode&1&&ef(m,N,s),s=Q,P=N;var ee=s.updateQueue;if(ee===null){var te=new Set;te.add(P),s.updateQueue=te}else ee.add(P);break e}else{if((s&1)===0){ef(m,N,s),Ac();break e}P=Error(t(426))}}else if(Me&&E.mode&1){var Fe=tf(w);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),nf(Fe,w,E,m,s),Bl(Kr(P,E));break e}}m=P=Kr(P,E),Ke!==4&&(Ke=2),es===null?es=[m]:es.push(m),m=w;do{switch(m.tag){case 3:m.flags|=65536,s&=-s,m.lanes|=s;var j=Xd(m,P,s);Ed(m,j);break e;case 1:E=P;var O=m.type,I=m.stateNode;if((m.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Dn===null||!Dn.has(I)))){m.flags|=65536,s&=-s,m.lanes|=s;var K=Zd(m,E,s);Ed(m,K);break e}}m=m.return}while(m!==null)}Nf(c)}catch(ne){s=ne,We===c&&c!==null&&(We=c=c.return);continue}break}while(!0)}function jf(){var r=No.current;return No.current=Po,r===null?Po:r}function Ac(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||(rr&268435455)===0&&(Mo&268435455)===0||zn(Qe,nt)}function Fo(r,s){var c=be;be|=2;var d=jf();(Qe!==r||nt!==s)&&(gn=null,sr(r,s));do try{Hv();break}catch(p){Af(r,p)}while(!0);if(Hl(),be=c,No.current=d,We!==null)throw Error(t(261));return Qe=null,nt=0,Ke}function Hv(){for(;We!==null;)If(We)}function Vv(){for(;We!==null&&!my();)If(We)}function If(r){var s=Df(r.alternate,r,Tt);r.memoizedProps=r.pendingProps,s===null?Nf(r):We=s,xc.current=null}function Nf(r){var s=r;do{var c=s.alternate;if(r=s.return,(s.flags&32768)===0){if(c=Dv(c,s,Tt),c!==null){We=c;return}}else{if(c=$v(c,s),c!==null){c.flags&=32767,We=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ke=6,We=null;return}}if(s=s.sibling,s!==null){We=s;return}We=s=r}while(s!==null);Ke===0&&(Ke=5)}function or(r,s,c){var d=Ee,p=It.transition;try{It.transition=null,Ee=1,qv(r,s,c,d)}finally{It.transition=p,Ee=d}return null}function qv(r,s,c,d){do Qr();while($n!==null);if((be&6)!==0)throw Error(t(327));c=r.finishedWork;var p=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var m=c.lanes|c.childLanes;if(Ty(r,m),r===Qe&&(We=Qe=null,nt=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Do||(Do=!0,$f(Hs,function(){return Qr(),null})),m=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||m){m=It.transition,It.transition=null;var w=Ee;Ee=1;var E=be;be|=4,xc.current=null,zv(r,c),kf(c,r),dv(Al),Qs=!!Rl,Al=Rl=null,r.current=c,Fv(c),yy(),be=E,Ee=w,It.transition=m}else r.current=c;if(Do&&(Do=!1,$n=r,$o=p),m=r.pendingLanes,m===0&&(Dn=null),_y(c.stateNode),vt(r,ze()),s!==null)for(d=r.onRecoverableError,c=0;c<s.length;c++)p=s[c],d(p.value,{componentStack:p.stack,digest:p.digest});if(Lo)throw Lo=!1,r=Ec,Ec=null,r;return($o&1)!==0&&r.tag!==0&&Qr(),m=r.pendingLanes,(m&1)!==0?r===Tc?ts++:(ts=0,Tc=r):ts=0,In(),null}function Qr(){if($n!==null){var r=bh($o),s=It.transition,c=Ee;try{if(It.transition=null,Ee=16>r?16:r,$n===null)var d=!1;else{if(r=$n,$n=null,$o=0,(be&6)!==0)throw Error(t(331));var p=be;for(be|=4,Z=r.current;Z!==null;){var m=Z,w=m.child;if((Z.flags&16)!==0){var E=m.deletions;if(E!==null){for(var P=0;P<E.length;P++){var N=E[P];for(Z=N;Z!==null;){var H=Z;switch(H.tag){case 0:case 11:case 15:Xi(8,H,m)}var V=H.child;if(V!==null)V.return=H,Z=V;else for(;Z!==null;){H=Z;var B=H.sibling,Q=H.return;if(wf(H),H===N){Z=null;break}if(B!==null){B.return=Q,Z=B;break}Z=Q}}}var ee=m.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Fe=te.sibling;te.sibling=null,te=Fe}while(te!==null)}}Z=m}}if((m.subtreeFlags&2064)!==0&&w!==null)w.return=m,Z=w;else e:for(;Z!==null;){if(m=Z,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:Xi(9,m,m.return)}var j=m.sibling;if(j!==null){j.return=m.return,Z=j;break e}Z=m.return}}var O=r.current;for(Z=O;Z!==null;){w=Z;var I=w.child;if((w.subtreeFlags&2064)!==0&&I!==null)I.return=w,Z=I;else e:for(w=O;Z!==null;){if(E=Z,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Io(9,E)}}catch(ne){$e(E,E.return,ne)}if(E===w){Z=null;break e}var K=E.sibling;if(K!==null){K.return=E.return,Z=K;break e}Z=E.return}}if(be=p,In(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Vs,r)}catch{}d=!0}return d}finally{Ee=c,It.transition=s}}return!1}function Mf(r,s,c){s=Kr(c,s),s=Xd(r,s,1),r=Mn(r,s,1),s=ft(),r!==null&&(Ei(r,1,s),vt(r,s))}function $e(r,s,c){if(r.tag===3)Mf(r,r,c);else for(;s!==null;){if(s.tag===3){Mf(s,r,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Dn===null||!Dn.has(d))){r=Kr(c,r),r=Zd(s,r,1),s=Mn(s,r,1),r=ft(),s!==null&&(Ei(s,1,r),vt(s,r));break}}s=s.return}}function Kv(r,s,c){var d=r.pingCache;d!==null&&d.delete(s),s=ft(),r.pingedLanes|=r.suspendedLanes&c,Qe===r&&(nt&c)===c&&(Ke===4||Ke===3&&(nt&130023424)===nt&&500>ze()-kc?sr(r,0):Sc|=c),vt(r,s)}function Lf(r,s){s===0&&((r.mode&1)===0?s=1:(s=Ks,Ks<<=1,(Ks&130023424)===0&&(Ks=4194304)));var c=ft();r=dn(r,s),r!==null&&(Ei(r,s,c),vt(r,c))}function Gv(r){var s=r.memoizedState,c=0;s!==null&&(c=s.retryLane),Lf(r,c)}function Yv(r,s){var c=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(c=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Lf(r,c)}var Df;Df=function(r,s,c){if(r!==null)if(r.memoizedProps!==s.pendingProps||pt.current)mt=!0;else{if((r.lanes&c)===0&&(s.flags&128)===0)return mt=!1,Lv(r,s,c);mt=(r.flags&131072)!==0}else mt=!1,Me&&(s.flags&1048576)!==0&&gd(s,mo,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ao(r,s),r=s.pendingProps;var p=Ur(s,st.current);Vr(s,c),p=tc(null,s,d,r,p,c);var m=nc();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gt(d)?(m=!0,fo(s)):m=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Gl(s),p.updater=Oo,s.stateNode=p,p._reactInternals=s,lc(s,d,r,c),s=dc(null,s,d,!0,m,c)):(s.tag=0,Me&&m&&$l(s),dt(null,s,p,c),s=s.child),s;case 16:d=s.elementType;e:{switch(Ao(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=Qv(d),r=Wt(d,r),p){case 0:s=hc(null,s,d,r,c);break e;case 1:s=cf(null,s,d,r,c);break e;case 11:s=rf(null,s,d,r,c);break e;case 14:s=sf(null,s,d,Wt(d.type,r),c);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Wt(d,p),hc(r,s,d,p,c);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Wt(d,p),cf(r,s,d,p,c);case 3:e:{if(uf(s),r===null)throw Error(t(387));d=s.pendingProps,m=s.memoizedState,p=m.element,kd(r,s),xo(s,d,null,c);var w=s.memoizedState;if(d=w.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){p=Kr(Error(t(423)),s),s=hf(r,s,d,c,p);break e}else if(d!==p){p=Kr(Error(t(424)),s),s=hf(r,s,d,c,p);break e}else for(Et=Rn(s.stateNode.containerInfo.firstChild),kt=s,Me=!0,Bt=null,c=xd(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Br(),d===p){s=pn(r,s,c);break e}dt(r,s,d,c)}s=s.child}return s;case 5:return Cd(s),r===null&&Fl(s),d=s.type,p=s.pendingProps,m=r!==null?r.memoizedProps:null,w=p.children,jl(d,p)?w=null:m!==null&&jl(d,m)&&(s.flags|=32),lf(r,s),dt(r,s,w,c),s.child;case 6:return r===null&&Fl(s),null;case 13:return df(r,s,c);case 4:return Yl(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Wr(s,null,d,c):dt(r,s,d,c),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Wt(d,p),rf(r,s,d,p,c);case 7:return dt(r,s,s.pendingProps,c),s.child;case 8:return dt(r,s,s.pendingProps.children,c),s.child;case 12:return dt(r,s,s.pendingProps.children,c),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,m=s.memoizedProps,w=p.value,Pe(wo,d._currentValue),d._currentValue=w,m!==null)if(Ft(m.value,w)){if(m.children===p.children&&!pt.current){s=pn(r,s,c);break e}}else for(m=s.child,m!==null&&(m.return=s);m!==null;){var E=m.dependencies;if(E!==null){w=m.child;for(var P=E.firstContext;P!==null;){if(P.context===d){if(m.tag===1){P=fn(-1,c&-c),P.tag=2;var N=m.updateQueue;if(N!==null){N=N.shared;var H=N.pending;H===null?P.next=P:(P.next=H.next,H.next=P),N.pending=P}}m.lanes|=c,P=m.alternate,P!==null&&(P.lanes|=c),ql(m.return,c,s),E.lanes|=c;break}P=P.next}}else if(m.tag===10)w=m.type===s.type?null:m.child;else if(m.tag===18){if(w=m.return,w===null)throw Error(t(341));w.lanes|=c,E=w.alternate,E!==null&&(E.lanes|=c),ql(w,c,s),w=m.sibling}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}dt(r,s,p.children,c),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Vr(s,c),p=At(p),d=d(p),s.flags|=1,dt(r,s,d,c),s.child;case 14:return d=s.type,p=Wt(d,s.pendingProps),p=Wt(d.type,p),sf(r,s,d,p,c);case 15:return of(r,s,s.type,s.pendingProps,c);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:Wt(d,p),Ao(r,s),s.tag=1,gt(d)?(r=!0,fo(s)):r=!1,Vr(s,c),Jd(s,d,p),lc(s,d,p,c),dc(null,s,d,!0,r,c);case 19:return pf(r,s,c);case 22:return af(r,s,c)}throw Error(t(156,s.tag))};function $f(r,s){return mh(r,s)}function Jv(r,s,c,d){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(r,s,c,d){return new Jv(r,s,c,d)}function jc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Qv(r){if(typeof r=="function")return jc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ce)return 11;if(r===ye)return 14}return 2}function Fn(r,s){var c=r.alternate;return c===null?(c=Nt(r.tag,s,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=s,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,s=r.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Bo(r,s,c,d,p,m){var w=2;if(d=r,typeof r=="function")jc(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case F:return ar(c.children,p,m,s);case W:w=8,p|=8;break;case G:return r=Nt(12,c,s,p|2),r.elementType=G,r.lanes=m,r;case me:return r=Nt(13,c,s,p),r.elementType=me,r.lanes=m,r;case Se:return r=Nt(19,c,s,p),r.elementType=Se,r.lanes=m,r;case X:return Wo(c,p,m,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ie:w=10;break e;case oe:w=9;break e;case ce:w=11;break e;case ye:w=14;break e;case ve:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=Nt(w,c,s,p),s.elementType=r,s.type=d,s.lanes=m,s}function ar(r,s,c,d){return r=Nt(7,r,d,s),r.lanes=c,r}function Wo(r,s,c,d){return r=Nt(22,r,d,s),r.elementType=X,r.lanes=c,r.stateNode={isHidden:!1},r}function Ic(r,s,c){return r=Nt(6,r,null,s),r.lanes=c,r}function Nc(r,s,c){return s=Nt(4,r.children!==null?r.children:[],r.key,s),s.lanes=c,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function Xv(r,s,c,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Mc(r,s,c,d,p,m,w,E,P){return r=new Xv(r,s,c,E,P),s===1?(s=1,m===!0&&(s|=8)):s=0,m=Nt(3,null,null,s),r.current=m,m.stateNode=r,m.memoizedState={element:d,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(m),r}function Zv(r,s,c){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:d==null?null:""+d,children:r,containerInfo:s,implementation:c}}function Uf(r){if(!r)return jn;r=r._reactInternals;e:{if(Yn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var c=r.type;if(gt(c))return dd(r,c,s)}return s}function zf(r,s,c,d,p,m,w,E,P){return r=Mc(c,d,!0,r,p,m,w,E,P),r.context=Uf(null),c=r.current,d=ft(),p=Un(c),m=fn(d,p),m.callback=s??null,Mn(c,m,p),r.current.lanes=p,Ei(r,p,d),vt(r,d),r}function Ho(r,s,c,d){var p=s.current,m=ft(),w=Un(p);return c=Uf(c),s.context===null?s.context=c:s.pendingContext=c,s=fn(m,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=Mn(p,s,w),r!==null&&(qt(r,p,w,m),bo(r,p,w)),w}function Vo(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Ff(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<s?c:s}}function Lc(r,s){Ff(r,s),(r=r.alternate)&&Ff(r,s)}function e0(){return null}var Bf=typeof reportError=="function"?reportError:function(r){console.error(r)};function Dc(r){this._internalRoot=r}qo.prototype.render=Dc.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));Ho(r,s,null,null)},qo.prototype.unmount=Dc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;ir(function(){Ho(null,r,null,null)}),s[ln]=null}};function qo(r){this._internalRoot=r}qo.prototype.unstable_scheduleHydration=function(r){if(r){var s=kh();r={blockedOn:null,target:r,priority:s};for(var c=0;c<Cn.length&&s!==0&&s<Cn[c].priority;c++);Cn.splice(c,0,r),c===0&&Ch(r)}};function $c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ko(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wf(){}function t0(r,s,c,d,p){if(p){if(typeof d=="function"){var m=d;d=function(){var N=Vo(w);m.call(N)}}var w=zf(s,d,r,0,null,!1,!1,"",Wf);return r._reactRootContainer=w,r[ln]=w.current,Ui(r.nodeType===8?r.parentNode:r),ir(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var E=d;d=function(){var N=Vo(P);E.call(N)}}var P=Mc(r,0,!1,null,null,!1,!1,"",Wf);return r._reactRootContainer=P,r[ln]=P.current,Ui(r.nodeType===8?r.parentNode:r),ir(function(){Ho(s,P,c,d)}),P}function Go(r,s,c,d,p){var m=c._reactRootContainer;if(m){var w=m;if(typeof p=="function"){var E=p;p=function(){var P=Vo(w);E.call(P)}}Ho(s,w,r,p)}else w=t0(c,s,r,p,d);return Vo(w)}xh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var c=ki(s.pendingLanes);c!==0&&(ll(s,c|1),vt(s,ze()),(be&6)===0&&(Jr=ze()+500,In()))}break;case 13:ir(function(){var d=dn(r,1);if(d!==null){var p=ft();qt(d,r,1,p)}}),Lc(r,1)}},cl=function(r){if(r.tag===13){var s=dn(r,134217728);if(s!==null){var c=ft();qt(s,r,134217728,c)}Lc(r,134217728)}},Sh=function(r){if(r.tag===13){var s=Un(r),c=dn(r,s);if(c!==null){var d=ft();qt(c,r,s,d)}Lc(r,s)}},kh=function(){return Ee},Eh=function(r,s){var c=Ee;try{return Ee=r,s()}finally{Ee=c}},tl=function(r,s,c){switch(s){case"input":if(Ka(r,c),s=c.name,c.type==="radio"&&s!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==r&&d.form===r.form){var p=uo(d);if(!p)throw Error(t(90));Yu(d),Ka(d,p)}}}break;case"textarea":eh(r,c);break;case"select":s=c.value,s!=null&&Cr(r,!!c.multiple,s,!1)}},ch=Oc,uh=ir;var n0={usingClientEntryPoint:!1,Events:[Bi,Dr,uo,ah,lh,Oc]},ns={findFiberByHostInstance:Jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},r0={bundleType:ns.bundleType,version:ns.version,rendererPackageName:ns.rendererPackageName,rendererConfig:ns.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ph(r),r===null?null:r.stateNode},findFiberByHostInstance:ns.findFiberByHostInstance||e0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Vs=Yo.inject(r0),Xt=Yo}catch{}}return wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n0,wt.createPortal=function(r,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$c(s))throw Error(t(200));return Zv(r,s,null,c)},wt.createRoot=function(r,s){if(!$c(r))throw Error(t(299));var c=!1,d="",p=Bf;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Mc(r,1,!1,null,null,c,!1,d,p),r[ln]=s.current,Ui(r.nodeType===8?r.parentNode:r),new Dc(s)},wt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ph(s),r=r===null?null:r.stateNode,r},wt.flushSync=function(r){return ir(r)},wt.hydrate=function(r,s,c){if(!Ko(s))throw Error(t(200));return Go(null,r,s,!0,c)},wt.hydrateRoot=function(r,s,c){if(!$c(r))throw Error(t(405));var d=c!=null&&c.hydratedSources||null,p=!1,m="",w=Bf;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onRecoverableError!==void 0&&(w=c.onRecoverableError)),s=zf(s,null,r,1,c??null,p,!1,m,w),r[ln]=s.current,Ui(r),d)for(r=0;r<d.length;r++)c=d[r],p=c._getVersion,p=p(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,p]:s.mutableSourceEagerHydrationData.push(c,p);return new qo(s)},wt.render=function(r,s,c){if(!Ko(s))throw Error(t(200));return Go(null,r,s,!1,c)},wt.unmountComponentAtNode=function(r){if(!Ko(r))throw Error(t(40));return r._reactRootContainer?(ir(function(){Go(null,null,r,!1,function(){r._reactRootContainer=null,r[ln]=null})}),!0):!1},wt.unstable_batchedUpdates=Oc,wt.unstable_renderSubtreeIntoContainer=function(r,s,c,d){if(!Ko(c))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Go(r,s,c,!1,d)},wt.version="18.3.1-next-f1338f8080-20240426",wt}var Qf;function Wg(){if(Qf)return Fc.exports;Qf=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Fc.exports=u0(),Fc.exports}var Xf;function h0(){if(Xf)return Jo;Xf=1;var n=Wg();return Jo.createRoot=n.createRoot,Jo.hydrateRoot=n.hydrateRoot,Jo}var d0=h0();function Hg({value:n,width:e="fit",height:t="fit",bgClass:i="bg-card-bg",borderClass:o="border-2 border-card-border",className:a,open:l=!0}){const[u,h]=z.useState(l),[f,g]=z.useState(!1);return z.useEffect(()=>{if(l){h(!0),g(!1);return}u&&g(!0)},[l,u]),u?k.jsx("div",{className:`fixed inset-0 z-30 bg-black/20 backdrop-blur-sm flex items-center justify-center ${f?"animate-fade-out":"animate-fade-in"}`,onAnimationEnd:()=>{f&&(g(!1),h(!1))},children:k.jsx("div",{style:{width:`${typeof e=="string"?e:`${e}%`}`,height:`${typeof t=="string"?t:`${t}%`}`,maxWidth:"92vw",maxHeight:"92vh"},className:`relative z-10 w-fit h-fit overflow-y-auto p-6 md:p-10 rounded-lg ${i} ${o} ${a??""} ${f?"animate-blur-down":""}`,children:n})}):null}function Ze({text:n,onClickFunction:e,pressed:t=!1,index:i,tooltip:o,disabled:a=!1,className:l}){const u=()=>{a||e?.(i)},h=t?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light";return k.jsxs("div",{className:"relative group/button",children:[k.jsx("button",{disabled:a,"aria-pressed":t,onClick:u,className:`w-fit h-9 px-3 bg-card-bg rounded-lg border-2 font-display font-semibold transition-all duration-200 whitespace-nowrap ${l} 
        ${a?"opacity-50 cursor-not-allowed border-card-border text-text-secondary bg-game-bg-dark":`active:scale-95 ${h}`}`,children:n}),o&&!a&&k.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/button:opacity-100 group-hover/button:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[k.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:o}),k.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:k.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]})]})}var Vg=Wg();function wa({children:n,defaultSelect:e,itemsPerRow:t}){const[i,o]=z.useState(e),a=typeof t=="number"&&t>0?Math.floor(t):void 0,l=h=>{h!==void 0&&o(h)},u=z.Children.toArray(n).map((h,f)=>z.isValidElement(h)?z.cloneElement(h,{index:f,pressed:f===i,onClickFunction:g=>{h.props.onClickFunction?.(g),l(g)}}):h);if(a){const h=[];for(let f=0;f<u.length;f+=a)h.push(u.slice(f,f+a));return k.jsx("div",{className:"flex flex-col gap-2 items-start",children:h.map((f,g)=>k.jsx("div",{className:"flex flex-row items-center gap-2",children:f},g))})}return k.jsx("div",{className:"flex flex-row items-center gap-2",children:u})}const f0=()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body;function fr({content:n,children:e,disabled:t=!1,offset:i=10}){const[o,a]=z.useState(!1),[l,u]=z.useState(!1),[h,f]=z.useState({top:0,left:0}),g=z.useRef(null),y=z.useRef(null);z.useLayoutEffect(()=>{if(!o){u(!1);return}const _=g.current,x=y.current;if(!_||!x)return;const b=_.getBoundingClientRect(),S=x.getBoundingClientRect();let T=b.top-S.height-i,A=b.left+b.width/2-S.width/2;T<8&&(T=b.bottom+i),A=Math.max(8,Math.min(A,window.innerWidth-S.width-8)),f({top:T,left:A}),u(!0)},[o,i]);const v=z.useMemo(f0,[]);return k.jsxs("span",{ref:g,className:"inline-flex",onMouseEnter:()=>!t&&a(!0),onMouseLeave:()=>a(!1),children:[e,o&&v&&Vg.createPortal(k.jsxs("div",{ref:y,style:{position:"fixed",top:h.top,left:h.left},className:`z-[9999] px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple transition-[opacity,transform] duration-200 ease-out will-change-transform ${l?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-2 scale-95"}`,"aria-hidden":"true",children:[k.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:n}),k.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:k.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]}),v)]})}function p0({children:n,setIsOpen:e,target:t,ignore:i=[]}){return z.useEffect(()=>{const o=a=>{const l=t.current;if(!l)return;const u=l.contains(a.target),h=i.some(f=>f.current?.contains(a.target));!u&&!h&&e(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[e,t,i]),k.jsx(k.Fragment,{children:n})}function _a({text:n,onClickFunction:e,optionsValue:t,tooltip:i,itemsPerRow:o}){const[a,l]=z.useState(!1),[u,h]=z.useState(!1),[f,g]=z.useState({top:0,left:0}),y=z.useRef(null),v=z.useRef(null),_=z.useRef(null),x=()=>{l(!a),e?.()},b=typeof o=="number"&&o>0?Math.floor(o):void 0,S=A=>z.isValidElement(A)&&A.type===wa;z.useLayoutEffect(()=>{if(!a){h(!1);return}const A=y.current,R=v.current;if(!A||!R)return;const M=A.getBoundingClientRect(),L=R.getBoundingClientRect();let U=M.top-L.height-12,F=M.left+M.width/2-L.width/2;U<8&&(U=M.bottom+12),F=Math.max(8,Math.min(F,window.innerWidth-L.width-8)),g({top:U,left:F}),h(!0)},[a,b,t?.length]);const T=z.useMemo(()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body,[]);return k.jsx(p0,{setIsOpen:l,target:_,ignore:[v],children:k.jsxs("div",{ref:_,className:"relative z-50 flex flex-col items-center group/options",children:[a&&T&&Vg.createPortal(k.jsx("div",{ref:v,style:{position:"fixed",top:f.top,left:f.left},className:`z-[5000] w-fit h-fit p-2 bg-card-bg border-2 border-card-border rounded-xl shadow-card backdrop-blur-sm transition-[opacity,transform] duration-200 ease-out origin-bottom ${u?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 translate-y-2 scale-95 pointer-events-none"}`,children:k.jsx("div",{className:"flex flex-col gap-2",children:t?.map((A,R)=>S(A)&&b?z.cloneElement(A,{key:R,itemsPerRow:b}):k.jsx("div",{children:A},R))})}),T),k.jsx(fr,{content:i??"",disabled:!i||a,children:k.jsx("button",{ref:y,onClick:x,className:`w-fit h-9 px-2 bg-card-bg rounded-lg border-2 transition-all duration-200 font-display font-semibold active:scale-95 ${a?"border-accent-primary text-accent-primary shadow-glow-purple":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple"} ${a?"bg-game-bg-light":"hover:bg-game-bg-light"}`,children:n})})]})})}function gs({label:n,placeholder:e,value:t,onChange:i,onSubmit:o,defaultValue:a,type:l="text",disabled:u=!1,className:h,containerClassName:f}){const g=v=>{i?.(v.target.value)},y=v=>{v.key==="Enter"&&(v.preventDefault(),v.currentTarget.blur(),o?.())};return k.jsxs("label",{className:`flex flex-col gap-1 w-full ${f??""}`,children:[n&&k.jsx("span",{className:"text-text-secondary text-xs font-display font-semibold uppercase tracking-wide",children:n}),k.jsx("input",{type:l,value:t,defaultValue:a,onChange:g,onKeyDown:y,placeholder:e,disabled:u,className:`bg-card-bg border-2 border-card-border rounded-lg px-4 transition-all duration-200 hover:border-accent-warning focus:border-accent-primary focus:shadow-glow-purple text-text-primary font-display font-semibold placeholder:text-text-secondary placeholder:opacity-50 outline-none disabled:opacity-50 disabled:cursor-not-allowed h-10 ${h??""}`})]})}function Ls(n){return n+.5|0}const Vn=(n,e,t)=>Math.max(Math.min(n,t),e);function us(n){return Vn(Ls(n*2.55),0,255)}function Kn(n){return Vn(Ls(n*255),0,255)}function _n(n){return Vn(Ls(n/2.55)/100,0,1)}function Zf(n){return Vn(Ls(n*100),0,100)}const Mt={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},cu=[..."0123456789ABCDEF"],g0=n=>cu[n&15],m0=n=>cu[(n&240)>>4]+cu[n&15],Qo=n=>(n&240)>>4===(n&15),y0=n=>Qo(n.r)&&Qo(n.g)&&Qo(n.b)&&Qo(n.a);function v0(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&Mt[n[1]]*17,g:255&Mt[n[2]]*17,b:255&Mt[n[3]]*17,a:e===5?Mt[n[4]]*17:255}:(e===7||e===9)&&(t={r:Mt[n[1]]<<4|Mt[n[2]],g:Mt[n[3]]<<4|Mt[n[4]],b:Mt[n[5]]<<4|Mt[n[6]],a:e===9?Mt[n[7]]<<4|Mt[n[8]]:255})),t}const w0=(n,e)=>n<255?e(n):"";function _0(n){var e=y0(n)?g0:m0;return n?"#"+e(n.r)+e(n.g)+e(n.b)+w0(n.a,e):void 0}const b0=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function qg(n,e,t){const i=e*Math.min(t,1-t),o=(a,l=(a+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[o(0),o(8),o(4)]}function x0(n,e,t){const i=(o,a=(o+n/60)%6)=>t-t*e*Math.max(Math.min(a,4-a,1),0);return[i(5),i(3),i(1)]}function S0(n,e,t){const i=qg(n,1,.5);let o;for(e+t>1&&(o=1/(e+t),e*=o,t*=o),o=0;o<3;o++)i[o]*=1-e-t,i[o]+=e;return i}function k0(n,e,t,i,o){return n===o?(e-t)/i+(e<t?6:0):e===o?(t-n)/i+2:(n-e)/i+4}function Iu(n){const t=n.r/255,i=n.g/255,o=n.b/255,a=Math.max(t,i,o),l=Math.min(t,i,o),u=(a+l)/2;let h,f,g;return a!==l&&(g=a-l,f=u>.5?g/(2-a-l):g/(a+l),h=k0(t,i,o,g,a),h=h*60+.5),[h|0,f||0,u]}function Nu(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(Kn)}function Mu(n,e,t){return Nu(qg,n,e,t)}function E0(n,e,t){return Nu(S0,n,e,t)}function T0(n,e,t){return Nu(x0,n,e,t)}function Kg(n){return(n%360+360)%360}function C0(n){const e=b0.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?us(+e[5]):Kn(+e[5]));const o=Kg(+e[2]),a=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=E0(o,a,l):e[1]==="hsv"?i=T0(o,a,l):i=Mu(o,a,l),{r:i[0],g:i[1],b:i[2],a:t}}function P0(n,e){var t=Iu(n);t[0]=Kg(t[0]+e),t=Mu(t),n.r=t[0],n.g=t[1],n.b=t[2]}function O0(n){if(!n)return;const e=Iu(n),t=e[0],i=Zf(e[1]),o=Zf(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${o}%, ${_n(n.a)})`:`hsl(${t}, ${i}%, ${o}%)`}const ep={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},tp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function R0(){const n={},e=Object.keys(tp),t=Object.keys(ep);let i,o,a,l,u;for(i=0;i<e.length;i++){for(l=u=e[i],o=0;o<t.length;o++)a=t[o],u=u.replace(a,ep[a]);a=parseInt(tp[l],16),n[u]=[a>>16&255,a>>8&255,a&255]}return n}let Xo;function A0(n){Xo||(Xo=R0(),Xo.transparent=[0,0,0,0]);const e=Xo[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const j0=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function I0(n){const e=j0.exec(n);let t=255,i,o,a;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?us(l):Vn(l*255,0,255)}return i=+e[1],o=+e[3],a=+e[5],i=255&(e[2]?us(i):Vn(i,0,255)),o=255&(e[4]?us(o):Vn(o,0,255)),a=255&(e[6]?us(a):Vn(a,0,255)),{r:i,g:o,b:a,a:t}}}function N0(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_n(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Hc=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xr=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function M0(n,e,t){const i=Xr(_n(n.r)),o=Xr(_n(n.g)),a=Xr(_n(n.b));return{r:Kn(Hc(i+t*(Xr(_n(e.r))-i))),g:Kn(Hc(o+t*(Xr(_n(e.g))-o))),b:Kn(Hc(a+t*(Xr(_n(e.b))-a))),a:n.a+t*(e.a-n.a)}}function Zo(n,e,t){if(n){let i=Iu(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Mu(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Gg(n,e){return n&&Object.assign(e||{},n)}function np(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Kn(n[3]))):(e=Gg(n,{r:0,g:0,b:0,a:1}),e.a=Kn(e.a)),e}function L0(n){return n.charAt(0)==="r"?I0(n):C0(n)}class Ss{constructor(e){if(e instanceof Ss)return e;const t=typeof e;let i;t==="object"?i=np(e):t==="string"&&(i=v0(e)||A0(e)||L0(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Gg(this._rgb);return e&&(e.a=_n(e.a)),e}set rgb(e){this._rgb=np(e)}rgbString(){return this._valid?N0(this._rgb):void 0}hexString(){return this._valid?_0(this._rgb):void 0}hslString(){return this._valid?O0(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,o=e.rgb;let a;const l=t===a?.5:t,u=2*l-1,h=i.a-o.a,f=((u*h===-1?u:(u+h)/(1+u*h))+1)/2;a=1-f,i.r=255&f*i.r+a*o.r+.5,i.g=255&f*i.g+a*o.g+.5,i.b=255&f*i.b+a*o.b+.5,i.a=l*i.a+(1-l)*o.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=M0(this._rgb,e._rgb,t)),this}clone(){return new Ss(this.rgb)}alpha(e){return this._rgb.a=Kn(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=Ls(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Zo(this._rgb,2,e),this}darken(e){return Zo(this._rgb,2,-e),this}saturate(e){return Zo(this._rgb,1,e),this}desaturate(e){return Zo(this._rgb,1,-e),this}rotate(e){return P0(this._rgb,e),this}}function mn(){}const D0=(()=>{let n=0;return()=>n++})();function Re(n){return n==null}function Ye(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function _e(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ht(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function rn(n,e){return ht(n)?n:e}function we(n,e){return typeof n>"u"?e:n}const $0=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Ie(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Te(n,e,t,i){let o,a,l;if(Ye(n))for(a=n.length,o=0;o<a;o++)e.call(t,n[o],o);else if(_e(n))for(l=Object.keys(n),a=l.length,o=0;o<a;o++)e.call(t,n[l[o]],l[o])}function Sa(n,e){let t,i,o,a;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(o=n[t],a=e[t],o.datasetIndex!==a.datasetIndex||o.index!==a.index)return!1;return!0}function ka(n){if(Ye(n))return n.map(ka);if(_e(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let o=0;for(;o<i;++o)e[t[o]]=ka(n[t[o]]);return e}return n}function Yg(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function U0(n,e,t,i){if(!Yg(n))return;const o=e[n],a=t[n];_e(o)&&_e(a)?ks(o,a,i):e[n]=ka(a)}function ks(n,e,t){const i=Ye(e)?e:[e],o=i.length;if(!_e(n))return n;t=t||{};const a=t.merger||U0;let l;for(let u=0;u<o;++u){if(l=i[u],!_e(l))continue;const h=Object.keys(l);for(let f=0,g=h.length;f<g;++f)a(h[f],n,l,t)}return n}function ms(n,e){return ks(n,e,{merger:z0})}function z0(n,e,t){if(!Yg(n))return;const i=e[n],o=t[n];_e(i)&&_e(o)?ms(i,o):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=ka(o))}const rp={"":n=>n,x:n=>n.x,y:n=>n.y};function F0(n){const e=n.split("."),t=[];let i="";for(const o of e)i+=o,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function B0(n){const e=F0(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Ea(n,e){return(rp[e]||(rp[e]=B0(e)))(n)}function Lu(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ta=n=>typeof n<"u",Gn=n=>typeof n=="function",ip=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function W0(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const et=Math.PI,Qt=2*et,H0=Qt+et,Ca=Number.POSITIVE_INFINITY,V0=et/180,Jt=et/2,lr=et/4,sp=et*2/3,Jg=Math.log10,fi=Math.sign;function ys(n,e,t){return Math.abs(n-e)<t}function op(n){const e=Math.round(n);n=ys(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(Jg(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function q0(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((o,a)=>o-a).pop(),e}function K0(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Es(n){return!K0(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function G0(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function Y0(n,e,t){let i,o,a;for(i=0,o=n.length;i<o;i++)a=n[i][t],isNaN(a)||(e.min=Math.min(e.min,a),e.max=Math.max(e.max,a))}function wr(n){return n*(et/180)}function J0(n){return n*(180/et)}function ap(n){if(!ht(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Q0(n,e){const t=e.x-n.x,i=e.y-n.y,o=Math.sqrt(t*t+i*i);let a=Math.atan2(i,t);return a<-.5*et&&(a+=Qt),{angle:a,distance:o}}function uu(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function X0(n,e){return(n-e+H0)%Qt-et}function an(n){return(n%Qt+Qt)%Qt}function Qg(n,e,t,i){const o=an(n),a=an(e),l=an(t),u=an(a-o),h=an(l-o),f=an(o-a),g=an(o-l);return o===a||o===l||i&&a===l||u>h&&f<g}function Dt(n,e,t){return Math.max(e,Math.min(t,n))}function Z0(n){return Dt(n,-32768,32767)}function ci(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function Du(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,o=0,a;for(;i-o>1;)a=o+i>>1,t(a)?o=a:i=a;return{lo:o,hi:i}}const _r=(n,e,t,i)=>Du(n,t,i?o=>{const a=n[o][e];return a<t||a===t&&n[o+1][e]===t}:o=>n[o][e]<t),ew=(n,e,t)=>Du(n,t,i=>n[i][e]>=t);function tw(n,e,t){let i=0,o=n.length;for(;i<o&&n[i]<e;)i++;for(;o>i&&n[o-1]>t;)o--;return i>0||o<n.length?n.slice(i,o):n}const Xg=["push","pop","shift","splice","unshift"];function nw(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Xg.forEach(t=>{const i="_onData"+Lu(t),o=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...a){const l=o.apply(this,a);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...a)}),l}})})}function lp(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,o=i.indexOf(e);o!==-1&&i.splice(o,1),!(i.length>0)&&(Xg.forEach(a=>{delete n[a]}),delete n._chartjs)}function rw(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const Zg=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function em(n,e){let t=[],i=!1;return function(...o){t=o,i||(i=!0,Zg.call(window,()=>{i=!1,n.apply(e,t)}))}}function iw(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const $u=n=>n==="start"?"left":n==="end"?"right":"center",ct=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,sw=(n,e,t,i)=>n===(i?"left":"right")?t:n==="center"?(e+t)/2:e;function ow(n,e,t){const i=e.length;let o=0,a=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:h}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,g=l.axis,{min:y,max:v,minDefined:_,maxDefined:x}=l.getUserBounds();if(_){if(o=Math.min(_r(h,g,y).lo,t?i:_r(e,g,l.getPixelForValue(y)).lo),f){const b=h.slice(0,o+1).reverse().findIndex(S=>!Re(S[u.axis]));o-=Math.max(0,b)}o=Dt(o,0,i-1)}if(x){let b=Math.max(_r(h,l.axis,v,!0).hi+1,t?0:_r(e,g,l.getPixelForValue(v),!0).hi+1);if(f){const S=h.slice(b-1).findIndex(T=>!Re(T[u.axis]));b+=Math.max(0,S)}a=Dt(b,o,i)-o}else a=i-o}return{start:o,count:a}}function aw(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,o={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=o,!0;const a=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,o),a}const ea=n=>n===0||n===1,cp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Qt/t)),up=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Qt/t)+1,vs={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Jt)+1,easeOutSine:n=>Math.sin(n*Jt),easeInOutSine:n=>-.5*(Math.cos(et*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>ea(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>ea(n)?n:cp(n,.075,.3),easeOutElastic:n=>ea(n)?n:up(n,.075,.3),easeInOutElastic(n){return ea(n)?n:n<.5?.5*cp(n*2,.1125,.45):.5+.5*up(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-vs.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?vs.easeInBounce(n*2)*.5:vs.easeOutBounce(n*2-1)*.5+.5};function Uu(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function hp(n){return Uu(n)?n:new Ss(n)}function Vc(n){return Uu(n)?n:new Ss(n).saturate(.5).darken(.1).hexString()}const lw=["x","y","borderWidth","radius","tension"],cw=["color","borderColor","backgroundColor"];function uw(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:cw},numbers:{type:"number",properties:lw}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function hw(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const dp=new Map;function dw(n,e){e=e||{};const t=n+JSON.stringify(e);let i=dp.get(t);return i||(i=new Intl.NumberFormat(n,e),dp.set(t,i)),i}function tm(n,e,t){return dw(e,t).format(n)}const fw={values(n){return Ye(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let o,a=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(o="scientific"),a=pw(n,t)}const l=Jg(Math.abs(a)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),h={notation:o,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(h,this.options.ticks.format),tm(n,i,h)}};function pw(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var nm={formatters:fw};function gw(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:nm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kr=Object.create(null),hu=Object.create(null);function ws(n,e){if(!e)return n;const t=e.split(".");for(let i=0,o=t.length;i<o;++i){const a=t[i];n=n[a]||(n[a]=Object.create(null))}return n}function qc(n,e,t){return typeof e=="string"?ks(ws(n,e),t):ks(ws(n,""),e)}class mw{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,o)=>Vc(o.backgroundColor),this.hoverBorderColor=(i,o)=>Vc(o.borderColor),this.hoverColor=(i,o)=>Vc(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return qc(this,e,t)}get(e){return ws(this,e)}describe(e,t){return qc(hu,e,t)}override(e,t){return qc(kr,e,t)}route(e,t,i,o){const a=ws(this,e),l=ws(this,i),u="_"+t;Object.defineProperties(a,{[u]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const h=this[u],f=l[o];return _e(h)?Object.assign({},f,h):we(h,f)},set(h){this[u]=h}}})}apply(e){e.forEach(t=>t(this))}}var Be=new mw({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[uw,hw,gw]);function yw(n){return!n||Re(n.size)||Re(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function fp(n,e,t,i,o){let a=e[o];return a||(a=e[o]=n.measureText(o).width,t.push(o)),a>i&&(i=a),i}function cr(n,e,t){const i=n.currentDevicePixelRatio,o=t!==0?Math.max(t/2,.5):0;return Math.round((e-o)*i)/i+o}function pp(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function du(n,e,t,i){rm(n,e,t,i,null)}function rm(n,e,t,i,o){let a,l,u,h,f,g,y,v;const _=e.pointStyle,x=e.rotation,b=e.radius;let S=(x||0)*V0;if(_&&typeof _=="object"&&(a=_.toString(),a==="[object HTMLImageElement]"||a==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(S),n.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),n.restore();return}if(!(isNaN(b)||b<=0)){switch(n.beginPath(),_){default:o?n.ellipse(t,i,o/2,b,0,0,Qt):n.arc(t,i,b,0,Qt),n.closePath();break;case"triangle":g=o?o/2:b,n.moveTo(t+Math.sin(S)*g,i-Math.cos(S)*b),S+=sp,n.lineTo(t+Math.sin(S)*g,i-Math.cos(S)*b),S+=sp,n.lineTo(t+Math.sin(S)*g,i-Math.cos(S)*b),n.closePath();break;case"rectRounded":f=b*.516,h=b-f,l=Math.cos(S+lr)*h,y=Math.cos(S+lr)*(o?o/2-f:h),u=Math.sin(S+lr)*h,v=Math.sin(S+lr)*(o?o/2-f:h),n.arc(t-y,i-u,f,S-et,S-Jt),n.arc(t+v,i-l,f,S-Jt,S),n.arc(t+y,i+u,f,S,S+Jt),n.arc(t-v,i+l,f,S+Jt,S+et),n.closePath();break;case"rect":if(!x){h=Math.SQRT1_2*b,g=o?o/2:h,n.rect(t-g,i-h,2*g,2*h);break}S+=lr;case"rectRot":y=Math.cos(S)*(o?o/2:b),l=Math.cos(S)*b,u=Math.sin(S)*b,v=Math.sin(S)*(o?o/2:b),n.moveTo(t-y,i-u),n.lineTo(t+v,i-l),n.lineTo(t+y,i+u),n.lineTo(t-v,i+l),n.closePath();break;case"crossRot":S+=lr;case"cross":y=Math.cos(S)*(o?o/2:b),l=Math.cos(S)*b,u=Math.sin(S)*b,v=Math.sin(S)*(o?o/2:b),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"star":y=Math.cos(S)*(o?o/2:b),l=Math.cos(S)*b,u=Math.sin(S)*b,v=Math.sin(S)*(o?o/2:b),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l),S+=lr,y=Math.cos(S)*(o?o/2:b),l=Math.cos(S)*b,u=Math.sin(S)*b,v=Math.sin(S)*(o?o/2:b),n.moveTo(t-y,i-u),n.lineTo(t+y,i+u),n.moveTo(t+v,i-l),n.lineTo(t-v,i+l);break;case"line":l=o?o/2:Math.cos(S)*b,u=Math.sin(S)*b,n.moveTo(t-l,i-u),n.lineTo(t+l,i+u);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(S)*(o?o/2:b),i+Math.sin(S)*b);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Ts(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Na(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Ma(n){n.restore()}function vw(n,e,t,i,o){if(!e)return n.lineTo(t.x,t.y);if(o==="middle"){const a=(e.x+t.x)/2;n.lineTo(a,e.y),n.lineTo(a,t.y)}else o==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function ww(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function _w(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Re(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function bw(n,e,t,i,o){if(o.strikethrough||o.underline){const a=n.measureText(i),l=e-a.actualBoundingBoxLeft,u=e+a.actualBoundingBoxRight,h=t-a.actualBoundingBoxAscent,f=t+a.actualBoundingBoxDescent,g=o.strikethrough?(h+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=o.decorationWidth||2,n.moveTo(l,g),n.lineTo(u,g),n.stroke()}}function xw(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function Cs(n,e,t,i,o,a={}){const l=Ye(e)?e:[e],u=a.strokeWidth>0&&a.strokeColor!=="";let h,f;for(n.save(),n.font=o.string,_w(n,a),h=0;h<l.length;++h)f=l[h],a.backdrop&&xw(n,a.backdrop),u&&(a.strokeColor&&(n.strokeStyle=a.strokeColor),Re(a.strokeWidth)||(n.lineWidth=a.strokeWidth),n.strokeText(f,t,i,a.maxWidth)),n.fillText(f,t,i,a.maxWidth),bw(n,t,i,f,a),i+=Number(o.lineHeight);n.restore()}function fu(n,e){const{x:t,y:i,w:o,h:a,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*et,et,!0),n.lineTo(t,i+a-l.bottomLeft),n.arc(t+l.bottomLeft,i+a-l.bottomLeft,l.bottomLeft,et,Jt,!0),n.lineTo(t+o-l.bottomRight,i+a),n.arc(t+o-l.bottomRight,i+a-l.bottomRight,l.bottomRight,Jt,0,!0),n.lineTo(t+o,i+l.topRight),n.arc(t+o-l.topRight,i+l.topRight,l.topRight,0,-Jt,!0),n.lineTo(t+l.topLeft,i)}const Sw=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kw=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ew(n,e){const t=(""+n).match(Sw);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const Tw=n=>+n||0;function im(n,e){const t={},i=_e(e),o=i?Object.keys(e):e,a=_e(n)?i?l=>we(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of o)t[l]=Tw(a(l));return t}function Cw(n){return im(n,{top:"y",right:"x",bottom:"y",left:"x"})}function _s(n){return im(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ut(n){const e=Cw(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ut(n,e){n=n||{},e=e||Be.font;let t=we(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=we(n.style,e.style);i&&!(""+i).match(kw)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const o={family:we(n.family,e.family),lineHeight:Ew(we(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:we(n.weight,e.weight),string:""};return o.string=yw(o),o}function ta(n,e,t,i){let o,a,l;for(o=0,a=n.length;o<a;++o)if(l=n[o],l!==void 0&&l!==void 0)return l}function Pw(n,e,t){const{min:i,max:o}=n,a=$0(e,(o-i)/2),l=(u,h)=>t&&u===0?0:u+h;return{min:l(i,-Math.abs(a)),max:l(o,a)}}function Er(n,e){return Object.assign(Object.create(n),e)}function zu(n,e=[""],t,i,o=()=>n[0]){const a=t||n;typeof i>"u"&&(i=lm("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:a,_fallback:i,_getTarget:o,override:u=>zu([u,...n],e,a,i)};return new Proxy(l,{deleteProperty(u,h){return delete u[h],delete u._keys,delete n[0][h],!0},get(u,h){return om(u,h,()=>Lw(h,e,n,u))},getOwnPropertyDescriptor(u,h){return Reflect.getOwnPropertyDescriptor(u._scopes[0],h)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,h){return mp(u).includes(h)},ownKeys(u){return mp(u)},set(u,h,f){const g=u._storage||(u._storage=o());return u[h]=g[h]=f,delete u._keys,!0}})}function pi(n,e,t,i){const o={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:sm(n,i),setContext:a=>pi(n,a,t,i),override:a=>pi(n.override(a),e,t,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete n[l],!0},get(a,l,u){return om(a,l,()=>Rw(a,l,u))},getOwnPropertyDescriptor(a,l){return a._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(a,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(a,l,u){return n[l]=u,delete a[l],!0}})}function sm(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:o=e.allKeys}=n;return{allKeys:o,scriptable:t,indexable:i,isScriptable:Gn(t)?t:()=>t,isIndexable:Gn(i)?i:()=>i}}const Ow=(n,e)=>n?n+Lu(e):e,Fu=(n,e)=>_e(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function om(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function Rw(n,e,t){const{_proxy:i,_context:o,_subProxy:a,_descriptors:l}=n;let u=i[e];return Gn(u)&&l.isScriptable(e)&&(u=Aw(e,u,n,t)),Ye(u)&&u.length&&(u=jw(e,u,n,l.isIndexable)),Fu(e,u)&&(u=pi(u,o,a&&a[e],l)),u}function Aw(n,e,t,i){const{_proxy:o,_context:a,_subProxy:l,_stack:u}=t;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let h=e(a,l||i);return u.delete(n),Fu(n,h)&&(h=Bu(o._scopes,o,n,h)),h}function jw(n,e,t,i){const{_proxy:o,_context:a,_subProxy:l,_descriptors:u}=t;if(typeof a.index<"u"&&i(n))return e[a.index%e.length];if(_e(e[0])){const h=e,f=o._scopes.filter(g=>g!==h);e=[];for(const g of h){const y=Bu(f,o,n,g);e.push(pi(y,a,l&&l[n],u))}}return e}function am(n,e,t){return Gn(n)?n(e,t):n}const Iw=(n,e)=>n===!0?e:typeof n=="string"?Ea(e,n):void 0;function Nw(n,e,t,i,o){for(const a of e){const l=Iw(t,a);if(l){n.add(l);const u=am(l._fallback,t,o);if(typeof u<"u"&&u!==t&&u!==i)return u}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function Bu(n,e,t,i){const o=e._rootScopes,a=am(e._fallback,t,i),l=[...n,...o],u=new Set;u.add(i);let h=gp(u,l,t,a||t,i);return h===null||typeof a<"u"&&a!==t&&(h=gp(u,l,a,h,i),h===null)?!1:zu(Array.from(u),[""],o,a,()=>Mw(e,t,i))}function gp(n,e,t,i,o){for(;t;)t=Nw(n,e,t,i,o);return t}function Mw(n,e,t){const i=n._getTarget();e in i||(i[e]={});const o=i[e];return Ye(o)&&_e(t)?t:o||{}}function Lw(n,e,t,i){let o;for(const a of e)if(o=lm(Ow(a,n),t),typeof o<"u")return Fu(n,o)?Bu(t,i,n,o):o}function lm(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function mp(n){let e=n._keys;return e||(e=n._keys=Dw(n._scopes)),e}function Dw(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(o=>!o.startsWith("_")))e.add(i);return Array.from(e)}const $w=Number.EPSILON||1e-14,gi=(n,e)=>e<n.length&&!n[e].skip&&n[e],cm=n=>n==="x"?"y":"x";function Uw(n,e,t,i){const o=n.skip?e:n,a=e,l=t.skip?e:t,u=uu(a,o),h=uu(l,a);let f=u/(u+h),g=h/(u+h);f=isNaN(f)?0:f,g=isNaN(g)?0:g;const y=i*f,v=i*g;return{previous:{x:a.x-y*(l.x-o.x),y:a.y-y*(l.y-o.y)},next:{x:a.x+v*(l.x-o.x),y:a.y+v*(l.y-o.y)}}}function zw(n,e,t){const i=n.length;let o,a,l,u,h,f=gi(n,0);for(let g=0;g<i-1;++g)if(h=f,f=gi(n,g+1),!(!h||!f)){if(ys(e[g],0,$w)){t[g]=t[g+1]=0;continue}o=t[g]/e[g],a=t[g+1]/e[g],u=Math.pow(o,2)+Math.pow(a,2),!(u<=9)&&(l=3/Math.sqrt(u),t[g]=o*l*e[g],t[g+1]=a*l*e[g])}}function Fw(n,e,t="x"){const i=cm(t),o=n.length;let a,l,u,h=gi(n,0);for(let f=0;f<o;++f){if(l=u,u=h,h=gi(n,f+1),!u)continue;const g=u[t],y=u[i];l&&(a=(g-l[t])/3,u[`cp1${t}`]=g-a,u[`cp1${i}`]=y-a*e[f]),h&&(a=(h[t]-g)/3,u[`cp2${t}`]=g+a,u[`cp2${i}`]=y+a*e[f])}}function Bw(n,e="x"){const t=cm(e),i=n.length,o=Array(i).fill(0),a=Array(i);let l,u,h,f=gi(n,0);for(l=0;l<i;++l)if(u=h,h=f,f=gi(n,l+1),!!h){if(f){const g=f[e]-h[e];o[l]=g!==0?(f[t]-h[t])/g:0}a[l]=u?f?fi(o[l-1])!==fi(o[l])?0:(o[l-1]+o[l])/2:o[l-1]:o[l]}zw(n,o,a),Fw(n,a,e)}function na(n,e,t){return Math.max(Math.min(n,t),e)}function Ww(n,e){let t,i,o,a,l,u=Ts(n[0],e);for(t=0,i=n.length;t<i;++t)l=a,a=u,u=t<i-1&&Ts(n[t+1],e),a&&(o=n[t],l&&(o.cp1x=na(o.cp1x,e.left,e.right),o.cp1y=na(o.cp1y,e.top,e.bottom)),u&&(o.cp2x=na(o.cp2x,e.left,e.right),o.cp2y=na(o.cp2y,e.top,e.bottom)))}function Hw(n,e,t,i,o){let a,l,u,h;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")Bw(n,o);else{let f=i?n[n.length-1]:n[0];for(a=0,l=n.length;a<l;++a)u=n[a],h=Uw(f,u,n[Math.min(a+1,l-(i?0:1))%l],e.tension),u.cp1x=h.previous.x,u.cp1y=h.previous.y,u.cp2x=h.next.x,u.cp2y=h.next.y,f=u}e.capBezierPoints&&Ww(n,t)}function Wu(){return typeof window<"u"&&typeof document<"u"}function Hu(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Pa(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const La=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Vw(n,e){return La(n).getPropertyValue(e)}const qw=["top","right","bottom","left"];function Sr(n,e,t){const i={};t=t?"-"+t:"";for(let o=0;o<4;o++){const a=qw[o];i[a]=parseFloat(n[e+"-"+a+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Kw=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Gw(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:o,offsetY:a}=i;let l=!1,u,h;if(Kw(o,a,n.target))u=o,h=a;else{const f=e.getBoundingClientRect();u=i.clientX-f.left,h=i.clientY-f.top,l=!0}return{x:u,y:h,box:l}}function pr(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,o=La(t),a=o.boxSizing==="border-box",l=Sr(o,"padding"),u=Sr(o,"border","width"),{x:h,y:f,box:g}=Gw(n,t),y=l.left+(g&&u.left),v=l.top+(g&&u.top);let{width:_,height:x}=e;return a&&(_-=l.width+u.width,x-=l.height+u.height),{x:Math.round((h-y)/_*t.width/i),y:Math.round((f-v)/x*t.height/i)}}function Yw(n,e,t){let i,o;if(e===void 0||t===void 0){const a=n&&Hu(n);if(!a)e=n.clientWidth,t=n.clientHeight;else{const l=a.getBoundingClientRect(),u=La(a),h=Sr(u,"border","width"),f=Sr(u,"padding");e=l.width-f.width-h.width,t=l.height-f.height-h.height,i=Pa(u.maxWidth,a,"clientWidth"),o=Pa(u.maxHeight,a,"clientHeight")}}return{width:e,height:t,maxWidth:i||Ca,maxHeight:o||Ca}}const qn=n=>Math.round(n*10)/10;function Jw(n,e,t,i){const o=La(n),a=Sr(o,"margin"),l=Pa(o.maxWidth,n,"clientWidth")||Ca,u=Pa(o.maxHeight,n,"clientHeight")||Ca,h=Yw(n,e,t);let{width:f,height:g}=h;if(o.boxSizing==="content-box"){const v=Sr(o,"border","width"),_=Sr(o,"padding");f-=_.width+v.width,g-=_.height+v.height}return f=Math.max(0,f-a.width),g=Math.max(0,i?f/i:g-a.height),f=qn(Math.min(f,l,h.maxWidth)),g=qn(Math.min(g,u,h.maxHeight)),f&&!g&&(g=qn(f/2)),(e!==void 0||t!==void 0)&&i&&h.height&&g>h.height&&(g=h.height,f=qn(Math.floor(g*i))),{width:f,height:g}}function yp(n,e,t){const i=e||1,o=qn(n.height*i),a=qn(n.width*i);n.height=qn(n.height),n.width=qn(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==o||l.width!==a?(n.currentDevicePixelRatio=i,l.height=o,l.width=a,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Qw=(function(){let n=!1;try{const e={get passive(){return n=!0,!1}};Wu()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n})();function vp(n,e){const t=Vw(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function gr(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function Xw(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function Zw(n,e,t,i){const o={x:n.cp2x,y:n.cp2y},a={x:e.cp1x,y:e.cp1y},l=gr(n,o,t),u=gr(o,a,t),h=gr(a,e,t),f=gr(l,u,t),g=gr(u,h,t);return gr(f,g,t)}const e_=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},t_=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function hi(n,e,t){return n?e_(e,t):t_()}function um(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function hm(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function dm(n){return n==="angle"?{between:Qg,compare:X0,normalize:an}:{between:ci,compare:(e,t)=>e-t,normalize:e=>e}}function wp({start:n,end:e,count:t,loop:i,style:o}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:o}}function n_(n,e,t){const{property:i,start:o,end:a}=t,{between:l,normalize:u}=dm(i),h=e.length;let{start:f,end:g,loop:y}=n,v,_;if(y){for(f+=h,g+=h,v=0,_=h;v<_&&l(u(e[f%h][i]),o,a);++v)f--,g--;f%=h,g%=h}return g<f&&(g+=h),{start:f,end:g,loop:y,style:n.style}}function fm(n,e,t){if(!t)return[n];const{property:i,start:o,end:a}=t,l=e.length,{compare:u,between:h,normalize:f}=dm(i),{start:g,end:y,loop:v,style:_}=n_(n,e,t),x=[];let b=!1,S=null,T,A,R;const M=()=>h(o,R,T)&&u(o,R)!==0,L=()=>u(a,T)===0||h(a,R,T),U=()=>b||M(),F=()=>!b||L();for(let W=g,G=g;W<=y;++W)A=e[W%l],!A.skip&&(T=f(A[i]),T!==R&&(b=h(T,o,a),S===null&&U()&&(S=u(T,o)===0?W:G),S!==null&&F()&&(x.push(wp({start:S,end:W,loop:v,count:l,style:_})),S=null),G=W,R=T));return S!==null&&x.push(wp({start:S,end:y,loop:v,count:l,style:_})),x}function pm(n,e){const t=[],i=n.segments;for(let o=0;o<i.length;o++){const a=fm(i[o],n.points,e);a.length&&t.push(...a)}return t}function r_(n,e,t,i){let o=0,a=e-1;if(t&&!i)for(;o<e&&!n[o].skip;)o++;for(;o<e&&n[o].skip;)o++;for(o%=e,t&&(a+=o);a>o&&n[a%e].skip;)a--;return a%=e,{start:o,end:a}}function i_(n,e,t,i){const o=n.length,a=[];let l=e,u=n[e],h;for(h=e+1;h<=t;++h){const f=n[h%o];f.skip||f.stop?u.skip||(i=!1,a.push({start:e%o,end:(h-1)%o,loop:i}),e=l=f.stop?h:null):(l=h,u.skip&&(e=h)),u=f}return l!==null&&a.push({start:e%o,end:l%o,loop:i}),a}function s_(n,e){const t=n.points,i=n.options.spanGaps,o=t.length;if(!o)return[];const a=!!n._loop,{start:l,end:u}=r_(t,o,a,i);if(i===!0)return _p(n,[{start:l,end:u,loop:a}],t,e);const h=u<l?u+o:u,f=!!n._fullLoop&&l===0&&u===o-1;return _p(n,i_(t,l,h,f),t,e)}function _p(n,e,t,i){return!i||!i.setContext||!t?e:o_(n,e,t,i)}function o_(n,e,t,i){const o=n._chart.getContext(),a=bp(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,h=t.length,f=[];let g=a,y=e[0].start,v=y;function _(x,b,S,T){const A=u?-1:1;if(x!==b){for(x+=h;t[x%h].skip;)x-=A;for(;t[b%h].skip;)b+=A;x%h!==b%h&&(f.push({start:x%h,end:b%h,loop:S,style:T}),g=T,y=b%h)}}for(const x of e){y=u?y:x.start;let b=t[y%h],S;for(v=y+1;v<=x.end;v++){const T=t[v%h];S=bp(i.setContext(Er(o,{type:"segment",p0:b,p1:T,p0DataIndex:(v-1)%h,p1DataIndex:v%h,datasetIndex:l}))),a_(S,g)&&_(y,v-1,x.loop,g),b=T,g=S}y<v-1&&_(y,v-1,x.loop,g)}return f}function bp(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function a_(n,e){if(!e)return!1;const t=[],i=function(o,a){return Uu(a)?(t.includes(a)||t.push(a),t.indexOf(a)):a};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function ra(n,e,t){return n.options.clip?n[t]:e[t]}function l_(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:ra(t,e,"left"),right:ra(t,e,"right"),top:ra(i,e,"top"),bottom:ra(i,e,"bottom")}:e}function gm(n,e){const t=e._clip;if(t.disabled)return!1;const i=l_(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}class c_{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,o){const a=t.listeners[o],l=t.duration;a.forEach(u=>u({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=Zg.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,o)=>{if(!i.running||!i.items.length)return;const a=i.items;let l=a.length-1,u=!1,h;for(;l>=0;--l)h=a[l],h._active?(h._total>i.duration&&(i.duration=h._total),h.tick(e),u=!0):(a[l]=a[a.length-1],a.pop());u&&(o.draw(),this._notify(o,i,e,"progress")),a.length||(i.running=!1,this._notify(o,i,e,"complete"),i.initial=!1),t+=a.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,o)=>Math.max(i,o._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let o=i.length-1;for(;o>=0;--o)i[o].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var yn=new c_;const xp="transparent",u_={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=hp(n||xp),o=i.valid&&hp(e||xp);return o&&o.valid?o.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class h_{constructor(e,t,i,o){const a=t[i];o=ta([e.to,o,a,e.from]);const l=ta([e.from,a,o]);this._active=!0,this._fn=e.fn||u_[e.type||typeof l],this._easing=vs[e.easing]||vs.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=o,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const o=this._target[this._prop],a=i-this._start,l=this._duration-a;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=ta([e.to,t,o,e.from]),this._from=ta([e.from,o,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,o=this._prop,a=this._from,l=this._loop,u=this._to;let h;if(this._active=a!==u&&(l||t<i),!this._active){this._target[o]=u,this._notify(!0);return}if(t<0){this._target[o]=a;return}h=t/i%2,h=l&&h>1?2-h:h,h=this._easing(Math.min(1,Math.max(0,h))),this._target[o]=this._fn(a,u,h)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let o=0;o<i.length;o++)i[o][t]()}}class mm{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!_e(e))return;const t=Object.keys(Be.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(o=>{const a=e[o];if(!_e(a))return;const l={};for(const u of t)l[u]=a[u];(Ye(a.properties)&&a.properties||[o]).forEach(u=>{(u===o||!i.has(u))&&i.set(u,l)})})}_animateOptions(e,t){const i=t.options,o=f_(e,i);if(!o)return[];const a=this._createAnimations(o,i);return i.$shared&&d_(e.options.$animations,i).then(()=>{e.options=i},()=>{}),a}_createAnimations(e,t){const i=this._properties,o=[],a=e.$animations||(e.$animations={}),l=Object.keys(t),u=Date.now();let h;for(h=l.length-1;h>=0;--h){const f=l[h];if(f.charAt(0)==="$")continue;if(f==="options"){o.push(...this._animateOptions(e,t));continue}const g=t[f];let y=a[f];const v=i.get(f);if(y)if(v&&y.active()){y.update(v,g,u);continue}else y.cancel();if(!v||!v.duration){e[f]=g;continue}a[f]=y=new h_(v,e,f,g),o.push(y)}return o}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return yn.add(this._chart,i),!0}}function d_(n,e){const t=[],i=Object.keys(e);for(let o=0;o<i.length;o++){const a=n[i[o]];a&&a.active()&&t.push(a.wait())}return Promise.all(t)}function f_(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function Sp(n,e){const t=n&&n.options||{},i=t.reverse,o=t.min===void 0?e:0,a=t.max===void 0?e:0;return{start:i?a:o,end:i?o:a}}function p_(n,e,t){if(t===!1)return!1;const i=Sp(n,t),o=Sp(e,t);return{top:o.end,right:i.end,bottom:o.start,left:i.start}}function g_(n){let e,t,i,o;return _e(n)?(e=n.top,t=n.right,i=n.bottom,o=n.left):e=t=i=o=n,{top:e,right:t,bottom:i,left:o,disabled:n===!1}}function ym(n,e){const t=[],i=n._getSortedDatasetMetas(e);let o,a;for(o=0,a=i.length;o<a;++o)t.push(i[o].index);return t}function kp(n,e,t,i={}){const o=n.keys,a=i.mode==="single";let l,u,h,f;if(e===null)return;let g=!1;for(l=0,u=o.length;l<u;++l){if(h=+o[l],h===t){if(g=!0,i.all)continue;break}f=n.values[h],ht(f)&&(a||e===0||fi(e)===fi(f))&&(e+=f)}return!g&&!i.all?0:e}function m_(n,e){const{iScale:t,vScale:i}=e,o=t.axis==="x"?"x":"y",a=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let h,f,g;for(h=0,f=l.length;h<f;++h)g=l[h],u[h]={[o]:g,[a]:n[g]};return u}function Kc(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function y_(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function v_(n){const{min:e,max:t,minDefined:i,maxDefined:o}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:o?t:Number.POSITIVE_INFINITY}}function w_(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function Ep(n,e,t,i){for(const o of e.getMatchingVisibleMetas(i).reverse()){const a=n[o.index];if(t&&a>0||!t&&a<0)return o.index}return null}function Tp(n,e){const{chart:t,_cachedMeta:i}=n,o=t._stacks||(t._stacks={}),{iScale:a,vScale:l,index:u}=i,h=a.axis,f=l.axis,g=y_(a,l,i),y=e.length;let v;for(let _=0;_<y;++_){const x=e[_],{[h]:b,[f]:S}=x,T=x._stacks||(x._stacks={});v=T[f]=w_(o,g,b),v[u]=S,v._top=Ep(v,l,!0,i.type),v._bottom=Ep(v,l,!1,i.type);const A=v._visualValues||(v._visualValues={});A[u]=S}}function Gc(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function __(n,e){return Er(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function b_(n,e,t){return Er(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function is(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const o of e){const a=o._stacks;if(!a||a[i]===void 0||a[i][t]===void 0)return;delete a[i][t],a[i]._visualValues!==void 0&&a[i]._visualValues[t]!==void 0&&delete a[i]._visualValues[t]}}}const Yc=n=>n==="reset"||n==="none",Cp=(n,e)=>e?n:Object.assign({},n),x_=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:ym(t,!0),values:null};class vm{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Kc(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&is(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),o=(y,v,_,x)=>y==="x"?v:y==="r"?x:_,a=t.xAxisID=we(i.xAxisID,Gc(e,"x")),l=t.yAxisID=we(i.yAxisID,Gc(e,"y")),u=t.rAxisID=we(i.rAxisID,Gc(e,"r")),h=t.indexAxis,f=t.iAxisID=o(h,a,l,u),g=t.vAxisID=o(h,l,a,u);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(u),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(g)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&lp(this._data,this),e._stacked&&is(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(_e(t)){const o=this._cachedMeta;this._data=m_(t,o)}else if(i!==t){if(i){lp(i,this);const o=this._cachedMeta;is(o),o._parsed=[]}t&&Object.isExtensible(t)&&nw(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let o=!1;this._dataCheck();const a=t._stacked;t._stacked=Kc(t.vScale,t),t.stack!==i.stack&&(o=!0,is(t),t.stack=i.stack),this._resyncElements(e),(o||a!==t._stacked)&&(Tp(this,t._parsed),t._stacked=Kc(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:o}=this,{iScale:a,_stacked:l}=i,u=a.axis;let h=e===0&&t===o.length?!0:i._sorted,f=e>0&&i._parsed[e-1],g,y,v;if(this._parsing===!1)i._parsed=o,i._sorted=!0,v=o;else{Ye(o[e])?v=this.parseArrayData(i,o,e,t):_e(o[e])?v=this.parseObjectData(i,o,e,t):v=this.parsePrimitiveData(i,o,e,t);const _=()=>y[u]===null||f&&y[u]<f[u];for(g=0;g<t;++g)i._parsed[g+e]=y=v[g],h&&(_()&&(h=!1),f=y);i._sorted=h}l&&Tp(this,v)}parsePrimitiveData(e,t,i,o){const{iScale:a,vScale:l}=e,u=a.axis,h=l.axis,f=a.getLabels(),g=a===l,y=new Array(o);let v,_,x;for(v=0,_=o;v<_;++v)x=v+i,y[v]={[u]:g||a.parse(f[x],x),[h]:l.parse(t[x],x)};return y}parseArrayData(e,t,i,o){const{xScale:a,yScale:l}=e,u=new Array(o);let h,f,g,y;for(h=0,f=o;h<f;++h)g=h+i,y=t[g],u[h]={x:a.parse(y[0],g),y:l.parse(y[1],g)};return u}parseObjectData(e,t,i,o){const{xScale:a,yScale:l}=e,{xAxisKey:u="x",yAxisKey:h="y"}=this._parsing,f=new Array(o);let g,y,v,_;for(g=0,y=o;g<y;++g)v=g+i,_=t[v],f[g]={x:a.parse(Ea(_,u),v),y:l.parse(Ea(_,h),v)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const o=this.chart,a=this._cachedMeta,l=t[e.axis],u={keys:ym(o,!0),values:t._stacks[e.axis]._visualValues};return kp(u,l,a.index,{mode:i})}updateRangeFromParsed(e,t,i,o){const a=i[t.axis];let l=a===null?NaN:a;const u=o&&i._stacks[t.axis];o&&u&&(o.values=u,l=kp(o,a,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,o=i._parsed,a=i._sorted&&e===i.iScale,l=o.length,u=this._getOtherScale(e),h=x_(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:g,max:y}=v_(u);let v,_;function x(){_=o[v];const b=_[u.axis];return!ht(_[e.axis])||g>b||y<b}for(v=0;v<l&&!(!x()&&(this.updateRangeFromParsed(f,e,_,h),a));++v);if(a){for(v=l-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(f,e,_,h);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let o,a,l;for(o=0,a=t.length;o<a;++o)l=t[o][e.axis],ht(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,o=t.vScale,a=this.getParsed(e);return{label:i?""+i.getLabelForValue(a[i.axis]):"",value:o?""+o.getLabelForValue(a[o.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=g_(we(this.options.clip,p_(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,o=i.data||[],a=t.chartArea,l=[],u=this._drawStart||0,h=this._drawCount||o.length-u,f=this.options.drawActiveElementsOnTop;let g;for(i.dataset&&i.dataset.draw(e,a,u,h),g=u;g<u+h;++g){const y=o[g];y.hidden||(y.active&&f?l.push(y):y.draw(e,a))}for(g=0;g<l.length;++g)l[g].draw(e,a)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const o=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];a=l.$context||(l.$context=b_(this.getContext(),e,l)),a.parsed=this.getParsed(e),a.raw=o.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=__(this.chart.getContext(),this.index)),a.dataset=o,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=i,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const o=t==="active",a=this._cachedDataOpts,l=e+"-"+t,u=a[l],h=this.enableOptionSharing&&Ta(i);if(u)return Cp(u,h);const f=this.chart.config,g=f.datasetElementScopeKeys(this._type,e),y=o?[`${e}Hover`,"hover",e,""]:[e,""],v=f.getOptionScopes(this.getDataset(),g),_=Object.keys(Be.elements[e]),x=()=>this.getContext(i,o,t),b=f.resolveNamedOptions(v,_,x,y);return b.$shared&&(b.$shared=h,a[l]=Object.freeze(Cp(b,h))),b}_resolveAnimations(e,t,i){const o=this.chart,a=this._cachedDataOpts,l=`animation-${t}`,u=a[l];if(u)return u;let h;if(o.options.animation!==!1){const g=this.chart.config,y=g.datasetAnimationScopeKeys(this._type,t),v=g.getOptionScopes(this.getDataset(),y);h=g.createResolver(v,this.getContext(e,i,t))}const f=new mm(o,h&&h.animations);return h&&h._cacheable&&(a[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Yc(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),o=this._sharedOptions,a=this.getSharedOptions(i),l=this.includeOptions(t,a)||a!==o;return this.updateSharedOptions(a,t,i),{sharedOptions:a,includeOptions:l}}updateElement(e,t,i,o){Yc(o)?Object.assign(e,i):this._resolveAnimations(t,o).update(e,i)}updateSharedOptions(e,t,i){e&&!Yc(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,o){e.active=o;const a=this.getStyle(t,o);this._resolveAnimations(t,i,o).update(e,{options:!o&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[u,h,f]of this._syncList)this[u](h,f);this._syncList=[];const o=i.length,a=t.length,l=Math.min(a,o);l&&this.parse(0,l),a>o?this._insertElements(o,a-o,e):a<o&&this._removeElements(a,o-a)}_insertElements(e,t,i=!0){const o=this._cachedMeta,a=o.data,l=e+t;let u;const h=f=>{for(f.length+=t,u=f.length-1;u>=l;u--)f[u]=f[u-t]};for(h(a),u=e;u<l;++u)a[u]=new this.dataElementType;this._parsing&&h(o._parsed),this.parse(e,t),i&&this.updateElements(a,e,t,"reset")}updateElements(e,t,i,o){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const o=i._parsed.splice(e,t);i._stacked&&is(i,o)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,o]=e;this[t](i,o)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class S_ extends vm{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:o=[],_dataset:a}=t,l=this.chart._animationsDisabled;let{start:u,count:h}=ow(t,o,l);this._drawStart=u,this._drawCount=h,aw(t)&&(u=0,h=o.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=o;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(o,u,h,e)}updateElements(e,t,i,o){const a=o==="reset",{iScale:l,vScale:u,_stacked:h,_dataset:f}=this._cachedMeta,{sharedOptions:g,includeOptions:y}=this._getSharedOptions(t,o),v=l.axis,_=u.axis,{spanGaps:x,segment:b}=this.options,S=Es(x)?x:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||a||o==="none",A=t+i,R=e.length;let M=t>0&&this.getParsed(t-1);for(let L=0;L<R;++L){const U=e[L],F=T?U:{};if(L<t||L>=A){F.skip=!0;continue}const W=this.getParsed(L),G=Re(W[_]),ie=F[v]=l.getPixelForValue(W[v],L),oe=F[_]=a||G?u.getBasePixel():u.getPixelForValue(h?this.applyStack(u,W,h):W[_],L);F.skip=isNaN(ie)||isNaN(oe)||G,F.stop=L>0&&Math.abs(W[v]-M[v])>S,b&&(F.parsed=W,F.raw=f.data[L]),y&&(F.options=g||this.resolveDataElementOptions(L,U.active?"active":o)),T||this.updateElement(U,L,F,o),M=W}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,o=e.data||[];if(!o.length)return i;const a=o[0].size(this.resolveDataElementOptions(0)),l=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(i,a,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function ur(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Vu{static override(e){Object.assign(Vu.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ur()}parse(){return ur()}format(){return ur()}add(){return ur()}diff(){return ur()}startOf(){return ur()}endOf(){return ur()}}var k_={_date:Vu};function E_(n,e,t,i){const{controller:o,data:a,_sorted:l}=n,u=o._cachedMeta.iScale,h=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&e===u.axis&&e!=="r"&&l&&a.length){const f=u._reversePixels?ew:_r;if(i){if(o._sharedOptions){const g=a[0],y=typeof g.getRange=="function"&&g.getRange(e);if(y){const v=f(a,e,t-y),_=f(a,e,t+y);return{lo:v.lo,hi:_.hi}}}}else{const g=f(a,e,t);if(h){const{vScale:y}=o._cachedMeta,{_parsed:v}=n,_=v.slice(0,g.lo+1).reverse().findIndex(b=>!Re(b[y.axis]));g.lo-=Math.max(0,_);const x=v.slice(g.hi).findIndex(b=>!Re(b[y.axis]));g.hi+=Math.max(0,x)}return g}}return{lo:0,hi:a.length-1}}function Da(n,e,t,i,o){const a=n.getSortedVisibleDatasetMetas(),l=t[e];for(let u=0,h=a.length;u<h;++u){const{index:f,data:g}=a[u],{lo:y,hi:v}=E_(a[u],e,l,o);for(let _=y;_<=v;++_){const x=g[_];x.skip||i(x,f,_)}}}function T_(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,o){const a=e?Math.abs(i.x-o.x):0,l=t?Math.abs(i.y-o.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(l,2))}}function Jc(n,e,t,i,o){const a=[];return!o&&!n.isPointInArea(e)||Da(n,t,e,function(u,h,f){!o&&!Ts(u,n.chartArea,0)||u.inRange(e.x,e.y,i)&&a.push({element:u,datasetIndex:h,index:f})},!0),a}function C_(n,e,t,i){let o=[];function a(l,u,h){const{startAngle:f,endAngle:g}=l.getProps(["startAngle","endAngle"],i),{angle:y}=Q0(l,{x:e.x,y:e.y});Qg(y,f,g)&&o.push({element:l,datasetIndex:u,index:h})}return Da(n,t,e,a),o}function P_(n,e,t,i,o,a){let l=[];const u=T_(t);let h=Number.POSITIVE_INFINITY;function f(g,y,v){const _=g.inRange(e.x,e.y,o);if(i&&!_)return;const x=g.getCenterPoint(o);if(!(!!a||n.isPointInArea(x))&&!_)return;const S=u(e,x);S<h?(l=[{element:g,datasetIndex:y,index:v}],h=S):S===h&&l.push({element:g,datasetIndex:y,index:v})}return Da(n,t,e,f),l}function Qc(n,e,t,i,o,a){return!a&&!n.isPointInArea(e)?[]:t==="r"&&!i?C_(n,e,t,o):P_(n,e,t,i,o,a)}function Pp(n,e,t,i,o){const a=[],l=t==="x"?"inXRange":"inYRange";let u=!1;return Da(n,t,e,(h,f,g)=>{h[l]&&h[l](e[t],o)&&(a.push({element:h,datasetIndex:f,index:g}),u=u||h.inRange(e.x,e.y,o))}),i&&!u?[]:a}var O_={modes:{index(n,e,t,i){const o=pr(e,n),a=t.axis||"x",l=t.includeInvisible||!1,u=t.intersect?Jc(n,o,a,i,l):Qc(n,o,a,!1,i,l),h=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const g=u[0].index,y=f.data[g];y&&!y.skip&&h.push({element:y,datasetIndex:f.index,index:g})}),h):[]},dataset(n,e,t,i){const o=pr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;let u=t.intersect?Jc(n,o,a,i,l):Qc(n,o,a,!1,i,l);if(u.length>0){const h=u[0].datasetIndex,f=n.getDatasetMeta(h).data;u=[];for(let g=0;g<f.length;++g)u.push({element:f[g],datasetIndex:h,index:g})}return u},point(n,e,t,i){const o=pr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Jc(n,o,a,i,l)},nearest(n,e,t,i){const o=pr(e,n),a=t.axis||"xy",l=t.includeInvisible||!1;return Qc(n,o,a,t.intersect,i,l)},x(n,e,t,i){const o=pr(e,n);return Pp(n,o,"x",t.intersect,i)},y(n,e,t,i){const o=pr(e,n);return Pp(n,o,"y",t.intersect,i)}}};const wm=["left","top","right","bottom"];function ss(n,e){return n.filter(t=>t.pos===e)}function Op(n,e){return n.filter(t=>wm.indexOf(t.pos)===-1&&t.box.axis===e)}function os(n,e){return n.sort((t,i)=>{const o=e?i:t,a=e?t:i;return o.weight===a.weight?o.index-a.index:o.weight-a.weight})}function R_(n){const e=[];let t,i,o,a,l,u;for(t=0,i=(n||[]).length;t<i;++t)o=n[t],{position:a,options:{stack:l,stackWeight:u=1}}=o,e.push({index:t,box:o,pos:a,horizontal:o.isHorizontal(),weight:o.weight,stack:l&&a+l,stackWeight:u});return e}function A_(n){const e={};for(const t of n){const{stack:i,pos:o,stackWeight:a}=t;if(!i||!wm.includes(o))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=a}return e}function j_(n,e){const t=A_(n),{vBoxMaxWidth:i,hBoxMaxHeight:o}=e;let a,l,u;for(a=0,l=n.length;a<l;++a){u=n[a];const{fullSize:h}=u.box,f=t[u.stack],g=f&&u.stackWeight/f.weight;u.horizontal?(u.width=g?g*i:h&&e.availableWidth,u.height=o):(u.width=i,u.height=g?g*o:h&&e.availableHeight)}return t}function I_(n){const e=R_(n),t=os(e.filter(f=>f.box.fullSize),!0),i=os(ss(e,"left"),!0),o=os(ss(e,"right")),a=os(ss(e,"top"),!0),l=os(ss(e,"bottom")),u=Op(e,"x"),h=Op(e,"y");return{fullSize:t,leftAndTop:i.concat(a),rightAndBottom:o.concat(h).concat(l).concat(u),chartArea:ss(e,"chartArea"),vertical:i.concat(o).concat(h),horizontal:a.concat(l).concat(u)}}function Rp(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function _m(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function N_(n,e,t,i){const{pos:o,box:a}=t,l=n.maxPadding;if(!_e(o)){t.size&&(n[o]-=t.size);const y=i[t.stack]||{size:0,count:1};y.size=Math.max(y.size,t.horizontal?a.height:a.width),t.size=y.size/y.count,n[o]+=t.size}a.getPadding&&_m(l,a.getPadding());const u=Math.max(0,e.outerWidth-Rp(l,n,"left","right")),h=Math.max(0,e.outerHeight-Rp(l,n,"top","bottom")),f=u!==n.w,g=h!==n.h;return n.w=u,n.h=h,t.horizontal?{same:f,other:g}:{same:g,other:f}}function M_(n){const e=n.maxPadding;function t(i){const o=Math.max(e[i]-n[i],0);return n[i]+=o,o}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function L_(n,e){const t=e.maxPadding;function i(o){const a={left:0,top:0,right:0,bottom:0};return o.forEach(l=>{a[l]=Math.max(e[l],t[l])}),a}return i(n?["left","right"]:["top","bottom"])}function hs(n,e,t,i){const o=[];let a,l,u,h,f,g;for(a=0,l=n.length,f=0;a<l;++a){u=n[a],h=u.box,h.update(u.width||e.w,u.height||e.h,L_(u.horizontal,e));const{same:y,other:v}=N_(e,t,u,i);f|=y&&o.length,g=g||v,h.fullSize||o.push(u)}return f&&hs(o,e,t,i)||g}function ia(n,e,t,i,o){n.top=t,n.left=e,n.right=e+i,n.bottom=t+o,n.width=i,n.height=o}function Ap(n,e,t,i){const o=t.padding;let{x:a,y:l}=e;for(const u of n){const h=u.box,f=i[u.stack]||{placed:0,weight:1},g=u.stackWeight/f.weight||1;if(u.horizontal){const y=e.w*g,v=f.size||h.height;Ta(f.start)&&(l=f.start),h.fullSize?ia(h,o.left,l,t.outerWidth-o.right-o.left,v):ia(h,e.left+f.placed,l,y,v),f.start=l,f.placed+=y,l=h.bottom}else{const y=e.h*g,v=f.size||h.width;Ta(f.start)&&(a=f.start),h.fullSize?ia(h,a,o.top,v,t.outerHeight-o.bottom-o.top):ia(h,a,e.top+f.placed,v,y),f.start=a,f.placed+=y,a=h.right}}e.x=a,e.y=l}var $t={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const o=Ut(n.options.layout.padding),a=Math.max(e-o.width,0),l=Math.max(t-o.height,0),u=I_(n.boxes),h=u.vertical,f=u.horizontal;Te(n.boxes,b=>{typeof b.beforeLayout=="function"&&b.beforeLayout()});const g=h.reduce((b,S)=>S.box.options&&S.box.options.display===!1?b:b+1,0)||1,y=Object.freeze({outerWidth:e,outerHeight:t,padding:o,availableWidth:a,availableHeight:l,vBoxMaxWidth:a/2/g,hBoxMaxHeight:l/2}),v=Object.assign({},o);_m(v,Ut(i));const _=Object.assign({maxPadding:v,w:a,h:l,x:o.left,y:o.top},o),x=j_(h.concat(f),y);hs(u.fullSize,_,y,x),hs(h,_,y,x),hs(f,_,y,x)&&hs(h,_,y,x),M_(_),Ap(u.leftAndTop,_,y,x),_.x+=_.w,_.y+=_.h,Ap(u.rightAndBottom,_,y,x),n.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Te(u.chartArea,b=>{const S=b.box;Object.assign(S,n.chartArea),S.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class bm{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,o){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,o?Math.floor(t/o):i)}}isAttached(e){return!0}updateConfig(e){}}class D_ extends bm{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ba="$chartjs",$_={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jp=n=>n===null||n==="";function U_(n,e){const t=n.style,i=n.getAttribute("height"),o=n.getAttribute("width");if(n[ba]={initial:{height:i,width:o,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",jp(o)){const a=vp(n,"width");a!==void 0&&(n.width=a)}if(jp(i))if(n.style.height==="")n.height=n.width/(e||2);else{const a=vp(n,"height");a!==void 0&&(n.height=a)}return n}const xm=Qw?{passive:!0}:!1;function z_(n,e,t){n&&n.addEventListener(e,t,xm)}function F_(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,xm)}function B_(n,e){const t=$_[n.type]||n.type,{x:i,y:o}=pr(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:o!==void 0?o:null}}function Oa(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function W_(n,e,t){const i=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Oa(u.addedNodes,i),l=l&&!Oa(u.removedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}function H_(n,e,t){const i=n.canvas,o=new MutationObserver(a=>{let l=!1;for(const u of a)l=l||Oa(u.removedNodes,i),l=l&&!Oa(u.addedNodes,i);l&&t()});return o.observe(document,{childList:!0,subtree:!0}),o}const Ps=new Map;let Ip=0;function Sm(){const n=window.devicePixelRatio;n!==Ip&&(Ip=n,Ps.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function V_(n,e){Ps.size||window.addEventListener("resize",Sm),Ps.set(n,e)}function q_(n){Ps.delete(n),Ps.size||window.removeEventListener("resize",Sm)}function K_(n,e,t){const i=n.canvas,o=i&&Hu(i);if(!o)return;const a=em((u,h)=>{const f=o.clientWidth;t(u,h),f<o.clientWidth&&t()},window),l=new ResizeObserver(u=>{const h=u[0],f=h.contentRect.width,g=h.contentRect.height;f===0&&g===0||a(f,g)});return l.observe(o),V_(n,a),l}function Xc(n,e,t){t&&t.disconnect(),e==="resize"&&q_(n)}function G_(n,e,t){const i=n.canvas,o=em(a=>{n.ctx!==null&&t(B_(a,n))},n);return z_(i,e,o),o}class Y_ extends bm{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(U_(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[ba])return!1;const i=t[ba].initial;["height","width"].forEach(a=>{const l=i[a];Re(l)?t.removeAttribute(a):t.setAttribute(a,l)});const o=i.style||{};return Object.keys(o).forEach(a=>{t.style[a]=o[a]}),t.width=t.width,delete t[ba],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const o=e.$proxies||(e.$proxies={}),l={attach:W_,detach:H_,resize:K_}[t]||G_;o[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),o=i[t];if(!o)return;({attach:Xc,detach:Xc,resize:Xc}[t]||F_)(e,t,o),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,o){return Jw(e,t,i,o)}isAttached(e){const t=e&&Hu(e);return!!(t&&t.isConnected)}}function J_(n){return!Wu()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?D_:Y_}class Tr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Es(this.x)&&Es(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const o={};return e.forEach(a=>{o[a]=i[a]&&i[a].active()?i[a]._to:this[a]}),o}}function Q_(n,e){const t=n.options.ticks,i=X_(n),o=Math.min(t.maxTicksLimit||i,i),a=t.major.enabled?eb(e):[],l=a.length,u=a[0],h=a[l-1],f=[];if(l>o)return tb(e,f,a,l/o),f;const g=Z_(a,e,o);if(l>0){let y,v;const _=l>1?Math.round((h-u)/(l-1)):null;for(sa(e,f,g,Re(_)?0:u-_,u),y=0,v=l-1;y<v;y++)sa(e,f,g,a[y],a[y+1]);return sa(e,f,g,h,Re(_)?e.length:h+_),f}return sa(e,f,g),f}function X_(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),o=n._maxLength/t;return Math.floor(Math.min(i,o))}function Z_(n,e,t){const i=nb(n),o=e.length/t;if(!i)return Math.max(o,1);const a=q0(i);for(let l=0,u=a.length-1;l<u;l++){const h=a[l];if(h>o)return h}return Math.max(o,1)}function eb(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function tb(n,e,t,i){let o=0,a=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===a&&(e.push(n[l]),o++,a=t[o*i])}function sa(n,e,t,i,o){const a=we(i,0),l=Math.min(we(o,n.length),n.length);let u=0,h,f,g;for(t=Math.ceil(t),o&&(h=o-i,t=h/Math.floor(h/t)),g=a;g<0;)u++,g=Math.round(a+u*t);for(f=Math.max(a,0);f<l;f++)f===g&&(e.push(n[f]),u++,g=Math.round(a+u*t))}function nb(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const rb=n=>n==="left"?"right":n==="right"?"left":n,Np=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,Mp=(n,e)=>Math.min(e||n,n);function Lp(n,e){const t=[],i=n.length/e,o=n.length;let a=0;for(;a<o;a+=i)t.push(n[Math.floor(a)]);return t}function ib(n,e,t){const i=n.ticks.length,o=Math.min(e,i-1),a=n._startPixel,l=n._endPixel,u=1e-6;let h=n.getPixelForTick(o),f;if(!(t&&(i===1?f=Math.max(h-a,l-h):e===0?f=(n.getPixelForTick(1)-h)/2:f=(h-n.getPixelForTick(o-1))/2,h+=o<e?f:-f,h<a-u||h>l+u)))return h}function sb(n,e){Te(n,t=>{const i=t.gc,o=i.length/2;let a;if(o>e){for(a=0;a<o;++a)delete t.data[i[a]];i.splice(0,o)}})}function as(n){return n.drawTicks?n.tickLength:0}function Dp(n,e){if(!n.display)return 0;const t=ut(n.font,e),i=Ut(n.padding);return(Ye(n.text)?n.text.length:1)*t.lineHeight+i.height}function ob(n,e){return Er(n,{scale:e,type:"scale"})}function ab(n,e,t){return Er(n,{tick:t,index:e,type:"tick"})}function lb(n,e,t){let i=$u(n);return(t&&e!=="right"||!t&&e==="right")&&(i=rb(i)),i}function cb(n,e,t,i){const{top:o,left:a,bottom:l,right:u,chart:h}=n,{chartArea:f,scales:g}=h;let y=0,v,_,x;const b=l-o,S=u-a;if(n.isHorizontal()){if(_=ct(i,a,u),_e(t)){const T=Object.keys(t)[0],A=t[T];x=g[T].getPixelForValue(A)+b-e}else t==="center"?x=(f.bottom+f.top)/2+b-e:x=Np(n,t,e);v=u-a}else{if(_e(t)){const T=Object.keys(t)[0],A=t[T];_=g[T].getPixelForValue(A)-S+e}else t==="center"?_=(f.left+f.right)/2-S+e:_=Np(n,t,e);x=ct(i,l,o),y=t==="left"?-Jt:Jt}return{titleX:_,titleY:x,maxWidth:v,rotation:y}}class mi extends Tr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:o}=this;return e=rn(e,Number.POSITIVE_INFINITY),t=rn(t,Number.NEGATIVE_INFINITY),i=rn(i,Number.POSITIVE_INFINITY),o=rn(o,Number.NEGATIVE_INFINITY),{min:rn(e,i),max:rn(t,o),minDefined:ht(e),maxDefined:ht(t)}}getMinMax(e){let{min:t,max:i,minDefined:o,maxDefined:a}=this.getUserBounds(),l;if(o&&a)return{min:t,max:i};const u=this.getMatchingVisibleMetas();for(let h=0,f=u.length;h<f;++h)l=u[h].controller.getMinMax(this,e),o||(t=Math.min(t,l.min)),a||(i=Math.max(i,l.max));return t=a&&t>i?i:t,i=o&&t>i?t:i,{min:rn(t,rn(i,t)),max:rn(i,rn(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:o,grace:a,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Pw(this,a,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const h=u<this.ticks.length;this._convertTicksToLabels(h?Lp(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Q_(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),h&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,o,a;for(i=0,o=e.length;i<o;i++)a=e[i],a.label=Ie(t.callback,[a.value,i,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=Mp(this.ticks.length,e.ticks.maxTicksLimit),o=t.minRotation||0,a=t.maxRotation;let l=o,u,h,f;if(!this._isVisible()||!t.display||o>=a||i<=1||!this.isHorizontal()){this.labelRotation=o;return}const g=this._getLabelSizes(),y=g.widest.width,v=g.highest.height,_=Dt(this.chart.width-y,0,this.maxWidth);u=e.offset?this.maxWidth/i:_/(i-1),y+6>u&&(u=_/(i-(e.offset?.5:1)),h=this.maxHeight-as(e.grid)-t.padding-Dp(e.title,this.chart.options.font),f=Math.sqrt(y*y+v*v),l=J0(Math.min(Math.asin(Dt((g.highest.height+6)/u,-1,1)),Math.asin(Dt(h/f,-1,1))-Math.asin(Dt(v/f,-1,1)))),l=Math.max(o,Math.min(a,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:o,grid:a}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const h=Dp(o,t.options.font);if(u?(e.width=this.maxWidth,e.height=as(a)+h):(e.height=this.maxHeight,e.width=as(a)+h),i.display&&this.ticks.length){const{first:f,last:g,widest:y,highest:v}=this._getLabelSizes(),_=i.padding*2,x=wr(this.labelRotation),b=Math.cos(x),S=Math.sin(x);if(u){const T=i.mirror?0:S*y.width+b*v.height;e.height=Math.min(this.maxHeight,e.height+T+_)}else{const T=i.mirror?0:b*y.width+S*v.height;e.width=Math.min(this.maxWidth,e.width+T+_)}this._calculatePadding(f,g,S,b)}}this._handleMargins(),u?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,o){const{ticks:{align:a,padding:l},position:u}=this.options,h=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const g=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;h?f?(v=o*e.width,_=i*t.height):(v=i*e.height,_=o*t.width):a==="start"?_=t.width:a==="end"?v=e.width:a!=="inner"&&(v=e.width/2,_=t.width/2),this.paddingLeft=Math.max((v-g+l)*this.width/(this.width-g),0),this.paddingRight=Math.max((_-y+l)*this.width/(this.width-y),0)}else{let g=t.height/2,y=e.height/2;a==="start"?(g=0,y=e.height):a==="end"&&(g=t.height,y=0),this.paddingTop=g+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Re(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=Lp(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:o,_longestTextCache:a}=this,l=[],u=[],h=Math.floor(t/Mp(t,i));let f=0,g=0,y,v,_,x,b,S,T,A,R,M,L;for(y=0;y<t;y+=h){if(x=e[y].label,b=this._resolveTickFontOptions(y),o.font=S=b.string,T=a[S]=a[S]||{data:{},gc:[]},A=b.lineHeight,R=M=0,!Re(x)&&!Ye(x))R=fp(o,T.data,T.gc,R,x),M=A;else if(Ye(x))for(v=0,_=x.length;v<_;++v)L=x[v],!Re(L)&&!Ye(L)&&(R=fp(o,T.data,T.gc,R,L),M+=A);l.push(R),u.push(M),f=Math.max(R,f),g=Math.max(M,g)}sb(a,t);const U=l.indexOf(f),F=u.indexOf(g),W=G=>({width:l[G]||0,height:u[G]||0});return{first:W(0),last:W(t-1),widest:W(U),highest:W(F),widths:l,heights:u}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Z0(this._alignToPixels?cr(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=ab(this.getContext(),e,i))}return this.$context||(this.$context=ob(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=wr(this.labelRotation),i=Math.abs(Math.cos(t)),o=Math.abs(Math.sin(t)),a=this._getLabelSizes(),l=e.autoSkipPadding||0,u=a?a.widest.width+l:0,h=a?a.highest.height+l:0;return this.isHorizontal()?h*i>u*o?u/i:h/o:h*o<u*i?h/i:u/o}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,o=this.options,{grid:a,position:l,border:u}=o,h=a.offset,f=this.isHorizontal(),y=this.ticks.length+(h?1:0),v=as(a),_=[],x=u.setContext(this.getContext()),b=x.display?x.width:0,S=b/2,T=function(ve){return cr(i,ve,b)};let A,R,M,L,U,F,W,G,ie,oe,ce,me;if(l==="top")A=T(this.bottom),F=this.bottom-v,G=A-S,oe=T(e.top)+S,me=e.bottom;else if(l==="bottom")A=T(this.top),oe=e.top,me=T(e.bottom)-S,F=A+S,G=this.top+v;else if(l==="left")A=T(this.right),U=this.right-v,W=A-S,ie=T(e.left)+S,ce=e.right;else if(l==="right")A=T(this.left),ie=e.left,ce=T(e.right)-S,U=A+S,W=this.left+v;else if(t==="x"){if(l==="center")A=T((e.top+e.bottom)/2+.5);else if(_e(l)){const ve=Object.keys(l)[0],X=l[ve];A=T(this.chart.scales[ve].getPixelForValue(X))}oe=e.top,me=e.bottom,F=A+S,G=F+v}else if(t==="y"){if(l==="center")A=T((e.left+e.right)/2);else if(_e(l)){const ve=Object.keys(l)[0],X=l[ve];A=T(this.chart.scales[ve].getPixelForValue(X))}U=A-S,W=U-v,ie=e.left,ce=e.right}const Se=we(o.ticks.maxTicksLimit,y),ye=Math.max(1,Math.ceil(y/Se));for(R=0;R<y;R+=ye){const ve=this.getContext(R),X=a.setContext(ve),D=u.setContext(ve),Y=X.lineWidth,q=X.color,C=D.dash||[],$=D.dashOffset,J=X.tickWidth,se=X.tickColor,fe=X.tickBorderDash||[],pe=X.tickBorderDashOffset;M=ib(this,R,h),M!==void 0&&(L=cr(i,M,Y),f?U=W=ie=ce=L:F=G=oe=me=L,_.push({tx1:U,ty1:F,tx2:W,ty2:G,x1:ie,y1:oe,x2:ce,y2:me,width:Y,color:q,borderDash:C,borderDashOffset:$,tickWidth:J,tickColor:se,tickBorderDash:fe,tickBorderDashOffset:pe}))}return this._ticksLength=y,this._borderValue=A,_}_computeLabelItems(e){const t=this.axis,i=this.options,{position:o,ticks:a}=i,l=this.isHorizontal(),u=this.ticks,{align:h,crossAlign:f,padding:g,mirror:y}=a,v=as(i.grid),_=v+g,x=y?-g:_,b=-wr(this.labelRotation),S=[];let T,A,R,M,L,U,F,W,G,ie,oe,ce,me="middle";if(o==="top")U=this.bottom-x,F=this._getXAxisLabelAlignment();else if(o==="bottom")U=this.top+x,F=this._getXAxisLabelAlignment();else if(o==="left"){const ye=this._getYAxisLabelAlignment(v);F=ye.textAlign,L=ye.x}else if(o==="right"){const ye=this._getYAxisLabelAlignment(v);F=ye.textAlign,L=ye.x}else if(t==="x"){if(o==="center")U=(e.top+e.bottom)/2+_;else if(_e(o)){const ye=Object.keys(o)[0],ve=o[ye];U=this.chart.scales[ye].getPixelForValue(ve)+_}F=this._getXAxisLabelAlignment()}else if(t==="y"){if(o==="center")L=(e.left+e.right)/2-_;else if(_e(o)){const ye=Object.keys(o)[0],ve=o[ye];L=this.chart.scales[ye].getPixelForValue(ve)}F=this._getYAxisLabelAlignment(v).textAlign}t==="y"&&(h==="start"?me="top":h==="end"&&(me="bottom"));const Se=this._getLabelSizes();for(T=0,A=u.length;T<A;++T){R=u[T],M=R.label;const ye=a.setContext(this.getContext(T));W=this.getPixelForTick(T)+a.labelOffset,G=this._resolveTickFontOptions(T),ie=G.lineHeight,oe=Ye(M)?M.length:1;const ve=oe/2,X=ye.color,D=ye.textStrokeColor,Y=ye.textStrokeWidth;let q=F;l?(L=W,F==="inner"&&(T===A-1?q=this.options.reverse?"left":"right":T===0?q=this.options.reverse?"right":"left":q="center"),o==="top"?f==="near"||b!==0?ce=-oe*ie+ie/2:f==="center"?ce=-Se.highest.height/2-ve*ie+ie:ce=-Se.highest.height+ie/2:f==="near"||b!==0?ce=ie/2:f==="center"?ce=Se.highest.height/2-ve*ie:ce=Se.highest.height-oe*ie,y&&(ce*=-1),b!==0&&!ye.showLabelBackdrop&&(L+=ie/2*Math.sin(b))):(U=W,ce=(1-oe)*ie/2);let C;if(ye.showLabelBackdrop){const $=Ut(ye.backdropPadding),J=Se.heights[T],se=Se.widths[T];let fe=ce-$.top,pe=0-$.left;switch(me){case"middle":fe-=J/2;break;case"bottom":fe-=J;break}switch(F){case"center":pe-=se/2;break;case"right":pe-=se;break;case"inner":T===A-1?pe-=se:T>0&&(pe-=se/2);break}C={left:pe,top:fe,width:se+$.width,height:J+$.height,color:ye.backdropColor}}S.push({label:M,font:G,textOffset:ce,options:{rotation:b,color:X,strokeColor:D,strokeWidth:Y,textAlign:q,textBaseline:me,translation:[L,U],backdrop:C}})}return S}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-wr(this.labelRotation))return e==="top"?"left":"right";let o="center";return t.align==="start"?o="left":t.align==="end"?o="right":t.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:o,padding:a}}=this.options,l=this._getLabelSizes(),u=e+a,h=l.widest.width;let f,g;return t==="left"?o?(g=this.right+a,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g+=h)):(g=this.right-u,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g=this.left)):t==="right"?o?(g=this.left+a,i==="near"?f="right":i==="center"?(f="center",g-=h/2):(f="left",g-=h)):(g=this.left+u,i==="near"?f="left":i==="center"?(f="center",g+=h/2):(f="right",g=this.right)):f="right",{textAlign:f,x:g}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:o,width:a,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,o,a,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const o=this.ticks.findIndex(a=>a.value===e);return o>=0?t.setContext(this.getContext(o)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,l;const u=(h,f,g)=>{!g.width||!g.color||(i.save(),i.lineWidth=g.width,i.strokeStyle=g.color,i.setLineDash(g.borderDash||[]),i.lineDashOffset=g.borderDashOffset,i.beginPath(),i.moveTo(h.x,h.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(a=0,l=o.length;a<l;++a){const h=o[a];t.drawOnChartArea&&u({x:h.x1,y:h.y1},{x:h.x2,y:h.y2},h),t.drawTicks&&u({x:h.tx1,y:h.ty1},{x:h.tx2,y:h.ty2},{color:h.tickColor,width:h.tickWidth,borderDash:h.tickBorderDash,borderDashOffset:h.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:o}}=this,a=i.setContext(this.getContext()),l=i.display?a.width:0;if(!l)return;const u=o.setContext(this.getContext(0)).lineWidth,h=this._borderValue;let f,g,y,v;this.isHorizontal()?(f=cr(e,this.left,l)-l/2,g=cr(e,this.right,u)+u/2,y=v=h):(y=cr(e,this.top,l)-l/2,v=cr(e,this.bottom,u)+u/2,f=g=h),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(f,y),t.lineTo(g,v),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,o=this._computeLabelArea();o&&Na(i,o);const a=this.getLabelItems(e);for(const l of a){const u=l.options,h=l.font,f=l.label,g=l.textOffset;Cs(i,f,0,g,h,u)}o&&Ma(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:o}}=this;if(!i.display)return;const a=ut(i.font),l=Ut(i.padding),u=i.align;let h=a.lineHeight/2;t==="bottom"||t==="center"||_e(t)?(h+=l.bottom,Ye(i.text)&&(h+=a.lineHeight*(i.text.length-1))):h+=l.top;const{titleX:f,titleY:g,maxWidth:y,rotation:v}=cb(this,h,t,u);Cs(e,i.text,0,0,a,{color:i.color,maxWidth:y,rotation:v,textAlign:lb(u,t,o),textBaseline:"middle",translation:[f,g]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=we(e.grid&&e.grid.z,-1),o=we(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==mi.prototype.draw?[{z:t,draw:a=>{this.draw(a)}}]:[{z:i,draw:a=>{this.drawBackground(),this.drawGrid(a),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:t,draw:a=>{this.drawLabels(a)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",o=[];let a,l;for(a=0,l=t.length;a<l;++a){const u=t[a];u[i]===this.id&&(!e||u.type===e)&&o.push(u)}return o}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ut(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class oa{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;db(t)&&(i=this.register(t));const o=this.items,a=e.id,l=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in o||(o[a]=e,ub(e,l,i),this.override&&Be.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,o=this.scope;i in t&&delete t[i],o&&i in Be[o]&&(delete Be[o][i],this.override&&delete kr[i])}}function ub(n,e,t){const i=ks(Object.create(null),[t?Be.get(t):{},Be.get(e),n.defaults]);Be.set(e,i),n.defaultRoutes&&hb(e,n.defaultRoutes),n.descriptors&&Be.describe(e,n.descriptors)}function hb(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),o=i.pop(),a=[n].concat(i).join("."),l=e[t].split("."),u=l.pop(),h=l.join(".");Be.route(a,o,h,u)})}function db(n){return"id"in n&&"defaults"in n}class fb{constructor(){this.controllers=new oa(vm,"datasets",!0),this.elements=new oa(Tr,"elements"),this.plugins=new oa(Object,"plugins"),this.scales=new oa(mi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(o=>{const a=i||this._getRegistryForType(o);i||a.isForType(o)||a===this.plugins&&o.id?this._exec(e,a,o):Te(o,l=>{const u=i||this._getRegistryForType(l);this._exec(e,u,l)})})}_exec(e,t,i){const o=Lu(e);Ie(i["before"+o],[],i),t[e](i),Ie(i["after"+o],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const o=t.get(e);if(o===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return o}}var on=new fb;class pb{constructor(){this._init=void 0}notify(e,t,i,o){if(t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const a=o?this._descriptors(e).filter(o):this._descriptors(e),l=this._notify(a,e,t,i);return t==="afterDestroy"&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),l}_notify(e,t,i,o){o=o||{};for(const a of e){const l=a.plugin,u=l[i],h=[t,o,a.options];if(Ie(u,h,l)===!1&&o.cancelable)return!1}return!0}invalidate(){Re(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,o=we(i.options&&i.options.plugins,{}),a=gb(i);return o===!1&&!t?[]:yb(e,a,o,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,o=(a,l)=>a.filter(u=>!l.some(h=>u.plugin.id===h.plugin.id));this._notify(o(t,i),e,"stop"),this._notify(o(i,t),e,"start")}}function gb(n){const e={},t=[],i=Object.keys(on.plugins.items);for(let a=0;a<i.length;a++)t.push(on.getPlugin(i[a]));const o=n.plugins||[];for(let a=0;a<o.length;a++){const l=o[a];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function mb(n,e){return!e&&n===!1?null:n===!0?{}:n}function yb(n,{plugins:e,localIds:t},i,o){const a=[],l=n.getContext();for(const u of e){const h=u.id,f=mb(i[h],o);f!==null&&a.push({plugin:u,options:vb(n.config,{plugin:u,local:t[h]},f,l)})}return a}function vb(n,{plugin:e,local:t},i,o){const a=n.pluginScopeKeys(e),l=n.getOptionScopes(i,a);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pu(n,e){const t=Be.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function wb(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function _b(n,e){return n===e?"_index_":"_value_"}function $p(n){if(n==="x"||n==="y"||n==="r")return n}function bb(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function gu(n,...e){if($p(n))return n;for(const t of e){const i=t.axis||bb(t.position)||n.length>1&&$p(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Up(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function xb(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return Up(n,"x",t[0])||Up(n,"y",t[0])}return{}}function Sb(n,e){const t=kr[n.type]||{scales:{}},i=e.scales||{},o=pu(n.type,e),a=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!_e(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const h=gu(l,u,xb(l,n),Be.scales[u.type]),f=_b(h,o),g=t.scales||{};a[l]=ms(Object.create(null),[{axis:h},u,g[h],g[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,h=l.indexAxis||pu(u,e),g=(kr[u]||{}).scales||{};Object.keys(g).forEach(y=>{const v=wb(y,h),_=l[v+"AxisID"]||v;a[_]=a[_]||Object.create(null),ms(a[_],[{axis:v},i[_],g[y]])})}),Object.keys(a).forEach(l=>{const u=a[l];ms(u,[Be.scales[u.type],Be.scale])}),a}function km(n){const e=n.options||(n.options={});e.plugins=we(e.plugins,{}),e.scales=Sb(n,e)}function Em(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function kb(n){return n=n||{},n.data=Em(n.data),km(n),n}const zp=new Map,Tm=new Set;function aa(n,e){let t=zp.get(n);return t||(t=e(),zp.set(n,t),Tm.add(t)),t}const ls=(n,e,t)=>{const i=Ea(e,t);i!==void 0&&n.add(i)};class Eb{constructor(e){this._config=kb(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Em(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),km(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return aa(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return aa(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return aa(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return aa(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let o=i.get(e);return(!o||t)&&(o=new Map,i.set(e,o)),o}getOptionScopes(e,t,i){const{options:o,type:a}=this,l=this._cachedScopes(e,i),u=l.get(t);if(u)return u;const h=new Set;t.forEach(g=>{e&&(h.add(e),g.forEach(y=>ls(h,e,y))),g.forEach(y=>ls(h,o,y)),g.forEach(y=>ls(h,kr[a]||{},y)),g.forEach(y=>ls(h,Be,y)),g.forEach(y=>ls(h,hu,y))});const f=Array.from(h);return f.length===0&&f.push(Object.create(null)),Tm.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,kr[t]||{},Be.datasets[t]||{},{type:t},Be,hu]}resolveNamedOptions(e,t,i,o=[""]){const a={$shared:!0},{resolver:l,subPrefixes:u}=Fp(this._resolverCache,e,o);let h=l;if(Cb(l,t)){a.$shared=!1,i=Gn(i)?i():i;const f=this.createResolver(e,i,u);h=pi(l,i,f)}for(const f of t)a[f]=h[f];return a}createResolver(e,t,i=[""],o){const{resolver:a}=Fp(this._resolverCache,e,i);return _e(t)?pi(a,t,void 0,o):a}}function Fp(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const o=t.join();let a=i.get(o);return a||(a={resolver:zu(e,t),subPrefixes:t.filter(u=>!u.toLowerCase().includes("hover"))},i.set(o,a)),a}const Tb=n=>_e(n)&&Object.getOwnPropertyNames(n).some(e=>Gn(n[e]));function Cb(n,e){const{isScriptable:t,isIndexable:i}=sm(n);for(const o of e){const a=t(o),l=i(o),u=(l||a)&&n[o];if(a&&(Gn(u)||Tb(u))||l&&Ye(u))return!0}return!1}var Pb="4.5.1";const Ob=["top","bottom","left","right","chartArea"];function Bp(n,e){return n==="top"||n==="bottom"||Ob.indexOf(n)===-1&&e==="x"}function Wp(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function Hp(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Ie(t&&t.onComplete,[n],e)}function Rb(n){const e=n.chart,t=e.options.animation;Ie(t&&t.onProgress,[n],e)}function Cm(n){return Wu()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const xa={},Vp=n=>{const e=Cm(n);return Object.values(xa).filter(t=>t.canvas===e).pop()};function Ab(n,e,t){const i=Object.keys(n);for(const o of i){const a=+o;if(a>=e){const l=n[o];delete n[o],(t>0||a>e)&&(n[a+t]=l)}}}function jb(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}let $a=class{static defaults=Be;static instances=xa;static overrides=kr;static registry=on;static version=Pb;static getChart=Vp;static register(...e){on.add(...e),qp()}static unregister(...e){on.remove(...e),qp()}constructor(e,t){const i=this.config=new Eb(t),o=Cm(e),a=Vp(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||J_(o)),this.platform.updateConfig(i);const u=this.platform.acquireContext(o,l.aspectRatio),h=u&&u.canvas,f=h&&h.height,g=h&&h.width;if(this.id=D0(),this.ctx=u,this.canvas=h,this.width=g,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new pb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=iw(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],xa[this.id]=this,!u||!h){console.error("Failed to create chart: can't acquire context from the given item");return}yn.listen(this,"complete",Hp),yn.listen(this,"progress",Rb),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:o,_aspectRatio:a}=this;return Re(e)?t&&a?a:o?i/o:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return on}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pp(this.canvas,this.ctx),this}stop(){return yn.stop(this),this}resize(e,t){yn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,o=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(o,e,t,a),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),h=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,yp(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Ie(i.onResize,[this,l],this),this.attached&&this._doResize(h)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Te(t,(i,o)=>{i.id=o})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,o=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let a=[];t&&(a=a.concat(Object.keys(t).map(l=>{const u=t[l],h=gu(l,u),f=h==="r",g=h==="x";return{options:u,dposition:f?"chartArea":g?"bottom":"left",dtype:f?"radialLinear":g?"category":"linear"}}))),Te(a,l=>{const u=l.options,h=u.id,f=gu(h,u),g=we(u.type,l.dtype);(u.position===void 0||Bp(u.position,f)!==Bp(l.dposition))&&(u.position=l.dposition),o[h]=!0;let y=null;if(h in i&&i[h].type===g)y=i[h];else{const v=on.getScale(g);y=new v({id:h,type:g,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,e)}),Te(o,(l,u)=>{l||delete i[u]}),Te(i,l=>{$t.configure(this,l,l.options),$t.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((o,a)=>o.index-a.index),i>t){for(let o=t;o<i;++o)this._destroyDatasetMeta(o);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(Wp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,o)=>{t.filter(a=>a===i._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,o;for(this._removeUnreferencedMetasets(),i=0,o=t.length;i<o;i++){const a=t[i];let l=this.getDatasetMeta(i);const u=a.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=a.indexAxis||pu(u,this.options),l.order=a.order||0,l.index=i,l.label=""+a.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const h=on.getController(u),{datasetElementType:f,dataElementType:g}=Be.datasets[u];Object.assign(h,{dataElementType:on.getElement(g),datasetElementType:f&&on.getElement(f)}),l.controller=new h(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){Te(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,g=this.data.datasets.length;f<g;f++){const{controller:y}=this.getDatasetMeta(f),v=!o&&a.indexOf(y)===-1;y.buildOrUpdateElements(v),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),o||Te(a,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Wp("z","_idx"));const{_active:u,_lastEvent:h}=this;h?this._eventHandler(h,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){Te(this.scales,e=>{$t.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!ip(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:o,count:a}of t){const l=i==="_removeElements"?-a:a;Ab(e,o,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=a=>new Set(e.filter(l=>l[0]===a).map((l,u)=>u+","+l.splice(1).join(","))),o=i(0);for(let a=1;a<t;a++)if(!ip(o,i(a)))return;return Array.from(o).map(a=>a.split(",")).map(a=>({method:a[1],start:+a[2],count:+a[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;$t.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],Te(this.boxes,o=>{i&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,a)=>{o._idx=a}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,Gn(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),o={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(i.controller._update(t),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(yn.has(this)?this.attached&&!yn.running(this)&&yn.start(this):(this.draw(),Hp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let o,a;for(o=0,a=t.length;o<a;++o){const l=t[o];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},o=gm(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(o&&Na(t,o),e.controller.draw(),o&&Ma(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Ts(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,o){const a=O_.modes[t];return typeof a=="function"?a(this,e,i,o):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let o=i.filter(a=>a&&a._dataset===t).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(o)),o}getContext(){return this.$context||(this.$context=Er(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const o=i?"show":"hide",a=this.getDatasetMeta(e),l=a.controller._resolveAnimations(void 0,o);Ta(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(a,{visible:i}),this.update(u=>u.datasetIndex===e?o:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),yn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pp(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete xa[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(a,l)=>{t.addEventListener(this,a,l),e[a]=l},o=(a,l,u)=>{a.offsetX=l,a.offsetY=u,this._eventHandler(a)};Te(this.options.events,a=>i(a,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(h,f)=>{t.addEventListener(this,h,f),e[h]=f},o=(h,f)=>{e[h]&&(t.removeEventListener(this,h,f),delete e[h])},a=(h,f)=>{this.canvas&&this.resize(h,f)};let l;const u=()=>{o("attach",u),this.attached=!0,this.resize(),i("resize",a),i("detach",l)};l=()=>{this.attached=!1,o("resize",a),this._stop(),this._resize(0,0),i("attach",u)},t.isAttached(this.canvas)?u():l()}unbindEvents(){Te(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Te(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const o=i?"set":"remove";let a,l,u,h;for(t==="dataset"&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+o+"DatasetHoverStyle"]()),u=0,h=e.length;u<h;++u){l=e[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[o+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:a,index:l})=>{const u=this.getDatasetMeta(a);if(!u)throw new Error("No dataset found at index "+a);return{datasetIndex:a,element:u.data[l],index:l}});!Sa(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const o=this.options.hover,a=(h,f)=>h.filter(g=>!f.some(y=>g.datasetIndex===y.datasetIndex&&g.index===y.index)),l=a(t,e),u=i?e:a(e,t);l.length&&this.updateHoverStyle(l,o.mode,!1),u.length&&o.mode&&this.updateHoverStyle(u,o.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},o=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,o)===!1)return;const a=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,o),(a||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:o=[],options:a}=this,l=t,u=this._getActiveElements(e,o,i,l),h=W0(e),f=jb(e,this._lastEvent,i,h);i&&(this._lastEvent=null,Ie(a.onHover,[e,u,this],this),h&&Ie(a.onClick,[e,u,this],this));const g=!Sa(u,o);return(g||t)&&(this._active=u,this._updateHoverStyles(u,o,t)),this._lastEvent=f,g}_getActiveElements(e,t,i,o){if(e.type==="mouseout")return[];if(!i)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,o)}};function qp(){return Te($a.instances,n=>n._plugins.invalidate())}function Pm(n,e,t=e){n.lineCap=we(t.borderCapStyle,e.borderCapStyle),n.setLineDash(we(t.borderDash,e.borderDash)),n.lineDashOffset=we(t.borderDashOffset,e.borderDashOffset),n.lineJoin=we(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=we(t.borderWidth,e.borderWidth),n.strokeStyle=we(t.borderColor,e.borderColor)}function Ib(n,e,t){n.lineTo(t.x,t.y)}function Nb(n){return n.stepped?vw:n.tension||n.cubicInterpolationMode==="monotone"?ww:Ib}function Om(n,e,t={}){const i=n.length,{start:o=0,end:a=i-1}=t,{start:l,end:u}=e,h=Math.max(o,l),f=Math.min(a,u),g=o<l&&a<l||o>u&&a>u;return{count:i,start:h,loop:e.loop,ilen:f<h&&!g?i+f-h:f-h}}function Mb(n,e,t,i){const{points:o,options:a}=e,{count:l,start:u,loop:h,ilen:f}=Om(o,t,i),g=Nb(a);let{move:y=!0,reverse:v}=i||{},_,x,b;for(_=0;_<=f;++_)x=o[(u+(v?f-_:_))%l],!x.skip&&(y?(n.moveTo(x.x,x.y),y=!1):g(n,b,x,v,a.stepped),b=x);return h&&(x=o[(u+(v?f:0))%l],g(n,b,x,v,a.stepped)),!!h}function Lb(n,e,t,i){const o=e.points,{count:a,start:l,ilen:u}=Om(o,t,i),{move:h=!0,reverse:f}=i||{};let g=0,y=0,v,_,x,b,S,T;const A=M=>(l+(f?u-M:M))%a,R=()=>{b!==S&&(n.lineTo(g,S),n.lineTo(g,b),n.lineTo(g,T))};for(h&&(_=o[A(0)],n.moveTo(_.x,_.y)),v=0;v<=u;++v){if(_=o[A(v)],_.skip)continue;const M=_.x,L=_.y,U=M|0;U===x?(L<b?b=L:L>S&&(S=L),g=(y*g+M)/++y):(R(),n.lineTo(M,L),x=U,y=0,b=S=L),T=L}R()}function mu(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?Lb:Mb}function Db(n){return n.stepped?Xw:n.tension||n.cubicInterpolationMode==="monotone"?Zw:gr}function $b(n,e,t,i){let o=e._path;o||(o=e._path=new Path2D,e.path(o,t,i)&&o.closePath()),Pm(n,e.options),n.stroke(o)}function Ub(n,e,t,i){const{segments:o,options:a}=e,l=mu(e);for(const u of o)Pm(n,a,u.style),n.beginPath(),l(n,e,u,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const zb=typeof Path2D=="function";function Fb(n,e,t,i){zb&&!e.options.segment?$b(n,e,t,i):Ub(n,e,t,i)}class Ua extends Tr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const o=i.spanGaps?this._loop:this._fullLoop;Hw(this._points,i,e,o,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=s_(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,o=e[t],a=this.points,l=pm(this,{property:t,start:o,end:o});if(!l.length)return;const u=[],h=Db(i);let f,g;for(f=0,g=l.length;f<g;++f){const{start:y,end:v}=l[f],_=a[y],x=a[v];if(_===x){u.push(_);continue}const b=Math.abs((o-_[t])/(x[t]-_[t])),S=h(_,x,b,i.stepped);S[t]=e[t],u.push(S)}return u.length===1?u[0]:u}pathSegment(e,t,i){return mu(this)(e,this,t,i)}path(e,t,i){const o=this.segments,a=mu(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const u of o)l&=a(e,this,u,{start:t,end:t+i-1});return!!l}draw(e,t,i,o){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Fb(e,this,i,o),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Kp(n,e,t,i){const o=n.options,{[t]:a}=n.getProps([t],i);return Math.abs(e-a)<o.radius+o.hitRadius}class Bb extends Tr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const o=this.options,{x:a,y:l}=this.getProps(["x","y"],i);return Math.pow(e-a,2)+Math.pow(t-l,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,t){return Kp(this,e,"x",t)}inYRange(e,t){return Kp(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const i=t&&e.borderWidth||0;return(t+i)*2}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Ts(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,du(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Wb(n,e,t){const i=n.segments,o=n.points,a=e.points,l=[];for(const u of i){let{start:h,end:f}=u;f=za(h,f,o);const g=yu(t,o[h],o[f],u.loop);if(!e.segments){l.push({source:u,target:g,start:o[h],end:o[f]});continue}const y=pm(e,g);for(const v of y){const _=yu(t,a[v.start],a[v.end],v.loop),x=fm(u,o,_);for(const b of x)l.push({source:b,target:v,start:{[t]:Gp(g,_,"start",Math.max)},end:{[t]:Gp(g,_,"end",Math.min)}})}}return l}function yu(n,e,t,i){if(i)return;let o=e[n],a=t[n];return n==="angle"&&(o=an(o),a=an(a)),{property:n,start:o,end:a}}function Hb(n,e){const{x:t=null,y:i=null}=n||{},o=e.points,a=[];return e.segments.forEach(({start:l,end:u})=>{u=za(l,u,o);const h=o[l],f=o[u];i!==null?(a.push({x:h.x,y:i}),a.push({x:f.x,y:i})):t!==null&&(a.push({x:t,y:h.y}),a.push({x:t,y:f.y}))}),a}function za(n,e,t){for(;e>n;e--){const i=t[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function Gp(n,e,t,i){return n&&e?i(n[t],e[t]):n?n[t]:e?e[t]:0}function Rm(n,e){let t=[],i=!1;return Ye(n)?(i=!0,t=n):t=Hb(n,e),t.length?new Ua({points:t,options:{tension:0},_loop:i,_fullLoop:i}):null}function Yp(n){return n&&n.fill!==!1}function Vb(n,e,t){let o=n[e].fill;const a=[e];let l;if(!t)return o;for(;o!==!1&&a.indexOf(o)===-1;){if(!ht(o))return o;if(l=n[o],!l)return!1;if(l.visible)return o;a.push(o),o=l.fill}return!1}function qb(n,e,t){const i=Jb(n);if(_e(i))return isNaN(i.value)?!1:i;let o=parseFloat(i);return ht(o)&&Math.floor(o)===o?Kb(i[0],e,o,t):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Kb(n,e,t,i){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=i?!1:t}function Gb(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:_e(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function Yb(n,e,t){let i;return n==="start"?i=t:n==="end"?i=e.options.reverse?e.min:e.max:_e(n)?i=n.value:i=e.getBaseValue(),i}function Jb(n){const e=n.options,t=e.fill;let i=we(t&&t.target,t);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function Qb(n){const{scale:e,index:t,line:i}=n,o=[],a=i.segments,l=i.points,u=Xb(e,t);u.push(Rm({x:null,y:e.bottom},i));for(let h=0;h<a.length;h++){const f=a[h];for(let g=f.start;g<=f.end;g++)Zb(o,l[g],u)}return new Ua({points:o,options:{}})}function Xb(n,e){const t=[],i=n.getMatchingVisibleMetas("line");for(let o=0;o<i.length;o++){const a=i[o];if(a.index===e)break;a.hidden||t.unshift(a.dataset)}return t}function Zb(n,e,t){const i=[];for(let o=0;o<t.length;o++){const a=t[o],{first:l,last:u,point:h}=ex(a,e,"x");if(!(!h||l&&u)){if(l)i.unshift(h);else if(n.push(h),!u)break}}n.push(...i)}function ex(n,e,t){const i=n.interpolate(e,t);if(!i)return{};const o=i[t],a=n.segments,l=n.points;let u=!1,h=!1;for(let f=0;f<a.length;f++){const g=a[f],y=l[g.start][t],v=l[g.end][t];if(ci(o,y,v)){u=o===y,h=o===v;break}}return{first:u,last:h,point:i}}class Am{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:o,y:a,radius:l}=this;return t=t||{start:0,end:Qt},e.arc(o,a,l,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:o}=this,a=e.angle;return{x:t+Math.cos(a)*o,y:i+Math.sin(a)*o,angle:a}}}function tx(n){const{chart:e,fill:t,line:i}=n;if(ht(t))return nx(e,t);if(t==="stack")return Qb(n);if(t==="shape")return!0;const o=rx(n);return o instanceof Am?o:Rm(o,i)}function nx(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function rx(n){return(n.scale||{}).getPointPositionForValue?sx(n):ix(n)}function ix(n){const{scale:e={},fill:t}=n,i=Gb(t,e);if(ht(i)){const o=e.isHorizontal();return{x:o?i:null,y:o?null:i}}return null}function sx(n){const{scale:e,fill:t}=n,i=e.options,o=e.getLabels().length,a=i.reverse?e.max:e.min,l=Yb(t,e,a),u=[];if(i.grid.circular){const h=e.getPointPositionForValue(0,a);return new Am({x:h.x,y:h.y,radius:e.getDistanceFromCenterForValue(l)})}for(let h=0;h<o;++h)u.push(e.getPointPositionForValue(h,l));return u}function Zc(n,e,t){const i=tx(e),{chart:o,index:a,line:l,scale:u,axis:h}=e,f=l.options,g=f.fill,y=f.backgroundColor,{above:v=y,below:_=y}=g||{},x=o.getDatasetMeta(a),b=gm(o,x);i&&l.points.length&&(Na(n,t),ox(n,{line:l,target:i,above:v,below:_,area:t,scale:u,axis:h,clip:b}),Ma(n))}function ox(n,e){const{line:t,target:i,above:o,below:a,area:l,scale:u,clip:h}=e,f=t._loop?"angle":e.axis;n.save();let g=a;a!==o&&(f==="x"?(Jp(n,i,l.top),eu(n,{line:t,target:i,color:o,scale:u,property:f,clip:h}),n.restore(),n.save(),Jp(n,i,l.bottom)):f==="y"&&(Qp(n,i,l.left),eu(n,{line:t,target:i,color:a,scale:u,property:f,clip:h}),n.restore(),n.save(),Qp(n,i,l.right),g=o)),eu(n,{line:t,target:i,color:g,scale:u,property:f,clip:h}),n.restore()}function Jp(n,e,t){const{segments:i,points:o}=e;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=o[h],y=o[za(h,f,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(g.x,t),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Qp(n,e,t){const{segments:i,points:o}=e;let a=!0,l=!1;n.beginPath();for(const u of i){const{start:h,end:f}=u,g=o[h],y=o[za(h,f,o)];a?(n.moveTo(g.x,g.y),a=!1):(n.lineTo(t,g.y),n.lineTo(g.x,g.y)),l=!!e.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(t,y.y)}n.lineTo(t,e.first().y),n.closePath(),n.clip()}function eu(n,e){const{line:t,target:i,property:o,color:a,scale:l,clip:u}=e,h=Wb(t,i,o);for(const{source:f,target:g,start:y,end:v}of h){const{style:{backgroundColor:_=a}={}}=f,x=i!==!0;n.save(),n.fillStyle=_,ax(n,l,u,x&&yu(o,y,v)),n.beginPath();const b=!!t.pathSegment(n,f);let S;if(x){b?n.closePath():Xp(n,i,v,o);const T=!!i.pathSegment(n,g,{move:b,reverse:!0});S=b&&T,S||Xp(n,i,y,o)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function ax(n,e,t,i){const o=e.chart.chartArea,{property:a,start:l,end:u}=i||{};if(a==="x"||a==="y"){let h,f,g,y;a==="x"?(h=l,f=o.top,g=u,y=o.bottom):(h=o.left,f=l,g=o.right,y=u),n.beginPath(),t&&(h=Math.max(h,t.left),g=Math.min(g,t.right),f=Math.max(f,t.top),y=Math.min(y,t.bottom)),n.rect(h,f,g-h,y-f),n.clip()}}function Xp(n,e,t,i){const o=e.interpolate(t,i);o&&n.lineTo(o.x,o.y)}var lx={id:"filler",afterDatasetsUpdate(n,e,t){const i=(n.data.datasets||[]).length,o=[];let a,l,u,h;for(l=0;l<i;++l)a=n.getDatasetMeta(l),u=a.dataset,h=null,u&&u.options&&u instanceof Ua&&(h={visible:n.isDatasetVisible(l),index:l,fill:qb(u,l,i),chart:n,axis:a.controller.options.indexAxis,scale:a.vScale,line:u}),a.$filler=h,o.push(h);for(l=0;l<i;++l)h=o[l],!(!h||h.fill===!1)&&(h.fill=Vb(o,l,t.propagate))},beforeDraw(n,e,t){const i=t.drawTime==="beforeDraw",o=n.getSortedVisibleDatasetMetas(),a=n.chartArea;for(let l=o.length-1;l>=0;--l){const u=o[l].$filler;u&&(u.line.updateControlPoints(a,u.axis),i&&u.fill&&Zc(n.ctx,u,a))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let o=i.length-1;o>=0;--o){const a=i[o].$filler;Yp(a)&&Zc(n.ctx,a,n.chartArea)}},beforeDatasetDraw(n,e,t){const i=e.meta.$filler;!Yp(i)||t.drawTime!=="beforeDatasetDraw"||Zc(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Zp=(n,e)=>{let{boxHeight:t=e,boxWidth:i=e}=n;return n.usePointStyle&&(t=Math.min(t,e),i=n.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:t,itemHeight:Math.max(e,t)}},cx=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class eg extends Tr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(i=>e.filter(i,this.chart.data))),e.sort&&(t=t.sort((i,o)=>e.sort(i,o,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,o=ut(i.font),a=o.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:h}=Zp(i,a);let f,g;t.font=o.string,this.isHorizontal()?(f=this.maxWidth,g=this._fitRows(l,a,u,h)+10):(g=this.maxHeight,f=this._fitCols(l,o,u,h)+10),this.width=Math.min(f,e.maxWidth||this.maxWidth),this.height=Math.min(g,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,o){const{ctx:a,maxWidth:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.lineWidths=[0],g=o+u;let y=e;a.textAlign="left",a.textBaseline="middle";let v=-1,_=-g;return this.legendItems.forEach((x,b)=>{const S=i+t/2+a.measureText(x.text).width;(b===0||f[f.length-1]+S+2*u>l)&&(y+=g,f[f.length-(b>0?0:1)]=0,_+=g,v++),h[b]={left:0,top:_,row:v,width:S,height:o},f[f.length-1]+=S+u}),y}_fitCols(e,t,i,o){const{ctx:a,maxHeight:l,options:{labels:{padding:u}}}=this,h=this.legendHitBoxes=[],f=this.columnSizes=[],g=l-e;let y=u,v=0,_=0,x=0,b=0;return this.legendItems.forEach((S,T)=>{const{itemWidth:A,itemHeight:R}=ux(i,t,a,S,o);T>0&&_+R+2*u>g&&(y+=v+u,f.push({width:v,height:_}),x+=v+u,b++,v=_=0),h[T]={left:x,top:_,col:b,width:A,height:R},v=Math.max(v,A),_+=R+u}),y+=v,f.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:o},rtl:a}}=this,l=hi(a,this.left,this.width);if(this.isHorizontal()){let u=0,h=ct(i,this.left+o,this.right-this.lineWidths[u]);for(const f of t)u!==f.row&&(u=f.row,h=ct(i,this.left+o,this.right-this.lineWidths[u])),f.top+=this.top+e+o,f.left=l.leftForLtr(l.x(h),f.width),h+=f.width+o}else{let u=0,h=ct(i,this.top+e+o,this.bottom-this.columnSizes[u].height);for(const f of t)f.col!==u&&(u=f.col,h=ct(i,this.top+e+o,this.bottom-this.columnSizes[u].height)),f.top=h,f.left+=this.left+o,f.left=l.leftForLtr(l.x(f.left),f.width),h+=f.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;Na(e,this),this._draw(),Ma(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:o}=this,{align:a,labels:l}=e,u=Be.color,h=hi(e.rtl,this.left,this.width),f=ut(l.font),{padding:g}=l,y=f.size,v=y/2;let _;this.drawTitle(),o.textAlign=h.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=f.string;const{boxWidth:x,boxHeight:b,itemHeight:S}=Zp(l,y),T=function(U,F,W){if(isNaN(x)||x<=0||isNaN(b)||b<0)return;o.save();const G=we(W.lineWidth,1);if(o.fillStyle=we(W.fillStyle,u),o.lineCap=we(W.lineCap,"butt"),o.lineDashOffset=we(W.lineDashOffset,0),o.lineJoin=we(W.lineJoin,"miter"),o.lineWidth=G,o.strokeStyle=we(W.strokeStyle,u),o.setLineDash(we(W.lineDash,[])),l.usePointStyle){const ie={radius:b*Math.SQRT2/2,pointStyle:W.pointStyle,rotation:W.rotation,borderWidth:G},oe=h.xPlus(U,x/2),ce=F+v;rm(o,ie,oe,ce,l.pointStyleWidth&&x)}else{const ie=F+Math.max((y-b)/2,0),oe=h.leftForLtr(U,x),ce=_s(W.borderRadius);o.beginPath(),Object.values(ce).some(me=>me!==0)?fu(o,{x:oe,y:ie,w:x,h:b,radius:ce}):o.rect(oe,ie,x,b),o.fill(),G!==0&&o.stroke()}o.restore()},A=function(U,F,W){Cs(o,W.text,U,F+S/2,f,{strikethrough:W.hidden,textAlign:h.textAlign(W.textAlign)})},R=this.isHorizontal(),M=this._computeTitleHeight();R?_={x:ct(a,this.left+g,this.right-i[0]),y:this.top+g+M,line:0}:_={x:this.left+g,y:ct(a,this.top+M+g,this.bottom-t[0].height),line:0},um(this.ctx,e.textDirection);const L=S+g;this.legendItems.forEach((U,F)=>{o.strokeStyle=U.fontColor,o.fillStyle=U.fontColor;const W=o.measureText(U.text).width,G=h.textAlign(U.textAlign||(U.textAlign=l.textAlign)),ie=x+v+W;let oe=_.x,ce=_.y;h.setWidth(this.width),R?F>0&&oe+ie+g>this.right&&(ce=_.y+=L,_.line++,oe=_.x=ct(a,this.left+g,this.right-i[_.line])):F>0&&ce+L>this.bottom&&(oe=_.x=oe+t[_.line].width+g,_.line++,ce=_.y=ct(a,this.top+M+g,this.bottom-t[_.line].height));const me=h.x(oe);if(T(me,ce,U),oe=sw(G,oe+x+v,R?oe+ie:this.right,e.rtl),A(h.x(oe),ce,U),R)_.x+=ie+g;else if(typeof U.text!="string"){const Se=f.lineHeight;_.y+=jm(U,Se)+g}else _.y+=L}),hm(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=ut(t.font),o=Ut(t.padding);if(!t.display)return;const a=hi(e.rtl,this.left,this.width),l=this.ctx,u=t.position,h=i.size/2,f=o.top+h;let g,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),g=this.top+f,y=ct(e.align,y,this.right-v);else{const x=this.columnSizes.reduce((b,S)=>Math.max(b,S.height),0);g=f+ct(e.align,this.top,this.bottom-x-e.labels.padding-this._computeTitleHeight())}const _=ct(u,y,y+v);l.textAlign=a.textAlign($u(u)),l.textBaseline="middle",l.strokeStyle=t.color,l.fillStyle=t.color,l.font=i.string,Cs(l,t.text,_,g,i)}_computeTitleHeight(){const e=this.options.title,t=ut(e.font),i=Ut(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,o,a;if(ci(e,this.left,this.right)&&ci(t,this.top,this.bottom)){for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(o=a[i],ci(e,o.left,o.left+o.width)&&ci(t,o.top,o.top+o.height))return this.legendItems[i]}return null}handleEvent(e){const t=this.options;if(!fx(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const o=this._hoveredItem,a=cx(o,i);o&&!a&&Ie(t.onLeave,[e,o,this],this),this._hoveredItem=i,i&&!a&&Ie(t.onHover,[e,i,this],this)}else i&&Ie(t.onClick,[e,i,this],this)}}function ux(n,e,t,i,o){const a=hx(i,n,e,t),l=dx(o,i,e.lineHeight);return{itemWidth:a,itemHeight:l}}function hx(n,e,t,i){let o=n.text;return o&&typeof o!="string"&&(o=o.reduce((a,l)=>a.length>l.length?a:l)),e+t.size/2+i.measureText(o).width}function dx(n,e,t){let i=n;return typeof e.text!="string"&&(i=jm(e,t)),i}function jm(n,e){const t=n.text?n.text.length:0;return e*t}function fx(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var px={id:"legend",_element:eg,start(n,e,t){const i=n.legend=new eg({ctx:n.ctx,options:t,chart:n});$t.configure(n,i,t),$t.addBox(n,i)},stop(n){$t.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const i=n.legend;$t.configure(n,i,t),i.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const i=e.datasetIndex,o=t.chart;o.isDatasetVisible(i)?(o.hide(i),e.hidden=!0):(o.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:i,textAlign:o,color:a,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(h=>{const f=h.controller.getStyle(t?0:void 0),g=Ut(f.borderWidth);return{text:e[h.index].label,fillStyle:f.backgroundColor,fontColor:a,hidden:!h.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(g.width+g.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:o||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:h.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};let Im=class extends Tr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const o=Ye(i.text)?i.text.length:1;this._padding=Ut(i.padding);const a=o*ut(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:i,bottom:o,right:a,options:l}=this,u=l.align;let h=0,f,g,y;return this.isHorizontal()?(g=ct(u,i,a),y=t+e,f=a-i):(l.position==="left"?(g=i+e,y=ct(u,o,t),h=et*-.5):(g=a-e,y=ct(u,t,o),h=et*.5),f=o-t),{titleX:g,titleY:y,maxWidth:f,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=ut(t.font),a=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:h,rotation:f}=this._drawArgs(a);Cs(e,t.text,0,0,i,{color:t.color,maxWidth:h,rotation:f,textAlign:$u(t.align),textBaseline:"middle",translation:[l,u]})}};function gx(n,e){const t=new Im({ctx:n.ctx,options:e,chart:n});$t.configure(n,t,e),$t.addBox(n,t),n.titleBlock=t}var mx={id:"title",_element:Im,start(n,e,t){gx(n,t)},stop(n){const e=n.titleBlock;$t.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const i=n.titleBlock;$t.configure(n,i,t),i.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ds={average(n){if(!n.length)return!1;let e,t,i=new Set,o=0,a=0;for(e=0,t=n.length;e<t;++e){const u=n[e].element;if(u&&u.hasValue()){const h=u.tooltipPosition();i.add(h.x),o+=h.y,++a}}return a===0||i.size===0?!1:{x:[...i].reduce((u,h)=>u+h)/i.size,y:o/a}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,o=Number.POSITIVE_INFINITY,a,l,u;for(a=0,l=n.length;a<l;++a){const h=n[a].element;if(h&&h.hasValue()){const f=h.getCenterPoint(),g=uu(e,f);g<o&&(o=g,u=h)}}if(u){const h=u.tooltipPosition();t=h.x,i=h.y}return{x:t,y:i}}};function sn(n,e){return e&&(Ye(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function vn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function yx(n,e){const{element:t,datasetIndex:i,index:o}=e,a=n.getDatasetMeta(i).controller,{label:l,value:u}=a.getLabelAndValue(o);return{chart:n,label:l,parsed:a.getParsed(o),raw:n.data.datasets[i].data[o],formattedValue:u,dataset:a.getDataset(),dataIndex:o,datasetIndex:i,element:t}}function tg(n,e){const t=n.chart.ctx,{body:i,footer:o,title:a}=n,{boxWidth:l,boxHeight:u}=e,h=ut(e.bodyFont),f=ut(e.titleFont),g=ut(e.footerFont),y=a.length,v=o.length,_=i.length,x=Ut(e.padding);let b=x.height,S=0,T=i.reduce((M,L)=>M+L.before.length+L.lines.length+L.after.length,0);if(T+=n.beforeBody.length+n.afterBody.length,y&&(b+=y*f.lineHeight+(y-1)*e.titleSpacing+e.titleMarginBottom),T){const M=e.displayColors?Math.max(u,h.lineHeight):h.lineHeight;b+=_*M+(T-_)*h.lineHeight+(T-1)*e.bodySpacing}v&&(b+=e.footerMarginTop+v*g.lineHeight+(v-1)*e.footerSpacing);let A=0;const R=function(M){S=Math.max(S,t.measureText(M).width+A)};return t.save(),t.font=f.string,Te(n.title,R),t.font=h.string,Te(n.beforeBody.concat(n.afterBody),R),A=e.displayColors?l+2+e.boxPadding:0,Te(i,M=>{Te(M.before,R),Te(M.lines,R),Te(M.after,R)}),A=0,t.font=g.string,Te(n.footer,R),t.restore(),S+=x.width,{width:S,height:b}}function vx(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function wx(n,e,t,i){const{x:o,width:a}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&o+a+l>e.width||n==="right"&&o-a-l<0)return!0}function _x(n,e,t,i){const{x:o,width:a}=t,{width:l,chartArea:{left:u,right:h}}=n;let f="center";return i==="center"?f=o<=(u+h)/2?"left":"right":o<=a/2?f="left":o>=l-a/2&&(f="right"),wx(f,n,e,t)&&(f="center"),f}function ng(n,e,t){const i=t.yAlign||e.yAlign||vx(n,t);return{xAlign:t.xAlign||e.xAlign||_x(n,e,t,i),yAlign:i}}function bx(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function xx(n,e,t){let{y:i,height:o}=n;return e==="top"?i+=t:e==="bottom"?i-=o+t:i-=o/2,i}function rg(n,e,t,i){const{caretSize:o,caretPadding:a,cornerRadius:l}=n,{xAlign:u,yAlign:h}=t,f=o+a,{topLeft:g,topRight:y,bottomLeft:v,bottomRight:_}=_s(l);let x=bx(e,u);const b=xx(e,h,f);return h==="center"?u==="left"?x+=f:u==="right"&&(x-=f):u==="left"?x-=Math.max(g,v)+o:u==="right"&&(x+=Math.max(y,_)+o),{x:Dt(x,0,i.width-e.width),y:Dt(b,0,i.height-e.height)}}function la(n,e,t){const i=Ut(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function ig(n){return sn([],vn(n))}function Sx(n,e,t){return Er(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function sg(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const Nm={beforeTitle:mn,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:mn,beforeBody:mn,beforeLabel:mn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Re(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:mn,afterBody:mn,beforeFooter:mn,footer:mn,afterFooter:mn};function _t(n,e,t,i){const o=n[e].call(t,i);return typeof o>"u"?Nm[e].call(t,i):o}class og extends Tr{static positioners=ds;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),o=i.enabled&&t.options.animation&&i.animations,a=new mm(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=Sx(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,o=_t(i,"beforeTitle",this,e),a=_t(i,"title",this,e),l=_t(i,"afterTitle",this,e);let u=[];return u=sn(u,vn(o)),u=sn(u,vn(a)),u=sn(u,vn(l)),u}getBeforeBody(e,t){return ig(_t(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,o=[];return Te(e,a=>{const l={before:[],lines:[],after:[]},u=sg(i,a);sn(l.before,vn(_t(u,"beforeLabel",this,a))),sn(l.lines,_t(u,"label",this,a)),sn(l.after,vn(_t(u,"afterLabel",this,a))),o.push(l)}),o}getAfterBody(e,t){return ig(_t(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,o=_t(i,"beforeFooter",this,e),a=_t(i,"footer",this,e),l=_t(i,"afterFooter",this,e);let u=[];return u=sn(u,vn(o)),u=sn(u,vn(a)),u=sn(u,vn(l)),u}_createItems(e){const t=this._active,i=this.chart.data,o=[],a=[],l=[];let u=[],h,f;for(h=0,f=t.length;h<f;++h)u.push(yx(this.chart,t[h]));return e.filter&&(u=u.filter((g,y,v)=>e.filter(g,y,v,i))),e.itemSort&&(u=u.sort((g,y)=>e.itemSort(g,y,i))),Te(u,g=>{const y=sg(e.callbacks,g);o.push(_t(y,"labelColor",this,g)),a.push(_t(y,"labelPointStyle",this,g)),l.push(_t(y,"labelTextColor",this,g))}),this.labelColors=o,this.labelPointStyles=a,this.labelTextColors=l,this.dataPoints=u,u}update(e,t){const i=this.options.setContext(this.getContext()),o=this._active;let a,l=[];if(!o.length)this.opacity!==0&&(a={opacity:0});else{const u=ds[i.position].call(this,o,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const h=this._size=tg(this,i),f=Object.assign({},u,h),g=ng(this.chart,i,f),y=rg(i,f,g,this.chart);this.xAlign=g.xAlign,this.yAlign=g.yAlign,a={opacity:1,x:y.x,y:y.y,width:h.width,height:h.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,o){const a=this.getCaretPosition(e,i,o);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,i){const{xAlign:o,yAlign:a}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=_s(u),{x:v,y:_}=e,{width:x,height:b}=t;let S,T,A,R,M,L;return a==="center"?(M=_+b/2,o==="left"?(S=v,T=S-l,R=M+l,L=M-l):(S=v+x,T=S+l,R=M-l,L=M+l),A=S):(o==="left"?T=v+Math.max(h,g)+l:o==="right"?T=v+x-Math.max(f,y)-l:T=this.caretX,a==="top"?(R=_,M=R-l,S=T-l,A=T+l):(R=_+b,M=R+l,S=T+l,A=T-l),L=R),{x1:S,x2:T,x3:A,y1:R,y2:M,y3:L}}drawTitle(e,t,i){const o=this.title,a=o.length;let l,u,h;if(a){const f=hi(i.rtl,this.x,this.width);for(e.x=la(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=ut(i.titleFont),u=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,h=0;h<a;++h)t.fillText(o[h],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+u,h+1===a&&(e.y+=i.titleMarginBottom-u)}}_drawColorBox(e,t,i,o,a){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:h,boxWidth:f}=a,g=ut(a.bodyFont),y=la(this,"left",a),v=o.x(y),_=h<g.lineHeight?(g.lineHeight-h)/2:0,x=t.y+_;if(a.usePointStyle){const b={radius:Math.min(f,h)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=o.leftForLtr(v,f)+f/2,T=x+h/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,du(e,b,S,T),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,du(e,b,S,T)}else{e.lineWidth=_e(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const b=o.leftForLtr(v,f),S=o.leftForLtr(o.xPlus(v,1),f-2),T=_s(l.borderRadius);Object.values(T).some(A=>A!==0)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,fu(e,{x:b,y:x,w:f,h,radius:T}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),fu(e,{x:S,y:x+1,w:f-2,h:h-2,radius:T}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(b,x,f,h),e.strokeRect(b,x,f,h),e.fillStyle=l.backgroundColor,e.fillRect(S,x+1,f-2,h-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:o}=this,{bodySpacing:a,bodyAlign:l,displayColors:u,boxHeight:h,boxWidth:f,boxPadding:g}=i,y=ut(i.bodyFont);let v=y.lineHeight,_=0;const x=hi(i.rtl,this.x,this.width),b=function(W){t.fillText(W,x.x(e.x+_),e.y+v/2),e.y+=v+a},S=x.textAlign(l);let T,A,R,M,L,U,F;for(t.textAlign=l,t.textBaseline="middle",t.font=y.string,e.x=la(this,S,i),t.fillStyle=i.bodyColor,Te(this.beforeBody,b),_=u&&S!=="right"?l==="center"?f/2+g:f+2+g:0,M=0,U=o.length;M<U;++M){for(T=o[M],A=this.labelTextColors[M],t.fillStyle=A,Te(T.before,b),R=T.lines,u&&R.length&&(this._drawColorBox(t,e,M,x,i),v=Math.max(y.lineHeight,h)),L=0,F=R.length;L<F;++L)b(R[L]),v=y.lineHeight;Te(T.after,b)}_=0,v=y.lineHeight,Te(this.afterBody,b),e.y-=a}drawFooter(e,t,i){const o=this.footer,a=o.length;let l,u;if(a){const h=hi(i.rtl,this.x,this.width);for(e.x=la(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=h.textAlign(i.footerAlign),t.textBaseline="middle",l=ut(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,u=0;u<a;++u)t.fillText(o[u],h.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,o){const{xAlign:a,yAlign:l}=this,{x:u,y:h}=e,{width:f,height:g}=i,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:x}=_s(o.cornerRadius);t.fillStyle=o.backgroundColor,t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.beginPath(),t.moveTo(u+y,h),l==="top"&&this.drawCaret(e,t,i,o),t.lineTo(u+f-v,h),t.quadraticCurveTo(u+f,h,u+f,h+v),l==="center"&&a==="right"&&this.drawCaret(e,t,i,o),t.lineTo(u+f,h+g-x),t.quadraticCurveTo(u+f,h+g,u+f-x,h+g),l==="bottom"&&this.drawCaret(e,t,i,o),t.lineTo(u+_,h+g),t.quadraticCurveTo(u,h+g,u,h+g-_),l==="center"&&a==="left"&&this.drawCaret(e,t,i,o),t.lineTo(u,h+y),t.quadraticCurveTo(u,h,u+y,h),t.closePath(),t.fill(),o.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,o=i&&i.x,a=i&&i.y;if(o||a){const l=ds[e.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=tg(this,e),h=Object.assign({},l,this._size),f=ng(t,e,h),g=rg(e,h,f,t);(o._to!==g.x||a._to!==g.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,g))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const o={width:this.width,height:this.height},a={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ut(t.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&u&&(e.save(),e.globalAlpha=i,this.drawBackground(a,e,o,t),um(e,t.textDirection),a.y+=l.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),hm(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,o=e.map(({datasetIndex:u,index:h})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[h],index:h}}),a=!Sa(i,o),l=this._positionChanged(o,t);(a||l)&&(this._active=o,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,a=this._active||[],l=this._getActiveElements(e,a,t,i),u=this._positionChanged(l,e),h=t||!Sa(l,a)||u;return h&&(this._active=l,(o.enabled||o.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),h}_getActiveElements(e,t,i,o){const a=this.options;if(e.type==="mouseout")return[];if(!o)return t.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,a.mode,a,i);return a.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:o,options:a}=this,l=ds[a.position].call(this,e,t);return l!==!1&&(i!==l.x||o!==l.y)}}var kx={id:"tooltip",_element:og,positioners:ds,afterInit(n,e,t){t&&(n.tooltip=new og({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Nm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Ex=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function Tx(n,e,t,i){const o=n.indexOf(e);if(o===-1)return Ex(n,e,t,i);const a=n.lastIndexOf(e);return o!==a?t:o}const Cx=(n,e)=>n===null?null:Dt(Math.round(n),0,e);function ag(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class Px extends mi{static id="category";static defaults={ticks:{callback:ag}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:o,label:a}of t)i[o]===a&&i.splice(o,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Re(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:Tx(i,e,we(t,e),this._addedLabels),Cx(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(o=this.getLabels().length-1)),this.min=i,this.max=o}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,o=[];let a=this.getLabels();a=e===0&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)o.push({value:l});return o}getLabelForValue(e){return ag.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ox(n,e){const t=[],{bounds:o,step:a,min:l,max:u,precision:h,count:f,maxTicks:g,maxDigits:y,includeBounds:v}=n,_=a||1,x=g-1,{min:b,max:S}=e,T=!Re(l),A=!Re(u),R=!Re(f),M=(S-b)/(y+1);let L=op((S-b)/x/_)*_,U,F,W,G;if(L<1e-14&&!T&&!A)return[{value:b},{value:S}];G=Math.ceil(S/L)-Math.floor(b/L),G>x&&(L=op(G*L/x/_)*_),Re(h)||(U=Math.pow(10,h),L=Math.ceil(L*U)/U),o==="ticks"?(F=Math.floor(b/L)*L,W=Math.ceil(S/L)*L):(F=b,W=S),T&&A&&a&&G0((u-l)/a,L/1e3)?(G=Math.round(Math.min((u-l)/L,g)),L=(u-l)/G,F=l,W=u):R?(F=T?l:F,W=A?u:W,G=f-1,L=(W-F)/G):(G=(W-F)/L,ys(G,Math.round(G),L/1e3)?G=Math.round(G):G=Math.ceil(G));const ie=Math.max(ap(L),ap(F));U=Math.pow(10,Re(h)?ie:h),F=Math.round(F*U)/U,W=Math.round(W*U)/U;let oe=0;for(T&&(v&&F!==l?(t.push({value:l}),F<l&&oe++,ys(Math.round((F+oe*L)*U)/U,l,lg(l,M,n))&&oe++):F<l&&oe++);oe<G;++oe){const ce=Math.round((F+oe*L)*U)/U;if(A&&ce>u)break;t.push({value:ce})}return A&&v&&W!==u?t.length&&ys(t[t.length-1].value,u,lg(u,M,n))?t[t.length-1].value=u:t.push({value:u}):(!A||W===u)&&t.push({value:W}),t}function lg(n,e,{horizontal:t,minRotation:i}){const o=wr(i),a=(t?Math.sin(o):Math.cos(o))||.001,l=.75*e*(""+n).length;return Math.min(e/a,l)}class Rx extends mi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Re(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:o,max:a}=this;const l=h=>o=t?o:h,u=h=>a=i?a:h;if(e){const h=fi(o),f=fi(a);h<0&&f<0?u(0):h>0&&f>0&&l(0)}if(o===a){let h=a===0?1:Math.abs(a*.05);u(a+h),e||l(o-h)}this.min=o,this.max=a}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,o;return i?(o=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),t=t||11),t&&(o=Math.min(t,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},a=this._range||this,l=Ox(o,a);return e.bounds==="ticks"&&Y0(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const o=(i-t)/Math.max(e.length-1,1)/2;t-=o,i+=o}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return tm(e,this.chart.options.locale,this.options.ticks.format)}}class Ax extends Rx{static id="linear";static defaults={ticks:{callback:nm.formatters.numeric}};determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=ht(e)?e:0,this.max=ht(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=wr(this.options.ticks.minRotation),o=(e?Math.sin(i):Math.cos(i))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/o))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Fa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},bt=Object.keys(Fa);function cg(n,e){return n-e}function ug(n,e){if(Re(e))return null;const t=n._adapter,{parser:i,round:o,isoWeekday:a}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),ht(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(o&&(l=o==="week"&&(Es(a)||a===!0)?t.startOf(l,"isoWeek",a):t.startOf(l,o)),+l)}function hg(n,e,t,i){const o=bt.length;for(let a=bt.indexOf(n);a<o-1;++a){const l=Fa[bt[a]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(u*l.size))<=i)return bt[a]}return bt[o-1]}function jx(n,e,t,i,o){for(let a=bt.length-1;a>=bt.indexOf(t);a--){const l=bt[a];if(Fa[l].common&&n._adapter.diff(o,i,l)>=e-1)return l}return bt[t?bt.indexOf(t):0]}function Ix(n){for(let e=bt.indexOf(n)+1,t=bt.length;e<t;++e)if(Fa[bt[e]].common)return bt[e]}function dg(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:o}=Du(t,e),a=t[i]>=e?t[i]:t[o];n[a]=!0}}function Nx(n,e,t,i){const o=n._adapter,a=+o.startOf(e[0].value,i),l=e[e.length-1].value;let u,h;for(u=a;u<=l;u=+o.add(u,1,i))h=t[u],h>=0&&(e[h].major=!0);return e}function fg(n,e,t){const i=[],o={},a=e.length;let l,u;for(l=0;l<a;++l)u=e[l],o[u]=l,i.push({value:u,major:!1});return a===0||!t?i:Nx(n,i,o,t)}class pg extends mi{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),o=this._adapter=new k_._date(e.adapters.date);o.init(t),ms(i.displayFormats,o.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:ug(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:o,max:a,minDefined:l,maxDefined:u}=this.getUserBounds();function h(f){!l&&!isNaN(f.min)&&(o=Math.min(o,f.min)),!u&&!isNaN(f.max)&&(a=Math.max(a,f.max))}(!l||!u)&&(h(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&h(this.getMinMax(!1))),o=ht(o)&&!isNaN(o)?o:+t.startOf(Date.now(),i),a=ht(a)&&!isNaN(a)?a:+t.endOf(Date.now(),i)+1,this.min=Math.min(o,a-1),this.max=Math.max(o+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,o=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const a=this.min,l=this.max,u=tw(o,a,l);return this._unit=t.unit||(i.autoSkip?hg(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):jx(this,u.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Ix(this._unit),this.initOffsets(o),e.reverse&&u.reverse(),fg(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,o,a;this.options.offset&&e.length&&(o=this.getDecimalForValue(e[0]),e.length===1?t=1-o:t=(this.getDecimalForValue(e[1])-o)/2,a=this.getDecimalForValue(e[e.length-1]),e.length===1?i=a:i=(a-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Dt(t,0,l),i=Dt(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,o=this.options,a=o.time,l=a.unit||hg(a.minUnit,t,i,this._getLabelCapacity(t)),u=we(o.ticks.stepSize,1),h=l==="week"?a.isoWeekday:!1,f=Es(h)||h===!0,g={};let y=t,v,_;if(f&&(y=+e.startOf(y,"isoWeek",h)),y=+e.startOf(y,f?"day":l),e.diff(i,t,l)>1e5*u)throw new Error(t+" and "+i+" are too far apart with stepSize of "+u+" "+l);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<i;v=+e.add(v,u,l),_++)dg(g,v,x);return(v===i||o.bounds==="ticks"||_===1)&&dg(g,v,x),Object.keys(g).sort(cg).map(b=>+b)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const o=this.options.time.displayFormats,a=this._unit,l=t||o[a];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,o){const a=this.options,l=a.ticks.callback;if(l)return Ie(l,[e,t,i],this);const u=a.time.displayFormats,h=this._unit,f=this._majorUnit,g=h&&u[h],y=f&&u[f],v=i[t],_=f&&y&&v&&v.major;return this._adapter.format(e,o||(_?y:g))}generateTickLabels(e){let t,i,o;for(t=0,i=e.length;t<i;++t)o=e[t],o.label=this._tickFormatFunction(o.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,o=wr(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(o),l=Math.sin(o),u=this._resolveTickFontOptions(0).size;return{w:i*a+u*l,h:i*l+u*a}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,o=i[t.unit]||i.millisecond,a=this._tickFormatFunction(e,0,fg(this,[e],this._majorUnit),o),l=this._getLabelSize(a),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(t=0,i=o.length;t<i;++t)e=e.concat(o[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const o=this.getLabels();for(t=0,i=o.length;t<i;++t)e.push(ug(this,o[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return rw(e.sort(cg))}}function ca(n,e,t){let i=0,o=n.length-1,a,l,u,h;t?(e>=n[i].pos&&e<=n[o].pos&&({lo:i,hi:o}=_r(n,"pos",e)),{pos:a,time:u}=n[i],{pos:l,time:h}=n[o]):(e>=n[i].time&&e<=n[o].time&&({lo:i,hi:o}=_r(n,"time",e)),{time:a,pos:u}=n[i],{time:l,pos:h}=n[o]);const f=l-a;return f?u+(h-u)*(e-a)/f:u}class aE extends pg{static id="timeseries";static defaults=pg.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ca(t,this.min),this._tableRange=ca(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,o=[],a=[];let l,u,h,f,g;for(l=0,u=e.length;l<u;++l)f=e[l],f>=t&&f<=i&&o.push(f);if(o.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,u=o.length;l<u;++l)g=o[l+1],h=o[l-1],f=o[l],Math.round((g+h)/2)!==f&&a.push({time:f,pos:l/(u-1)});return a}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((o,a)=>o-a)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(ca(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return ca(this._table,i*this._tableRange+this._minPos,!0)}}const Mm="label";function gg(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function Mx(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function Lm(n,e){n.labels=e}function Dm(n,e,t=Mm){const i=[];n.datasets=e.map(o=>{const a=n.datasets.find(l=>l[t]===o[t]);return!a||!o.data||i.includes(a)?{...o}:(i.push(a),Object.assign(a,o),a)})}function Lx(n,e=Mm){const t={labels:[],datasets:[]};return Lm(t,n.labels),Dm(t,n.datasets,e),t}function Dx(n,e){const{height:t=150,width:i=300,redraw:o=!1,datasetIdKey:a,type:l,data:u,options:h,plugins:f=[],fallbackContent:g,updateMode:y,...v}=n,_=z.useRef(null),x=z.useRef(null),b=()=>{_.current&&(x.current=new $a(_.current,{type:l,data:Lx(u,a),options:h&&{...h},plugins:f}),gg(e,x.current))},S=()=>{gg(e,null),x.current&&(x.current.destroy(),x.current=null)};return z.useEffect(()=>{!o&&x.current&&h&&Mx(x.current,h)},[o,h]),z.useEffect(()=>{!o&&x.current&&Lm(x.current.config.data,u.labels)},[o,u.labels]),z.useEffect(()=>{!o&&x.current&&u.datasets&&Dm(x.current.config.data,u.datasets,a)},[o,u.datasets]),z.useEffect(()=>{x.current&&(o?(S(),setTimeout(b)):x.current.update(y))},[o,h,u.labels,u.datasets,y]),z.useEffect(()=>{x.current&&(S(),setTimeout(b))},[l]),z.useEffect(()=>(b(),()=>S()),[]),k.jsx("canvas",{ref:_,role:"img",height:t,width:i,...v,children:g})}const $x=z.forwardRef(Dx);function Ux(n,e){return $a.register(e),z.forwardRef((t,i)=>k.jsx($x,{...t,ref:i,type:n}))}const zx=Ux("line",S_);$a.register(Px,Ax,Bb,Ua,mx,kx,px,lx);const Zr=n=>{if(typeof window>"u")return"";const e=document.querySelector("[class*='theme-']")??document.documentElement;return getComputedStyle(e).getPropertyValue(n).trim()},ua=(n,e)=>{const t=n.replace("#","").trim(),i=t.length===3?t.split("").map(u=>u+u).join(""):t;if(!/^[0-9a-fA-F]{6}$/.test(i))return`rgba(200, 155, 94, ${e})`;const o=parseInt(i.slice(0,2),16),a=parseInt(i.slice(2,4),16),l=parseInt(i.slice(4,6),16);return`rgba(${o}, ${a}, ${l}, ${e})`};function fs({data:n,xKey:e,series:t,xTitle:i="X",yTitle:o="Y",className:a,height:l,width:u,showLegend:h=!1,yBeginAtZero:f=!0,tooltipValueSuffix:g=""}){const y=z.useMemo(()=>{const b=Zr("--accent-primary")||"#c89b5e",S=Zr("--accent-secondary")||"#8b7355",T=Zr("--accent-warning")||"#e8c080",A=Zr("--card-bg")||"#1a1a1a",R=Zr("--text-primary")||"#e8ddd0",M=Zr("--text-secondary")||"#b8a896";return{line:b,lineHover:T,point:b,pointHover:T,grid:ua(S,.12),fill:ua(b,.18),axis:M,axisTitle:R,tooltipBg:ua(A,.98),tooltipBorder:b}},[]),v=z.useMemo(()=>{const b=n.map((T,A)=>typeof e=="function"?e(T,A):T[e]),S=b.some(T=>typeof T=="string");return{values:b.map(T=>T??""),isCategorical:S}},[n,e]),_=z.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:h},tooltip:{enabled:!0,backgroundColor:y.tooltipBg,titleColor:y.axisTitle,bodyColor:y.axis,borderColor:y.tooltipBorder,borderWidth:2,padding:14,titleFont:{size:15,weight:"bold",family:"'JetBrains Mono', monospace"},bodyFont:{size:14,family:"'JetBrains Mono', monospace"},displayColors:!1,callbacks:{title:b=>{const S=b[0]?.parsed?.x;return S==null?"":`${S}`},label:b=>{const S=b.parsed.y,T=g?` ${g}`:"";return`${Math.round(S??0)}${T}`}}}},scales:{x:{type:v.isCategorical?"category":"linear",grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:10},title:{display:!0,text:i,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{top:12}}},y:{beginAtZero:f,grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:8},title:{display:!0,text:o,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{bottom:12}}}},interaction:{intersect:!1,mode:"index"},animation:{duration:750,easing:"easeInOutQuart"}}),[y,h,g,i,f,o,v.isCategorical]),x=z.useMemo(()=>{const S=(t??[]).map(T=>{const A=T.color??y.line,R=T.fill??!1,M={label:T.label??String(T.key),borderColor:A,backgroundColor:R?ua(A,.18):"transparent",pointRadius:5,pointHoverRadius:9,pointBackgroundColor:A,pointBorderColor:y.tooltipBg,pointBorderWidth:2.5,pointHoverBackgroundColor:y.lineHover,pointHoverBorderColor:A,pointHoverBorderWidth:3,tension:T.tension??.4,fill:R,borderWidth:3,segment:{borderColor:A}};return v.isCategorical?{...M,data:n.map(L=>Number(L[T.key])||0)}:{...M,data:n.map((L,U)=>({x:Number(v.values[U])||0,y:Number(L[T.key])||0}))}});return v.isCategorical?{labels:v.values.map(T=>String(T)),datasets:S}:{datasets:S}},[n,t,y,v]);return k.jsx("div",{className:["w-full h-full p-4 bg-card-bg/40 backdrop-blur-sm rounded-2xl border border-card-border/50 shadow-2xl",a].filter(Boolean).join(" "),style:{height:l,width:u},children:k.jsx(zx,{options:_,data:x})})}function $m({options:n,label:e,value:t,onChange:i}){const o=a=>{i(a.target.value)};return k.jsxs("label",{children:[e,k.jsx("select",{value:t,onChange:o,className:"bg-card-bg border-2 border-card-border rounded-lg h-9 w-fit px-3 transition-all duration-200 hover:border-accent-primary active:border-accent-primary active:scale-95 text-text-primary font-semibold",children:n.map((a,l)=>k.jsx("option",{value:a,children:a},l))})]})}function Ba(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function Fx(n,e,t,i){function o(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(g){try{f(i.next(g))}catch(y){l(y)}}function h(g){try{f(i.throw(g))}catch(y){l(y)}}function f(g){g.done?a(g.value):o(g.value).then(u,h)}f((i=i.apply(n,e||[])).next())})}const Bx=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class qu extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class Wx extends qu{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class mg extends qu{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yg extends qu{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(vu||(vu={}));class Hx{constructor(e,{headers:t={},customFetch:i,region:o=vu.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=Bx(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Fx(this,arguments,void 0,function*(t,i={}){var o;let a,l;try{const{headers:u,method:h,body:f,signal:g,timeout:y}=i;let v={},{region:_}=i;_||(_=this.region);const x=new URL(`${this.url}/${t}`);_&&_!=="any"&&(v["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let b;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=f):typeof f=="string"?(v["Content-Type"]="text/plain",b=f):typeof FormData<"u"&&f instanceof FormData?b=f:(v["Content-Type"]="application/json",b=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?b=JSON.stringify(f):b=f;let S=g;y&&(l=new AbortController,a=setTimeout(()=>l.abort(),y),g?(S=l.signal,g.addEventListener("abort",()=>l.abort())):S=l.signal);const T=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:b,signal:S}).catch(L=>{throw new Wx(L)}),A=T.headers.get("x-relay-error");if(A&&A==="true")throw new mg(T);if(!T.ok)throw new yg(T);let R=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return R==="application/json"?M=yield T.json():R==="application/octet-stream"||R==="application/pdf"?M=yield T.blob():R==="text/event-stream"?M=T:R==="multipart/form-data"?M=yield T.formData():M=yield T.text(),{data:M,error:null,response:T}}catch(u){return{data:null,error:u,response:u instanceof yg||u instanceof mg?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var Vx=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},qx=class{constructor(n){var e,t,i;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(i=n.urlLengthLimit)!==null&&i!==void 0?i:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let l=null,u=null,h=null,f=a.status,g=a.statusText;if(a.ok){var y,v;if(t.method!=="HEAD"){var _;const T=await a.text();T===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((_=t.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?u=T:u=JSON.parse(T))}const b=(y=t.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),S=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&S&&S.length>1&&(h=parseInt(S[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var x;const b=await a.text();try{l=JSON.parse(b),Array.isArray(l)&&a.status===404&&(u=[],l=null,f=200,g="OK")}catch{a.status===404&&b===""?(f=204,g="No Content"):l={message:b}}if(l&&t.isMaybeSingle&&(!(l==null||(x=l.details)===null||x===void 0)&&x.includes("0 rows"))&&(l=null,f=200,g="OK"),l&&t.shouldThrowOnError)throw new Vx(l)}return{error:l,data:u,count:h,status:f,statusText:g}});return this.shouldThrowOnError||(o=o.catch(a=>{var l;let u="",h="",f="";const g=a?.cause;if(g){var y,v,_,x;const T=(y=g?.message)!==null&&y!==void 0?y:"",A=(v=g?.code)!==null&&v!==void 0?v:"";u=`${(_=a?.name)!==null&&_!==void 0?_:"FetchError"}: ${a?.message}`,u+=`

Caused by: ${(x=g?.name)!==null&&x!==void 0?x:"Error"}: ${T}`,A&&(u+=` (${A})`),g?.stack&&(u+=`
${g.stack}`)}else{var b;u=(b=a?.stack)!==null&&b!==void 0?b:""}const S=this.url.toString().length;return a?.name==="AbortError"||a?.code==="ABORT_ERR"?(f="",h="Request was aborted (timeout or manual cancellation)",S>this.urlLengthLimit&&(h+=`. Note: Your request URL is ${S} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(f="",h="HTTP headers exceeded server limits (typically 16KB)",S>this.urlLengthLimit&&(h+=`. Your request URL is ${S} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=a?.name)!==null&&l!==void 0?l:"FetchError"}: ${a?.message}`,details:u,hint:h,code:f},data:null,count:null,status:0,statusText:""}})),o.then(n,e)}returns(){return this}overrideTypes(){return this}},Kx=class extends qx{select(n){let e=!1;const t=(n??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const i=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:i=t}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(a,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var l;const u=[n?"analyze":null,e?"verbose":null,t?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${h}"; options=${u};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const vg=new RegExp("[,()]");var oi=class extends Kx{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&vg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(i=>typeof i=="string"&&vg.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${o}fts${a}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const i=t?`${t}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},Gx=class{constructor(n,{headers:e={},schema:t,fetch:i,urlLengthLimit:o=8e3}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=i,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:i}=e??{},o=t?"HEAD":"GET";let a=!1;const l=(n??"*").split("").map(f=>/\s/.test(f)&&!a?"":(f==='"'&&(a=!a),f)).join(""),{url:u,headers:h}=this.cloneRequestState();return u.searchParams.set("select",l),i&&h.append("Prefer",`count=${i}`),new oi({method:o,url:u,headers:h,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:t=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(e&&l.append("Prefer",`count=${e}`),t||l.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);a.searchParams.set("columns",h.join(","))}}return new oi({method:o,url:a,headers:l,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:i,defaultToNull:o=!0}={}){var a;const l="POST",{url:u,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),i&&h.append("Prefer",`count=${i}`),o||h.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);u.searchParams.set("columns",g.join(","))}}return new oi({method:l,url:u,headers:h,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var t;const i="PATCH",{url:o,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new oi({method:i,url:o,headers:a,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const t="DELETE",{url:i,headers:o}=this.cloneRequestState();return n&&o.append("Prefer",`count=${n}`),new oi({method:t,url:i,headers:o,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Os(n){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Os(n)}function Yx(n,e){if(Os(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Os(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Jx(n){var e=Yx(n,"string");return Os(e)=="symbol"?e:e+""}function Qx(n,e,t){return(e=Jx(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function ha(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wg(Object(t),!0).forEach(function(i){Qx(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}var Xx=class Um{constructor(e,{headers:t={},schema:i,fetch:o,timeout:a,urlLengthLimit:l=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=i,this.urlLengthLimit=l;const u=o??globalThis.fetch;a!==void 0&&a>0?this.fetch=(h,f)=>{const g=new AbortController,y=setTimeout(()=>g.abort(),a),v=f?.signal;if(v){if(v.aborted)return clearTimeout(y),u(h,f);const _=()=>{clearTimeout(y),g.abort()};return v.addEventListener("abort",_,{once:!0}),u(h,ha(ha({},f),{},{signal:g.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",_)})}return u(h,ha(ha({},f),{},{signal:g.signal})).finally(()=>clearTimeout(y))}:this.fetch=u}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Gx(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new Um(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:i=!1,get:o=!1,count:a}={}){var l;let u;const h=new URL(`${this.url}/rpc/${e}`);let f;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),y=i&&Object.values(t).some(g);y?(u="POST",f=t):i||o?(u=i?"HEAD":"GET",Object.entries(t).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{h.searchParams.append(_,x)})):(u="POST",f=t);const v=new Headers(this.headers);return y?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new oi({method:u,url:h,headers:v,schema:this.schemaName,body:f,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class Zx{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const i=t.versions;if(i&&i.node){const o=i.node,a=parseInt(o.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const eS="2.95.3",tS=`realtime-js/${eS}`,nS="1.0.0",zm="2.0.0",_g=zm,wu=1e4,rS=1e3,iS=100;var Wn;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Wn||(Wn={}));var Ge;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Ge||(Ge={}));var Yt;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Yt||(Yt={}));var _u;(function(n){n.websocket="websocket"})(_u||(_u={}));var yr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(yr||(yr={}));class sS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(e){var t,i;const o=(i=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&i!==void 0?i:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(e,t,i){var o,a;const l=e.topic,u=(o=e.ref)!==null&&o!==void 0?o:"",h=(a=e.join_ref)!==null&&a!==void 0?a:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+l.length+f.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(_),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,h.length),x.setUint8(b++,u.length),x.setUint8(b++,l.length),x.setUint8(b++,f.length),x.setUint8(b++,y.length),x.setUint8(b++,t),Array.from(h,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(u,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(l,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(f,T=>x.setUint8(b++,T.charCodeAt(0))),Array.from(y,T=>x.setUint8(b++,T.charCodeAt(0)));var S=new Uint8Array(_.byteLength+i.byteLength);return S.set(new Uint8Array(_),0),S.set(new Uint8Array(i),_.byteLength),S.buffer}decode(e,t){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return t(i)}if(typeof e=="string"){const i=JSON.parse(e),[o,a,l,u,h]=i;return t({join_ref:o,ref:a,topic:l,event:u,payload:h})}return t({})}_binaryDecode(e){const t=new DataView(e),i=t.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,o)}_decodeUserBroadcast(e,t,i){const o=t.getUint8(1),a=t.getUint8(2),l=t.getUint8(3),u=t.getUint8(4);let h=this.HEADER_LENGTH+4;const f=i.decode(e.slice(h,h+o));h=h+o;const g=i.decode(e.slice(h,h+a));h=h+a;const y=i.decode(e.slice(h,h+l));h=h+l;const v=e.slice(h,e.byteLength),_=u===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,x={type:this.BROADCAST_EVENT,event:g,payload:_};return l>0&&(x.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e?.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>t.includes(i)))}}class Fm{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Oe||(Oe={}));const bg=(n,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((a,l)=>(a[l]=oS(l,n,e,o),a),{}):{}},oS=(n,e,t,i)=>{const o=e.find(u=>u.name===n),a=o?.type,l=t[n];return a&&!i.includes(a)?Bm(a,l):bu(l)},Bm=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return uS(e,t)}switch(n){case Oe.bool:return aS(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return lS(e);case Oe.json:case Oe.jsonb:return cS(e);case Oe.timestamp:return hS(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return bu(e);default:return bu(e)}},bu=n=>n,aS=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},lS=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},cS=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},uS=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let a;const l=n.slice(1,t);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>Bm(e,u))}return n},hS=n=>typeof n=="string"?n.replace(" ","T"):n,Wm=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class tu{constructor(e,t,i={},o=wu){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xg;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(xg||(xg={}));class bs{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bs.syncState(this.state,o,a,l),this.pendingDiffs.forEach(h=>{this.state=bs.syncDiff(this.state,h,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=bs.syncDiff(this.state,o,a,l),u())}),this.onJoin((o,a,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:l})}),this.onLeave((o,a,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const a=this.cloneDeep(e),l=this.transformState(t),u={},h={};return this.map(a,(f,g)=>{l[f]||(h[f]=g)}),this.map(l,(f,g)=>{const y=a[f];if(y){const v=g.map(S=>S.presence_ref),_=y.map(S=>S.presence_ref),x=g.filter(S=>_.indexOf(S.presence_ref)<0),b=y.filter(S=>v.indexOf(S.presence_ref)<0);x.length>0&&(u[f]=x),b.length>0&&(h[f]=b)}else u[f]=g}),this.syncDiff(a,{joins:u,leaves:h},i,o)}static syncDiff(e,t,i,o){const{joins:a,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(u,h)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),g.length>0){const y=e[u].map(_=>_.presence_ref),v=g.filter(_=>y.indexOf(_.presence_ref)<0);e[u].unshift(...v)}i(u,g,h)}),this.map(l,(u,h)=>{let f=e[u];if(!f)return;const g=h.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=f,o(u,f,h),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Sg||(Sg={}));var xs;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(xs||(xs={}));var wn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class ui{constructor(e,t={config:{}},i){var o,a;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=Ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new tu(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ge.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new bs(this),this.broadcastEndpointURL=Wm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Ge.closed){const{config:{broadcast:l,presence:u,private:h}}=this.params,f=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[xs.PRESENCE]&&this.bindings[xs.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>e?.(wn.CHANNEL_ERROR,_)),this._onClose(()=>e?.(wn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){e?.(wn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,S=(x=b?.length)!==null&&x!==void 0?x:0,T=[];for(let A=0;A<S;A++){const R=b[A],{filter:{event:M,schema:L,table:U,filter:F}}=R,W=_&&_[A];if(W&&W.event===M&&ui.isFilterValueEqual(W.schema,L)&&ui.isFilterValueEqual(W.table,U)&&ui.isFilterValueEqual(W.filter,F))T.push(Object.assign(Object.assign({},R),{id:W.id}));else{this.unsubscribe(),this.state=Ge.errored,e?.(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(wn.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ge.errored,e?.(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{e?.(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===Ge.joined&&e===xs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var o;if(t==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const f=await u.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=f.body)===null||o===void 0?void 0:o.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,h;const f=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),f.receive("ok",()=>a("ok")),f.receive("error",()=>a("error")),f.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ge.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new tu(this,Yt.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ge.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),l=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(a),l}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new tu(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>iS){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,a;const l=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:g}=Yt;if(i&&[u,h,f,g].indexOf(l)>=0&&i!==this._joinRef())return;let v=this._onMessage(l,t,i);if(t&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var x,b,S;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((S=(b=_.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===l}).map(_=>_.callback(v,i)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var x,b,S,T,A,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const M=_.id,L=(x=_.filter)===null||x===void 0?void 0:x.event;return M&&((b=t.ids)===null||b===void 0?void 0:b.includes(M))&&(L==="*"||L?.toLocaleLowerCase()===((S=t.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const M=(A=(T=_?.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return M==="*"||M===((R=t?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:b,table:S,commit_timestamp:T,type:A,errors:R}=x;v=Object.assign(Object.assign({},{schema:b,table:S,commit_timestamp:T,eventType:A,new:{},old:{},errors:R}),this._getPayloadRecords(x))}_.callback(v,i)})}_isClosed(){return this.state===Ge.closed}_isJoined(){return this.state===Ge.joined}_isJoining(){return this.state===Ge.joining}_isLeaving(){return this.state===Ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),a={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&ui.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yt.close,{},e)}_onError(e){this._on(Yt.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=bg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=bg(e.columns,e.old_record)),t}}const nu=()=>{},da={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dS=[1e3,2e3,5e3,1e4],fS=1e4,pS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gS{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=da.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nu,this.ref=0,this.reconnectTimer=null,this.vsn=_g,this.logger=nu,this.conn=null,this.sendBuffer=[],this.serializer=new sS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...a)=>o(...a):(...a)=>fetch(...a),!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${_u.websocket}`,this.httpEndpoint=Wm(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Zx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return t==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Wn.connecting:return yr.Connecting;case Wn.open:return yr.Open;case Wn.closing:return yr.Closing;default:return yr.Closed}}isConnected(){return this.connectionState()===yr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new ui(`realtime:${e}`,t,this);return this.channels.push(a),a}}push(e){const{topic:t,event:i,payload:o,ref:a}=e,l=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${t} ${i} (${a})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(rS,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},da.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:a,ref:l}=t,u=l?`(${l})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${o} ${u}`.trim(),a),this.channels.filter(f=>f._isMember(i)).forEach(f=>f._trigger(o,a,l)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Wn.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Wn.open||this.conn.readyState===Wn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yt.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([pS],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,i=!1;if(e)t=e,i=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),t=this.accessTokenValue}else t=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(o=>{const a={access_token:t,version:tS};t&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Yt.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Fm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},da.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,a,l,u,h,f,g,y,v,_;switch(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:wu,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:da.HEARTBEAT_INTERVAL,this.worker=(a=e?.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=e?.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:nu,this.vsn=(h=e?.vsn)!==null&&h!==void 0?h:_g,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(x=>dS[x-1]||fS),this.vsn){case nS:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((x,b)=>b(JSON.stringify(x))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((x,b)=>b(JSON.parse(x)));break;case zm:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=e?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Rs=class extends Error{constructor(n,e){super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mS(n,e,t){const i=new URL(e,n);if(t)for(const[o,a]of Object.entries(t))a!==void 0&&i.searchParams.set(o,a);return i.toString()}async function yS(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function vS(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:i,query:o,body:a,headers:l}){const u=mS(n.baseUrl,i,o),h=await yS(n.auth),f=await e(u,{method:t,headers:{...a?{"Content-Type":"application/json"}:{},...h,...l},body:a?JSON.stringify(a):void 0}),g=await f.text(),y=(f.headers.get("content-type")||"").includes("application/json"),v=y&&g?JSON.parse(g):g;if(!f.ok){const _=y?v:void 0,x=_?.error;throw new Rs(x?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:x?.type,icebergCode:x?.code,details:_})}return{status:f.status,headers:f.headers,data:v}}}}function fa(n){return n.join("")}var wS=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:fa(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fa(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fa(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fa(n.namespace)}`}),!0}catch(e){if(e instanceof Rs&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof Rs&&t.status===409)return;throw t}}};function ei(n){return n.join("")}var _S=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ei(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof Rs&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof Rs&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},bS=class{constructor(n){let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=vS({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new wS(this.client,e),this.tableOps=new _S(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},Wa=class extends Error{constructor(n,e="storage",t,i){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=i}};function Ha(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var pa=class extends Wa{constructor(n,e,t,i="storage"){super(n,i,e,t),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hm=class extends Wa{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const xS=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),SS=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},xu=n=>{if(Array.isArray(n))return n.map(t=>xu(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=xu(i)}),e},kS=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function As(n){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},As(n)}function ES(n,e){if(As(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(As(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TS(n){var e=ES(n,"string");return As(e)=="symbol"?e:e+""}function CS(n,e,t){return(e=TS(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kg(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function he(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kg(Object(t),!0).forEach(function(i){CS(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const Eg=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},PS=async(n,e,t,i)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!t?.noResolveJson){const o=n,a=o.status||500;if(typeof o.json=="function")o.json().then(l=>{const u=l?.statusCode||l?.code||a+"";e(new pa(Eg(l),a,u,i))}).catch(()=>{if(i==="vectors"){const l=a+"";e(new pa(o.statusText||`HTTP ${a} error`,a,l,i))}else{const l=a+"";e(new pa(o.statusText||`HTTP ${a} error`,a,l,i))}});else{const l=a+"";e(new pa(o.statusText||`HTTP ${a} error`,a,l,i))}}else e(new Hm(Eg(n),n,i))},OS=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"||n==="HEAD"||!i?he(he({},o),t):(SS(i)?(o.headers=he({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(i)):o.body=i,e?.duplex&&(o.duplex=e.duplex),he(he({},o),t))};async function cs(n,e,t,i,o,a,l){return new Promise((u,h)=>{n(t,OS(e,i,o,a)).then(f=>{if(!f.ok)throw f;if(i?.noResolveJson)return f;if(l==="vectors"){const g=f.headers.get("content-type");if(f.headers.get("content-length")==="0"||f.status===204)return{};if(!g||!g.includes("application/json"))return{}}return f.json()}).then(f=>u(f)).catch(f=>PS(f,h,i,l))})}function Vm(n="storage"){return{get:async(e,t,i,o)=>cs(e,"GET",t,i,o,void 0,n),post:async(e,t,i,o,a)=>cs(e,"POST",t,o,a,i,n),put:async(e,t,i,o,a)=>cs(e,"PUT",t,o,a,i,n),head:async(e,t,i,o)=>cs(e,"HEAD",t,he(he({},i),{},{noResolveJson:!0}),o,void 0,n),remove:async(e,t,i,o,a)=>cs(e,"DELETE",t,o,a,i,n)}}const RS=Vm("storage"),{get:js,post:Gt,put:Su,head:AS,remove:Ku}=RS,Pt=Vm("vectors");var yi=class{constructor(n,e={},t,i="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=xS(t),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Ha(t))return{data:null,error:t};throw t}}},jS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ha(e))return{data:null,error:e};throw e}}};let qm;qm=Symbol.toStringTag;var IS=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[qm]="BlobDownloadBuilder",this.promise=null}asStream(){return new jS(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(Ha(e))return{data:null,error:e};throw e}}};const NS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var MS=class extends yi{constructor(n,e={},t,i){super(n,e,i,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,i){var o=this;return o.handleOperation(async()=>{let a;const l=he(he({},Tg),i);let u=he(he({},o.headers),n==="POST"&&{"x-upsert":String(l.upsert)});const h=l.metadata;typeof Blob<"u"&&t instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),h&&a.append("metadata",o.encodeMetadata(h)),a.append("",t)):typeof FormData<"u"&&t instanceof FormData?(a=t,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),h&&!a.has("metadata")&&a.append("metadata",o.encodeMetadata(h))):(a=t,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,h&&(u["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),i?.headers&&(u=he(he({},u),i.headers));const f=o._removeEmptyFolders(e),g=o._getFinalPath(f),y=await(n=="PUT"?Su:Gt)(o.fetch,`${o.url}/object/${g}`,a,he({headers:u},l?.duplex?{duplex:l.duplex}:{}));return{path:f,id:y.Id,fullPath:y.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,i){var o=this;const a=o._removeEmptyFolders(n),l=o._getFinalPath(a),u=new URL(o.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",e),o.handleOperation(async()=>{let h;const f=he({upsert:Tg.upsert},i),g=he(he({},o.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&t instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",t)):typeof FormData<"u"&&t instanceof FormData?(h=t,h.append("cacheControl",f.cacheControl)):(h=t,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{path:a,fullPath:(await Su(o.fetch,u.toString(),h,{headers:g})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let i=t._getFinalPath(n);const o=he({},t.headers);e?.upsert&&(o["x-upsert"]="true");const a=await Gt(t.fetch,`${t.url}/object/upload/sign/${i}`,{},{headers:o}),l=new URL(t.url+a.url),u=l.searchParams.get("token");if(!u)throw new Wa("No token returned by API");return{signedUrl:l.toString(),path:n,token:u}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var i=this;return i.handleOperation(async()=>await Gt(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers}))}async copy(n,e,t){var i=this;return i.handleOperation(async()=>({path:(await Gt(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(n,e,t){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(n),a=await Gt(i.fetch,`${i.url}/object/sign/${o}`,he({expiresIn:e},t?.transform?{transform:t.transform}:{}),{headers:i.headers});const l=t?.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${i.url}${a.signedURL}${l}`)}})}async createSignedUrls(n,e,t){var i=this;return i.handleOperation(async()=>{const o=await Gt(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:n},{headers:i.headers}),a=t?.download?`&download=${t.download===!0?"":t.download}`:"";return o.map(l=>he(he({},l),{},{signedUrl:l.signedURL?encodeURI(`${i.url}${l.signedURL}${a}`):null}))})}download(n,e,t){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(e?.transform||{}),a=o?`?${o}`:"",l=this._getFinalPath(n),u=()=>js(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0},t);return new IS(u,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>xu(await js(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await AS(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Ha(i)&&i instanceof Hm){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(n,e){const t=this._getFinalPath(n),i=[],o=e?.download?`download=${e.download===!0?"":e.download}`:"";o!==""&&i.push(o);const a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${t}${u}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await Ku(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var i=this;return i.handleOperation(async()=>{const o=he(he(he({},NS),e),{},{prefix:n||""});return await Gt(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const i=he({},n);return await Gt(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,i,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const LS="2.95.3",Ds={"X-Client-Info":`storage-js/${LS}`};var DS=class extends yi{constructor(n,e={},t,i){const o=new URL(n);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const a=o.href.replace(/\/$/,""),l=he(he({},Ds),e);super(a,l,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await js(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await js(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await Gt(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await Su(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await Gt(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Ku(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},$S=class extends yi{constructor(n,e={},t){const i=n.replace(/\/$/,""),o=he(he({},Ds),e);super(i,o,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Gt(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;n?.limit!==void 0&&t.set("limit",n.limit.toString()),n?.offset!==void 0&&t.set("offset",n.offset.toString()),n?.sortColumn&&t.set("sortColumn",n.sortColumn),n?.sortOrder&&t.set("sortOrder",n.sortOrder),n?.search&&t.set("search",n.search);const i=t.toString(),o=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await js(e.fetch,o,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Ku(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!kS(n))throw new Wa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new bS({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(t,{get(o,a){const l=o[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(o,u),error:null}}catch(h){if(i)throw h;return{data:null,error:h}}}}})}},US=class extends yi{constructor(n,e={},t){const i=n.replace(/\/$/,""),o=he(he({},Ds),{},{"Content-Type":"application/json"},e);super(i,o,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await Pt.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await Pt.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},zS=class extends yi{constructor(n,e={},t){const i=n.replace(/\/$/,""),o=he(he({},Ds),{},{"Content-Type":"application/json"},e);super(i,o,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},FS=class extends yi{constructor(n,e={},t){const i=n.replace(/\/$/,""),o=he(he({},Ds),{},{"Content-Type":"application/json"},e);super(i,o,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await Pt.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},BS=class extends FS{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new WS(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},WS=class extends US{constructor(n,e,t,i){super(n,e,i),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new HS(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},HS=class extends zS{constructor(n,e,t,i,o){super(n,e,o),this.vectorBucketName=t,this.indexName=i}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,he(he({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},VS=class extends DS{constructor(n,e={},t,i){super(n,e,t,i)}from(n){return new MS(this.url,this.headers,n,this.fetch)}get vectors(){return new BS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $S(this.url+"/iceberg",this.headers,this.fetch)}};const Km="2.95.3",ai=30*1e3,ku=3,ru=ku*ai,qS="http://localhost:9999",KS="supabase.auth.token",GS={"X-Client-Info":`gotrue-js/${Km}`},Eu="X-Supabase-Api-Version",Gm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JS=600*1e3;class Is extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class QS extends Is{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function XS(n){return re(n)&&n.name==="AuthApiError"}class vr extends Is{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Sn extends Is{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class Ct extends Sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iu(n){return re(n)&&n.name==="AuthSessionMissingError"}class ti extends Sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ga extends Sn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ma extends Sn{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZS(n){return re(n)&&n.name==="AuthImplicitGrantRedirectError"}class Cg extends Sn{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ek extends Sn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tu extends Sn{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function su(n){return re(n)&&n.name==="AuthRetryableFetchError"}class Pg extends Sn{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class Cu extends Sn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ra="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Og=` 	
\r=`.split(""),tk=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Og.length;e+=1)n[Og[e].charCodeAt(0)]=-2;for(let e=0;e<Ra.length;e+=1)n[Ra[e].charCodeAt(0)]=e;return n})();function Rg(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Ra[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Ra[i]),e.queuedBits-=6}}function Ym(n,e,t){const i=tk[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Ag(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=l=>{ik(l,i,t)};for(let l=0;l<n.length;l+=1)Ym(n.charCodeAt(l),o,a);return e.join("")}function nk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function rk(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}nk(i,e)}}function ik(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function di(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Ym(n.charCodeAt(o),t,i);return new Uint8Array(e)}function sk(n){const e=[];return rk(n,t=>e.push(t)),new Uint8Array(e)}function br(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>Rg(o,t,i)),Rg(null,t,i),e.join("")}function ok(n){return Math.round(Date.now()/1e3)+n}function ak(){return Symbol("auth-callback")}const it=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},Jm=()=>{if(!it())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};function lk(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const Qm=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),ck=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",li=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},dr=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},rt=async(n,e)=>{await n.removeItem(e)};class Va{constructor(){this.promise=new Va.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Va.promiseConstructor=Promise;function ya(n){const e=n.split(".");if(e.length!==3)throw new Cu("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!YS.test(e[i]))throw new Cu("JWT not in base64url format");return{header:JSON.parse(Ag(e[0])),payload:JSON.parse(Ag(e[1])),signature:di(e[2]),raw:{header:e[0],payload:e[1]}}}async function uk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function hk(n,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await n(a);if(!e(a,null,l)){i(l);return}}catch(l){if(!e(a,l)){o(l);return}}})()})}function dk(n){return("0"+n.toString(16)).substr(-2)}function fk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let a=0;a<56;a++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,dk).join("")}async function pk(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function gk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await pk(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ni(n,e,t=!1){const i=fk();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await li(n,`${e}-code-verifier`,o);const a=await gk(i);return[a,i===a?"plain":"s256"]}const mk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yk(n){const e=n.headers.get(Eu);if(!e||!e.match(mk))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function vk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function wk(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _k=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(n){if(!_k.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ou(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bk(n,e){return new Proxy(n,{get:(t,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,o)}})}function jg(n){return JSON.parse(JSON.stringify(n))}const mr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),xk=[502,503,504];async function Ig(n){var e;if(!ck(n))throw new Tu(mr(n),0);if(xk.includes(n.status))throw new Tu(mr(n),n.status);let t;try{t=await n.json()}catch(a){throw new vr(mr(a),a)}let i;const o=yk(n);if(o&&o.getTime()>=Gm["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new Pg(mr(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ct}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Pg(mr(t),n.status,t.weak_password.reasons);throw new QS(mr(t),n.status||500,i)}const Sk=(n,e,t,i)=>{const o={method:n,headers:e?.headers||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function ue(n,e,t,i){var o;const a=Object.assign({},i?.headers);a[Eu]||(a[Eu]=Gm["2024-01-01"].name),i?.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const l=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(l.redirect_to=i.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",h=await kk(n,e,t+u,{headers:a,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function kk(n,e,t,i,o,a){const l=Sk(e,i,o,a);let u;try{u=await n(t,Object.assign({},l))}catch(h){throw console.error(h),new Tu(mr(h),0)}if(u.ok||await Ig(u),i?.noResolveJson)return u;try{return await u.json()}catch(h){await Ig(h)}}function Kt(n){var e;let t=null;Ck(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=ok(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function Ng(n){const e=Kt(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Hn(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Ek(n){return{data:n,error:null}}function Tk(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a}=n,l=Ba(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:a},h=Object.assign({},l);return{data:{properties:u,user:h},error:null}}function Mg(n){return n}function Ck(n){return n.access_token&&n.refresh_token&&n.expires_in}const au=["global","local","others"];class Pk{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=Qm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=au[0]){if(au.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${au.join(", ")}`);try{return await ue(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Hn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Ba(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Tk,redirectTo:t?.redirectTo})}catch(t){if(re(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Hn})}catch(t){if(re(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,a,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Mg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(re(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ri(e);try{return await ue(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Hn})}catch(t){if(re(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ri(e);try{return await ue(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Hn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ri(e);try{return await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Hn})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ri(e.userId);try{const{data:t,error:i}=await ue(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(re(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ri(e.userId),ri(e.id);try{return{data:await ue(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,o,a,l,u,h;try{const f={nextPage:null,lastPage:0,total:0},g=await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:Mg});if(g.error)throw g.error;const y=await g.json(),v=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(h=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(x.split(";")[1].split("=")[1]);f[`${S}Page`]=b}),f.total=parseInt(v)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(re(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(re(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await ue(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(re(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await ue(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await ue(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(re(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await ue(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(re(t))return{data:null,error:t};throw t}}}function Lg(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const ii={debug:!!(globalThis&&Jm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ok extends Xm{}async function Rk(n,e,t){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ii.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw ii.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Ok(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(ii.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Ak(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Zm(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function jk(n){return parseInt(n,16)}function Ik(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Nk(n){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:h,resources:f,scheme:g,uri:y,version:v}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const _=Zm(n.address),x=g?`${g}://${i}`:i,b=n.statement?`${n.statement}
`:"",S=`${x} wants you to sign in with your Ethereum account:
${_}

${b}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${t}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),u&&(T+=`
Not Before: ${u.toISOString()}`),h&&(T+=`
Request ID: ${h}`),f){let A=`
Resources:`;for(const R of f){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);A+=`
- ${R}`}T+=A}return`${S}
${T}`}class He extends Error{constructor({message:e,code:t,cause:i,name:o}){var a;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(a=o??(i instanceof Error?i.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=t}}class Aa extends He{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function Mk({error:n,options:e}){var t,i,o;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=a.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new He({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new He({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=a.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new He({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new He({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new He({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new He({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new He({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const l=window.location.hostname;if(ey(l)){if(a.rp.id!==l)return new He({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new He({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Lk({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new He({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new He({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(ey(i)){if(t.rpId!==i)return new He({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new He({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new He({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new He({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Dk{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const $k=new Dk;function Uk(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,o=Ba(n,["challenge","user","excludeCredentials"]),a=di(e).buffer,l=Object.assign(Object.assign({},t),{id:di(t.id).buffer}),u=Object.assign(Object.assign({},o),{challenge:a,user:l});if(i&&i.length>0){u.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const f=i[h];u.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:di(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function zk(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=Ba(n,["challenge","allowCredentials"]),o=di(e).buffer,a=Object.assign(Object.assign({},i),{challenge:o});if(t&&t.length>0){a.allowCredentials=new Array(t.length);for(let l=0;l<t.length;l++){const u=t[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:di(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Fk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:br(new Uint8Array(n.response.attestationObject)),clientDataJSON:br(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Bk(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:br(new Uint8Array(o.authenticatorData)),clientDataJSON:br(new Uint8Array(o.clientDataJSON)),signature:br(new Uint8Array(o.signature)),userHandle:o.userHandle?br(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ey(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Dg(){var n,e;return!!(it()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Wk(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",e)}:{data:null,error:new Aa("Empty credential response",e)}}catch(e){return{data:null,error:Mk({error:e,options:n})}}}async function Hk(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",e)}:{data:null,error:new Aa("Empty credential response",e)}}catch(e){return{data:null,error:Lk({error:e,options:n})}}}const Vk={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qk={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ja(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const a in o){const l=o[a];if(l!==void 0)if(Array.isArray(l))i[a]=l;else if(t(l))i[a]=l;else if(e(l)){const u=i[a];e(u)?i[a]=ja(u,l):i[a]=ja(l)}else i[a]=l}return i}function Kk(n,e){return ja(Vk,n,e||{})}function Gk(n,e){return ja(qk,n,e||{})}class Yk{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:o},a){var l;try{const{data:u,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!u)return{data:null,error:h};const f=o??$k.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:g}=u.webauthn.credential_options.publicKey;if(!g.name){const y=i;if(y)g.name=`${g.id}:${y}`;else{const _=(await this.client.getUser()).data.user,x=((l=_?.user_metadata)===null||l===void 0?void 0:l.name)||_?.email||_?.id||"User";g.name=`${g.id}:${x}`}}g.displayName||(g.displayName=g.name)}switch(u.webauthn.type){case"create":{const g=Kk(u.webauthn.credential_options.publicKey,a?.create),{data:y,error:v}=await Wk({publicKey:g,signal:f});return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=Gk(u.webauthn.credential_options.publicKey,a?.request),{data:y,error:v}=await Hk(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:g,signal:f}));return y?{data:{factorId:e,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(u){return re(u)?{data:null,error:u}:{data:null,error:new vr("Unexpected error in challenge",u)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Is("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:o},{request:a});if(!l)return{data:null,error:u};const{webauthn:h}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:h.type,rpId:t,rpOrigins:i,credential_response:h.credential_response}})}catch(l){return re(l)?{data:null,error:l}:{data:null,error:new vr("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},a){if(!t)return{data:null,error:new Is("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new vr("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:h,error:f}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:o},{create:a});return h?this._verify({factorId:l.id,challengeId:h.challengeId,webauthn:{rpId:t,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(l){return re(l)?{data:null,error:l}:{data:null,error:new vr("Unexpected error in register",l)}}}}Ak();const Jk={url:qS,storageKey:KS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function $g(n,e,t){return await t()}const si={};class Ns{get jwks(){var e,t;return(t=(e=si[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=si[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Jk),e);if(this.storageKey=a.storageKey,this.instanceID=(t=Ns.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,Ns.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&it()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Pk({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Qm(a.fetch),this.lock=a.lock||$g,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&it()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Rk:this.lock=$g,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yk(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Jm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Lg(this.memoryStorage)),it()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Km}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(it()&&(t=lk(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),it()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(t,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ZS(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:u}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return re(t)?this._returnResult({error:t}):this._returnResult({error:new vr("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Kt}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var t,i,o;try{let a;if("email"in e){const{email:g,password:y,options:v}=e;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await ni(this.storage,this.storageKey)),a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:y,data:(t=v?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:x},xform:Kt})}else if("phone"in e){const{phone:g,password:y,options:v}=e;a=await ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Kt})}else throw new ga("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await rt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=l.session,f=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:a,password:l,options:u}=e;t=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ng})}else if("phone"in e){const{phone:a,password:l,options:u}=e;t=await ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Ng})}else throw new ga("You must provide either an email or phone number and a password");const{data:i,error:o}=t;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const a=new ti;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,a,l,u,h,f,g,y,v;let _,x;if("message"in e)_=e.message,x=e.signature;else{const{chain:b,wallet:S,statement:T,options:A}=e;let R;if(it())if(typeof S=="object")R=S;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")R=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const M=new URL((t=A?.url)!==null&&t!==void 0?t:window.location.href),L=await R.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const U=Zm(L[0]);let F=(i=A?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!F){const G=await R.request({method:"eth_chainId"});F=jk(G)}const W={domain:M.host,address:U,statement:T,uri:M.href,version:"1",chainId:F,nonce:(o=A?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(a=A?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=A?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=A?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=A?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=A?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=Nk(W),x=await R.request({method:"personal_sign",params:[Ik(_),U]})}try{const{data:b,error:S}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kt});if(S)throw S;if(!b||!b.session||!b.user){const T=new ti;return this._returnResult({data:{user:null,session:null},error:T})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:S})}catch(b){if(re(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var t,i,o,a,l,u,h,f,g,y,v,_;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:S,wallet:T,statement:A,options:R}=e;let M;if(it())if(typeof T=="object")M=T;else{const U=window;if("solana"in U&&typeof U.solana=="object"&&("signIn"in U.solana&&typeof U.solana.signIn=="function"||"signMessage"in U.solana&&typeof U.solana.signMessage=="function"))M=U.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const L=new URL((t=R?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const U=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),A?{statement:A}:null));let F;if(Array.isArray(U)&&U[0]&&typeof U[0]=="object")F=U[0];else if(U&&typeof U=="object"&&"signedMessage"in U&&"signature"in U)F=U;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)x=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),b=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${L.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(o=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=R?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R?.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(g=R?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const U=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!U||!(U instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=U}}try{const{data:S,error:T}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:br(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kt});if(T)throw T;if(!S||!S.session||!S.user){const A=new ti;return this._returnResult({data:{user:null,session:null},error:A})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(re(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const t=await dr(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{if(!i&&this.flowType==="pkce")throw new ek;const{data:a,error:l}=await ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Kt});if(await rt(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new ti;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:l})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:a,nonce:l}=e,u=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Kt}),{data:h,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const g=new ti;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,o,a,l;try{if("email"in e){const{email:u,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await ni(this.storage,this.storageKey));const{error:y}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=h?.data)!==null&&t!==void 0?t:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:g}=await ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(l=h?.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new ga("You must provide either an email or phone number.")}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var t,i;try{let o,a;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:l,error:u}=await ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Kt});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const h=l.session,f=l.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(e){var t,i,o,a,l;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await ni(this.storage,this.storageKey));const f=await ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Ek});return!((a=f.data)===null||a===void 0)&&a.url&&it()&&!(!((l=e.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Ct;const{error:o}=await ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(e){if(re(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:l}=await ue(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:l,error:u}=await ue(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:u})}throw new ga("You must provide either an email or phone number and a type")}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ru:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const l=await dr(this.userStorage,this.storageKey+"-user");l?.user?e.user=l.user:e.user=ou()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=bk(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Hn}):await this._useSession(async t=>{var i,o,a;const{data:l,error:u}=t;if(u)throw u;return!(!((i=l.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Hn})})}catch(t){if(re(t))return iu(t)&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Ct;const l=o.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await ni(this.storage,this.storageKey));const{data:f,error:g}=await ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:l.access_token,xform:Hn});if(g)throw g;return l.user=f.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(i){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const t=Date.now()/1e3;let i=t,o=!0,a=null;const{payload:l}=ya(e.access_token);if(l.exp&&(i=l.exp,o=i<=t),o){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});a={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(t){if(re(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(i=l.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ct;const{data:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!it())throw new ma("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ma(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new Cg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Cg("No code detected.");const{data:A,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:l,expires_in:u,expires_at:h,token_type:f}=e;if(!a||!u||!l||!f)throw new ma("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let v=g+y;h&&(v=parseInt(h));const _=v-g;_*1e3<=ai&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const x=v-y;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,g);const{data:b,error:S}=await this._getUser(a);if(S)throw S;const T={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:y,expires_at:v,refresh_token:l,token_type:f,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a&&!iu(a))return this._returnResult({error:a});const l=(i=o.session)===null||i===void 0?void 0:i.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(XS(u)&&(u.status===404||u.status===401||u.status===403)||iu(u)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await rt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=ak(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:a},error:l}=t;if(l)throw l;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ni(this.storage,this.storageKey,!0));try{return await ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:o}=await this._useSession(async a=>{var l,u,h,f,g;const{data:y,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ue(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return it()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(re(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:o,data:{session:a}}=t;if(o)throw o;const{options:l,provider:u,token:h,access_token:f,nonce:g}=e,y=await ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:u,id_token:h,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:Kt}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new ti}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(o){if(await rt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)throw l;return await ue(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await hk(async o=>(o>0&&await uk(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(o,a)=>{const l=200*Math.pow(2,o);return a&&su(a)&&Date.now()+l-i<ai})}catch(i){if(this._debug(t,"error",i),re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),it()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await dr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await dr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await li(this.userStorage,this.storageKey+"-user",l)),o.user=(e=l?.user)!==null&&e!==void 0?e:ou()}else if(o&&!o.user&&!o.user){const l=await dr(this.storage,this.storageKey+"-user");l&&l?.user?(o.user=l.user,await rt(this.storage,this.storageKey+"-user"),await li(this.storage,this.storageKey,o)):o.user=ou()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ru;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${ru}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),su(l)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(o.access_token);!u&&l?.user?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(i,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Va;const{data:a,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!a.session)throw new Ct;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(o,"error",a),re(a)){const l={data:null,error:a};return su(a)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,t)}catch(h){a.push(h)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await rt(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await li(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const a=jg(o);await li(this.storage,this.storageKey,a)}else{const o=jg(t);await li(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rt(this.storage,this.storageKey),await rt(this.storage,this.storageKey+"-code-verifier"),await rt(this.storage,this.storageKey+"-user"),this.userStorage&&await rt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&it()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ai);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ai);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ai}ms, refresh threshold is ${ku} ticks`),o<=ku&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!it()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,l]=await ni(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(u.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;return a?this._returnResult({data:null,error:a}):await ue(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:a,error:l}=t;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await ue(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Fk(e.webauthn.credential_response):Bk(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=await ue(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Uk(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:zk(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=t?.factors)!==null&&e!==void 0?e:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,i,o,a;if(e)try{const{payload:_}=ya(e);let x=null;_.aal&&(x=_.aal);let b=x;const{data:{user:S},error:T}=await this.getUser(e);if(T)return this._returnResult({data:null,error:T});((i=(t=S?.factors)===null||t===void 0?void 0:t.filter(M=>M.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(b="aal2");const R=_.amr||[];return{data:{currentLevel:x,nextLevel:b,currentAuthenticationMethods:R},error:null}}catch(_){if(re(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ya(l.access_token);let f=null;h.aal&&(f=h.aal);let g=f;((a=(o=l.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?await ue(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ct});const l=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&it()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Ct});const l=await ue(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&it()&&!t?.skipBrowserRedirect&&window.location.assign(l.data.redirect_url),l})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;return i?this._returnResult({data:null,error:i}):t?await ue(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(e){if(re(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?this._returnResult({data:null,error:o}):i?(await ue(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(u=>u.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(u=>u.kid===e),i&&this.jwks_cached_at+JS>o)return i;const{data:a,error:l}=await ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(u=>u.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});i=_.session.access_token}const{header:o,payload:a,signature:l,raw:{header:u,payload:h}}=ya(i);t?.allowExpired||vk(a.exp);const f=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!f){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:a,header:o,signature:l},error:null}}const g=wk(o.alg),y=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,l,sk(`${u}.${h}`)))throw new Cu("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}}Ns.nextInstanceID={};const Qk=Ns,Xk="2.95.3";let ps="";typeof Deno<"u"?ps="deno":typeof document<"u"?ps="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ps="react-native":ps="node";const Zk={"X-Client-Info":`supabase-js-${ps}/${Xk}`},e1={headers:Zk},t1={schema:"public"},n1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r1={};function Ms(n){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(n)}function i1(n,e){if(Ms(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Ms(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function s1(n){var e=i1(n,"string");return Ms(e)=="symbol"?e:e+""}function o1(n,e,t){return(e=s1(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ug(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,i)}return t}function Ue(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ug(Object(t),!0).forEach(function(i){o1(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ug(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}const a1=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),l1=()=>Headers,c1=(n,e,t)=>{const i=a1(t),o=l1();return async(a,l)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:n;let f=new o(l?.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),i(a,Ue(Ue({},l),{},{headers:f}))}};function u1(n){return n.endsWith("/")?n:n+"/"}function h1(n,e){var t,i;const{db:o,auth:a,realtime:l,global:u}=n,{db:h,auth:f,realtime:g,global:y}=e,v={db:Ue(Ue({},h),o),auth:Ue(Ue({},f),a),realtime:Ue(Ue({},g),l),storage:{},global:Ue(Ue(Ue({},y),u),{},{headers:Ue(Ue({},(t=y?.headers)!==null&&t!==void 0?t:{}),(i=u?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?v.accessToken=n.accessToken:delete v.accessToken,v}function d1(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(u1(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f1=class extends Qk{constructor(n){super(n)}},p1=class{constructor(n,e,t){var i,o;this.supabaseUrl=n,this.supabaseKey=e;const a=d1(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:t1,realtime:r1,auth:Ue(Ue({},n1),{},{storageKey:l}),global:e1},h=h1(t??{},u);if(this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=c1(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Xx(new URL("rest/v1",a).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch,timeout:h.db.timeout,urlLengthLimit:h.db.urlLengthLimit}),this.storage=new VS(this.storageUrl.href,this.headers,this.fetch,t?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Hx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:i}=await n.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,storageKey:a,flowType:l,lock:u,debug:h,throwOnError:f},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f1({url:this.authUrl.href,headers:Ue(Ue({},v),g),storageKey:a,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:i,userStorage:o,flowType:l,lock:u,debug:h,throwOnError:f,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new gS(this.realtimeUrl.href,Ue(Ue({},n),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e?.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g1=(n,e,t)=>new p1(n,e,t);function m1(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}m1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y1="https://qdwwowrsnlqrkfcfvgip.supabase.co",v1="sb_publishable_WPv3waHS1QBX_KzfWt7P4Q_U6FZMV8H",Ve=g1(y1,v1),w1=[{Game:{Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,ErrorLetters:[],LineGraphDataSet:[]},GameSettings:{CurrentText:"",CurrentTitle:"",Timer:-1},Settings:{Text:{Length:"short"}}}],xn=w1,_1=new Set,Pu=new Set;function ty(n,e){for(const t of n)try{t()}catch(i){console.error(`${e} subscriber threw:`,i)}}function b1(){ty(_1,"SubscribeDataChanges")}function ny(){ty(Pu,"SubscribeGameSettingsChanges"),b1()}function x1(n){return Pu.add(n),()=>{Pu.delete(n)}}function S1(n){return xn[n].Game}function xr(n){return xn[n].GameSettings}function Ia(n,e={}){if(n>=xn.length)return;const t=xn[n].GameSettings={...xn[n].GameSettings,...e};return ny(),t}function ry(n){return xn[n].Settings}function k1(n,e={}){if(n>=xn.length)return;const t=xn[n].Settings={...xn[n].Settings,...e};return ny(),t}function bn(n,e){localStorage.setItem(n,e)}function Lt(n){const e=localStorage.getItem(n);return e||""}function E1(n){localStorage.removeItem(n)}async function T1(n,e,t){const{data:i,error:o}=await Ve.auth.signUp({email:e,password:t,options:{data:{username:n}}});if(o)return console.log("Sign up error: ",o),{status:"error",message:"Sign up error"};const a=i.user?.id;if(!a)return console.log("No user id from signup."),{status:"error",message:"No user id from signup."};const{data:l,error:u}=await Ve.from("Users").insert([{Username:n,Email:e,userId:a}]).single();if(u)return console.log("Error saving user: ",u),{status:"error",message:"Error saving user"};bn("logged in","true"),console.log(l);const h="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",{error:f}=await Ve.from("UserSettings").upsert({id:a,profilePicture:h},{onConflict:"id"});return f&&console.log("Error saving user settings: ",f),{status:"ok"}}async function C1(n,e){const{data:t,error:i}=await Ve.auth.signInWithPassword({email:n,password:e});if(i){console.log("Sign up error: ",i);return}const{data:o,error:a}=await Ve.auth.getUser();if(a){console.log("Error getting user: ",a);return}const l=t.user?.id;if(!l){console.log("No user id from signup.");return}const{data:u,error:h}=await Ve.from("Users").select("*").eq("userId",l).single();h?console.log("Error loading profile: ",h):console.log(u),bn("logged in","true")}async function P1(){const{error:n}=await Ve.auth.signOut();if(n){console.log("Sign out error: ",n);return}bn("logged in","false")}async function Gu(){const{data:{user:n}}=await Ve.auth.getUser();return n}async function O1(n){const e=await Gu();if(!e)return;const{error:t}=await Ve.from("Users").update({Username:n}).eq("userId",e.id);t&&console.log("Error: ",t)}async function R1(){const n=await Gu();if(!n)return"";const{data:e,error:t}=await Ve.from("Users").select("Username").eq("userId",n.id).single();return t&&console.log("Error: ",t),e?.Username??""}async function A1(){const{data:n,error:e}=await Ve.from("Users").select("Username");return e&&console.log("Error: ",e),n?.map(t=>t.Username)??[]}async function j1(){const{data:{user:n},error:e}=await Ve.auth.getUser();if(e||!n)throw e??new Error("No user");const{data:t,error:i}=await Ve.from("UserSettings").select("*").eq("id",n.id).maybeSingle();if(i)throw i;return t??{id:n.id,profilePicture:null}}async function I1(n){const e=await Gu();if(!e)return;const t=n.name.split(".").pop(),i=`${e.id}/${Date.now()}.${t}`,{error:o}=await Ve.storage.from("avatars").upload(i,n,{upsert:!0});if(o){console.log("Upload error:",o);return}const{data:a}=Ve.storage.from("avatars").getPublicUrl(i),{error:l}=await Ve.from("UserSettings").upsert({id:e.id,profilePicture:a.publicUrl},{onConflict:"id"});if(l){console.log("Error updating UserSettings: ",l);return}return a.publicUrl}async function iy(){const{data:{user:n},error:e}=await Ve.auth.getUser();if(e||!n)throw e??new Error("No user");const{data:t,error:i}=await Ve.from("UserStats").select("*").eq("userId",n.id).maybeSingle();if(i)throw i;return t??{userId:n.id,created_at:new Date().toISOString(),rounds:[]}}async function N1(n){const{data:{user:e},error:t}=await Ve.auth.getUser();if(t||!e)throw t??new Error("No user");const{data:i,error:o}=await Ve.from("UserStats").upsert({userId:e.id,...n},{onConflict:"userId"}).select().single();if(o)throw console.log("updateUserStats error:",o),o;return i||console.log("updateUserStats returned no data",{patch:n,userId:e.id}),i}async function M1(n){console.log("appendUserRound called",n);const t=[...(await iy()).rounds,n];return N1({rounds:t})}function L1(){window.location.reload()}function D1(){bn("open-profile-on-load","true"),window.location.reload()}function $1({text:n="Button",preferedPrefix:e="",onClick:t,setFile:i}){const o=z.useRef(null),a=()=>{o.current?.click(),t?.()},l=u=>{const h=u.target.files?.[0]??null;h!==null&&h.toString().startsWith(e)&&i(h)};return k.jsxs(k.Fragment,{children:[k.jsx(Ze,{onClickFunction:a,text:n}),k.jsx("input",{ref:o,type:"file",onChange:l,style:{display:"none"}})]})}const Ou=JSON.parse(`[{"title":"The Wonders of the Ocean","short":"The ocean is a vast and mysterious world. It covers more than 70% of the Earths surface and is home to countless species, many of which remain undiscovered.","medium":"Oceans play a crucial role in regulating the Earth's climate. They provide oxygen, regulate temperature, and support biodiversity. Yet, they are facing threats from pollution, overfishing, and climate change.","long":"The ocean is not just a source of beauty, but it is also vital for life on Earth. It regulates the planet's climate by absorbing carbon dioxide and heat. Oceans are home to diverse ecosystems that support a vast array of marine life, from the smallest plankton to the largest whales. The depths of the ocean are still largely unexplored, and scientists continue to discover new species and learn more about the role oceans play in maintaining balance on Earth. However, these ecosystems are under threat due to human activities such as pollution, overfishing, and the effects of climate change, which are causing irreversible damage to marine life."},{"title":"The Evolution of Space Exploration","short":"Space exploration has fascinated humanity for centuries. From the early observations of the night sky to the historic moon landing, space has always been a realm of mystery and possibility.","medium":"With technological advancements, space exploration has moved from theoretical concepts to practical achievements. The Apollo moon landings in the 1960s were a milestone, and today, we have private companies sending spacecraft to Mars and beyond.","long":"Space exploration has come a long way since humanity first gazed at the stars. The first steps on the moon in 1969 marked a monumental achievement in science and technology, demonstrating humanity's ability to reach beyond our planet. Today, space exploration continues to evolve, with private companies like SpaceX and Blue Origin pushing the boundaries of what is possible. Mars missions, space tourism, and even the exploration of asteroids are now becoming realities. These advancements not only inspire future generations but also provide valuable insights into the origins of our solar system and the potential for life beyond Earth."},{"title":"The Influence of Social Media","short":"Social media has transformed how we communicate and interact with others. It has created a platform for self-expression, connection, and even activism.","medium":"While social media brings people closer together, it also raises concerns about privacy, mental health, and the spread of misinformation. Platforms like Facebook, Twitter, and Instagram have become integral parts of daily life for billions.","long":"Social media has revolutionized communication, allowing individuals to connect with others worldwide in an instant. It has provided a platform for self-expression, where people can share their lives, ideas, and opinions. Social movements have found a new voice through social media, allowing them to mobilize quickly and raise awareness for causes. However, the rise of social media has also led to several challenges. Privacy concerns are rampant, and the constant exposure to curated lives can have negative effects on mental health. Furthermore, the spread of misinformation and the ability to create echo chambers has become a growing concern for society."},{"title":"The Power of Music","short":"Music has the ability to inspire, uplift, and connect people. It transcends cultural and language barriers, evoking emotions and creating shared experiences.","medium":"From classical symphonies to modern pop hits, music plays a fundamental role in human culture. It brings people together, whether in concert halls, living rooms, or festivals. Music has the power to heal, to celebrate, and to communicate in ways that words alone cannot.","long":"Music is a universal language that speaks directly to the heart. It has been an essential part of human civilization for centuries, playing a central role in rituals, celebrations, and everyday life. Music can express a range of emotions, from joy and excitement to sorrow and nostalgia. It brings people together, whether they are singing in a choir, attending a concert, or simply enjoying a song on the radio. Music's therapeutic benefits are also widely recognized, helping to reduce stress, improve mood, and even aid in healing. As technology evolves, music continues to play an important role in shaping culture and personal identity."},{"title":"The Future of Renewable Energy","short":"Renewable energy sources such as solar, wind, and hydropower are rapidly changing the energy landscape, offering a cleaner, more sustainable alternative to fossil fuels.","medium":"The push for renewable energy is driven by the need to combat climate change and reduce our dependence on finite fossil fuels. Solar and wind energy have become some of the most cost-effective energy sources worldwide, with continued innovations in energy storage and grid integration.","long":"The future of energy lies in renewable sources that can provide sustainable power without the harmful environmental impacts of fossil fuels. Solar, wind, and hydropower are already playing significant roles in the global energy mix, and their potential to provide clean energy is growing. As technology advances, these renewable sources are becoming more efficient and cost-effective. Solar panels are now more affordable than ever, and wind turbines are harnessing energy at unprecedented rates. The challenge remains to create a reliable and efficient way to store and distribute this energy, but breakthroughs in battery storage and smart grids are making this more achievable. Transitioning to renewable energy is essential for reducing greenhouse gas emissions and mitigating the effects of climate change, ensuring a cleaner, healthier planet for future generations."},{"title":"The Rise of Artificial Intelligence","short":"Artificial intelligence is revolutionizing industries, from healthcare to finance, offering new solutions and efficiencies in ways previously unimaginable.","medium":"AI technologies, including machine learning and deep learning, are now integral to a variety of sectors. They help automate tasks, enhance decision-making, and provide insights that drive innovation and growth.","long":"Artificial intelligence is no longer just a futuristic concept. It's a driving force behind some of the most groundbreaking advancements in technology. AI systems, especially those using machine learning and deep learning, are transforming industries by automating routine tasks, improving efficiency, and solving complex problems that were once thought too difficult. In healthcare, AI is assisting in diagnostics and drug discovery, while in finance, it's enabling better risk management and fraud detection. As AI continues to evolve, its potential to reshape industries grows, leading to a future where machines work alongside humans to tackle challenges and create new opportunities. However, the rise of AI also raises ethical concerns, including job displacement and the need for responsible development."},{"title":"The Role of Education in Society","short":"Education is a cornerstone of personal and societal development, shaping individuals and communities, and playing a key role in advancing society.","medium":"Education opens doors to opportunity, fostering critical thinking, creativity, and innovation. It provides individuals with the tools to navigate life and contribute to society, while also being essential for economic and social progress.","long":"Education is one of the most powerful tools for societal transformation. It empowers individuals to build skills, broaden their perspectives, and achieve their full potential. Beyond personal development, education plays a central role in creating an informed and engaged citizenry. It fosters critical thinking, problem-solving, and the ability to engage with complex issues. On a societal level, education drives economic growth and social mobility, helping to bridge gaps between different communities and reducing inequality. As technology continues to evolve, education is also adapting, with online learning and digital tools revolutionizing how knowledge is shared. However, ensuring equitable access to quality education remains a key challenge for many parts of the world."},{"title":"The Impact of Climate Change","short":"Climate change is one of the most pressing global challenges, affecting ecosystems, weather patterns, and human communities around the world.","medium":"The effects of climate change are already being felt globally, with rising temperatures, more frequent natural disasters, and shifts in ecosystems. Addressing these challenges requires global cooperation and sustainable solutions.","long":"Climate change is no longer a distant threatit is a reality that is impacting every corner of the globe. Rising temperatures, shifting weather patterns, and extreme weather events such as hurricanes, droughts, and floods are becoming more frequent and intense. These changes are disrupting ecosystems, threatening biodiversity, and putting human populations at risk, particularly in vulnerable regions. Addressing climate change requires coordinated global action to reduce greenhouse gas emissions, transition to renewable energy, and protect ecosystems. Governments, businesses, and individuals must all play a role in mitigating the effects of climate change and adapting to its consequences. The urgency of this issue cannot be overstated, as the choices we make today will determine the future of our planet."},{"title":"The Wonders of Space","short":"Space is a vast and mysterious frontier that continues to captivate humanity, filled with galaxies, stars, and planets waiting to be discovered.","medium":"Space exploration has provided remarkable insights into the origins of the universe, the nature of distant stars and planets, and the possibility of life beyond Earth. The more we learn, the more we realize how much there is yet to explore.","long":"The universe is an awe-inspiring expanse that holds countless mysteries. Through the advancements in telescopes, spacecraft, and space exploration, we have begun to unravel the wonders of space. The study of distant galaxies, the birth of stars, and the exploration of exoplanets have provided invaluable insights into the origins of the cosmos and the potential for life beyond Earth. Space missions like the Hubble Space Telescope and the Mars Rover have opened our eyes to the beauty and complexity of the universe. As technology continues to improve, the possibilities for space exploration are endless, with future missions aimed at reaching distant asteroids, exploring the moons of Jupiter and Saturn, and even sending humans to Mars. Space holds infinite potential for discovery and understanding."},{"title":"The Importance of Mental Health","short":"Mental health is just as important as physical health, and its impact on overall well-being cannot be overstated.","medium":"Mental health affects every aspect of life, from personal relationships to career success. Tackling mental health challenges requires understanding, open communication, and access to proper care and support.","long":"Mental health is a crucial aspect of overall well-being, affecting how we think, feel, and act. It influences our relationships, work life, and ability to cope with stress. Yet, mental health is often overlooked, with many people facing stigma when seeking help. Mental health issues such as depression, anxiety, and stress can have a significant impact on a person's quality of life, making it essential to prioritize mental health alongside physical health. Raising awareness, reducing stigma, and ensuring access to mental health services are critical steps in supporting individuals who are struggling. Just as we would seek medical treatment for a physical illness, it's vital that we also take care of our mental health and encourage others to do the same."}]`),Ru=Ou;function zg(){const n=[];for(const e in Ou){const t=Ou[e];t?.title&&n.push(t.title)}return n}function U1(n){const e=Math.floor(Math.random()*Ru.length),t=Ru[e];return{title:t.title,text:t[n]}}function z1(n,e){const t=Ru.find(i=>i.title===n);return t?{title:t.title,text:t[e]}:null}function Fg(n){for(let e=0;e<n.length;e++)if(n[e]==="@")return!0;return!1}function sy(){const n=U1(ry(0).Text.Length);Ia(0,{CurrentText:n.text,CurrentTitle:n.title}),console.log(`Text: ${xr(0).CurrentText}`)}function F1(n){Ia(0,{Timer:n}),console.log(`Timer: ${xr(0).Timer}`)}function B1(){const n=new Array;for(const e of Array.from(document.styleSheets)){let t;try{t=e.cssRules}catch{continue}for(const i of Array.from(t))if(i instanceof CSSStyleRule){const o=i.selectorText.split(",");for(const a of o){const l=a.trim();l.startsWith(".theme")&&n.push(l.slice(1))}}}return n}function oy(n){return n.length===0?0:n.reduce((e,t)=>e+t,0)/n.length}function W1(n){if(n===void 0)return;const e=[];for(const t of n)e.push(t.accuracy);return oy(e)}function H1(n){if(n===void 0)return;const e=[];for(const t of n)e.push(t.wpm);return oy(e)}function Bg(n){if(!n||n.length===0)return;let e=-1/0,t=[0,0,0];for(const i of n){const o=i.errorLetters.length*.5,a=i.text?.length??0;if(a>0&&o>=a/6)continue;const l=i.wpm-o;l>e&&(e=l,t=[i.wpm,i.time,o])}return t}function V1(n){if(!n||n.length===0)return;let e=!1;const t={};for(const a of n)for(const l of a.errorLetters)t[l]=(t[l]??0)+1;let i="",o=0;for(const a in t){const l=t[a];l>o&&(o=l,i=a,e=!0)}return e?{[i]:o}:void 0}function q1(n){return n===void 0?0:n.length+1}function lu(n){return n.sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime())}function K1(){console.log(A1())}function ay(n,e){const t=n/e*100;return Math.round(t*100)/100}function Au(n,e){return e<=0?0:Math.round(n/5/e)}const ly=z.createContext(null);function G1({children:n}){const[e,t]=z.useState(!1),[i,o]=z.useState(!1),[a,l]=z.useState(()=>S1(0)),[u,h]=z.useState(0),[f,g]=z.useState(null),[y,v]=z.useState(!1),[_,x]=z.useState(null),[b,S]=z.useState(!0),[T,A]=z.useState(!1),R=z.useCallback(()=>h(U=>U+1),[]);z.useEffect(()=>{l(U=>{const F=U.Seconds/60,W=Au(U.Character,F),G=U.Character-U.CorrectCharacter,ie=ay(U.CorrectCharacter,U.Character);return F===U.Minutes&&W===U.WPM&&G===U.Errors&&ie===U.Accurancy?U:{...U,Minutes:F,WPM:W,Errors:G,Accurancy:ie}})},[a.Seconds,a.Character,a.CorrectCharacter]);const M=z.useCallback(async()=>{let U=!1;v(!0),x(null);try{const F=await iy();U||g(F)}catch{x("Konnte Stats nicht laden")}finally{v(!1)}},[]);z.useEffect(()=>{i&&M()},[i,M]),z.useEffect(()=>{b&&S(!1)},[b]);const L=z.useMemo(()=>({game:a,setGame:l,isGameStarted:e,setIsGameStarted:t,showResults:i,setShowResults:o,textVersion:u,bumpTextVersion:R,stats:f,loadingStats:y,statsError:_,firstLoaded:b,loadStats:M,isUserWindowOpen:T,setIsUserWindowOpen:A}),[a,e,i,u,f,y,_,R,b,M,T,A]);return k.jsx(ly.Provider,{value:L,children:n})}function $s(){const n=z.useContext(ly);if(!n)throw new Error("useGameStore must be used within GameStoreProvider");return n}function Y1({data:n,classname:e}){const t=o=>new Date(o).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}),i=o=>new Date(o).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"});return k.jsxs("div",{className:`w-full h-16 bg-card-bg border border-card-border rounded-lg ${e} px-4 py-2 flex items-center justify-between transition-all duration-200 hover:border-accent-primary hover:shadow-glow-purple group`,children:[k.jsxs("div",{className:"flex flex-col items-start min-w-[90px] max-w-[90px]",children:[k.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Date"}),k.jsx("div",{className:"text-xs font-display font-bold text-text-primary",children:t(n.created_at)}),k.jsx("div",{className:"text-[10px] font-display font-semibold text-text-secondary opacity-70",children:i(n.created_at)})]}),k.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),k.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[k.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Time"}),k.jsxs("div",{className:"text-lg font-display font-bold text-text-primary",children:[n.time,"s"]})]}),k.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),k.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[k.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Accuracy"}),k.jsxs("div",{className:"text-lg font-display font-bold text-accent-primary",children:[n.accuracy,"%"]})]}),k.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),k.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[k.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"WPM"}),k.jsx("div",{className:"text-lg font-display font-bold text-accent-secondary",children:n.wpm})]}),k.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),k.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[k.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Errors"}),k.jsx("div",{className:"text-lg font-display font-bold text-accent-warning",children:n.errorLetters.length})]})]})}function J1({rounds:n}){const e=[...n].reverse();return k.jsx("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden px-4 py-2 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:e.map((t,i)=>k.jsx(Y1,{data:t,classname:"my-2"},i))})}const Q1=z.forwardRef(function(e,t){const[i,o]=z.useState(!1),[a,l]=z.useState(!1),[u,h]=z.useState(""),[f,g]=z.useState(""),[y,v]=z.useState(null),[_,x]=z.useState(null),{isUserWindowOpen:b,setIsUserWindowOpen:S,stats:T,loadStats:A}=$s(),[R,M]=z.useState("WpmGraph"),L=z.useMemo(()=>{const X=lu(T?.rounds??[]),D=V1(X);return{"Average Acc":W1(X),"Average WPM":H1(X),"Best WPM":Bg(X)?.[0]??0,"Best Time":Bg(X)?.[1]??0,"Error Hotspots":Object.keys(D??{})[0]??"",Streaks:q1(X)}},[T]);z.useEffect(()=>{let X=!0;return R1().then(D=>{X&&g(D)}),j1().then(D=>{X&&v(D.profilePicture??null)}).catch(D=>{console.log("Error loading user settings: ",D)}),Lt("open-profile-on-load")==="true"&&(S(!0),E1("open-profile-on-load")),()=>{X=!1}},[]),z.useEffect(()=>{_!==null&&I1(_).then(X=>{X&&v(X)}).catch(X=>{console.log("Error updating profile picture: ",X)})},[_]),z.useEffect(()=>{b&&A()},[b,A]);const U=()=>{S(!b)},F=async()=>{await P1(),window.location.reload()},W=X=>{h(X)},G=async()=>{await O1(u.trim()),l(!1),D1()},ie=lu(T?.rounds??[]).map(X=>({...X,errorCount:X.errorLetters.length})),oe=k.jsx(fs,{data:ie,xKey:(X,D)=>`Round ${D+1}`,series:[{key:"wpm",label:"WPM",fill:!0}],xTitle:"Rounds",yTitle:"WPM",height:"95%",width:"100%",tooltipValueSuffix:"WPM",className:"border-none shadow-none"}),ce=k.jsx(fs,{data:ie,xKey:(X,D)=>`Round ${D+1}`,series:[{key:"accuracy",label:"Accuracy",fill:!0}],xTitle:"Rounds",yTitle:"Accuracy",height:"95%",width:"100%",tooltipValueSuffix:"%",className:"border-none shadow-none"}),me=k.jsx(fs,{data:ie,xKey:(X,D)=>`Round ${D+1}`,series:[{key:"time",label:"Time",fill:!0}],xTitle:"Rounds",yTitle:"Time",height:"95%",width:"100%",tooltipValueSuffix:"'s'",className:"border-none shadow-none"}),Se=k.jsx(fs,{data:ie,xKey:(X,D)=>`Round ${D+1}`,series:[{key:"errorCount",label:"ErrorLetters",fill:!0}],xTitle:"Rounds",yTitle:"Errors",height:"95%",width:"100%",tooltipValueSuffix:"Error's",className:"border-none shadow-none"}),ye=X=>{M(X),console.log(R)},ve=k.jsxs("div",{ref:t||void 0,className:"flex flex-row gap-x-8 h-full",children:[k.jsx("div",{className:"w-1/4 flex flex-col gap-4",children:k.jsxs("div",{className:"flex flex-col gap-2",children:[k.jsxs("div",{className:"w-full aspect-square relative overflow-visible",children:[k.jsx("div",{className:"absolute z-50 -m-5",children:k.jsx(_a,{tooltip:"Settings",onClickFunction:()=>o(!i),text:"",optionsValue:[k.jsx(Ze,{text:"Log Out",onClickFunction:F})]})}),k.jsxs("div",{className:"relative group",children:[k.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-2 border-card-border transition-all duration-700 group-hover:scale-[1.03] shadow-card"}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100",children:k.jsx($1,{text:"",setFile:x})})]})]}),k.jsxs("div",{className:"group relative flex justify-center items-center p-5 overflow-hidden",children:[a?k.jsx(gs,{value:u,onSubmit:G,onChange:W}):k.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest transition-all duration-700 group-hover:-translate-x-8 group-hover:tracking-normal",children:f}),k.jsx("div",{className:"absolute right-5 opacity-0 translate-x-4 transition-all duration-700 group-hover:opacity-100 group-hover:-translate-x-7",children:a?null:k.jsx(Ze,{onClickFunction:()=>l(!0),text:""})})]}),k.jsxs("ul",{className:"list-none pl-0 space-y-1.5 text-[15px] text-text-primary font-mono font-extrabold",children:[k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx(fr,{content:"The average accuracy this player has.",children:k.jsx("span",{className:"cursor-default",children:"Average Accuracy"})}),k.jsxs("span",{children:[L["Average Acc"]!==void 0?Math.round(L["Average Acc"]*100)/100:0,"%"]})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx(fr,{content:"The average words per minute this player has.",children:k.jsx("span",{className:"cursor-default",children:"Average WPM"})}),k.jsx("span",{children:L["Average WPM"]!==void 0?Math.round(L["Average WPM"]*100)/100:0})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx(fr,{content:"The best WPM this player had.",children:k.jsx("span",{className:"cursor-default",children:"Best WPM"})}),k.jsx(fr,{content:`This player got ${L["Best WPM"]} WPM in ${L["Best Time"]} seconds!`,children:k.jsx("span",{children:L["Best WPM"]})})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx(fr,{content:"The letter the player misstypes the most.",children:k.jsx("span",{className:"cursor-default",children:"Error Hotspots"})}),k.jsx("span",{children:L["Error Hotspots"]})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx(fr,{content:"How many plays this payer has.",children:k.jsx("span",{className:"cursor-default",children:"Streak"})}),k.jsx("span",{children:L.Streaks})]})]})]})}),k.jsxs("div",{className:"w-3/4 flex flex-col gap-4 min-h-0",children:[k.jsx("div",{className:"flex-[3] flex flex-row gap-x-4 min-h-0",children:k.jsxs("div",{className:"w-full h-full bg-game-bg-light border-2 border-card-border rounded-lg p-5 pl-0",children:[k.jsx("div",{className:"w-fit h-fit flex items-center justify-center ml-5",children:k.jsx($m,{options:["WpmGraph","AccGraph","TimeGraph","ErrorLettersGraph"],value:R,onChange:X=>ye(X)})}),R==="WpmGraph"&&oe,R==="AccGraph"&&ce,R==="TimeGraph"&&me,R==="ErrorLettersGraph"&&Se]})}),k.jsx("div",{className:"flex-[2] bg-game-bg-light border-2 border-card-border rounded-lg min-h-0",children:k.jsx(J1,{rounds:lu(T?.rounds??[])})})]})]});return k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:U,style:{width:"15%"},className:"relative z-50 m-5 border-2 border-card-border rounded-full transition-all duration-150 hover:border-accent-primary active:scale-90",children:k.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full"})}),k.jsx(Hg,{open:b,value:ve,width:65,height:70,className:"motion-preset-blur-up-lg"})]})});function X1({glow:n=!1}){return k.jsx("h1",{className:`text-1xl font-display font-bold tracking-tight ${n?"drop-shadow-[0_0_25px_rgba(200,155,94,0.6)]":""}`,children:k.jsx("span",{className:"text-accent-primary",children:xr(0).CurrentTitle})})}function va({text:n,fontSize:e=30,infoText:t,infoFontSize:i=12,infoPlace:o="Bottom",color:a="text-text-primary"}){const l=k.jsx("p",{style:{fontSize:e},className:`${a} font-bold`,children:n}),u=k.jsx("p",{style:{fontSize:`${i}px`},className:"text-text-secondary font-bold uppercase tracking-wider",children:t});return k.jsxs("div",{className:"flex flex-col",children:[o=="Bottom"?l:u,o=="Top"?l:u]})}function Z1(){const{game:n,stats:e}=$s(),t=e?.rounds?.length?e.rounds[e.rounds.length-1]:null,i=t?.wpm??n.WPM,o=t?.accuracy??n.Accurancy,a=n.Errors??t?.errorLetters?.length??0,l=t?.time??n.Seconds;return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"w-full h-full bg-card-bg border border-card-border rounded-lg shadow-card flex flex-col",children:[k.jsxs("div",{className:"w-full h-28 border-b border-card-border flex flex-row items-center justify-around px-12",children:[k.jsx(va,{text:`${i}`,fontSize:42,infoText:"WPM",color:"text-accent-primary"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(va,{text:`${o}%`,fontSize:42,infoText:"ACC",color:"text-accent-success"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(va,{text:`${a}`,fontSize:42,infoText:"Errors",color:"text-accent-error"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(va,{text:`${l}'s`,fontSize:42,infoText:"Time / Seconds",color:"text-accent-secondary"})]}),k.jsx("div",{className:"flex-1 p-10",children:k.jsx(fs,{data:n.LineGraphDataSet,xKey:"Seconds",series:[{key:"WPM",label:"WPM",fill:!0}],xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE",tooltipValueSuffix:"WPM",className:"border-none shadow-none"})})]})})}function eE(){const{isGameStarted:n,setIsGameStarted:e,setShowResults:t,setGame:i,textVersion:o}=$s(),[a,l]=z.useState(""),[u,h]=z.useState([]),[f,g]=z.useState(xr(0).Timer),[y,v]=z.useState(()=>xr(0).CurrentText),_=z.useRef(!1),x=z.useRef(f),[b,S]=z.useState({Normal:"text-text-primary opacity-30",Correct:"text-text-correct",Incorrect:"text-text-incorrect",Upcoming:"text-text-upcoming opacity-20",Current:"text-text-current font-semibold border-l-4 border-white/50"}),T=z.useRef(y),A=z.useRef(xr(0)),R=z.useMemo(()=>y.split(`
`).join(""),[y]),M=z.useMemo(()=>y.split(`
`),[y]),L=z.useRef(a),U=z.useRef(null),F=z.useRef(0),W=z.useRef(0),G=z.useRef([]),ie=z.useRef(!1),oe=z.useRef(0),ce=z.useCallback(async()=>{if(ie.current)return;ie.current=!0;const D=Math.max(W.current-F.current,0),Y=Math.max(oe.current,0),q=Y/60,C={created_at:new Date().toISOString(),time:Y,text:y,accuracy:ay(D,Math.max(W.current,1)),wpm:Au(W.current,q),errorLetters:G.current};try{await M1(C)}catch($){console.log("appendUserRound failed:",$)}},[R.length]);z.useEffect(()=>{},[S]);const me=z.useCallback(D=>{const q=(D??T.current).split(`
`).join(""),C=A.current.Timer;e(!1),t(!1),l(""),L.current="",F.current=0,W.current=0,G.current=[],ie.current=!1,oe.current=0,h(Array.from({length:q.length},()=>b.Normal)),g(C),x.current=C,i($=>({...$,Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]})),requestAnimationFrame(()=>{U.current?.scrollTo({top:0}),U.current?.focus()})},[i,t,e,b]),Se=z.useCallback(()=>{const D=xr(0),Y=A.current,q=D.CurrentText!==Y.CurrentText,C=D.Timer!==Y.Timer,$=D.CurrentTitle!==Y.CurrentTitle;if(!(!q&&!C&&!$)){if(A.current=D,q){T.current=D.CurrentText,v(D.CurrentText),me(D.CurrentText);return}if(C){me();return}me()}},[me]);z.useEffect(()=>{T.current=y},[y]),z.useEffect(()=>{x.current=f},[f]),z.useEffect(()=>{if(!_.current){_.current=!0;return}Se()},[Se,o]),z.useEffect(()=>{U.current?.focus()},[]),z.useEffect(()=>{const D=x1(Se);return Se(),D},[Se]),z.useEffect(()=>{h(Array.from({length:R.length},()=>b.Normal))},[R,b]);const ye=z.useMemo(()=>{const D=y.split(`
`),Y=[];let q=0;for(const C of D)Y.push(q),q+=C.length;return Y},[y]);z.useEffect(()=>{if(!n)return;const D=A.current.Timer>0;D&&(x.current=A.current.Timer,g(x.current));const Y=setInterval(()=>{i(C=>{const $=C.Seconds/60,J={gameIndex:C.LineGraphDataSet.length,Seconds:C.Seconds,WPM:Au(C.Character,$)};return{...C,LineGraphDataSet:[...C.LineGraphDataSet,J]}})},5e3),q=setInterval(()=>{oe.current+=1,i(C=>({...C,Seconds:C.Seconds+1})),D&&(x.current=Math.max(x.current-1,0),g(x.current),!(x.current>0)&&(e(!1),(async()=>(await ce(),t(!0)))(),clearInterval(q),clearInterval(Y)))},1e3);return()=>{clearInterval(q),clearInterval(Y)}},[n,i,t,e]),z.useEffect(()=>{const D=a.length-1;if(D<0){i(J=>({...J,Character:W.current,CorrectCharacter:Math.max(W.current-F.current,0)})),h(Array.from({length:R.length},()=>b.Normal));return}const Y=a[D]==R[D],q=Math.min(a.length,R.length);for(let J=0;J<q;J+=1)a[J],R[J];i(J=>({...J,Character:W.current,CorrectCharacter:Math.max(W.current-F.current,0)})),h(J=>{const se=[...J];return se[D]=Y?b.Correct:b.Incorrect,D+1<se.length&&(se[D+1]=b.Current),D+2<se.length&&(se[D+2]=b.Upcoming),se});const C=U.current;let $=null;if(C){for(let J=D;J<R.length&&($=C.querySelector(`[data-idx="${J}"]`),!$);J+=1);if(!$)for(let J=D-1;J>=0&&($=C.querySelector(`[data-idx="${J}"]`),!$);J-=1);}if(C&&$ instanceof HTMLElement){const J=$.offsetTop-C.clientHeight/2+$.offsetHeight/2,se=Math.max(C.scrollHeight-C.clientHeight,0),fe=Math.max(0,Math.min(J,se));C.scrollTo({top:fe})}D>=R.length-1&&(e(!1),(async()=>(await ce(),t(!0)))())},[a,R,ce,i,t,e,b]);const ve=(D,Y)=>{let q=0;return D.split(/(\s+)/).map((C,$)=>{const J=q;return q+=C.length,C.trim()===""?k.jsx("span",{children:C},$):k.jsx("span",{className:"whitespace-nowrap",children:C.split("").map((se,fe)=>{const pe=ye[Y]+J+fe,Ce=u[pe]??b.Normal;return k.jsx("span",{"data-idx":pe,className:`inline-block ${Ce} transition-colors duration-100`,children:se},fe)})},$)})},X=A.current.Timer>0;return k.jsxs("div",{className:"relative w-full h-2/5",children:[X&&k.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-md border border-card-border bg-game-bg-light px-3 py-1 text-sm font-semibold text-text-primary shadow-card pointer-events-none",children:f}),k.jsx("div",{ref:U,tabIndex:0,onClick:()=>U.current?.focus(),onKeyDown:D=>{const Y=D.key;if(Y==="Escape"){D.preventDefault(),me();return}if(!(Y==="Backspace"||Y.length===1&&!D.ctrlKey&&!D.metaKey&&!D.altKey))return;if(D.preventDefault(),n||e(!0),Y==="Backspace"){if(L.current.length===0)return;l($=>{const J=$.slice(0,$.length-1);return L.current=J,J});return}if(L.current.length>=R.length)return;const C=L.current.length;W.current+=1,R[C]!==Y&&(F.current+=1,G.current.push(R[C])),l($=>{const J=$+Y;return L.current=J,J})},className:"w-full h-full bg-card-bg p-10 rounded-xl text-text-primary text-typing-xxl font-mono outline-none shadow-card border-2 border-card-border overflow-y-scroll hover:border-accent-warning focus:border-accent-primary transition-all duration-300 backdrop-blur-sm",style:{scrollbarWidth:"thin",scrollbarColor:"#3a352f #211e1b"},children:M.map((D,Y)=>k.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:ve(D,Y)},Y))})]})}function tE(){const{bumpTextVersion:n}=$s(),[e,t]=z.useState(),[i,o]=z.useState("Random");z.useEffect(()=>{t(B1()),Lt("theme")===void 0&&bn("theme","theme-earthy-earth"),Lt("theme-index")===""&&bn("theme-index","0"),console.log(`Theme: ${Lt("theme")}
Theme-Index: ${Lt("theme-index")}`)},[]),z.useEffect(()=>{console.log("Themes: ",e)},[e]);const a=(f,g)=>{bn("theme",f),bn("theme-index",g),L1()},l=f=>{k1(0,{Text:{Length:f}}),sy(),n()},u=f=>{F1(f)},h=f=>{const g=zg();if(!f||g.length===0)return;o(f);const y=f,v=ry(0).Text.Length,_=g[Math.floor(Math.random()*g.length)],x=y==="Random"?_:y,S=z1(x,v)?.text??"Something went wrong! Text not found!";Ia(0,{CurrentTitle:x}),Ia(0,{CurrentText:S})};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"w-full h-14 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row items-center gap-3 px-2 backdrop-blur-sm",children:[k.jsx(_a,{text:"",tooltip:"Text options",optionsValue:[k.jsx(wa,{children:[k.jsx(Ze,{index:0,text:"Short",onClickFunction:()=>l("short")}),k.jsx(Ze,{index:1,text:"Middle",onClickFunction:()=>l("medium")}),k.jsx(Ze,{index:2,text:"Long",onClickFunction:()=>l("long")}),k.jsx($m,{label:"",options:["Random",...zg()],value:i,onChange:h})],defaultSelect:0})]}),k.jsx(_a,{text:"",tooltip:"Timer options",optionsValue:[k.jsx(wa,{children:[k.jsx(Ze,{index:0,text:"15's",onClickFunction:()=>u(15),tooltip:"Set a timer too 15 seconds."}),k.jsx(Ze,{index:1,text:"30's",onClickFunction:()=>u(30),tooltip:"Set a timer too 30 seconds."}),k.jsx(Ze,{index:2,text:"60's",onClickFunction:()=>u(60),tooltip:"Set a timer too 60 seconds."}),k.jsx(Ze,{index:3,text:"",onClickFunction:()=>u(-1),tooltip:"Set a timer that runs until u finished typing."})],defaultSelect:3})]}),k.jsx(_a,{text:"",tooltip:"Theme",itemsPerRow:15,optionsValue:[k.jsx(wa,{children:e!==void 0?e.map((f,g)=>k.jsx(Ze,{text:"",className:` h-10 ${f} text-accent-primary`,onClickFunction:()=>a(f,`${g}`)},g)):[k.jsx(Ze,{}),k.jsx(Ze,{})],defaultSelect:parseInt(Lt("theme-index"))})]})]})})}function nE({text:n="Loading..."}){return k.jsxs("div",{className:"w-screen h-screen bg-game-bg flex flex-col items-center justify-center gap-8",children:[k.jsxs("div",{className:"relative w-24 h-24",children:[[...Array(8)].map((e,t)=>k.jsx("div",{className:"absolute w-3 h-3 bg-accent-primary rounded-full",style:{top:"50%",left:"50%",transform:`rotate(${t*45}deg) translateY(-40px)`,animation:"pulse-glow 1.2s ease-in-out infinite",animationDelay:`${t*.15}s`}},t)),k.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-accent-warning rounded-full shadow-glow-purple animate-pulse"})]}),k.jsxs("div",{className:"flex flex-col items-center gap-2",children:[k.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary animate-pulse",children:n}),k.jsxs("div",{className:"flex gap-1.5",children:[k.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full animate-bounce",style:{animationDelay:"0s"}}),k.jsx("div",{className:"w-2 h-2 bg-accent-warning rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),k.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),k.jsx("style",{children:`
                @keyframes pulse-glow {
                    0%, 100% {
                        opacity: 0.3;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(0.8);
                    }
                    50% {
                        opacity: 1;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(1.2);
                        box-shadow: 0 0 20px rgba(200, 155, 94, 0.8);
                    }
                }
            `})]})}function rE(){const[n,e]=z.useState(!1),[t,i]=z.useState("");return z.useEffect(()=>{K1()},[t]),k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"m-5 z-[9999]",children:k.jsx(Ze,{onClickFunction:()=>e(!n),text:""})}),n?k.jsxs("div",{className:"fixed inset-0 z-[999] bg-black/20 backdrop-blur-lg flex items-center justify-center flex-col gap-5",children:[k.jsx("h1",{className:"text-text-primary text-4xl font-mono font-extrabold",children:"Find Player"}),k.jsx("div",{className:"w-2/4 max-w-lg h-16",children:k.jsx(gs,{className:"w-full h-full text-xl",containerClassName:"h-full",placeholder:"Search for a player by name...",onChange:o=>i(o)})})]}):k.jsx("div",{})]})}function iE(){const[n,e]=z.useState(!1),[t,i]=z.useState(!1),[o,a]=z.useState("login"),[l,u]=z.useState(""),[h,f]=z.useState(""),[g,y]=z.useState(""),[v,_]=z.useState(""),{showResults:x,setShowResults:b,bumpTextVersion:S,loadingStats:T}=$s();z.useEffect(()=>{sy(),S(),Lt("logged in")===null&&bn("logged in","false");const G=Lt("theme")||"theme-earthy-earth";(oe=>{for(const ce of Array.from(oe.classList))ce.startsWith("theme-")&&oe.classList.remove(ce);oe.classList.add(G)})(document.documentElement)},[S]);const A=()=>{b(!x)},R=()=>{i(!t)},M=(G,ie)=>{G==="Username"&&f(ie),G==="Email"&&y(ie),G==="Password"&&_(ie)},L=async()=>{if(a("signup"),console.log(Lt("logged in")),Lt("logged in")==="true")return;const G=await T1(h,g,v);G?.status==="verify"?u("Please confirm your email."):G?.status==="error"?u("Error, please try again."):u("")},U=async()=>{await C1(g,v),a("login"),u(""),window.location.reload()},F=k.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row gap-6 p-6 md:p-8 bg-card-bg border-2 border-card-border rounded-xl shadow-card",children:[k.jsxs("div",{className:"md:w-5/12 w-full flex flex-col gap-5 bg-game-bg-light border-2 border-card-border rounded-lg p-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-warning shadow-glow-yellow"}),k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-primary shadow-glow-purple"}),k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green"})]}),k.jsx("div",{className:"text-xs font-display uppercase tracking-[0.35em] text-text-secondary",children:"Access"})]}),k.jsxs("div",{className:"flex flex-col gap-2",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold tracking-widest text-accent-primary",children:"WELCOME"}),k.jsx("p",{className:"text-text-secondary font-display text-sm leading-relaxed",children:"Log in to sync stats, save streaks and unlock custom themes."})]}),k.jsxs("div",{className:"flex flex-col gap-3 text-sm font-display text-text-primary",children:[k.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[k.jsx("span",{children:"Sync progress"}),k.jsx("span",{className:"text-accent-primary",children:"Ready"})]}),k.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[k.jsx("span",{children:"Keep streaks"}),k.jsx("span",{className:"text-accent-primary",children:"Active"})]}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Secure session"}),k.jsx("span",{className:"text-accent-primary",children:"Enabled"})]})]}),k.jsx("div",{className:"mt-auto text-xs font-display uppercase tracking-[0.3em] text-text-secondary",children:"Typing Game"})]}),k.jsxs("div",{className:"md:w-7/12 w-full flex flex-col gap-5",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{onClick:()=>a("login"),className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="login"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,children:"Login"}),k.jsx("button",{className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="signup"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,onClick:()=>a("signup"),children:"Sign up"})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("div",{className:"w-full flex flex-col gap-4",children:[o==="signup"?k.jsx(gs,{onChange:G=>M("Username",G),label:"Username",placeholder:"Enter your username..",type:"text",className:"w-full"}):null,k.jsx(gs,{onChange:G=>M("Email",G),label:"Email",placeholder:"Enter your email..",type:"email",className:"w-full"}),k.jsx(gs,{onChange:G=>M("Password",G),label:"Password",placeholder:"Enter your password..",type:"password",className:"w-full"})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("div",{className:"text-xs font-display uppercase tracking-[0.2em] text-text-secondary",children:o==="login"?"No account? Sign up":"Already have an account?"}),k.jsx("div",{className:"flex items-center gap-3",children:o==="signup"?k.jsx(Ze,{disabled:!Fg(g),onClickFunction:L,text:"Create Account"}):k.jsx(Ze,{disabled:!Fg(g),onClickFunction:U,text:"Login"})})]}),l?k.jsx("div",{className:"text-xs font-display text-accent-warning",children:l}):null]})]}),W=Lt("theme")||"theme-earthy-earth";return k.jsx("div",{className:`${W} app-shell`,children:k.jsx("div",{className:"w-screen h-screen bg-game-bg overflow-hidden",children:k.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center",children:[k.jsx("div",{id:"portal-root",className:`${W}`}),x?k.jsxs("div",{className:"w-full h-full flex flex-row",children:[k.jsx("div",{className:"absolute w-fit h-fit flex items-start p-5",children:k.jsx(Ze,{onClickFunction:A,text:"Back"})}),k.jsx("div",{className:"w-full h-full flex items-center justify-center",children:k.jsx("div",{className:"w-4/5 h-4/5",children:T?k.jsx(nE,{text:"Loading results..."}):k.jsx(Z1,{})})})]}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:" w-1/5 h-full flex-0",children:Lt("logged in")==="false"?k.jsx("div",{className:"relative z-50 p-5",children:k.jsx(Ze,{onClickFunction:R,text:"Login / Sign up"})}):k.jsx(Q1,{})}),t?k.jsx(Hg,{value:F,width:"min(980px, 92vw)",height:"min(640px, 90vh)",className:"bg-transparent border-none"}):null,k.jsxs("div",{className:"w-1/5 h-full flex flex-col gap-3 justify-center items-center flex-1",children:[k.jsx(tE,{}),k.jsx(eE,{}),k.jsx("div",{className:"w-[98%] flex flex-row items-center justify-start",onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),children:k.jsx(X1,{glow:!!n})})]}),k.jsx("div",{className:"w-1/5 h-full flex-2 flex justify-end",children:k.jsx(rE,{})})]})]})})})}d0.createRoot(document.getElementById("root")).render(k.jsx(z.StrictMode,{children:k.jsx(G1,{children:k.jsx(iE,{})})}));
