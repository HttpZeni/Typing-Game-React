(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var _h={exports:{}},ar={};var Dp;function ww(){if(Dp)return ar;Dp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:i,type:a,key:u,ref:o!==void 0?o:null,props:l}}return ar.Fragment=t,ar.jsx=n,ar.jsxs=n,ar}var jp;function xw(){return jp||(jp=1,_h.exports=ww()),_h.exports}var A=xw(),wh={exports:{}},mt={};var Np;function Sw(){if(Np)return mt;Np=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,T={};function C(E,L,Y){this.props=E,this.context=L,this.refs=T,this.updater=Y||x}C.prototype.isReactComponent={},C.prototype.setState=function(E,L){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,L,"setState")},C.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function R(){}R.prototype=C.prototype;function D(E,L,Y){this.props=E,this.context=L,this.refs=T,this.updater=Y||x}var U=D.prototype=new R;U.constructor=D,S(U,C.prototype),U.isPureReactComponent=!0;var q=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function Q(E,L,Y){var J=Y.ref;return{$$typeof:i,type:E,key:L,ref:J!==void 0?J:null,props:Y}}function dt(E,L){return Q(E.type,L,E.props)}function it(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function rt(E){var L={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return L[Y]})}var kt=/\/+/g;function st(E,L){return typeof E=="object"&&E!==null&&E.key!=null?rt(""+E.key):L.toString(36)}function ct(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(I,I):(E.status="pending",E.then(function(L){E.status==="pending"&&(E.status="fulfilled",E.value=L)},function(L){E.status==="pending"&&(E.status="rejected",E.reason=L)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function B(E,L,Y,J,lt){var gt=typeof E;(gt==="undefined"||gt==="boolean")&&(E=null);var Et=!1;if(E===null)Et=!0;else switch(gt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(E.$$typeof){case i:case t:Et=!0;break;case p:return Et=E._init,B(Et(E._payload),L,Y,J,lt)}}if(Et)return lt=lt(E),Et=J===""?"."+st(E,0):J,q(lt)?(Y="",Et!=null&&(Y=Et.replace(kt,"$&/")+"/"),B(lt,L,Y,"",function(fa){return fa})):lt!=null&&(it(lt)&&(lt=dt(lt,Y+(lt.key==null||E&&E.key===lt.key?"":(""+lt.key).replace(kt,"$&/")+"/")+Et)),L.push(lt)),1;Et=0;var _e=J===""?".":J+":";if(q(E))for(var Yt=0;Yt<E.length;Yt++)J=E[Yt],gt=_e+st(J,Yt),Et+=B(J,L,Y,gt,lt);else if(Yt=_(E),typeof Yt=="function")for(E=Yt.call(E),Yt=0;!(J=E.next()).done;)J=J.value,gt=_e+st(J,Yt++),Et+=B(J,L,Y,gt,lt);else if(gt==="object"){if(typeof E.then=="function")return B(ct(E),L,Y,J,lt);throw L=String(E),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Et}function X(E,L,Y){if(E==null)return E;var J=[],lt=0;return B(E,J,"","",function(gt){return L.call(Y,gt,lt++)}),J}function W(E){if(E._status===-1){var L=E._result;L=L(),L.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=L)}if(E._status===1)return E._result.default;throw E._result}var tt=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},ot={map:X,forEach:function(E,L,Y){X(E,function(){L.apply(this,arguments)},Y)},count:function(E){var L=0;return X(E,function(){L++}),L},toArray:function(E){return X(E,function(L){return L})||[]},only:function(E){if(!it(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return mt.Activity=b,mt.Children=ot,mt.Component=C,mt.Fragment=n,mt.Profiler=o,mt.PureComponent=D,mt.StrictMode=a,mt.Suspense=f,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,mt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return P.H.useMemoCache(E)}},mt.cache=function(E){return function(){return E.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(E,L,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var J=S({},E.props),lt=E.key;if(L!=null)for(gt in L.key!==void 0&&(lt=""+L.key),L)!F.call(L,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&L.ref===void 0||(J[gt]=L[gt]);var gt=arguments.length-2;if(gt===1)J.children=Y;else if(1<gt){for(var Et=Array(gt),_e=0;_e<gt;_e++)Et[_e]=arguments[_e+2];J.children=Et}return Q(E.type,lt,J)},mt.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},mt.createElement=function(E,L,Y){var J,lt={},gt=null;if(L!=null)for(J in L.key!==void 0&&(gt=""+L.key),L)F.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=L[J]);var Et=arguments.length-2;if(Et===1)lt.children=Y;else if(1<Et){for(var _e=Array(Et),Yt=0;Yt<Et;Yt++)_e[Yt]=arguments[Yt+2];lt.children=_e}if(E&&E.defaultProps)for(J in Et=E.defaultProps,Et)lt[J]===void 0&&(lt[J]=Et[J]);return Q(E,gt,lt)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(E){return{$$typeof:h,render:E}},mt.isValidElement=it,mt.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:W}},mt.memo=function(E,L){return{$$typeof:g,type:E,compare:L===void 0?null:L}},mt.startTransition=function(E){var L=P.T,Y={};P.T=Y;try{var J=E(),lt=P.S;lt!==null&&lt(Y,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(I,tt)}catch(gt){tt(gt)}finally{L!==null&&Y.types!==null&&(L.types=Y.types),P.T=L}},mt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},mt.use=function(E){return P.H.use(E)},mt.useActionState=function(E,L,Y){return P.H.useActionState(E,L,Y)},mt.useCallback=function(E,L){return P.H.useCallback(E,L)},mt.useContext=function(E){return P.H.useContext(E)},mt.useDebugValue=function(){},mt.useDeferredValue=function(E,L){return P.H.useDeferredValue(E,L)},mt.useEffect=function(E,L){return P.H.useEffect(E,L)},mt.useEffectEvent=function(E){return P.H.useEffectEvent(E)},mt.useId=function(){return P.H.useId()},mt.useImperativeHandle=function(E,L,Y){return P.H.useImperativeHandle(E,L,Y)},mt.useInsertionEffect=function(E,L){return P.H.useInsertionEffect(E,L)},mt.useLayoutEffect=function(E,L){return P.H.useLayoutEffect(E,L)},mt.useMemo=function(E,L){return P.H.useMemo(E,L)},mt.useOptimistic=function(E,L){return P.H.useOptimistic(E,L)},mt.useReducer=function(E,L,Y){return P.H.useReducer(E,L,Y)},mt.useRef=function(E){return P.H.useRef(E)},mt.useState=function(E){return P.H.useState(E)},mt.useSyncExternalStore=function(E,L,Y){return P.H.useSyncExternalStore(E,L,Y)},mt.useTransition=function(){return P.H.useTransition()},mt.version="19.2.4",mt}var zp;function gf(){return zp||(zp=1,wh.exports=Sw()),wh.exports}var K=gf(),xh={exports:{}},rr={},Sh={exports:{}},Th={};var Up;function Tw(){return Up||(Up=1,(function(i){function t(B,X){var W=B.length;B.push(X);t:for(;0<W;){var tt=W-1>>>1,ot=B[tt];if(0<o(ot,X))B[tt]=X,B[W]=ot,W=tt;else break t}}function n(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var X=B[0],W=B.pop();if(W!==X){B[0]=W;t:for(var tt=0,ot=B.length,E=ot>>>1;tt<E;){var L=2*(tt+1)-1,Y=B[L],J=L+1,lt=B[J];if(0>o(Y,W))J<ot&&0>o(lt,Y)?(B[tt]=lt,B[J]=W,tt=J):(B[tt]=Y,B[L]=W,tt=L);else if(J<ot&&0>o(lt,W))B[tt]=lt,B[J]=W,tt=J;else break t}}return X}function o(B,X){var W=B.sortIndex-X.sortIndex;return W!==0?W:B.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var f=[],g=[],p=1,b=null,v=3,_=!1,x=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function U(B){for(var X=n(g);X!==null;){if(X.callback===null)a(g);else if(X.startTime<=B)a(g),X.sortIndex=X.expirationTime,t(f,X);else break;X=n(g)}}function q(B){if(S=!1,U(B),!x)if(n(f)!==null)x=!0,I||(I=!0,rt());else{var X=n(g);X!==null&&ct(q,X.startTime-B)}}var I=!1,P=-1,F=5,Q=-1;function dt(){return T?!0:!(i.unstable_now()-Q<F)}function it(){if(T=!1,I){var B=i.unstable_now();Q=B;var X=!0;try{t:{x=!1,S&&(S=!1,R(P),P=-1),_=!0;var W=v;try{e:{for(U(B),b=n(f);b!==null&&!(b.expirationTime>B&&dt());){var tt=b.callback;if(typeof tt=="function"){b.callback=null,v=b.priorityLevel;var ot=tt(b.expirationTime<=B);if(B=i.unstable_now(),typeof ot=="function"){b.callback=ot,U(B),X=!0;break e}b===n(f)&&a(f),U(B)}else a(f);b=n(f)}if(b!==null)X=!0;else{var E=n(g);E!==null&&ct(q,E.startTime-B),X=!1}}break t}finally{b=null,v=W,_=!1}X=void 0}}finally{X?rt():I=!1}}}var rt;if(typeof D=="function")rt=function(){D(it)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,st=kt.port2;kt.port1.onmessage=it,rt=function(){st.postMessage(null)}}else rt=function(){C(it,0)};function ct(B,X){P=C(function(){B(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(B){B.callback=null},i.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<B?Math.floor(1e3/B):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(B){switch(v){case 1:case 2:case 3:var X=3;break;default:X=v}var W=v;v=X;try{return B()}finally{v=W}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=v;v=B;try{return X()}finally{v=W}},i.unstable_scheduleCallback=function(B,X,W){var tt=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?tt+W:tt):W=tt,B){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=W+ot,B={id:p++,callback:X,priorityLevel:B,startTime:W,expirationTime:ot,sortIndex:-1},W>tt?(B.sortIndex=W,t(g,B),n(f)===null&&B===n(g)&&(S?(R(P),P=-1):S=!0,ct(q,W-tt))):(B.sortIndex=ot,t(f,B),x||_||(x=!0,I||(I=!0,rt()))),B},i.unstable_shouldYield=dt,i.unstable_wrapCallback=function(B){var X=v;return function(){var W=v;v=X;try{return B.apply(this,arguments)}finally{v=W}}}})(Th)),Th}var Lp;function Ew(){return Lp||(Lp=1,Sh.exports=Tw()),Sh.exports}var Eh={exports:{}},pe={};var Bp;function Aw(){if(Bp)return pe;Bp=1;var i=gf();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:f,containerInfo:g,implementation:p}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pe.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,p)},pe.flushSync=function(f){var g=u.T,p=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=g,a.p=p,a.d.f()}},pe.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(f,g))},pe.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},pe.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?a.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:_}):p==="script"&&a.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pe.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);a.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(f)},pe.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin);a.d.L(f,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pe.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);a.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(f)},pe.requestFormReset=function(f){a.d.r(f)},pe.unstable_batchedUpdates=function(f,g){return f(g)},pe.useFormState=function(f,g,p){return u.H.useFormState(f,g,p)},pe.useFormStatus=function(){return u.H.useHostTransitionStatus()},pe.version="19.2.4",pe}var Hp;function Db(){if(Hp)return Eh.exports;Hp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Eh.exports=Aw(),Eh.exports}var qp;function Ow(){if(qp)return rr;qp=1;var i=Ew(),t=gf(),n=Db();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(l(e)!==e)throw Error(a(188))}function g(e){var s=e.alternate;if(!s){if(s=l(e),s===null)throw Error(a(188));return s!==e?null:e}for(var r=e,c=s;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){r=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return f(d),e;if(m===c)return f(d),s;m=m.sibling}throw Error(a(188))}if(r.return!==c.return)r=d,c=m;else{for(var y=!1,w=d.child;w;){if(w===r){y=!0,r=d,c=m;break}if(w===c){y=!0,c=d,r=m;break}w=w.sibling}if(!y){for(w=m.child;w;){if(w===r){y=!0,r=m,c=d;break}if(w===c){y=!0,c=m,r=d;break}w=w.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==c)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),dt=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=it&&e[it]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Symbol.for("react.client.reference");function st(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===kt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case I:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case D:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case U:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return s=e.displayName||null,s!==null?s:st(e.type)||"Memo";case F:s=e._payload,e=e._init;try{return st(e(s))}catch{}}return null}var ct=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},tt=[],ot=-1;function E(e){return{current:e}}function L(e){0>ot||(e.current=tt[ot],tt[ot]=null,ot--)}function Y(e,s){ot++,tt[ot]=e.current,e.current=s}var J=E(null),lt=E(null),gt=E(null),Et=E(null);function _e(e,s){switch(Y(gt,s),Y(lt,e),Y(J,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?ep(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=ep(s),e=np(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),Y(J,e)}function Yt(){L(J),L(lt),L(gt)}function fa(e){e.memoizedState!==null&&Y(Et,e);var s=J.current,r=np(s,e.type);s!==r&&(Y(lt,e),Y(J,r))}function Pr(e){lt.current===e&&(L(J),L(lt)),Et.current===e&&(L(Et),er._currentValue=W)}var nc,Mf;function Ei(e){if(nc===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);nc=s&&s[1]||"",Mf=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+e+Mf}var ic=!1;function sc(e,s){if(!e||ic)return"";ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(H){var z=H}Reflect.construct(e,[],G)}else{try{G.call()}catch(H){z=H}e.call(G.prototype)}}else{try{throw Error()}catch(H){z=H}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),y=m[0],w=m[1];if(y&&w){var O=y.split(`
`),N=w.split(`
`);for(d=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;d<N.length&&!N[d].includes("DetermineComponentFrameRoot");)d++;if(c===O.length||d===N.length)for(c=O.length-1,d=N.length-1;1<=c&&0<=d&&O[c]!==N[d];)d--;for(;1<=c&&0<=d;c--,d--)if(O[c]!==N[d]){if(c!==1||d!==1)do if(c--,d--,0>d||O[c]!==N[d]){var $=`
`+O[c].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=c&&0<=d);break}}}finally{ic=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ei(r):""}function Jv(e,s){switch(e.tag){case 26:case 27:case 5:return Ei(e.type);case 16:return Ei("Lazy");case 13:return e.child!==s&&s!==null?Ei("Suspense Fallback"):Ei("Suspense");case 19:return Ei("SuspenseList");case 0:case 15:return sc(e.type,!1);case 11:return sc(e.type.render,!1);case 1:return sc(e.type,!0);case 31:return Ei("Activity");default:return""}}function Df(e){try{var s="",r=null;do s+=Jv(e,r),r=e,e=e.return;while(e);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ac=Object.prototype.hasOwnProperty,rc=i.unstable_scheduleCallback,oc=i.unstable_cancelCallback,Zv=i.unstable_shouldYield,t0=i.unstable_requestPaint,Me=i.unstable_now,e0=i.unstable_getCurrentPriorityLevel,jf=i.unstable_ImmediatePriority,Nf=i.unstable_UserBlockingPriority,$r=i.unstable_NormalPriority,n0=i.unstable_LowPriority,zf=i.unstable_IdlePriority,i0=i.log,s0=i.unstable_setDisableYieldValue,da=null,De=null;function Kn(e){if(typeof i0=="function"&&s0(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(da,e)}catch{}}var je=Math.clz32?Math.clz32:o0,a0=Math.log,r0=Math.LN2;function o0(e){return e>>>=0,e===0?32:31-(a0(e)/r0|0)|0}var Vr=256,Ir=262144,Gr=4194304;function Ai(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,s,r){var c=e.pendingLanes;if(c===0)return 0;var d=0,m=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=c&134217727;return w!==0?(c=w&~m,c!==0?d=Ai(c):(y&=w,y!==0?d=Ai(y):r||(r=w&~e,r!==0&&(d=Ai(r))))):(w=c&~m,w!==0?d=Ai(w):y!==0?d=Ai(y):r||(r=c&~e,r!==0&&(d=Ai(r)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:d}function ga(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function l0(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uf(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function lc(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function ma(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c0(e,s,r,c,d,m){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,O=e.expirationTimes,N=e.hiddenUpdates;for(r=y&~r;0<r;){var $=31-je(r),G=1<<$;w[$]=0,O[$]=-1;var z=N[$];if(z!==null)for(N[$]=null,$=0;$<z.length;$++){var H=z[$];H!==null&&(H.lane&=-536870913)}r&=~G}c!==0&&Lf(e,c,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(y&~s))}function Lf(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-je(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Bf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var c=31-je(r),d=1<<c;d&s|e[c]&s&&(e[c]|=s),r&=~d}}function Hf(e,s){var r=s&-s;return r=(r&42)!==0?1:cc(r),(r&(e.suspendedLanes|s))!==0?0:r}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qf(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Ep(e.type))}function Pf(e,s){var r=X.p;try{return X.p=e,s()}finally{X.p=r}}var Fn=Math.random().toString(36).slice(2),le="__reactFiber$"+Fn,xe="__reactProps$"+Fn,ls="__reactContainer$"+Fn,hc="__reactEvents$"+Fn,u0="__reactListeners$"+Fn,h0="__reactHandles$"+Fn,$f="__reactResources$"+Fn,pa="__reactMarker$"+Fn;function fc(e){delete e[le],delete e[xe],delete e[hc],delete e[u0],delete e[h0]}function cs(e){var s=e[le];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ls]||r[le]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=cp(e);e!==null;){if(r=e[le])return r;e=cp(e)}return s}e=r,r=e.parentNode}return null}function us(e){if(e=e[le]||e[ls]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function ya(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function hs(e){var s=e[$f];return s||(s=e[$f]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ae(e){e[pa]=!0}var Vf=new Set,If={};function Oi(e,s){fs(e,s),fs(e+"Capture",s)}function fs(e,s){for(If[e]=s,e=0;e<s.length;e++)Vf.add(s[e])}var f0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gf={},Yf={};function d0(e){return ac.call(Yf,e)?!0:ac.call(Gf,e)?!1:f0.test(e)?Yf[e]=!0:(Gf[e]=!0,!1)}function Kr(e,s,r){if(d0(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Fr(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function wn(e,s,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+c)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kf(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function g0(e,s,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,m=c.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){r=""+y,m.call(this,y)}}),Object.defineProperty(e,s,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function dc(e){if(!e._valueTracker){var s=Kf(e)?"checked":"value";e._valueTracker=g0(e,s,""+e[s])}}function Ff(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return e&&(c=Kf(e)?e.checked?"true":"false":e.value),e=c,e!==r?(s.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var m0=/[\n"\\]/g;function Ie(e){return e.replace(m0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gc(e,s,r,c,d,m,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),s!=null?y==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ve(s)):e.value!==""+Ve(s)&&(e.value=""+Ve(s)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),s!=null?mc(e,y,Ve(s)):r!=null?mc(e,y,Ve(r)):c!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ve(w):e.removeAttribute("name")}function Wf(e,s,r,c,d,m,y,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){dc(e);return}r=r!=null?""+Ve(r):"",s=s!=null?""+Ve(s):r,w||s===e.value||(e.value=s),e.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=w?e.checked:!!c,e.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),dc(e)}function mc(e,s,r){s==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ds(e,s,r,c){if(e=e.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=s.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Ve(r),s=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}s!==null||e[d].disabled||(s=e[d])}s!==null&&(s.selected=!0)}}function Xf(e,s,r){if(s!=null&&(s=""+Ve(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+Ve(r):""}function Qf(e,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(a(92));if(ct(c)){if(1<c.length)throw Error(a(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=Ve(s),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),dc(e)}function gs(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var p0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jf(e,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,r):typeof r!="number"||r===0||p0.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function Zf(e,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&r[d]!==c&&Jf(e,d,c)}else for(var m in s)s.hasOwnProperty(m)&&Jf(e,m,s[m])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return b0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xn(){}var yc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,ps=null;function td(e){var s=us(e);if(s&&(e=s.stateNode)){var r=e[xe]||null;t:switch(e=s.stateNode,s.type){case"input":if(gc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ie(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==e&&c.form===e.form){var d=c[xe]||null;if(!d)throw Error(a(90));gc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===e.form&&Ff(c)}break t;case"textarea":Xf(e,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&ds(e,!!r.multiple,s,!1)}}}var vc=!1;function ed(e,s,r){if(vc)return e(s,r);vc=!0;try{var c=e(s);return c}finally{if(vc=!1,(ms!==null||ps!==null)&&(Bo(),ms&&(s=ms,e=ps,ps=ms=null,td(s),e)))for(s=0;s<e.length;s++)td(e[s])}}function ba(e,s){var r=e.stateNode;if(r===null)return null;var c=r[xe]||null;if(c===null)return null;r=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(Sn)try{var va={};Object.defineProperty(va,"passive",{get:function(){_c=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{_c=!1}var Wn=null,wc=null,Qr=null;function nd(){if(Qr)return Qr;var e,s=wc,r=s.length,c,d="value"in Wn?Wn.value:Wn.textContent,m=d.length;for(e=0;e<r&&s[e]===d[e];e++);var y=r-e;for(c=1;c<=y&&s[r-c]===d[m-c];c++);return Qr=d.slice(e,1<c?1-c:void 0)}function Jr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function id(){return!1}function Se(e){function s(r,c,d,m,y){this._reactName=r,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zr:id,this.isPropagationStopped=id,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=Se(Ci),_a=b({},Ci,{view:0,detail:0}),v0=Se(_a),xc,Sc,wa,eo=b({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(xc=e.screenX-wa.screenX,Sc=e.screenY-wa.screenY):Sc=xc=0,wa=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),sd=Se(eo),_0=b({},eo,{dataTransfer:0}),w0=Se(_0),x0=b({},_a,{relatedTarget:0}),Tc=Se(x0),S0=b({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=Se(S0),E0=b({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),A0=Se(E0),O0=b({},Ci,{data:0}),ad=Se(O0),C0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=R0[e])?!!s[e]:!1}function Ec(){return M0}var D0=b({},_a,{key:function(e){if(e.key){var s=C0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),j0=Se(D0),N0=b({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Se(N0),z0=b({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),U0=Se(z0),L0=b({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=Se(L0),H0=b({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=Se(H0),P0=b({},Ci,{newState:0,oldState:0}),$0=Se(P0),V0=[9,13,27,32],Ac=Sn&&"CompositionEvent"in window,xa=null;Sn&&"documentMode"in document&&(xa=document.documentMode);var I0=Sn&&"TextEvent"in window&&!xa,od=Sn&&(!Ac||xa&&8<xa&&11>=xa),ld=" ",cd=!1;function ud(e,s){switch(e){case"keyup":return V0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function G0(e,s){switch(e){case"compositionend":return hd(s);case"keypress":return s.which!==32?null:(cd=!0,ld);case"textInput":return e=s.data,e===ld&&cd?null:e;default:return null}}function Y0(e,s){if(ys)return e==="compositionend"||!Ac&&ud(e,s)?(e=nd(),Qr=wc=Wn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return od&&s.locale!=="ko"?null:s.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fd(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!K0[e.type]:s==="textarea"}function dd(e,s,r,c){ms?ps?ps.push(c):ps=[c]:ms=c,s=Go(s,"onChange"),0<s.length&&(r=new to("onChange","change",null,r,c),e.push({event:r,listeners:s}))}var Sa=null,Ta=null;function F0(e){Wm(e,0)}function no(e){var s=ya(e);if(Ff(s))return e}function gd(e,s){if(e==="change")return s}var md=!1;if(Sn){var Oc;if(Sn){var Cc="oninput"in document;if(!Cc){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),Cc=typeof pd.oninput=="function"}Oc=Cc}else Oc=!1;md=Oc&&(!document.documentMode||9<document.documentMode)}function yd(){Sa&&(Sa.detachEvent("onpropertychange",bd),Ta=Sa=null)}function bd(e){if(e.propertyName==="value"&&no(Ta)){var s=[];dd(s,Ta,e,bc(e)),ed(F0,s)}}function W0(e,s,r){e==="focusin"?(yd(),Sa=s,Ta=r,Sa.attachEvent("onpropertychange",bd)):e==="focusout"&&yd()}function X0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return no(Ta)}function Q0(e,s){if(e==="click")return no(s)}function J0(e,s){if(e==="input"||e==="change")return no(s)}function Z0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ne=typeof Object.is=="function"?Object.is:Z0;function Ea(e,s){if(Ne(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var d=r[c];if(!ac.call(s,d)||!Ne(e[d],s[d]))return!1}return!0}function vd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _d(e,s){var r=vd(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=s&&c>=s)return{node:r,offset:s-e};e=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=vd(r)}}function wd(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?wd(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Wr(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Wr(e.document)}return s}function kc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var t_=Sn&&"documentMode"in document&&11>=document.documentMode,bs=null,Rc=null,Aa=null,Mc=!1;function Sd(e,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mc||bs==null||bs!==Wr(c)||(c=bs,"selectionStart"in c&&kc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Aa&&Ea(Aa,c)||(Aa=c,c=Go(Rc,"onSelect"),0<c.length&&(s=new to("onSelect","select",null,s,r),e.push({event:s,listeners:c}),s.target=bs)))}function ki(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var vs={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionrun:ki("Transition","TransitionRun"),transitionstart:ki("Transition","TransitionStart"),transitioncancel:ki("Transition","TransitionCancel"),transitionend:ki("Transition","TransitionEnd")},Dc={},Td={};Sn&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function Ri(e){if(Dc[e])return Dc[e];if(!vs[e])return e;var s=vs[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Td)return Dc[e]=s[r];return e}var Ed=Ri("animationend"),Ad=Ri("animationiteration"),Od=Ri("animationstart"),e_=Ri("transitionrun"),n_=Ri("transitionstart"),i_=Ri("transitioncancel"),Cd=Ri("transitionend"),kd=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function an(e,s){kd.set(e,s),Oi(s,[e])}var io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ge=[],_s=0,Nc=0;function so(){for(var e=_s,s=Nc=_s=0;s<e;){var r=Ge[s];Ge[s++]=null;var c=Ge[s];Ge[s++]=null;var d=Ge[s];Ge[s++]=null;var m=Ge[s];if(Ge[s++]=null,c!==null&&d!==null){var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}m!==0&&Rd(r,d,m)}}function ao(e,s,r,c){Ge[_s++]=e,Ge[_s++]=s,Ge[_s++]=r,Ge[_s++]=c,Nc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function zc(e,s,r,c){return ao(e,s,r,c),ro(e)}function Mi(e,s){return ao(e,null,null,s),ro(e)}function Rd(e,s,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var d=!1,m=e.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&s!==null&&(d=31-je(r),e=m.hiddenUpdates,c=e[d],c===null?e[d]=[s]:c.push(s),s.lane=r|536870912),m):null}function ro(e){if(50<Fa)throw Fa=0,Iu=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ws={};function s_(e,s,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,s,r,c){return new s_(e,s,r,c)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,s){var r=e.alternate;return r===null?(r=ze(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Md(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function oo(e,s,r,c,d,m){var y=0;if(c=e,typeof e=="function")Uc(e)&&(y=1);else if(typeof e=="string")y=cw(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=ze(31,r,s,d),e.elementType=Q,e.lanes=m,e;case S:return Di(r.children,d,m,s);case T:y=8,d|=24;break;case C:return e=ze(12,r,s,d|2),e.elementType=C,e.lanes=m,e;case q:return e=ze(13,r,s,d),e.elementType=q,e.lanes=m,e;case I:return e=ze(19,r,s,d),e.elementType=I,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break t;case R:y=9;break t;case U:y=11;break t;case P:y=14;break t;case F:y=16,c=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),c=null}return s=ze(y,r,s,d),s.elementType=e,s.type=c,s.lanes=m,s}function Di(e,s,r,c){return e=ze(7,e,c,s),e.lanes=r,e}function Lc(e,s,r){return e=ze(6,e,null,s),e.lanes=r,e}function Dd(e){var s=ze(18,null,null,0);return s.stateNode=e,s}function Bc(e,s,r){return s=ze(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var jd=new WeakMap;function Ye(e,s){if(typeof e=="object"&&e!==null){var r=jd.get(e);return r!==void 0?r:(s={value:e,source:s,stack:Df(s)},jd.set(e,s),s)}return{value:e,source:s,stack:Df(s)}}var xs=[],Ss=0,lo=null,Oa=0,Ke=[],Fe=0,Xn=null,dn=1,gn="";function En(e,s){xs[Ss++]=Oa,xs[Ss++]=lo,lo=e,Oa=s}function Nd(e,s,r){Ke[Fe++]=dn,Ke[Fe++]=gn,Ke[Fe++]=Xn,Xn=e;var c=dn;e=gn;var d=32-je(c)-1;c&=~(1<<d),r+=1;var m=32-je(s)+d;if(30<m){var y=d-d%5;m=(c&(1<<y)-1).toString(32),c>>=y,d-=y,dn=1<<32-je(s)+d|r<<d|c,gn=m+e}else dn=1<<m|r<<d|c,gn=e}function Hc(e){e.return!==null&&(En(e,1),Nd(e,1,0))}function qc(e){for(;e===lo;)lo=xs[--Ss],xs[Ss]=null,Oa=xs[--Ss],xs[Ss]=null;for(;e===Xn;)Xn=Ke[--Fe],Ke[Fe]=null,gn=Ke[--Fe],Ke[Fe]=null,dn=Ke[--Fe],Ke[Fe]=null}function zd(e,s){Ke[Fe++]=dn,Ke[Fe++]=gn,Ke[Fe++]=Xn,dn=s.id,gn=s.overflow,Xn=e}var ce=null,Ht=null,xt=!1,Qn=null,We=!1,Pc=Error(a(519));function Jn(e){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(Ye(s,e)),Pc}function Ud(e){var s=e.stateNode,r=e.type,c=e.memoizedProps;switch(s[le]=e,s[xe]=c,r){case"dialog":vt("cancel",s),vt("close",s);break;case"iframe":case"object":case"embed":vt("load",s);break;case"video":case"audio":for(r=0;r<Xa.length;r++)vt(Xa[r],s);break;case"source":vt("error",s);break;case"img":case"image":case"link":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"input":vt("invalid",s),Wf(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":vt("invalid",s);break;case"textarea":vt("invalid",s),Qf(s,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||Zm(s.textContent,r)?(c.popover!=null&&(vt("beforetoggle",s),vt("toggle",s)),c.onScroll!=null&&vt("scroll",s),c.onScrollEnd!=null&&vt("scrollend",s),c.onClick!=null&&(s.onclick=xn),s=!0):s=!1,s||Jn(e,!0)}function Ld(e){for(ce=e.return;ce;)switch(ce.tag){case 5:case 31:case 13:We=!1;return;case 27:case 3:We=!0;return;default:ce=ce.return}}function Ts(e){if(e!==ce)return!1;if(!xt)return Ld(e),xt=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ah(e.type,e.memoizedProps)),r=!r),r&&Ht&&Jn(e),Ld(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=lp(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=lp(e)}else s===27?(s=Ht,fi(e.type)?(e=uh,uh=null,Ht=e):Ht=s):Ht=ce?Qe(e.stateNode.nextSibling):null;return!0}function ji(){Ht=ce=null,xt=!1}function $c(){var e=Qn;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),Qn=null),e}function Ca(e){Qn===null?Qn=[e]:Qn.push(e)}var Vc=E(null),Ni=null,An=null;function Zn(e,s,r){Y(Vc,s._currentValue),s._currentValue=r}function On(e){e._currentValue=Vc.current,L(Vc)}function Ic(e,s,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===r)break;e=e.return}}function Gc(e,s,r,c){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var y=d.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=d;for(var O=0;O<s.length;O++)if(w.context===s[O]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Ic(m.return,r,e),c||(y=null);break t}m=w.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(a(341));y.lanes|=r,m=y.alternate,m!==null&&(m.lanes|=r),Ic(y,r,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function Es(e,s,r,c){e=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var w=d.type;Ne(d.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(d===Et.current){if(y=d.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(er):e=[er])}d=d.return}e!==null&&Gc(s,e,r,c),s.flags|=262144}function co(e){for(e=e.firstContext;e!==null;){if(!Ne(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function zi(e){Ni=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return Bd(Ni,e)}function uo(e,s){return Ni===null&&zi(e),Bd(e,s)}function Bd(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},An===null){if(e===null)throw Error(a(308));An=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else An=An.next=s;return r}var a_=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},r_=i.unstable_scheduleCallback,o_=i.unstable_NormalPriority,Xt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new a_,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&r_(o_,function(){e.controller.abort()})}var Ra=null,Kc=0,As=0,Os=null;function l_(e,s){if(Ra===null){var r=Ra=[];Kc=0,As=Xu(),Os={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Kc++,s.then(Hd,Hd),s}function Hd(){if(--Kc===0&&Ra!==null){Os!==null&&(Os.status="fulfilled");var e=Ra;Ra=null,As=0,Os=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function c_(e,s){var r=[],c={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),c}var qd=B.S;B.S=function(e,s){Sm=Me(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&l_(e,s),qd!==null&&qd(e,s)};var Ui=E(null);function Fc(){var e=Ui.current;return e!==null?e:Ut.pooledCache}function ho(e,s){s===null?Y(Ui,Ui.current):Y(Ui,s.pool)}function Pd(){var e=Fc();return e===null?null:{parent:Xt._currentValue,pool:e}}var Cs=Error(a(460)),Wc=Error(a(474)),fo=Error(a(542)),go={then:function(){}};function $d(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vd(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(xn,xn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Gd(e),e;default:if(typeof s.status=="string")s.then(xn,xn);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Gd(e),e}throw Bi=s,Cs}}function Li(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Bi=r,Cs):r}}var Bi=null;function Id(){if(Bi===null)throw Error(a(459));var e=Bi;return Bi=null,e}function Gd(e){if(e===Cs||e===fo)throw Error(a(483))}var ks=null,Ma=0;function mo(e){var s=Ma;return Ma+=1,ks===null&&(ks=[]),Vd(ks,e,s)}function Da(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function po(e,s){throw s.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Yd(e){function s(M,k){if(e){var j=M.deletions;j===null?(M.deletions=[k],M.flags|=16):j.push(k)}}function r(M,k){if(!e)return null;for(;k!==null;)s(M,k),k=k.sibling;return null}function c(M){for(var k=new Map;M!==null;)M.key!==null?k.set(M.key,M):k.set(M.index,M),M=M.sibling;return k}function d(M,k){return M=Tn(M,k),M.index=0,M.sibling=null,M}function m(M,k,j){return M.index=j,e?(j=M.alternate,j!==null?(j=j.index,j<k?(M.flags|=67108866,k):j):(M.flags|=67108866,k)):(M.flags|=1048576,k)}function y(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,k,j,V){return k===null||k.tag!==6?(k=Lc(j,M.mode,V),k.return=M,k):(k=d(k,j),k.return=M,k)}function O(M,k,j,V){var at=j.type;return at===S?$(M,k,j.props.children,V,j.key):k!==null&&(k.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===F&&Li(at)===k.type)?(k=d(k,j.props),Da(k,j),k.return=M,k):(k=oo(j.type,j.key,j.props,null,M.mode,V),Da(k,j),k.return=M,k)}function N(M,k,j,V){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=Bc(j,M.mode,V),k.return=M,k):(k=d(k,j.children||[]),k.return=M,k)}function $(M,k,j,V,at){return k===null||k.tag!==7?(k=Di(j,M.mode,V,at),k.return=M,k):(k=d(k,j),k.return=M,k)}function G(M,k,j){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Lc(""+k,M.mode,j),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return j=oo(k.type,k.key,k.props,null,M.mode,j),Da(j,k),j.return=M,j;case x:return k=Bc(k,M.mode,j),k.return=M,k;case F:return k=Li(k),G(M,k,j)}if(ct(k)||rt(k))return k=Di(k,M.mode,j,null),k.return=M,k;if(typeof k.then=="function")return G(M,mo(k),j);if(k.$$typeof===D)return G(M,uo(M,k),j);po(M,k)}return null}function z(M,k,j,V){var at=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return at!==null?null:w(M,k,""+j,V);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return j.key===at?O(M,k,j,V):null;case x:return j.key===at?N(M,k,j,V):null;case F:return j=Li(j),z(M,k,j,V)}if(ct(j)||rt(j))return at!==null?null:$(M,k,j,V,null);if(typeof j.then=="function")return z(M,k,mo(j),V);if(j.$$typeof===D)return z(M,k,uo(M,j),V);po(M,j)}return null}function H(M,k,j,V,at){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(j)||null,w(k,M,""+V,at);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return M=M.get(V.key===null?j:V.key)||null,O(k,M,V,at);case x:return M=M.get(V.key===null?j:V.key)||null,N(k,M,V,at);case F:return V=Li(V),H(M,k,j,V,at)}if(ct(V)||rt(V))return M=M.get(j)||null,$(k,M,V,at,null);if(typeof V.then=="function")return H(M,k,j,mo(V),at);if(V.$$typeof===D)return H(M,k,j,uo(k,V),at);po(k,V)}return null}function Z(M,k,j,V){for(var at=null,At=null,et=k,yt=k=0,wt=null;et!==null&&yt<j.length;yt++){et.index>yt?(wt=et,et=null):wt=et.sibling;var Ot=z(M,et,j[yt],V);if(Ot===null){et===null&&(et=wt);break}e&&et&&Ot.alternate===null&&s(M,et),k=m(Ot,k,yt),At===null?at=Ot:At.sibling=Ot,At=Ot,et=wt}if(yt===j.length)return r(M,et),xt&&En(M,yt),at;if(et===null){for(;yt<j.length;yt++)et=G(M,j[yt],V),et!==null&&(k=m(et,k,yt),At===null?at=et:At.sibling=et,At=et);return xt&&En(M,yt),at}for(et=c(et);yt<j.length;yt++)wt=H(et,M,yt,j[yt],V),wt!==null&&(e&&wt.alternate!==null&&et.delete(wt.key===null?yt:wt.key),k=m(wt,k,yt),At===null?at=wt:At.sibling=wt,At=wt);return e&&et.forEach(function(yi){return s(M,yi)}),xt&&En(M,yt),at}function ut(M,k,j,V){if(j==null)throw Error(a(151));for(var at=null,At=null,et=k,yt=k=0,wt=null,Ot=j.next();et!==null&&!Ot.done;yt++,Ot=j.next()){et.index>yt?(wt=et,et=null):wt=et.sibling;var yi=z(M,et,Ot.value,V);if(yi===null){et===null&&(et=wt);break}e&&et&&yi.alternate===null&&s(M,et),k=m(yi,k,yt),At===null?at=yi:At.sibling=yi,At=yi,et=wt}if(Ot.done)return r(M,et),xt&&En(M,yt),at;if(et===null){for(;!Ot.done;yt++,Ot=j.next())Ot=G(M,Ot.value,V),Ot!==null&&(k=m(Ot,k,yt),At===null?at=Ot:At.sibling=Ot,At=Ot);return xt&&En(M,yt),at}for(et=c(et);!Ot.done;yt++,Ot=j.next())Ot=H(et,M,yt,Ot.value,V),Ot!==null&&(e&&Ot.alternate!==null&&et.delete(Ot.key===null?yt:Ot.key),k=m(Ot,k,yt),At===null?at=Ot:At.sibling=Ot,At=Ot);return e&&et.forEach(function(_w){return s(M,_w)}),xt&&En(M,yt),at}function zt(M,k,j,V){if(typeof j=="object"&&j!==null&&j.type===S&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case _:t:{for(var at=j.key;k!==null;){if(k.key===at){if(at=j.type,at===S){if(k.tag===7){r(M,k.sibling),V=d(k,j.props.children),V.return=M,M=V;break t}}else if(k.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===F&&Li(at)===k.type){r(M,k.sibling),V=d(k,j.props),Da(V,j),V.return=M,M=V;break t}r(M,k);break}else s(M,k);k=k.sibling}j.type===S?(V=Di(j.props.children,M.mode,V,j.key),V.return=M,M=V):(V=oo(j.type,j.key,j.props,null,M.mode,V),Da(V,j),V.return=M,M=V)}return y(M);case x:t:{for(at=j.key;k!==null;){if(k.key===at)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(M,k.sibling),V=d(k,j.children||[]),V.return=M,M=V;break t}else{r(M,k);break}else s(M,k);k=k.sibling}V=Bc(j,M.mode,V),V.return=M,M=V}return y(M);case F:return j=Li(j),zt(M,k,j,V)}if(ct(j))return Z(M,k,j,V);if(rt(j)){if(at=rt(j),typeof at!="function")throw Error(a(150));return j=at.call(j),ut(M,k,j,V)}if(typeof j.then=="function")return zt(M,k,mo(j),V);if(j.$$typeof===D)return zt(M,k,uo(M,j),V);po(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,k!==null&&k.tag===6?(r(M,k.sibling),V=d(k,j),V.return=M,M=V):(r(M,k),V=Lc(j,M.mode,V),V.return=M,M=V),y(M)):r(M,k)}return function(M,k,j,V){try{Ma=0;var at=zt(M,k,j,V);return ks=null,at}catch(et){if(et===Cs||et===fo)throw et;var At=ze(29,et,null,M.mode);return At.lanes=V,At.return=M,At}}}var Hi=Yd(!0),Kd=Yd(!1),ti=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,s,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ct&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=ro(e),Rd(e,null,r),s}return ao(e,c,s,r),ro(e)}function ja(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,Bf(e,r)}}function Jc(e,s){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=y:m=m.next=y,r=r.next}while(r!==null);m===null?d=m=s:m=m.next=s}else d=m=s;r={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var Zc=!1;function Na(){if(Zc){var e=Os;if(e!==null)throw e}}function za(e,s,r,c){Zc=!1;var d=e.updateQueue;ti=!1;var m=d.firstBaseUpdate,y=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,N=O.next;O.next=null,y===null?m=N:y.next=N,y=O;var $=e.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==y&&(w===null?$.firstBaseUpdate=N:w.next=N,$.lastBaseUpdate=O))}if(m!==null){var G=d.baseState;y=0,$=N=O=null,w=m;do{var z=w.lane&-536870913,H=z!==w.lane;if(H?(_t&z)===z:(c&z)===z){z!==0&&z===As&&(Zc=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Z=e,ut=w;z=s;var zt=r;switch(ut.tag){case 1:if(Z=ut.payload,typeof Z=="function"){G=Z.call(zt,G,z);break t}G=Z;break t;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ut.payload,z=typeof Z=="function"?Z.call(zt,G,z):Z,z==null)break t;G=b({},G,z);break t;case 2:ti=!0}}z=w.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[z]:H.push(z))}else H={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(N=$=H,O=G):$=$.next=H,y|=z;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;H=w,w=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);$===null&&(O=G),d.baseState=O,d.firstBaseUpdate=N,d.lastBaseUpdate=$,m===null&&(d.shared.lanes=0),oi|=y,e.lanes=y,e.memoizedState=G}}function Fd(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function Wd(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Fd(r[e],s)}var Rs=E(null),yo=E(0);function Xd(e,s){e=Un,Y(yo,e),Y(Rs,s),Un=e|s.baseLanes}function tu(){Y(yo,Un),Y(Rs,Rs.current)}function eu(){Un=yo.current,L(Rs),L(yo)}var Ue=E(null),Xe=null;function ii(e){var s=e.alternate;Y(Kt,Kt.current&1),Y(Ue,e),Xe===null&&(s===null||Rs.current!==null||s.memoizedState!==null)&&(Xe=e)}function nu(e){Y(Kt,Kt.current),Y(Ue,e),Xe===null&&(Xe=e)}function Qd(e){e.tag===22?(Y(Kt,Kt.current),Y(Ue,e),Xe===null&&(Xe=e)):si()}function si(){Y(Kt,Kt.current),Y(Ue,Ue.current)}function Le(e){L(Ue),Xe===e&&(Xe=null),L(Kt)}var Kt=E(0);function bo(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||lh(r)||ch(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cn=0,pt=null,jt=null,Qt=null,vo=!1,Ms=!1,qi=!1,_o=0,Ua=0,Ds=null,u_=0;function Vt(){throw Error(a(321))}function iu(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Ne(e[r],s[r]))return!1;return!0}function su(e,s,r,c,d,m){return Cn=m,pt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=e===null||e.memoizedState===null?Ng:vu,qi=!1,m=r(c,d),qi=!1,Ms&&(m=Zd(s,r,c,d)),Jd(e),m}function Jd(e){B.H=Ha;var s=jt!==null&&jt.next!==null;if(Cn=0,Qt=jt=pt=null,vo=!1,Ua=0,Ds=null,s)throw Error(a(300));e===null||Jt||(e=e.dependencies,e!==null&&co(e)&&(Jt=!0))}function Zd(e,s,r,c){pt=e;var d=0;do{if(Ms&&(Ds=null),Ua=0,Ms=!1,25<=d)throw Error(a(301));if(d+=1,Qt=jt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}B.H=zg,m=s(r,c)}while(Ms);return m}function h_(){var e=B.H,s=e.useState()[0];return s=typeof s.then=="function"?La(s):s,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(pt.flags|=1024),s}function au(){var e=_o!==0;return _o=0,e}function ru(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function ou(e){if(vo){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}vo=!1}Cn=0,Qt=jt=pt=null,Ms=!1,Ua=_o=0,Ds=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?pt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Ft(){if(jt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var s=Qt===null?pt.memoizedState:Qt.next;if(s!==null)Qt=s,jt=e;else{if(e===null)throw pt.alternate===null?Error(a(467)):Error(a(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Qt===null?pt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(e){var s=Ua;return Ua+=1,Ds===null&&(Ds=[]),e=Vd(Ds,e,s),s=pt,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?Ng:vu),e}function xo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return La(e);if(e.$$typeof===D)return ue(e)}throw Error(a(438,String(e)))}function lu(e){var s=null,r=pt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=pt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=wo(),pt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),c=0;c<e;c++)r[c]=dt;return s.index++,r}function kn(e,s){return typeof s=="function"?s(e):s}function So(e){var s=Ft();return cu(s,jt,e)}function cu(e,s,r){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var d=e.baseQueue,m=c.pending;if(m!==null){if(d!==null){var y=d.next;d.next=m.next,m.next=y}s.baseQueue=d=m,c.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{s=d.next;var w=y=null,O=null,N=s,$=!1;do{var G=N.lane&-536870913;if(G!==N.lane?(_t&G)===G:(Cn&G)===G){var z=N.revertLane;if(z===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),G===As&&($=!0);else if((Cn&z)===z){N=N.next,z===As&&($=!0);continue}else G={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},O===null?(w=O=G,y=m):O=O.next=G,pt.lanes|=z,oi|=z;G=N.action,qi&&r(m,G),m=N.hasEagerState?N.eagerState:r(m,G)}else z={lane:G,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},O===null?(w=O=z,y=m):O=O.next=z,pt.lanes|=G,oi|=G;N=N.next}while(N!==null&&N!==s);if(O===null?y=m:O.next=w,!Ne(m,e.memoizedState)&&(Jt=!0,$&&(r=Os,r!==null)))throw r;e.memoizedState=m,e.baseState=y,e.baseQueue=O,c.lastRenderedState=m}return d===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function uu(e){var s=Ft(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var c=r.dispatch,d=r.pending,m=s.memoizedState;if(d!==null){r.pending=null;var y=d=d.next;do m=e(m,y.action),y=y.next;while(y!==d);Ne(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,c]}function tg(e,s,r){var c=pt,d=Ft(),m=xt;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=s();var y=!Ne((jt||d).memoizedState,r);if(y&&(d.memoizedState=r,Jt=!0),d=d.queue,du(ig.bind(null,c,d,e),[e]),d.getSnapshot!==s||y||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,js(9,{destroy:void 0},ng.bind(null,c,d,r,s),null),Ut===null)throw Error(a(349));m||(Cn&127)!==0||eg(c,s,r)}return r}function eg(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=pt.updateQueue,s===null?(s=wo(),pt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function ng(e,s,r,c){s.value=r,s.getSnapshot=c,sg(s)&&ag(e)}function ig(e,s,r){return r(function(){sg(s)&&ag(e)})}function sg(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Ne(e,r)}catch{return!0}}function ag(e){var s=Mi(e,2);s!==null&&Ce(s,e,2)}function hu(e){var s=we();if(typeof e=="function"){var r=e;if(e=r(),qi){Kn(!0);try{r()}finally{Kn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},s}function rg(e,s,r,c){return e.baseState=r,cu(e,jt,typeof c=="function"?c:kn)}function f_(e,s,r,c,d){if(Ao(e))throw Error(a(485));if(e=s.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){m.listeners.push(y)}};B.T!==null?r(!0):m.isTransition=!1,c(m),r=s.pending,r===null?(m.next=s.pending=m,og(s,m)):(m.next=r.next,s.pending=r.next=m)}}function og(e,s){var r=s.action,c=s.payload,d=e.state;if(s.isTransition){var m=B.T,y={};B.T=y;try{var w=r(d,c),O=B.S;O!==null&&O(y,w),lg(e,s,w)}catch(N){fu(e,s,N)}finally{m!==null&&y.types!==null&&(m.types=y.types),B.T=m}}else try{m=r(d,c),lg(e,s,m)}catch(N){fu(e,s,N)}}function lg(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){cg(e,s,c)},function(c){return fu(e,s,c)}):cg(e,s,r)}function cg(e,s,r){s.status="fulfilled",s.value=r,ug(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,og(e,r)))}function fu(e,s,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,ug(s),s=s.next;while(s!==c)}e.action=null}function ug(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function hg(e,s){return s}function fg(e,s){if(xt){var r=Ut.formState;if(r!==null){t:{var c=pt;if(xt){if(Ht){e:{for(var d=Ht,m=We;d.nodeType!==8;){if(!m){d=null;break e}if(d=Qe(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ht=Qe(d.nextSibling),c=d.data==="F!";break t}}Jn(c)}c=!1}c&&(s=r[0])}}return r=we(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:s},r.queue=c,r=Mg.bind(null,pt,c),c.dispatch=r,c=hu(!1),m=bu.bind(null,pt,!1,c.queue),c=we(),d={state:s,dispatch:null,action:e,pending:null},c.queue=d,r=f_.bind(null,pt,d,m,r),d.dispatch=r,c.memoizedState=e,[s,r,!1]}function dg(e){var s=Ft();return gg(s,jt,e)}function gg(e,s,r){if(s=cu(e,s,hg)[0],e=So(kn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=La(s)}catch(y){throw y===Cs?fo:y}else c=s;s=Ft();var d=s.queue,m=d.dispatch;return r!==s.memoizedState&&(pt.flags|=2048,js(9,{destroy:void 0},d_.bind(null,d,r),null)),[c,m,e]}function d_(e,s){e.action=s}function mg(e){var s=Ft(),r=jt;if(r!==null)return gg(s,r,e);Ft(),s=s.memoizedState,r=Ft();var c=r.queue.dispatch;return r.memoizedState=e,[s,c,!1]}function js(e,s,r,c){return e={tag:e,create:r,deps:c,inst:s,next:null},s=pt.updateQueue,s===null&&(s=wo(),pt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,s.lastEffect=e),e}function pg(){return Ft().memoizedState}function To(e,s,r,c){var d=we();pt.flags|=e,d.memoizedState=js(1|s,{destroy:void 0},r,c===void 0?null:c)}function Eo(e,s,r,c){var d=Ft();c=c===void 0?null:c;var m=d.memoizedState.inst;jt!==null&&c!==null&&iu(c,jt.memoizedState.deps)?d.memoizedState=js(s,m,r,c):(pt.flags|=e,d.memoizedState=js(1|s,m,r,c))}function yg(e,s){To(8390656,8,e,s)}function du(e,s){Eo(2048,8,e,s)}function g_(e){pt.flags|=4;var s=pt.updateQueue;if(s===null)s=wo(),pt.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function bg(e){var s=Ft().memoizedState;return g_({ref:s,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function vg(e,s){return Eo(4,2,e,s)}function _g(e,s){return Eo(4,4,e,s)}function wg(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function xg(e,s,r){r=r!=null?r.concat([e]):null,Eo(4,4,wg.bind(null,s,e),r)}function gu(){}function Sg(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&iu(s,c[1])?c[0]:(r.memoizedState=[e,s],e)}function Tg(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&iu(s,c[1]))return c[0];if(c=e(),qi){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[c,s],c}function mu(e,s,r){return r===void 0||(Cn&1073741824)!==0&&(_t&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=Em(),pt.lanes|=e,oi|=e,r)}function Eg(e,s,r,c){return Ne(r,s)?r:Rs.current!==null?(e=mu(e,r,c),Ne(e,s)||(Jt=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(_t&261930)===0?(Jt=!0,e.memoizedState=r):(e=Em(),pt.lanes|=e,oi|=e,s)}function Ag(e,s,r,c,d){var m=X.p;X.p=m!==0&&8>m?m:8;var y=B.T,w={};B.T=w,bu(e,!1,s,r);try{var O=d(),N=B.S;if(N!==null&&N(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var $=c_(O,c);Ba(e,s,$,qe(e))}else Ba(e,s,c,qe(e))}catch(G){Ba(e,s,{then:function(){},status:"rejected",reason:G},qe())}finally{X.p=m,y!==null&&w.types!==null&&(y.types=w.types),B.T=y}}function m_(){}function pu(e,s,r,c){if(e.tag!==5)throw Error(a(476));var d=Og(e).queue;Ag(e,d,s,W,r===null?m_:function(){return Cg(e),r(c)})}function Og(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:W},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Cg(e){var s=Og(e);s.next===null&&(s=e.alternate.memoizedState),Ba(e,s.next.queue,{},qe())}function yu(){return ue(er)}function kg(){return Ft().memoizedState}function Rg(){return Ft().memoizedState}function p_(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=qe();e=ei(r);var c=ni(s,e,r);c!==null&&(Ce(c,s,r),ja(c,s,r)),s={cache:Yc()},e.payload=s;return}s=s.return}}function y_(e,s,r){var c=qe();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ao(e)?Dg(s,r):(r=zc(e,s,r,c),r!==null&&(Ce(r,e,c),jg(r,s,c)))}function Mg(e,s,r){var c=qe();Ba(e,s,r,c)}function Ba(e,s,r,c){var d={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ao(e))Dg(s,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var y=s.lastRenderedState,w=m(y,r);if(d.hasEagerState=!0,d.eagerState=w,Ne(w,y))return ao(e,s,d,0),Ut===null&&so(),!1}catch{}if(r=zc(e,s,d,c),r!==null)return Ce(r,e,c),jg(r,s,c),!0}return!1}function bu(e,s,r,c){if(c={lane:2,revertLane:Xu(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ao(e)){if(s)throw Error(a(479))}else s=zc(e,r,c,2),s!==null&&Ce(s,e,2)}function Ao(e){var s=e.alternate;return e===pt||s!==null&&s===pt}function Dg(e,s){Ms=vo=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function jg(e,s,r){if((r&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,Bf(e,r)}}var Ha={readContext:ue,use:xo,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};Ha.useEffectEvent=Vt;var Ng={readContext:ue,use:xo,useCallback:function(e,s){return we().memoizedState=[e,s===void 0?null:s],e},useContext:ue,useEffect:yg,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,To(4194308,4,wg.bind(null,s,e),r)},useLayoutEffect:function(e,s){return To(4194308,4,e,s)},useInsertionEffect:function(e,s){To(4,2,e,s)},useMemo:function(e,s){var r=we();s=s===void 0?null:s;var c=e();if(qi){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[c,s],c},useReducer:function(e,s,r){var c=we();if(r!==void 0){var d=r(s);if(qi){Kn(!0);try{r(s)}finally{Kn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},c.queue=e,e=e.dispatch=y_.bind(null,pt,e),[c.memoizedState,e]},useRef:function(e){var s=we();return e={current:e},s.memoizedState=e},useState:function(e){e=hu(e);var s=e.queue,r=Mg.bind(null,pt,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:gu,useDeferredValue:function(e,s){var r=we();return mu(r,e,s)},useTransition:function(){var e=hu(!1);return e=Ag.bind(null,pt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var c=pt,d=we();if(xt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),Ut===null)throw Error(a(349));(_t&127)!==0||eg(c,s,r)}d.memoizedState=r;var m={value:r,getSnapshot:s};return d.queue=m,yg(ig.bind(null,c,m,e),[e]),c.flags|=2048,js(9,{destroy:void 0},ng.bind(null,c,m,r,s),null),r},useId:function(){var e=we(),s=Ut.identifierPrefix;if(xt){var r=gn,c=dn;r=(c&~(1<<32-je(c)-1)).toString(32)+r,s="_"+s+"R_"+r,r=_o++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=u_++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:yu,useFormState:fg,useActionState:fg,useOptimistic:function(e){var s=we();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=bu.bind(null,pt,!0,r),r.dispatch=s,[e,s]},useMemoCache:lu,useCacheRefresh:function(){return we().memoizedState=p_.bind(null,pt)},useEffectEvent:function(e){var s=we(),r={impl:e};return s.memoizedState=r,function(){if((Ct&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vu={readContext:ue,use:xo,useCallback:Sg,useContext:ue,useEffect:du,useImperativeHandle:xg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Tg,useReducer:So,useRef:pg,useState:function(){return So(kn)},useDebugValue:gu,useDeferredValue:function(e,s){var r=Ft();return Eg(r,jt.memoizedState,e,s)},useTransition:function(){var e=So(kn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:La(e),s]},useSyncExternalStore:tg,useId:kg,useHostTransitionStatus:yu,useFormState:dg,useActionState:dg,useOptimistic:function(e,s){var r=Ft();return rg(r,jt,e,s)},useMemoCache:lu,useCacheRefresh:Rg};vu.useEffectEvent=bg;var zg={readContext:ue,use:xo,useCallback:Sg,useContext:ue,useEffect:du,useImperativeHandle:xg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Tg,useReducer:uu,useRef:pg,useState:function(){return uu(kn)},useDebugValue:gu,useDeferredValue:function(e,s){var r=Ft();return jt===null?mu(r,e,s):Eg(r,jt.memoizedState,e,s)},useTransition:function(){var e=uu(kn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:La(e),s]},useSyncExternalStore:tg,useId:kg,useHostTransitionStatus:yu,useFormState:mg,useActionState:mg,useOptimistic:function(e,s){var r=Ft();return jt!==null?rg(r,jt,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Rg};zg.useEffectEvent=bg;function _u(e,s,r,c){s=e.memoizedState,r=r(c,s),r=r==null?s:b({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wu={enqueueSetState:function(e,s,r){e=e._reactInternals;var c=qe(),d=ei(c);d.payload=s,r!=null&&(d.callback=r),s=ni(e,d,c),s!==null&&(Ce(s,e,c),ja(s,e,c))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var c=qe(),d=ei(c);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ni(e,d,c),s!==null&&(Ce(s,e,c),ja(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=qe(),c=ei(r);c.tag=2,s!=null&&(c.callback=s),s=ni(e,c,r),s!==null&&(Ce(s,e,r),ja(s,e,r))}};function Ug(e,s,r,c,d,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,y):s.prototype&&s.prototype.isPureReactComponent?!Ea(r,c)||!Ea(d,m):!0}function Lg(e,s,r,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==e&&wu.enqueueReplaceState(s,s.state,null)}function Pi(e,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(e=e.defaultProps){r===s&&(r=b({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Bg(e){io(e)}function Hg(e){console.error(e)}function qg(e){io(e)}function Oo(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Pg(e,s,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xu(e,s,r){return r=ei(r),r.tag=3,r.payload={element:null},r.callback=function(){Oo(e,s)},r}function $g(e){return e=ei(e),e.tag=3,e}function Vg(e,s,r,c){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;e.payload=function(){return d(m)},e.callback=function(){Pg(s,r,c)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Pg(s,r,c),typeof d!="function"&&(li===null?li=new Set([this]):li.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function b_(e,s,r,c,d){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&Es(s,r,d,!0),r=Ue.current,r!==null){switch(r.tag){case 31:case 13:return Xe===null?Ho():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=d,c===go?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),Ku(e,c,d)),!1;case 22:return r.flags|=65536,c===go?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),Ku(e,c,d)),!1}throw Error(a(435,r.tag))}return Ku(e,c,d),Ho(),!1}if(xt)return s=Ue.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Pc&&(e=Error(a(422),{cause:c}),Ca(Ye(e,r)))):(c!==Pc&&(s=Error(a(423),{cause:c}),Ca(Ye(s,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,c=Ye(c,r),d=xu(e.stateNode,c,d),Jc(e,d),It!==4&&(It=2)),!1;var m=Error(a(520),{cause:c});if(m=Ye(m,r),Ka===null?Ka=[m]:Ka.push(m),It!==4&&(It=2),s===null)return!0;c=Ye(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=xu(r.stateNode,c,e),Jc(r,e),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(li===null||!li.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=$g(d),Vg(d,e,r,c),Jc(r,d),!1}r=r.return}while(r!==null);return!1}var Su=Error(a(461)),Jt=!1;function he(e,s,r,c){s.child=e===null?Kd(s,null,r,c):Hi(s,e.child,r,c)}function Ig(e,s,r,c,d){r=r.render;var m=s.ref;if("ref"in c){var y={};for(var w in c)w!=="ref"&&(y[w]=c[w])}else y=c;return zi(s),c=su(e,s,r,y,m,d),w=au(),e!==null&&!Jt?(ru(e,s,d),Rn(e,s,d)):(xt&&w&&Hc(s),s.flags|=1,he(e,s,c,d),s.child)}function Gg(e,s,r,c,d){if(e===null){var m=r.type;return typeof m=="function"&&!Uc(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,Yg(e,s,m,c,d)):(e=oo(r.type,null,c,s,s.mode,d),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Mu(e,d)){var y=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ea,r(y,c)&&e.ref===s.ref)return Rn(e,s,d)}return s.flags|=1,e=Tn(m,c),e.ref=s.ref,e.return=s,s.child=e}function Yg(e,s,r,c,d){if(e!==null){var m=e.memoizedProps;if(Ea(m,c)&&e.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,Mu(e,d))(e.flags&131072)!==0&&(Jt=!0);else return s.lanes=e.lanes,Rn(e,s,d)}return Tu(e,s,r,c,d)}function Kg(e,s,r,c){var d=c.children,m=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,e!==null){for(c=s.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~m}else c=0,s.child=null;return Fg(e,s,m,r,c)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ho(s,m!==null?m.cachePool:null),m!==null?Xd(s,m):tu(),Qd(s);else return c=s.lanes=536870912,Fg(e,s,m!==null?m.baseLanes|r:r,r,c)}else m!==null?(ho(s,m.cachePool),Xd(s,m),si(),s.memoizedState=null):(e!==null&&ho(s,null),tu(),si());return he(e,s,d,r),s.child}function qa(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Fg(e,s,r,c,d){var m=Fc();return m=m===null?null:{parent:Xt._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},e!==null&&ho(s,null),tu(),Qd(s),e!==null&&Es(e,s,c,!0),s.childLanes=d,null}function Co(e,s){return s=Ro({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Wg(e,s,r){return Hi(s,e.child,null,r),e=Co(s,s.pendingProps),e.flags|=2,Le(s),s.memoizedState=null,e}function v_(e,s,r){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(xt){if(c.mode==="hidden")return e=Co(s,c),s.lanes=536870912,qa(null,e);if(nu(s),(e=Ht)?(e=op(e,We),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:dn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=Dd(e),r.return=s,s.child=r,ce=s,Ht=null)):e=null,e===null)throw Jn(s);return s.lanes=536870912,null}return Co(s,c)}var m=e.memoizedState;if(m!==null){var y=m.dehydrated;if(nu(s),d)if(s.flags&256)s.flags&=-257,s=Wg(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(a(558));else if(Jt||Es(e,s,r,!1),d=(r&e.childLanes)!==0,Jt||d){if(c=Ut,c!==null&&(y=Hf(c,r),y!==0&&y!==m.retryLane))throw m.retryLane=y,Mi(e,y),Ce(c,e,y),Su;Ho(),s=Wg(e,s,r)}else e=m.treeContext,Ht=Qe(y.nextSibling),ce=s,xt=!0,Qn=null,We=!1,e!==null&&zd(s,e),s=Co(s,c),s.flags|=4096;return s}return e=Tn(e.child,{mode:c.mode,children:c.children}),e.ref=s.ref,s.child=e,e.return=s,e}function ko(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function Tu(e,s,r,c,d){return zi(s),r=su(e,s,r,c,void 0,d),c=au(),e!==null&&!Jt?(ru(e,s,d),Rn(e,s,d)):(xt&&c&&Hc(s),s.flags|=1,he(e,s,r,d),s.child)}function Xg(e,s,r,c,d,m){return zi(s),s.updateQueue=null,r=Zd(s,c,r,d),Jd(e),c=au(),e!==null&&!Jt?(ru(e,s,m),Rn(e,s,m)):(xt&&c&&Hc(s),s.flags|=1,he(e,s,r,m),s.child)}function Qg(e,s,r,c,d){if(zi(s),s.stateNode===null){var m=ws,y=r.contextType;typeof y=="object"&&y!==null&&(m=ue(y)),m=new r(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Xc(s),y=r.contextType,m.context=typeof y=="object"&&y!==null?ue(y):ws,m.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_u(s,r,y,c),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(y=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),y!==m.state&&wu.enqueueReplaceState(m,m.state,null),za(s,c,m,d),Na(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){m=s.stateNode;var w=s.memoizedProps,O=Pi(r,w);m.props=O;var N=m.context,$=r.contextType;y=ws,typeof $=="object"&&$!==null&&(y=ue($));var G=r.getDerivedStateFromProps;$=typeof G=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,$||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||N!==y)&&Lg(s,m,c,y),ti=!1;var z=s.memoizedState;m.state=z,za(s,c,m,d),Na(),N=s.memoizedState,w||z!==N||ti?(typeof G=="function"&&(_u(s,r,G,c),N=s.memoizedState),(O=ti||Ug(s,r,O,c,z,N,y))?($||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),m.props=c,m.state=N,m.context=y,c=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Qc(e,s),y=s.memoizedProps,$=Pi(r,y),m.props=$,G=s.pendingProps,z=m.context,N=r.contextType,O=ws,typeof N=="object"&&N!==null&&(O=ue(N)),w=r.getDerivedStateFromProps,(N=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(y!==G||z!==O)&&Lg(s,m,c,O),ti=!1,z=s.memoizedState,m.state=z,za(s,c,m,d),Na();var H=s.memoizedState;y!==G||z!==H||ti||e!==null&&e.dependencies!==null&&co(e.dependencies)?(typeof w=="function"&&(_u(s,r,w,c),H=s.memoizedState),($=ti||Ug(s,r,$,c,z,H,O)||e!==null&&e.dependencies!==null&&co(e.dependencies))?(N||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,H,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,H,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=H),m.props=c,m.state=H,m.context=O,c=$):(typeof m.componentDidUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),c=!1)}return m=c,ko(e,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&c?(s.child=Hi(s,e.child,null,d),s.child=Hi(s,null,r,d)):he(e,s,r,d),s.memoizedState=m.state,e=s.child):e=Rn(e,s,d),e}function Jg(e,s,r,c){return ji(),s.flags|=256,he(e,s,r,c),s.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:Pd()}}function Ou(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=He),e}function Zg(e,s,r){var c=s.pendingProps,d=!1,m=(s.flags&128)!==0,y;if((y=m)||(y=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),y&&(d=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,e===null){if(xt){if(d?ii(s):si(),(e=Ht)?(e=op(e,We),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:dn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=Dd(e),r.return=s,s.child=r,ce=s,Ht=null)):e=null,e===null)throw Jn(s);return ch(e)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(si(),d=s.mode,w=Ro({mode:"hidden",children:w},d),c=Di(c,d,r,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Au(r),c.childLanes=Ou(e,y,r),s.memoizedState=Eu,qa(null,c)):(ii(s),Cu(s,w))}var O=e.memoizedState;if(O!==null&&(w=O.dehydrated,w!==null)){if(m)s.flags&256?(ii(s),s.flags&=-257,s=ku(e,s,r)):s.memoizedState!==null?(si(),s.child=e.child,s.flags|=128,s=null):(si(),w=c.fallback,d=s.mode,c=Ro({mode:"visible",children:c.children},d),w=Di(w,d,r,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Hi(s,e.child,null,r),c=s.child,c.memoizedState=Au(r),c.childLanes=Ou(e,y,r),s.memoizedState=Eu,s=qa(null,c));else if(ii(s),ch(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var N=y.dgst;y=N,c=Error(a(419)),c.stack="",c.digest=y,Ca({value:c,source:null,stack:null}),s=ku(e,s,r)}else if(Jt||Es(e,s,r,!1),y=(r&e.childLanes)!==0,Jt||y){if(y=Ut,y!==null&&(c=Hf(y,r),c!==0&&c!==O.retryLane))throw O.retryLane=c,Mi(e,c),Ce(y,e,c),Su;lh(w)||Ho(),s=ku(e,s,r)}else lh(w)?(s.flags|=192,s.child=e.child,s=null):(e=O.treeContext,Ht=Qe(w.nextSibling),ce=s,xt=!0,Qn=null,We=!1,e!==null&&zd(s,e),s=Cu(s,c.children),s.flags|=4096);return s}return d?(si(),w=c.fallback,d=s.mode,O=e.child,N=O.sibling,c=Tn(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,N!==null?w=Tn(N,w):(w=Di(w,d,r,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,qa(null,c),c=s.child,w=e.child.memoizedState,w===null?w=Au(r):(d=w.cachePool,d!==null?(O=Xt._currentValue,d=d.parent!==O?{parent:O,pool:O}:d):d=Pd(),w={baseLanes:w.baseLanes|r,cachePool:d}),c.memoizedState=w,c.childLanes=Ou(e,y,r),s.memoizedState=Eu,qa(e.child,c)):(ii(s),r=e.child,e=r.sibling,r=Tn(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,e!==null&&(y=s.deletions,y===null?(s.deletions=[e],s.flags|=16):y.push(e)),s.child=r,s.memoizedState=null,r)}function Cu(e,s){return s=Ro({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ro(e,s){return e=ze(22,e,null,s),e.lanes=0,e}function ku(e,s,r){return Hi(s,e.child,null,r),e=Cu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function tm(e,s,r){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Ic(e.return,s,r)}function Ru(e,s,r,c,d,m){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:d,treeForkCount:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=r,y.tailMode=d,y.treeForkCount=m)}function em(e,s,r){var c=s.pendingProps,d=c.revealOrder,m=c.tail;c=c.children;var y=Kt.current,w=(y&2)!==0;if(w?(y=y&1|2,s.flags|=128):y&=1,Y(Kt,y),he(e,s,c,r),c=xt?Oa:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tm(e,r,s);else if(e.tag===19)tm(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)e=r.alternate,e!==null&&bo(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Ru(s,!1,d,r,m,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(e=d.alternate,e!==null&&bo(e)===null){s.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Ru(s,!0,r,null,m,c);break;case"together":Ru(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Rn(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),oi|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(Es(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,r=Tn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function Mu(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&co(e)))}function __(e,s,r){switch(s.tag){case 3:_e(s,s.stateNode.containerInfo),Zn(s,Xt,e.memoizedState.cache),ji();break;case 27:case 5:fa(s);break;case 4:_e(s,s.stateNode.containerInfo);break;case 10:Zn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nu(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ii(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Zg(e,s,r):(ii(s),e=Rn(e,s,r),e!==null?e.sibling:null);ii(s);break;case 19:var d=(e.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(Es(e,s,r,!1),c=(r&s.childLanes)!==0),d){if(c)return em(e,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Y(Kt,Kt.current),c)break;return null;case 22:return s.lanes=0,Kg(e,s,r,s.pendingProps);case 24:Zn(s,Xt,e.memoizedState.cache)}return Rn(e,s,r)}function nm(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Mu(e,r)&&(s.flags&128)===0)return Jt=!1,__(e,s,r);Jt=(e.flags&131072)!==0}else Jt=!1,xt&&(s.flags&1048576)!==0&&Nd(s,Oa,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(e=Li(s.elementType),s.type=e,typeof e=="function")Uc(e)?(c=Pi(e,c),s.tag=1,s=Qg(null,s,e,c,r)):(s.tag=0,s=Tu(null,s,e,c,r));else{if(e!=null){var d=e.$$typeof;if(d===U){s.tag=11,s=Ig(null,s,e,c,r);break t}else if(d===P){s.tag=14,s=Gg(null,s,e,c,r);break t}}throw s=st(e)||e,Error(a(306,s,""))}}return s;case 0:return Tu(e,s,s.type,s.pendingProps,r);case 1:return c=s.type,d=Pi(c,s.pendingProps),Qg(e,s,c,d,r);case 3:t:{if(_e(s,s.stateNode.containerInfo),e===null)throw Error(a(387));c=s.pendingProps;var m=s.memoizedState;d=m.element,Qc(e,s),za(s,c,null,r);var y=s.memoizedState;if(c=y.cache,Zn(s,Xt,c),c!==m.cache&&Gc(s,[Xt],r,!0),Na(),c=y.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Jg(e,s,c,r);break t}else if(c!==d){d=Ye(Error(a(424)),s),Ca(d),s=Jg(e,s,c,r);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ht=Qe(e.firstChild),ce=s,xt=!0,Qn=null,We=!0,r=Kd(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ji(),c===d){s=Rn(e,s,r);break t}he(e,s,c,r)}s=s.child}return s;case 26:return ko(e,s),e===null?(r=dp(s.type,null,s.pendingProps,null))?s.memoizedState=r:xt||(r=s.type,e=s.pendingProps,c=Yo(gt.current).createElement(r),c[le]=s,c[xe]=e,fe(c,r,e),ae(c),s.stateNode=c):s.memoizedState=dp(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return fa(s),e===null&&xt&&(c=s.stateNode=up(s.type,s.pendingProps,gt.current),ce=s,We=!0,d=Ht,fi(s.type)?(uh=d,Ht=Qe(c.firstChild)):Ht=d),he(e,s,s.pendingProps.children,r),ko(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&xt&&((d=c=Ht)&&(c=X_(c,s.type,s.pendingProps,We),c!==null?(s.stateNode=c,ce=s,Ht=Qe(c.firstChild),We=!1,d=!0):d=!1),d||Jn(s)),fa(s),d=s.type,m=s.pendingProps,y=e!==null?e.memoizedProps:null,c=m.children,ah(d,m)?c=null:y!==null&&ah(d,y)&&(s.flags|=32),s.memoizedState!==null&&(d=su(e,s,h_,null,null,r),er._currentValue=d),ko(e,s),he(e,s,c,r),s.child;case 6:return e===null&&xt&&((e=r=Ht)&&(r=Q_(r,s.pendingProps,We),r!==null?(s.stateNode=r,ce=s,Ht=null,e=!0):e=!1),e||Jn(s)),null;case 13:return Zg(e,s,r);case 4:return _e(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=Hi(s,null,c,r):he(e,s,c,r),s.child;case 11:return Ig(e,s,s.type,s.pendingProps,r);case 7:return he(e,s,s.pendingProps,r),s.child;case 8:return he(e,s,s.pendingProps.children,r),s.child;case 12:return he(e,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Zn(s,s.type,c.value),he(e,s,c.children,r),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,zi(s),d=ue(d),c=c(d),s.flags|=1,he(e,s,c,r),s.child;case 14:return Gg(e,s,s.type,s.pendingProps,r);case 15:return Yg(e,s,s.type,s.pendingProps,r);case 19:return em(e,s,r);case 31:return v_(e,s,r);case 22:return Kg(e,s,r,s.pendingProps);case 24:return zi(s),c=ue(Xt),e===null?(d=Fc(),d===null&&(d=Ut,m=Yc(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),s.memoizedState={parent:c,cache:d},Xc(s),Zn(s,Xt,d)):((e.lanes&r)!==0&&(Qc(e,s),za(s,null,null,r),Na()),d=e.memoizedState,m=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Zn(s,Xt,c)):(c=m.cache,Zn(s,Xt,c),c!==d.cache&&Gc(s,[Xt],r,!0))),he(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Mn(e){e.flags|=4}function Du(e,s,r,c,d){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(km())e.flags|=8192;else throw Bi=go,Wc}else e.flags&=-16777217}function im(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!bp(s))if(km())e.flags|=8192;else throw Bi=go,Wc}function Mo(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Uf():536870912,e.lanes|=s,Ls|=s)}function Pa(e,s){if(!xt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function qt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(s)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=r,s}function w_(e,s,r){var c=s.pendingProps;switch(qc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return qt(s),null;case 3:return r=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),On(Xt),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(s)?Mn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$c())),qt(s),null;case 26:var d=s.type,m=s.memoizedState;return e===null?(Mn(s),m!==null?(qt(s),im(s,m)):(qt(s),Du(s,d,null,c,r))):m?m!==e.memoizedState?(Mn(s),qt(s),im(s,m)):(qt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==c&&Mn(s),qt(s),Du(s,d,e,c,r)),null;case 27:if(Pr(s),r=gt.current,d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}e=J.current,Ts(s)?Ud(s):(e=up(d,c,r),s.stateNode=e,Mn(s))}return qt(s),null;case 5:if(Pr(s),d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}if(m=J.current,Ts(s))Ud(s);else{var y=Yo(gt.current);switch(m){case 1:m=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=y.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?y.createElement(d,{is:c.is}):y.createElement(d)}}m[le]=s,m[xe]=c;t:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)m.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break t;for(;y.sibling===null;){if(y.return===null||y.return===s)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=m;t:switch(fe(m,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Mn(s)}}return qt(s),Du(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(e=gt.current,Ts(s)){if(e=s.stateNode,r=s.memoizedProps,c=null,d=ce,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}e[le]=s,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Zm(e.nodeValue,r)),e||Jn(s,!0)}else e=Yo(e).createTextNode(c),e[le]=s,s.stateNode=e}return qt(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(c=Ts(s),r!==null){if(e===null){if(!c)throw Error(a(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[le]=s}else ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),e=!1}else r=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Le(s),s):(Le(s),null);if((s.flags&128)!==0)throw Error(a(558))}return qt(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ts(s),c!==null&&c.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[le]=s}else ji(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),d=!1}else d=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Le(s),s):(Le(s),null)}return Le(s),(s.flags&128)!==0?(s.lanes=r,s):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),Mo(s,s.updateQueue),qt(s),null);case 4:return Yt(),e===null&&th(s.stateNode.containerInfo),qt(s),null;case 10:return On(s.type),qt(s),null;case 19:if(L(Kt),c=s.memoizedState,c===null)return qt(s),null;if(d=(s.flags&128)!==0,m=c.rendering,m===null)if(d)Pa(c,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=bo(e),m!==null){for(s.flags|=128,Pa(c,!1),e=m.updateQueue,s.updateQueue=e,Mo(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)Md(r,e),r=r.sibling;return Y(Kt,Kt.current&1|2),xt&&En(s,c.treeForkCount),s.child}e=e.sibling}c.tail!==null&&Me()>Uo&&(s.flags|=128,d=!0,Pa(c,!1),s.lanes=4194304)}else{if(!d)if(e=bo(m),e!==null){if(s.flags|=128,d=!0,e=e.updateQueue,s.updateQueue=e,Mo(s,e),Pa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!xt)return qt(s),null}else 2*Me()-c.renderingStartTime>Uo&&r!==536870912&&(s.flags|=128,d=!0,Pa(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(e=c.last,e!==null?e.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Me(),e.sibling=null,r=Kt.current,Y(Kt,d?r&1|2:r&1),xt&&En(s,c.treeForkCount),e):(qt(s),null);case 22:case 23:return Le(s),eu(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),r=s.updateQueue,r!==null&&Mo(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),e!==null&&L(Ui),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),On(Xt),qt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function x_(e,s){switch(qc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return On(Xt),Yt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 31:if(s.memoizedState!==null){if(Le(s),s.alternate===null)throw Error(a(340));ji()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Le(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ji()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return L(Kt),null;case 4:return Yt(),null;case 10:return On(s.type),null;case 22:case 23:return Le(s),eu(),e!==null&&L(Ui),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return On(Xt),null;case 25:return null;default:return null}}function sm(e,s){switch(qc(s),s.tag){case 3:On(Xt),Yt();break;case 26:case 27:case 5:Pr(s);break;case 4:Yt();break;case 31:s.memoizedState!==null&&Le(s);break;case 13:Le(s);break;case 19:L(Kt);break;case 10:On(s.type);break;case 22:case 23:Le(s),eu(),e!==null&&L(Ui);break;case 24:On(Xt)}}function $a(e,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){c=void 0;var m=r.create,y=r.inst;c=m(),y.destroy=c}r=r.next}while(r!==d)}}catch(w){Mt(s,s.return,w)}}function ai(e,s,r){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&e)===e){var y=c.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,d=s;var O=r,N=w;try{N()}catch($){Mt(d,O,$)}}}c=c.next}while(c!==m)}}catch($){Mt(s,s.return,$)}}function am(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{Wd(s,r)}catch(c){Mt(e,e.return,c)}}}function rm(e,s,r){r.props=Pi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Mt(e,s,c)}}function Va(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(d){Mt(e,s,d)}}function mn(e,s){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(d){Mt(e,s,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Mt(e,s,d)}else r.current=null}function om(e){var s=e.type,r=e.memoizedProps,c=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(d){Mt(e,e.return,d)}}function ju(e,s,r){try{var c=e.stateNode;I_(c,e.type,r,s),c[xe]=s}catch(d){Mt(e,e.return,d)}}function lm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function Nu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=xn));else if(c!==4&&(c===27&&fi(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(zu(e,s,r),e=e.sibling;e!==null;)zu(e,s,r),e=e.sibling}function Do(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(c!==4&&(c===27&&fi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Do(e,s,r),e=e.sibling;e!==null;)Do(e,s,r),e=e.sibling}function cm(e){var s=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);fe(s,c,r),s[le]=e,s[xe]=r}catch(m){Mt(e,e.return,m)}}var Dn=!1,Zt=!1,Uu=!1,um=typeof WeakSet=="function"?WeakSet:Set,re=null;function S_(e,s){if(e=e.containerInfo,ih=Zo,e=xd(e),kc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var y=0,w=-1,O=-1,N=0,$=0,G=e,z=null;e:for(;;){for(var H;G!==r||d!==0&&G.nodeType!==3||(w=y+d),G!==m||c!==0&&G.nodeType!==3||(O=y+c),G.nodeType===3&&(y+=G.nodeValue.length),(H=G.firstChild)!==null;)z=G,G=H;for(;;){if(G===e)break e;if(z===r&&++N===d&&(w=y),z===m&&++$===c&&(O=y),(H=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=H}r=w===-1||O===-1?null:{start:w,end:O}}else r=null}r=r||{start:0,end:0}}else r=null;for(sh={focusedElem:e,selectionRange:r},Zo=!1,re=s;re!==null;)if(s=re,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,re=e;else for(;re!==null;){switch(s=re,m=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=s,d=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var Z=Pi(r.type,d);e=c.getSnapshotBeforeUpdate(Z,m),c.__reactInternalSnapshotBeforeUpdate=e}catch(ut){Mt(r,r.return,ut)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)oh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,re=e;break}re=s.return}}function hm(e,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Nn(e,r),c&4&&$a(5,r);break;case 1:if(Nn(e,r),c&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(y){Mt(r,r.return,y)}else{var d=Pi(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(d,s,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Mt(r,r.return,y)}}c&64&&am(r),c&512&&Va(r,r.return);break;case 3:if(Nn(e,r),c&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Wd(e,s)}catch(y){Mt(r,r.return,y)}}break;case 27:s===null&&c&4&&cm(r);case 26:case 5:Nn(e,r),s===null&&c&4&&om(r),c&512&&Va(r,r.return);break;case 12:Nn(e,r);break;case 31:Nn(e,r),c&4&&gm(e,r);break;case 13:Nn(e,r),c&4&&mm(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=D_.bind(null,r),J_(e,r))));break;case 22:if(c=r.memoizedState!==null||Dn,!c){s=s!==null&&s.memoizedState!==null||Zt,d=Dn;var m=Zt;Dn=c,(Zt=s)&&!m?zn(e,r,(r.subtreeFlags&8772)!==0):Nn(e,r),Dn=d,Zt=m}break;case 30:break;default:Nn(e,r)}}function fm(e){var s=e.alternate;s!==null&&(e.alternate=null,fm(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&fc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Te=!1;function jn(e,s,r){for(r=r.child;r!==null;)dm(e,s,r),r=r.sibling}function dm(e,s,r){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(da,r)}catch{}switch(r.tag){case 26:Zt||mn(r,s),jn(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||mn(r,s);var c=$t,d=Te;fi(r.type)&&($t=r.stateNode,Te=!1),jn(e,s,r),Ja(r.stateNode),$t=c,Te=d;break;case 5:Zt||mn(r,s);case 6:if(c=$t,d=Te,$t=null,jn(e,s,r),$t=c,Te=d,$t!==null)if(Te)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(r.stateNode)}catch(m){Mt(r,s,m)}else try{$t.removeChild(r.stateNode)}catch(m){Mt(r,s,m)}break;case 18:$t!==null&&(Te?(e=$t,ap(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Gs(e)):ap($t,r.stateNode));break;case 4:c=$t,d=Te,$t=r.stateNode.containerInfo,Te=!0,jn(e,s,r),$t=c,Te=d;break;case 0:case 11:case 14:case 15:ai(2,r,s),Zt||ai(4,r,s),jn(e,s,r);break;case 1:Zt||(mn(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&rm(r,s,c)),jn(e,s,r);break;case 21:jn(e,s,r);break;case 22:Zt=(c=Zt)||r.memoizedState!==null,jn(e,s,r),Zt=c;break;default:jn(e,s,r)}}function gm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gs(e)}catch(r){Mt(s,s.return,r)}}}function mm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gs(e)}catch(r){Mt(s,s.return,r)}}function T_(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new um),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new um),s;default:throw Error(a(435,e.tag))}}function jo(e,s){var r=T_(e);s.forEach(function(c){if(!r.has(c)){r.add(c);var d=j_.bind(null,e,c);c.then(d,d)}})}function Ee(e,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var d=r[c],m=e,y=s,w=y;t:for(;w!==null;){switch(w.tag){case 27:if(fi(w.type)){$t=w.stateNode,Te=!1;break t}break;case 5:$t=w.stateNode,Te=!1;break t;case 3:case 4:$t=w.stateNode.containerInfo,Te=!0;break t}w=w.return}if($t===null)throw Error(a(160));dm(m,y,d),$t=null,Te=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)pm(s,e),s=s.sibling}var rn=null;function pm(e,s){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ee(s,e),Ae(e),c&4&&(ai(3,e,e.return),$a(3,e),ai(5,e,e.return));break;case 1:Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),c&64&&Dn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var d=rn;if(Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){t:{c=e.type,r=e.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[pa]||m[le]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),fe(m,c,r),m[le]=e,ae(m),c=m;break t;case"link":var y=pp("link","href",d).get(c+(r.href||""));if(y){for(var w=0;w<y.length;w++)if(m=y[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(w,1);break e}}m=d.createElement(c),fe(m,c,r),d.head.appendChild(m);break;case"meta":if(y=pp("meta","content",d).get(c+(r.content||""))){for(w=0;w<y.length;w++)if(m=y[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(w,1);break e}}m=d.createElement(c),fe(m,c,r),d.head.appendChild(m);break;default:throw Error(a(468,c))}m[le]=e,ae(m),c=m}e.stateNode=c}else yp(d,e.type,e.stateNode);else e.stateNode=mp(d,c,e.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?yp(d,e.type,e.stateNode):mp(d,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ju(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),r!==null&&c&4&&ju(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),e.flags&32){d=e.stateNode;try{gs(d,"")}catch(Z){Mt(e,e.return,Z)}}c&4&&e.stateNode!=null&&(d=e.memoizedProps,ju(e,d,r!==null?r.memoizedProps:d)),c&1024&&(Uu=!0);break;case 6:if(Ee(s,e),Ae(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Z){Mt(e,e.return,Z)}}break;case 3:if(Wo=null,d=rn,rn=Ko(s.containerInfo),Ee(s,e),rn=d,Ae(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(Z){Mt(e,e.return,Z)}Uu&&(Uu=!1,ym(e));break;case 4:c=rn,rn=Ko(e.stateNode.containerInfo),Ee(s,e),Ae(e),rn=c;break;case 12:Ee(s,e),Ae(e);break;case 31:Ee(s,e),Ae(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 13:Ee(s,e),Ae(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zo=Me()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 22:d=e.memoizedState!==null;var O=r!==null&&r.memoizedState!==null,N=Dn,$=Zt;if(Dn=N||d,Zt=$||O,Ee(s,e),Zt=$,Dn=N,Ae(e),c&8192)t:for(s=e.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||O||Dn||Zt||$i(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){O=r=s;try{if(m=O.stateNode,d)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=O.stateNode;var G=O.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(Z){Mt(O,O.return,Z)}}}else if(s.tag===6){if(r===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(Z){Mt(O,O.return,Z)}}}else if(s.tag===18){if(r===null){O=s;try{var H=O.stateNode;d?rp(H,!0):rp(O.stateNode,!1)}catch(Z){Mt(O,O.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,jo(e,r))));break;case 19:Ee(s,e),Ae(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 30:break;case 21:break;default:Ee(s,e),Ae(e)}}function Ae(e){var s=e.flags;if(s&2){try{for(var r,c=e.return;c!==null;){if(lm(c)){r=c;break}c=c.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,m=Nu(e);Do(e,m,d);break;case 5:var y=r.stateNode;r.flags&32&&(gs(y,""),r.flags&=-33);var w=Nu(e);Do(e,w,y);break;case 3:case 4:var O=r.stateNode.containerInfo,N=Nu(e);zu(e,N,O);break;default:throw Error(a(161))}}catch($){Mt(e,e.return,$)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function ym(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;ym(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Nn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)hm(e,s.alternate,s),s=s.sibling}function $i(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ai(4,s,s.return),$i(s);break;case 1:mn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&rm(s,s.return,r),$i(s);break;case 27:Ja(s.stateNode);case 26:case 5:mn(s,s.return),$i(s);break;case 22:s.memoizedState===null&&$i(s);break;case 30:$i(s);break;default:$i(s)}e=e.sibling}}function zn(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=e,m=s,y=m.flags;switch(m.tag){case 0:case 11:case 15:zn(d,m,r),$a(4,m);break;case 1:if(zn(d,m,r),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(N){Mt(c,c.return,N)}if(c=m,d=c.updateQueue,d!==null){var w=c.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Fd(O[d],w)}catch(N){Mt(c,c.return,N)}}r&&y&64&&am(m),Va(m,m.return);break;case 27:cm(m);case 26:case 5:zn(d,m,r),r&&c===null&&y&4&&om(m),Va(m,m.return);break;case 12:zn(d,m,r);break;case 31:zn(d,m,r),r&&y&4&&gm(d,m);break;case 13:zn(d,m,r),r&&y&4&&mm(d,m);break;case 22:m.memoizedState===null&&zn(d,m,r),Va(m,m.return);break;case 30:break;default:zn(d,m,r)}s=s.sibling}}function Lu(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ka(r))}function Bu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ka(e))}function on(e,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)bm(e,s,r,c),s=s.sibling}function bm(e,s,r,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:on(e,s,r,c),d&2048&&$a(9,s);break;case 1:on(e,s,r,c);break;case 3:on(e,s,r,c),d&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ka(e)));break;case 12:if(d&2048){on(e,s,r,c),e=s.stateNode;try{var m=s.memoizedProps,y=m.id,w=m.onPostCommit;typeof w=="function"&&w(y,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){Mt(s,s.return,O)}}else on(e,s,r,c);break;case 31:on(e,s,r,c);break;case 13:on(e,s,r,c);break;case 23:break;case 22:m=s.stateNode,y=s.alternate,s.memoizedState!==null?m._visibility&2?on(e,s,r,c):Ia(e,s):m._visibility&2?on(e,s,r,c):(m._visibility|=2,Ns(e,s,r,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Lu(y,s);break;case 24:on(e,s,r,c),d&2048&&Bu(s.alternate,s);break;default:on(e,s,r,c)}}function Ns(e,s,r,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=e,y=s,w=r,O=c,N=y.flags;switch(y.tag){case 0:case 11:case 15:Ns(m,y,w,O,d),$a(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Ns(m,y,w,O,d):Ia(m,y):($._visibility|=2,Ns(m,y,w,O,d)),d&&N&2048&&Lu(y.alternate,y);break;case 24:Ns(m,y,w,O,d),d&&N&2048&&Bu(y.alternate,y);break;default:Ns(m,y,w,O,d)}s=s.sibling}}function Ia(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,c=s,d=c.flags;switch(c.tag){case 22:Ia(r,c),d&2048&&Lu(c.alternate,c);break;case 24:Ia(r,c),d&2048&&Bu(c.alternate,c);break;default:Ia(r,c)}s=s.sibling}}var Ga=8192;function zs(e,s,r){if(e.subtreeFlags&Ga)for(e=e.child;e!==null;)vm(e,s,r),e=e.sibling}function vm(e,s,r){switch(e.tag){case 26:zs(e,s,r),e.flags&Ga&&e.memoizedState!==null&&uw(r,rn,e.memoizedState,e.memoizedProps);break;case 5:zs(e,s,r);break;case 3:case 4:var c=rn;rn=Ko(e.stateNode.containerInfo),zs(e,s,r),rn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ga,Ga=16777216,zs(e,s,r),Ga=c):zs(e,s,r));break;default:zs(e,s,r)}}function _m(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Ya(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];re=c,xm(c,e)}_m(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)wm(e),e=e.sibling}function wm(e){switch(e.tag){case 0:case 11:case 15:Ya(e),e.flags&2048&&ai(9,e,e.return);break;case 3:Ya(e);break;case 12:Ya(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,No(e)):Ya(e);break;default:Ya(e)}}function No(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];re=c,xm(c,e)}_m(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ai(8,s,s.return),No(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,No(s));break;default:No(s)}e=e.sibling}}function xm(e,s){for(;re!==null;){var r=re;switch(r.tag){case 0:case 11:case 15:ai(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ka(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,re=c;else t:for(r=e;re!==null;){c=re;var d=c.sibling,m=c.return;if(fm(c),c===r){re=null;break t}if(d!==null){d.return=m,re=d;break t}re=m}}}var E_={getCacheForType:function(e){var s=ue(Xt),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return ue(Xt).controller.signal}},A_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ut=null,bt=null,_t=0,Rt=0,Be=null,ri=!1,Us=!1,Hu=!1,Un=0,It=0,oi=0,Vi=0,qu=0,He=0,Ls=0,Ka=null,Oe=null,Pu=!1,zo=0,Sm=0,Uo=1/0,Lo=null,li=null,ee=0,ci=null,Bs=null,Ln=0,$u=0,Vu=null,Tm=null,Fa=0,Iu=null;function qe(){return(Ct&2)!==0&&_t!==0?_t&-_t:B.T!==null?Xu():qf()}function Em(){if(He===0)if((_t&536870912)===0||xt){var e=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),He=e}else He=536870912;return e=Ue.current,e!==null&&(e.flags|=32),He}function Ce(e,s,r){(e===Ut&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),ui(e,_t,He,!1)),ma(e,r),((Ct&2)===0||e!==Ut)&&(e===Ut&&((Ct&2)===0&&(Vi|=r),It===4&&ui(e,_t,He,!1)),pn(e))}function Am(e,s,r){if((Ct&6)!==0)throw Error(a(327));var c=!r&&(s&127)===0&&(s&e.expiredLanes)===0||ga(e,s),d=c?k_(e,s):Yu(e,s,!0),m=c;do{if(d===0){Us&&!c&&ui(e,s,0,!1);break}else{if(r=e.current.alternate,m&&!O_(r)){d=Yu(e,s,!1),m=!1;continue}if(d===2){if(m=s,e.errorRecoveryDisabledLanes&m)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;t:{var w=e;d=Ka;var O=w.current.memoizedState.isDehydrated;if(O&&(Hs(w,y).flags|=256),y=Yu(w,y,!1),y!==2){if(Hu&&!O){w.errorRecoveryDisabledLanes|=m,Vi|=m,d=4;break t}m=Oe,Oe=d,m!==null&&(Oe===null?Oe=m:Oe.push.apply(Oe,m))}d=y}if(m=!1,d!==2)continue}}if(d===1){Hs(e,0),ui(e,s,0,!0);break}t:{switch(c=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ui(c,s,He,!ri);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=zo+300-Me(),10<d)){if(ui(c,s,He,!ri),Yr(c,0,!0)!==0)break t;Ln=s,c.timeoutHandle=ip(Om.bind(null,c,r,Oe,Lo,Pu,s,He,Vi,Ls,ri,m,"Throttled",-0,0),d);break t}Om(c,r,Oe,Lo,Pu,s,He,Vi,Ls,ri,m,null,-0,0)}}break}while(!0);pn(e)}function Om(e,s,r,c,d,m,y,w,O,N,$,G,z,H){if(e.timeoutHandle=-1,G=s.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},vm(s,m,G);var Z=(m&62914560)===m?zo-Me():(m&4194048)===m?Sm-Me():0;if(Z=hw(G,Z),Z!==null){Ln=m,e.cancelPendingCommit=Z(zm.bind(null,e,s,m,r,c,d,y,w,O,$,G,null,z,H)),ui(e,m,y,!N);return}}zm(e,s,m,r,c,d,y,w,O)}function O_(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var d=r[c],m=d.getSnapshot;d=d.value;try{if(!Ne(m(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(e,s,r,c){s&=~qu,s&=~Vi,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var d=s;0<d;){var m=31-je(d),y=1<<m;c[m]=-1,d&=~y}r!==0&&Lf(e,r,s)}function Bo(){return(Ct&6)===0?(Wa(0),!1):!0}function Gu(){if(bt!==null){if(Rt===0)var e=bt.return;else e=bt,An=Ni=null,ou(e),ks=null,Ma=0,e=bt;for(;e!==null;)sm(e.alternate,e),e=e.return;bt=null}}function Hs(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,K_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ln=0,Gu(),Ut=e,bt=r=Tn(e.current,null),_t=s,Rt=0,Be=null,ri=!1,Us=ga(e,s),Hu=!1,Ls=He=qu=Vi=oi=It=0,Oe=Ka=null,Pu=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var d=31-je(c),m=1<<d;s|=e[d],c&=~m}return Un=s,so(),r}function Cm(e,s){pt=null,B.H=Ha,s===Cs||s===fo?(s=Id(),Rt=3):s===Wc?(s=Id(),Rt=4):Rt=s===Su?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Be=s,bt===null&&(It=1,Oo(e,Ye(s,e.current)))}function km(){var e=Ue.current;return e===null?!0:(_t&4194048)===_t?Xe===null:(_t&62914560)===_t||(_t&536870912)!==0?e===Xe:!1}function Rm(){var e=B.H;return B.H=Ha,e===null?Ha:e}function Mm(){var e=B.A;return B.A=E_,e}function Ho(){It=4,ri||(_t&4194048)!==_t&&Ue.current!==null||(Us=!0),(oi&134217727)===0&&(Vi&134217727)===0||Ut===null||ui(Ut,_t,He,!1)}function Yu(e,s,r){var c=Ct;Ct|=2;var d=Rm(),m=Mm();(Ut!==e||_t!==s)&&(Lo=null,Hs(e,s)),s=!1;var y=It;t:do try{if(Rt!==0&&bt!==null){var w=bt,O=Be;switch(Rt){case 8:Gu(),y=6;break t;case 3:case 2:case 9:case 6:Ue.current===null&&(s=!0);var N=Rt;if(Rt=0,Be=null,qs(e,w,O,N),r&&Us){y=0;break t}break;default:N=Rt,Rt=0,Be=null,qs(e,w,O,N)}}C_(),y=It;break}catch($){Cm(e,$)}while(!0);return s&&e.shellSuspendCounter++,An=Ni=null,Ct=c,B.H=d,B.A=m,bt===null&&(Ut=null,_t=0,so()),y}function C_(){for(;bt!==null;)Dm(bt)}function k_(e,s){var r=Ct;Ct|=2;var c=Rm(),d=Mm();Ut!==e||_t!==s?(Lo=null,Uo=Me()+500,Hs(e,s)):Us=ga(e,s);t:do try{if(Rt!==0&&bt!==null){s=bt;var m=Be;e:switch(Rt){case 1:Rt=0,Be=null,qs(e,s,m,1);break;case 2:case 9:if($d(m)){Rt=0,Be=null,jm(s);break}s=function(){Rt!==2&&Rt!==9||Ut!==e||(Rt=7),pn(e)},m.then(s,s);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:$d(m)?(Rt=0,Be=null,jm(s)):(Rt=0,Be=null,qs(e,s,m,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var w=bt;if(y?bp(y):w.stateNode.complete){Rt=0,Be=null;var O=w.sibling;if(O!==null)bt=O;else{var N=w.return;N!==null?(bt=N,qo(N)):bt=null}break e}}Rt=0,Be=null,qs(e,s,m,5);break;case 6:Rt=0,Be=null,qs(e,s,m,6);break;case 8:Gu(),It=6;break t;default:throw Error(a(462))}}R_();break}catch($){Cm(e,$)}while(!0);return An=Ni=null,B.H=c,B.A=d,Ct=r,bt!==null?0:(Ut=null,_t=0,so(),It)}function R_(){for(;bt!==null&&!Zv();)Dm(bt)}function Dm(e){var s=nm(e.alternate,e,Un);e.memoizedProps=e.pendingProps,s===null?qo(e):bt=s}function jm(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=Xg(r,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=Xg(r,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:ou(s);default:sm(r,s),s=bt=Md(s,Un),s=nm(r,s,Un)}e.memoizedProps=e.pendingProps,s===null?qo(e):bt=s}function qs(e,s,r,c){An=Ni=null,ou(s),ks=null,Ma=0;var d=s.return;try{if(b_(e,d,s,r,_t)){It=1,Oo(e,Ye(r,e.current)),bt=null;return}}catch(m){if(d!==null)throw bt=d,m;It=1,Oo(e,Ye(r,e.current)),bt=null;return}s.flags&32768?(xt||c===1?e=!0:Us||(_t&536870912)!==0?e=!1:(ri=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ue.current,c!==null&&c.tag===13&&(c.flags|=16384))),Nm(s,e)):qo(s)}function qo(e){var s=e;do{if((s.flags&32768)!==0){Nm(s,ri);return}e=s.return;var r=w_(s.alternate,s,Un);if(r!==null){bt=r;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=e}while(s!==null);It===0&&(It=5)}function Nm(e,s){do{var r=x_(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);It=6,bt=null}function zm(e,s,r,c,d,m,y,w,O){e.cancelPendingCommit=null;do Po();while(ee!==0);if((Ct&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(m=s.lanes|s.childLanes,m|=Nc,c0(e,r,m,y,w,O),e===Ut&&(bt=Ut=null,_t=0),Bs=s,ci=e,Ln=r,$u=m,Vu=d,Tm=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N_($r,function(){return qm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,d=X.p,X.p=2,y=Ct,Ct|=4;try{S_(e,s,r)}finally{Ct=y,X.p=d,B.T=c}}ee=1,Um(),Lm(),Bm()}}function Um(){if(ee===1){ee=0;var e=ci,s=Bs,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var c=X.p;X.p=2;var d=Ct;Ct|=4;try{pm(s,e);var m=sh,y=xd(e.containerInfo),w=m.focusedElem,O=m.selectionRange;if(y!==w&&w&&w.ownerDocument&&wd(w.ownerDocument.documentElement,w)){if(O!==null&&kc(w)){var N=O.start,$=O.end;if($===void 0&&($=N),"selectionStart"in w)w.selectionStart=N,w.selectionEnd=Math.min($,w.value.length);else{var G=w.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var H=z.getSelection(),Z=w.textContent.length,ut=Math.min(O.start,Z),zt=O.end===void 0?ut:Math.min(O.end,Z);!H.extend&&ut>zt&&(y=zt,zt=ut,ut=y);var M=_d(w,ut),k=_d(w,zt);if(M&&k&&(H.rangeCount!==1||H.anchorNode!==M.node||H.anchorOffset!==M.offset||H.focusNode!==k.node||H.focusOffset!==k.offset)){var j=G.createRange();j.setStart(M.node,M.offset),H.removeAllRanges(),ut>zt?(H.addRange(j),H.extend(k.node,k.offset)):(j.setEnd(k.node,k.offset),H.addRange(j))}}}}for(G=[],H=w;H=H.parentNode;)H.nodeType===1&&G.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<G.length;w++){var V=G[w];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Zo=!!ih,sh=ih=null}finally{Ct=d,X.p=c,B.T=r}}e.current=s,ee=2}}function Lm(){if(ee===2){ee=0;var e=ci,s=Bs,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var c=X.p;X.p=2;var d=Ct;Ct|=4;try{hm(e,s.alternate,s)}finally{Ct=d,X.p=c,B.T=r}}ee=3}}function Bm(){if(ee===4||ee===3){ee=0,t0();var e=ci,s=Bs,r=Ln,c=Tm;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ee=5:(ee=0,Bs=ci=null,Hm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(li=null),uc(r),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(da,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=B.T,d=X.p,X.p=2,B.T=null;try{for(var m=e.onRecoverableError,y=0;y<c.length;y++){var w=c[y];m(w.value,{componentStack:w.stack})}}finally{B.T=s,X.p=d}}(Ln&3)!==0&&Po(),pn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Iu?Fa++:(Fa=0,Iu=e):Fa=0,Wa(0)}}function Hm(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,ka(s)))}function Po(){return Um(),Lm(),Bm(),qm()}function qm(){if(ee!==5)return!1;var e=ci,s=$u;$u=0;var r=uc(Ln),c=B.T,d=X.p;try{X.p=32>r?32:r,B.T=null,r=Vu,Vu=null;var m=ci,y=Ln;if(ee=0,Bs=ci=null,Ln=0,(Ct&6)!==0)throw Error(a(331));var w=Ct;if(Ct|=4,wm(m.current),bm(m,m.current,y,r),Ct=w,Wa(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(da,m)}catch{}return!0}finally{X.p=d,B.T=c,Hm(e,s)}}function Pm(e,s,r){s=Ye(r,s),s=xu(e.stateNode,s,2),e=ni(e,s,2),e!==null&&(ma(e,2),pn(e))}function Mt(e,s,r){if(e.tag===3)Pm(e,e,r);else for(;s!==null;){if(s.tag===3){Pm(s,e,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(li===null||!li.has(c))){e=Ye(r,e),r=$g(2),c=ni(s,r,2),c!==null&&(Vg(r,c,s,e),ma(c,2),pn(c));break}}s=s.return}}function Ku(e,s,r){var c=e.pingCache;if(c===null){c=e.pingCache=new A_;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(r)||(Hu=!0,d.add(r),e=M_.bind(null,e,s,r),s.then(e,e))}function M_(e,s,r){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ut===e&&(_t&r)===r&&(It===4||It===3&&(_t&62914560)===_t&&300>Me()-zo?(Ct&2)===0&&Hs(e,0):qu|=r,Ls===_t&&(Ls=0)),pn(e)}function $m(e,s){s===0&&(s=Uf()),e=Mi(e,s),e!==null&&(ma(e,s),pn(e))}function D_(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),$m(e,r)}function j_(e,s){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),$m(e,r)}function N_(e,s){return rc(e,s)}var $o=null,Ps=null,Fu=!1,Vo=!1,Wu=!1,hi=0;function pn(e){e!==Ps&&e.next===null&&(Ps===null?$o=Ps=e:Ps=Ps.next=e),Vo=!0,Fu||(Fu=!0,U_())}function Wa(e,s){if(!Wu&&Vo){Wu=!0;do for(var r=!1,c=$o;c!==null;){if(e!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var y=c.suspendedLanes,w=c.pingedLanes;m=(1<<31-je(42|e)+1)-1,m&=d&~(y&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Ym(c,m))}else m=_t,m=Yr(c,c===Ut?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ga(c,m)||(r=!0,Ym(c,m));c=c.next}while(r);Wu=!1}}function z_(){Vm()}function Vm(){Vo=Fu=!1;var e=0;hi!==0&&Y_()&&(e=hi);for(var s=Me(),r=null,c=$o;c!==null;){var d=c.next,m=Im(c,s);m===0?(c.next=null,r===null?$o=d:r.next=d,d===null&&(Ps=r)):(r=c,(e!==0||(m&3)!==0)&&(Vo=!0)),c=d}ee!==0&&ee!==5||Wa(e),hi!==0&&(hi=0)}function Im(e,s){for(var r=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var y=31-je(m),w=1<<y,O=d[y];O===-1?((w&r)===0||(w&c)!==0)&&(d[y]=l0(w,s)):O<=s&&(e.expiredLanes|=w),m&=~w}if(s=Ut,r=_t,r=Yr(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===s&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&oc(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ga(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(c!==null&&oc(c),uc(r)){case 2:case 8:r=Nf;break;case 32:r=$r;break;case 268435456:r=zf;break;default:r=$r}return c=Gm.bind(null,e),r=rc(r,c),e.callbackPriority=s,e.callbackNode=r,s}return c!==null&&c!==null&&oc(c),e.callbackPriority=2,e.callbackNode=null,2}function Gm(e,s){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var c=_t;return c=Yr(e,e===Ut?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Am(e,c,s),Im(e,Me()),e.callbackNode!=null&&e.callbackNode===r?Gm.bind(null,e):null)}function Ym(e,s){if(Po())return null;Am(e,s,!0)}function U_(){F_(function(){(Ct&6)!==0?rc(jf,z_):Vm()})}function Xu(){if(hi===0){var e=As;e===0&&(e=Vr,Vr<<=1,(Vr&261888)===0&&(Vr=256)),hi=e}return hi}function Km(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function Fm(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function L_(e,s,r,c,d){if(s==="submit"&&r&&r.stateNode===d){var m=Km((d[xe]||null).action),y=c.submitter;y&&(s=(s=y[xe]||null)?Km(s.formAction):y.getAttribute("formAction"),s!==null&&(m=s,y=null));var w=new to("action","action",null,c,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hi!==0){var O=y?Fm(d,y):new FormData(d);pu(r,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(w.preventDefault(),O=y?Fm(d,y):new FormData(d),pu(r,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var Qu=0;Qu<jc.length;Qu++){var Ju=jc[Qu],B_=Ju.toLowerCase(),H_=Ju[0].toUpperCase()+Ju.slice(1);an(B_,"on"+H_)}an(Ed,"onAnimationEnd"),an(Ad,"onAnimationIteration"),an(Od,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(e_,"onTransitionRun"),an(n_,"onTransitionStart"),an(i_,"onTransitionCancel"),an(Cd,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function Wm(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],d=c.event;c=c.listeners;t:{var m=void 0;if(s)for(var y=c.length-1;0<=y;y--){var w=c[y],O=w.instance,N=w.currentTarget;if(w=w.listener,O!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=N;try{m(d)}catch($){io($)}d.currentTarget=null,m=O}else for(y=0;y<c.length;y++){if(w=c[y],O=w.instance,N=w.currentTarget,w=w.listener,O!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=N;try{m(d)}catch($){io($)}d.currentTarget=null,m=O}}}}function vt(e,s){var r=s[hc];r===void 0&&(r=s[hc]=new Set);var c=e+"__bubble";r.has(c)||(Xm(s,e,2,!1),r.add(c))}function Zu(e,s,r){var c=0;s&&(c|=4),Xm(r,e,c,s)}var Io="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[Io]){e[Io]=!0,Vf.forEach(function(r){r!=="selectionchange"&&(q_.has(r)||Zu(r,!1,e),Zu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Io]||(s[Io]=!0,Zu("selectionchange",!1,s))}}function Xm(e,s,r,c){switch(Ep(s)){case 2:var d=gw;break;case 8:d=mw;break;default:d=mh}r=d.bind(null,s,r,e),d=void 0,!_c||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(s,r,{capture:!0,passive:d}):e.addEventListener(s,r,!0):d!==void 0?e.addEventListener(s,r,{passive:d}):e.addEventListener(s,r,!1)}function eh(e,s,r,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var w=c.stateNode.containerInfo;if(w===d)break;if(y===4)for(y=c.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;w!==null;){if(y=cs(w),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){c=m=y;continue t}w=w.parentNode}}c=c.return}ed(function(){var N=m,$=bc(r),G=[];t:{var z=kd.get(e);if(z!==void 0){var H=to,Z=e;switch(e){case"keypress":if(Jr(r)===0)break t;case"keydown":case"keyup":H=j0;break;case"focusin":Z="focus",H=Tc;break;case"focusout":Z="blur",H=Tc;break;case"beforeblur":case"afterblur":H=Tc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=w0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=U0;break;case Ed:case Ad:case Od:H=T0;break;case Cd:H=B0;break;case"scroll":case"scrollend":H=v0;break;case"wheel":H=q0;break;case"copy":case"cut":case"paste":H=A0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=rd;break;case"toggle":case"beforetoggle":H=$0}var ut=(s&4)!==0,zt=!ut&&(e==="scroll"||e==="scrollend"),M=ut?z!==null?z+"Capture":null:z;ut=[];for(var k=N,j;k!==null;){var V=k;if(j=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||j===null||M===null||(V=ba(k,M),V!=null&&ut.push(Qa(k,V,j))),zt)break;k=k.return}0<ut.length&&(z=new H(z,Z,null,r,$),G.push({event:z,listeners:ut}))}}if((s&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&r!==yc&&(Z=r.relatedTarget||r.fromElement)&&(cs(Z)||Z[ls]))break t;if((H||z)&&(z=$.window===$?$:(z=$.ownerDocument)?z.defaultView||z.parentWindow:window,H?(Z=r.relatedTarget||r.toElement,H=N,Z=Z?cs(Z):null,Z!==null&&(zt=l(Z),ut=Z.tag,Z!==zt||ut!==5&&ut!==27&&ut!==6)&&(Z=null)):(H=null,Z=N),H!==Z)){if(ut=sd,V="onMouseLeave",M="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ut=rd,V="onPointerLeave",M="onPointerEnter",k="pointer"),zt=H==null?z:ya(H),j=Z==null?z:ya(Z),z=new ut(V,k+"leave",H,r,$),z.target=zt,z.relatedTarget=j,V=null,cs($)===N&&(ut=new ut(M,k+"enter",Z,r,$),ut.target=j,ut.relatedTarget=zt,V=ut),zt=V,H&&Z)e:{for(ut=P_,M=H,k=Z,j=0,V=M;V;V=ut(V))j++;V=0;for(var at=k;at;at=ut(at))V++;for(;0<j-V;)M=ut(M),j--;for(;0<V-j;)k=ut(k),V--;for(;j--;){if(M===k||k!==null&&M===k.alternate){ut=M;break e}M=ut(M),k=ut(k)}ut=null}else ut=null;H!==null&&Qm(G,z,H,ut,!1),Z!==null&&zt!==null&&Qm(G,zt,Z,ut,!0)}}t:{if(z=N?ya(N):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var At=gd;else if(fd(z))if(md)At=J0;else{At=X0;var et=W0}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&pc(N.elementType)&&(At=gd):At=Q0;if(At&&(At=At(e,N))){dd(G,At,r,$);break t}et&&et(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&mc(z,"number",z.value)}switch(et=N?ya(N):window,e){case"focusin":(fd(et)||et.contentEditable==="true")&&(bs=et,Rc=N,Aa=null);break;case"focusout":Aa=Rc=bs=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Sd(G,r,$);break;case"selectionchange":if(t_)break;case"keydown":case"keyup":Sd(G,r,$)}var yt;if(Ac)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else ys?ud(e,r)&&(wt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(wt="onCompositionStart");wt&&(od&&r.locale!=="ko"&&(ys||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&ys&&(yt=nd()):(Wn=$,wc="value"in Wn?Wn.value:Wn.textContent,ys=!0)),et=Go(N,wt),0<et.length&&(wt=new ad(wt,e,null,r,$),G.push({event:wt,listeners:et}),yt?wt.data=yt:(yt=hd(r),yt!==null&&(wt.data=yt)))),(yt=I0?G0(e,r):Y0(e,r))&&(wt=Go(N,"onBeforeInput"),0<wt.length&&(et=new ad("onBeforeInput","beforeinput",null,r,$),G.push({event:et,listeners:wt}),et.data=yt)),L_(G,e,N,r,$)}Wm(G,s)})}function Qa(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Go(e,s){for(var r=s+"Capture",c=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ba(e,r),d!=null&&c.unshift(Qa(e,d,m)),d=ba(e,s),d!=null&&c.push(Qa(e,d,m))),e.tag===3)return c;e=e.return}return[]}function P_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qm(e,s,r,c,d){for(var m=s._reactName,y=[];r!==null&&r!==c;){var w=r,O=w.alternate,N=w.stateNode;if(w=w.tag,O!==null&&O===c)break;w!==5&&w!==26&&w!==27||N===null||(O=N,d?(N=ba(r,m),N!=null&&y.unshift(Qa(r,N,O))):d||(N=ba(r,m),N!=null&&y.push(Qa(r,N,O)))),r=r.return}y.length!==0&&e.push({event:s,listeners:y})}var $_=/\r\n?/g,V_=/\u0000|\uFFFD/g;function Jm(e){return(typeof e=="string"?e:""+e).replace($_,`
`).replace(V_,"")}function Zm(e,s){return s=Jm(s),Jm(e)===s}function Nt(e,s,r,c,d,m){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||gs(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&gs(e,""+c);break;case"className":Fr(e,"class",c);break;case"tabIndex":Fr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(e,r,c);break;case"style":Zf(e,c,m);break;case"data":if(s!=="object"){Fr(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Xr(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&Nt(e,s,"name",d.name,d,null),Nt(e,s,"formEncType",d.formEncType,d,null),Nt(e,s,"formMethod",d.formMethod,d,null),Nt(e,s,"formTarget",d.formTarget,d,null)):(Nt(e,s,"encType",d.encType,d,null),Nt(e,s,"method",d.method,d,null),Nt(e,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Xr(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=xn);break;case"onScroll":c!=null&&vt("scroll",e);break;case"onScrollEnd":c!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=Xr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Kr(e,"popover",c);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Kr(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=y0.get(r)||r,Kr(e,r,c))}}function nh(e,s,r,c,d,m){switch(r){case"style":Zf(e,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof c=="string"?gs(e,c):(typeof c=="number"||typeof c=="bigint")&&gs(e,""+c);break;case"onScroll":c!=null&&vt("scroll",e);break;case"onScrollEnd":c!=null&&vt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!If.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),m=e[xe]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(s,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,c,d);break t}r in e?e[r]=c:c===!0?e.setAttribute(r,""):Kr(e,r,c)}}}function fe(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var c=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var y=r[m];if(y!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Nt(e,s,m,y,r,null)}}d&&Nt(e,s,"srcSet",r.srcSet,r,null),c&&Nt(e,s,"src",r.src,r,null);return;case"input":vt("invalid",e);var w=m=y=d=null,O=null,N=null;for(c in r)if(r.hasOwnProperty(c)){var $=r[c];if($!=null)switch(c){case"name":d=$;break;case"type":y=$;break;case"checked":O=$;break;case"defaultChecked":N=$;break;case"value":m=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:Nt(e,s,c,$,r,null)}}Wf(e,m,w,O,N,y,d,!1);return;case"select":vt("invalid",e),c=y=m=null;for(d in r)if(r.hasOwnProperty(d)&&(w=r[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":y=w;break;case"multiple":c=w;default:Nt(e,s,d,w,r,null)}s=m,r=y,e.multiple=!!c,s!=null?ds(e,!!c,s,!1):r!=null&&ds(e,!!c,r,!0);return;case"textarea":vt("invalid",e),m=d=c=null;for(y in r)if(r.hasOwnProperty(y)&&(w=r[y],w!=null))switch(y){case"value":c=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Nt(e,s,y,w,r,null)}Qf(e,c,d,m);return;case"option":for(O in r)r.hasOwnProperty(O)&&(c=r[O],c!=null)&&(O==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Nt(e,s,O,c,r,null));return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(c=0;c<Xa.length;c++)vt(Xa[c],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(c=r[N],c!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Nt(e,s,N,c,r,null)}return;default:if(pc(s)){for($ in r)r.hasOwnProperty($)&&(c=r[$],c!==void 0&&nh(e,s,$,c,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(c=r[w],c!=null&&Nt(e,s,w,c,r,null))}function I_(e,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,y=null,w=null,O=null,N=null,$=null;for(H in r){var G=r[H];if(r.hasOwnProperty(H)&&G!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":O=G;default:c.hasOwnProperty(H)||Nt(e,s,H,null,c,G)}}for(var z in c){var H=c[z];if(G=r[z],c.hasOwnProperty(z)&&(H!=null||G!=null))switch(z){case"type":m=H;break;case"name":d=H;break;case"checked":N=H;break;case"defaultChecked":$=H;break;case"value":y=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:H!==G&&Nt(e,s,z,H,c,G)}}gc(e,y,w,O,N,$,m,d);return;case"select":H=y=w=z=null;for(m in r)if(O=r[m],r.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":H=O;default:c.hasOwnProperty(m)||Nt(e,s,m,null,c,O)}for(d in c)if(m=c[d],O=r[d],c.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":z=m;break;case"defaultValue":w=m;break;case"multiple":y=m;default:m!==O&&Nt(e,s,d,m,c,O)}s=w,r=y,c=H,z!=null?ds(e,!!r,z,!1):!!c!=!!r&&(s!=null?ds(e,!!r,s,!0):ds(e,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(w in r)if(d=r[w],r.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Nt(e,s,w,null,c,d)}for(y in c)if(d=c[y],m=r[y],c.hasOwnProperty(y)&&(d!=null||m!=null))switch(y){case"value":z=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Nt(e,s,y,d,c,m)}Xf(e,z,H);return;case"option":for(var Z in r)z=r[Z],r.hasOwnProperty(Z)&&z!=null&&!c.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:Nt(e,s,Z,null,c,z));for(O in c)z=c[O],H=r[O],c.hasOwnProperty(O)&&z!==H&&(z!=null||H!=null)&&(O==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Nt(e,s,O,z,c,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in r)z=r[ut],r.hasOwnProperty(ut)&&z!=null&&!c.hasOwnProperty(ut)&&Nt(e,s,ut,null,c,z);for(N in c)if(z=c[N],H=r[N],c.hasOwnProperty(N)&&z!==H&&(z!=null||H!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,s));break;default:Nt(e,s,N,z,c,H)}return;default:if(pc(s)){for(var zt in r)z=r[zt],r.hasOwnProperty(zt)&&z!==void 0&&!c.hasOwnProperty(zt)&&nh(e,s,zt,void 0,c,z);for($ in c)z=c[$],H=r[$],!c.hasOwnProperty($)||z===H||z===void 0&&H===void 0||nh(e,s,$,z,c,H);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!c.hasOwnProperty(M)&&Nt(e,s,M,null,c,z);for(G in c)z=c[G],H=r[G],!c.hasOwnProperty(G)||z===H||z==null&&H==null||Nt(e,s,G,z,c,H)}function tp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var d=r[c],m=d.transferSize,y=d.initiatorType,w=d.duration;if(m&&w&&tp(y)){for(y=0,w=d.responseEnd,c+=1;c<r.length;c++){var O=r[c],N=O.startTime;if(N>w)break;var $=O.transferSize,G=O.initiatorType;$&&tp(G)&&(O=O.responseEnd,y+=$*(O<w?1:(w-N)/(O-N)))}if(--c,s+=8*(m+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ih=null,sh=null;function Yo(e){return e.nodeType===9?e:e.ownerDocument}function ep(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function ah(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rh=null;function Y_(){var e=window.event;return e&&e.type==="popstate"?e===rh?!1:(rh=e,!0):(rh=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,K_=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,F_=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(e){return sp.resolve(null).then(e).catch(W_)}:ip;function W_(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function ap(e,s){var r=s,c=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(d),Gs(s);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Ja(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ja(r);for(var m=r.firstChild;m;){var y=m.nextSibling,w=m.nodeName;m[pa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=y}}else r==="body"&&Ja(e.ownerDocument.body);r=d}while(r);Gs(s)}function rp(e,s){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function oh(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":oh(r),fc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function X_(e,s,r,c){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[pa])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function Q_(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qe(e.nextSibling),e===null))return null;return e}function op(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qe(e.nextSibling),e===null))return null;return e}function lh(e){return e.data==="$?"||e.data==="$~"}function ch(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function J_(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Qe(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var uh=null;function lp(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return Qe(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function cp(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function up(e,s,r){switch(s=Yo(r),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ja(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);fc(e)}var Je=new Map,hp=new Set;function Ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=X.d;X.d={f:Z_,r:tw,D:ew,C:nw,L:iw,m:sw,X:rw,S:aw,M:ow};function Z_(){var e=Bn.f(),s=Bo();return e||s}function tw(e){var s=us(e);s!==null&&s.tag===5&&s.type==="form"?Cg(s):Bn.r(e)}var $s=typeof document>"u"?null:document;function fp(e,s,r){var c=$s;if(c&&typeof s=="string"&&s){var d=Ie(s);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),hp.has(d)||(hp.add(d),e={rel:e,crossOrigin:r,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),fe(s,"link",e),ae(s),c.head.appendChild(s)))}}function ew(e){Bn.D(e),fp("dns-prefetch",e,null)}function nw(e,s){Bn.C(e,s),fp("preconnect",e,s)}function iw(e,s,r){Bn.L(e,s,r);var c=$s;if(c&&e&&s){var d='link[rel="preload"][as="'+Ie(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Ie(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Ie(r.imageSizes)+'"]')):d+='[href="'+Ie(e)+'"]';var m=d;switch(s){case"style":m=Vs(e);break;case"script":m=Is(e)}Je.has(m)||(e=b({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),Je.set(m,e),c.querySelector(d)!==null||s==="style"&&c.querySelector(Za(m))||s==="script"&&c.querySelector(tr(m))||(s=c.createElement("link"),fe(s,"link",e),ae(s),c.head.appendChild(s)))}}function sw(e,s){Bn.m(e,s);var r=$s;if(r&&e){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ie(c)+'"][href="'+Ie(e)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Is(e)}if(!Je.has(m)&&(e=b({rel:"modulepreload",href:e},s),Je.set(m,e),r.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(tr(m)))return}c=r.createElement("link"),fe(c,"link",e),ae(c),r.head.appendChild(c)}}}function aw(e,s,r){Bn.S(e,s,r);var c=$s;if(c&&e){var d=hs(c).hoistableStyles,m=Vs(e);s=s||"default";var y=d.get(m);if(!y){var w={loading:0,preload:null};if(y=c.querySelector(Za(m)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},r),(r=Je.get(m))&&hh(e,r);var O=y=c.createElement("link");ae(O),fe(O,"link",e),O._p=new Promise(function(N,$){O.onload=N,O.onerror=$}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fo(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:w},d.set(m,y)}}}function rw(e,s){Bn.X(e,s);var r=$s;if(r&&e){var c=hs(r).hoistableScripts,d=Is(e),m=c.get(d);m||(m=r.querySelector(tr(d)),m||(e=b({src:e,async:!0},s),(s=Je.get(d))&&fh(e,s),m=r.createElement("script"),ae(m),fe(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function ow(e,s){Bn.M(e,s);var r=$s;if(r&&e){var c=hs(r).hoistableScripts,d=Is(e),m=c.get(d);m||(m=r.querySelector(tr(d)),m||(e=b({src:e,async:!0,type:"module"},s),(s=Je.get(d))&&fh(e,s),m=r.createElement("script"),ae(m),fe(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function dp(e,s,r,c){var d=(d=gt.current)?Ko(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Vs(r.href),r=hs(d).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Vs(r.href);var m=hs(d).hoistableStyles,y=m.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,y),(m=d.querySelector(Za(e)))&&!m._p&&(y.instance=m,y.state.loading=5),Je.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Je.set(e,r),m||lw(d,e,r,y.state))),s&&c===null)throw Error(a(528,""));return y}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Is(r),r=hs(d).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vs(e){return'href="'+Ie(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function gp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function lw(e,s,r,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),fe(s,"link",r),ae(s),e.head.appendChild(s))}function Is(e){return'[src="'+Ie(e)+'"]'}function tr(e){return"script[async]"+e}function mp(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+Ie(r.href)+'"]');if(c)return s.instance=c,ae(c),c;var d=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ae(c),fe(c,"style",d),Fo(c,r.precedence,e),s.instance=c;case"stylesheet":d=Vs(r.href);var m=e.querySelector(Za(d));if(m)return s.state.loading|=4,s.instance=m,ae(m),m;c=gp(r),(d=Je.get(d))&&hh(c,d),m=(e.ownerDocument||e).createElement("link"),ae(m);var y=m;return y._p=new Promise(function(w,O){y.onload=w,y.onerror=O}),fe(m,"link",c),s.state.loading|=4,Fo(m,r.precedence,e),s.instance=m;case"script":return m=Is(r.src),(d=e.querySelector(tr(m)))?(s.instance=d,ae(d),d):(c=r,(d=Je.get(m))&&(c=b({},r),fh(c,d)),e=e.ownerDocument||e,d=e.createElement("script"),ae(d),fe(d,"link",c),e.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Fo(c,r.precedence,e));return s.instance}function Fo(e,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,y=0;y<c.length;y++){var w=c[y];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function hh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function fh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Wo=null;function pp(e,s,r){if(Wo===null){var c=new Map,d=Wo=new Map;d.set(r,c)}else d=Wo,c=d.get(r),c||(c=new Map,d.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var m=r[d];if(!(m[pa]||m[le]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var y=m.getAttribute(s)||"";y=e+y;var w=c.get(y);w?w.push(m):c.set(y,[m])}}return c}function yp(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function cw(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function bp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uw(e,s,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Vs(c.href),m=s.querySelector(Za(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Xo.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=m,ae(m);return}m=s.ownerDocument||s,c=gp(c),(d=Je.get(d))&&hh(c,d),m=m.createElement("link"),ae(m);var y=m;y._p=new Promise(function(w,O){y.onload=w,y.onerror=O}),fe(m,"link",c),r.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Xo.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var dh=0;function hw(e,s){return e.stylesheets&&e.count===0&&Jo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+s);0<e.imgBytes&&dh===0&&(dh=62500*G_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>dh?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qo=null;function Jo(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qo=new Map,s.forEach(fw,e),Qo=null,Xo.call(e))}function fw(e,s){if(!(s.state.loading&4)){var r=Qo.get(e);if(r)var c=r.get(null);else{r=new Map,Qo.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var y=d[m];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),c=y)}c&&r.set(null,c)}d=s.instance,y=d.getAttribute("data-precedence"),m=r.get(y)||c,m===c&&r.set(null,d),r.set(y,d),this.count++,c=Xo.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),s.state.loading|=4}}var er={$$typeof:D,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function dw(e,s,r,c,d,m,y,w,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function vp(e,s,r,c,d,m,y,w,O,N,$,G){return e=new dw(e,s,r,y,O,N,$,G,w),s=1,m===!0&&(s|=24),m=ze(3,null,null,s),e.current=m,m.stateNode=e,s=Yc(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:s},Xc(m),e}function _p(e){return e?(e=ws,e):ws}function wp(e,s,r,c,d,m){d=_p(d),c.context===null?c.context=d:c.pendingContext=d,c=ei(s),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=ni(e,c,s),r!==null&&(Ce(r,e,s),ja(r,e,s))}function xp(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function gh(e,s){xp(e,s),(e=e.alternate)&&xp(e,s)}function Sp(e){if(e.tag===13||e.tag===31){var s=Mi(e,67108864);s!==null&&Ce(s,e,67108864),gh(e,67108864)}}function Tp(e){if(e.tag===13||e.tag===31){var s=qe();s=cc(s);var r=Mi(e,s);r!==null&&Ce(r,e,s),gh(e,s)}}var Zo=!0;function gw(e,s,r,c){var d=B.T;B.T=null;var m=X.p;try{X.p=2,mh(e,s,r,c)}finally{X.p=m,B.T=d}}function mw(e,s,r,c){var d=B.T;B.T=null;var m=X.p;try{X.p=8,mh(e,s,r,c)}finally{X.p=m,B.T=d}}function mh(e,s,r,c){if(Zo){var d=ph(c);if(d===null)eh(e,s,c,tl,r),Ap(e,c);else if(yw(d,e,s,r,c))c.stopPropagation();else if(Ap(e,c),s&4&&-1<pw.indexOf(e)){for(;d!==null;){var m=us(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var y=Ai(m.pendingLanes);if(y!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var O=1<<31-je(y);w.entanglements[1]|=O,y&=~O}pn(m),(Ct&6)===0&&(Uo=Me()+500,Wa(0))}}break;case 31:case 13:w=Mi(m,2),w!==null&&Ce(w,m,2),Bo(),gh(m,2)}if(m=ph(c),m===null&&eh(e,s,c,tl,r),m===d)break;d=m}d!==null&&c.stopPropagation()}else eh(e,s,c,null,r)}}function ph(e){return e=bc(e),yh(e)}var tl=null;function yh(e){if(tl=null,e=cs(e),e!==null){var s=l(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=u(s),e!==null)return e;e=null}else if(r===31){if(e=h(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return tl=e,null}function Ep(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(e0()){case jf:return 2;case Nf:return 8;case $r:case n0:return 32;case zf:return 268435456;default:return 32}default:return 32}}var bh=!1,di=null,gi=null,mi=null,nr=new Map,ir=new Map,pi=[],pw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ap(e,s){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":nr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(s.pointerId)}}function sr(e,s,r,c,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=us(s),s!==null&&Sp(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),e)}function yw(e,s,r,c,d){switch(s){case"focusin":return di=sr(di,e,s,r,c,d),!0;case"dragenter":return gi=sr(gi,e,s,r,c,d),!0;case"mouseover":return mi=sr(mi,e,s,r,c,d),!0;case"pointerover":var m=d.pointerId;return nr.set(m,sr(nr.get(m)||null,e,s,r,c,d)),!0;case"gotpointercapture":return m=d.pointerId,ir.set(m,sr(ir.get(m)||null,e,s,r,c,d)),!0}return!1}function Op(e){var s=cs(e.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){e.blockedOn=s,Pf(e.priority,function(){Tp(r)});return}}else if(s===31){if(s=h(r),s!==null){e.blockedOn=s,Pf(e.priority,function(){Tp(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=ph(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);yc=c,r.target.dispatchEvent(c),yc=null}else return s=us(r),s!==null&&Sp(s),e.blockedOn=r,!1;s.shift()}return!0}function Cp(e,s,r){el(e)&&r.delete(s)}function bw(){bh=!1,di!==null&&el(di)&&(di=null),gi!==null&&el(gi)&&(gi=null),mi!==null&&el(mi)&&(mi=null),nr.forEach(Cp),ir.forEach(Cp)}function nl(e,s){e.blockedOn===s&&(e.blockedOn=null,bh||(bh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,bw)))}var il=null;function kp(e){il!==e&&(il=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){il===e&&(il=null);for(var s=0;s<e.length;s+=3){var r=e[s],c=e[s+1],d=e[s+2];if(typeof c!="function"){if(yh(c||r)===null)continue;break}var m=us(r);m!==null&&(e.splice(s,3),s-=3,pu(m,{pending:!0,data:d,method:r.method,action:c},c,d))}}))}function Gs(e){function s(O){return nl(O,e)}di!==null&&nl(di,e),gi!==null&&nl(gi,e),mi!==null&&nl(mi,e),nr.forEach(s),ir.forEach(s);for(var r=0;r<pi.length;r++){var c=pi[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<pi.length&&(r=pi[0],r.blockedOn===null);)Op(r),r.blockedOn===null&&pi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var d=r[c],m=r[c+1],y=d[xe]||null;if(typeof m=="function")y||kp(r);else if(y){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,y=m[xe]||null)w=y.formAction;else if(yh(d)!==null)continue}else w=y.action;typeof w=="function"?r[c+1]=w:(r.splice(c,3),c-=3),kp(r)}}}function Rp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function vh(e){this._internalRoot=e}sl.prototype.render=vh.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,c=qe();wp(r,c,e,s,null,null)},sl.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;wp(e.current,2,null,e,null,null),Bo(),s[ls]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var s=qf();e={blockedOn:null,target:e,priority:s};for(var r=0;r<pi.length&&s!==0&&s<pi[r].priority;r++);pi.splice(r,0,e),r===0&&Op(e)}};var Mp=t.version;if(Mp!=="19.2.4")throw Error(a(527,Mp,"19.2.4"));X.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var vw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{da=al.inject(vw),De=al}catch{}}return rr.createRoot=function(e,s){if(!o(e))throw Error(a(299));var r=!1,c="",d=Bg,m=Hg,y=qg;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=vp(e,1,!1,null,null,r,c,null,d,m,y,Rp),e[ls]=s.current,th(e),new vh(s)},rr.hydrateRoot=function(e,s,r){if(!o(e))throw Error(a(299));var c=!1,d="",m=Bg,y=Hg,w=qg,O=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(O=r.formState)),s=vp(e,1,!0,s,r??null,c,d,O,m,y,w,Rp),s.context=_p(null),r=s.current,c=qe(),c=cc(c),d=ei(c),d.callback=null,ni(r,d,c),r=c,s.current.lanes=r,ma(s,r),pn(s),e[ls]=s.current,th(e),new sl(s)},rr.version="19.2.4",rr}var Pp;function Cw(){if(Pp)return xh.exports;Pp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xh.exports=Ow(),xh.exports}var kw=Cw();function jb({value:i,width:t="fit",height:n="fit",bgClass:a="bg-card-bg",borderClass:o="border-2 border-card-border",className:l,open:u=!0}){const[h,f]=K.useState(u),[g,p]=K.useState(!1);return K.useEffect(()=>{if(u){f(!0),p(!1);return}h&&p(!0)},[u,h]),h?A.jsx("div",{className:`fixed inset-0 z-30 bg-black/20 backdrop-blur-sm flex items-center justify-center ${g?"animate-fade-out":"animate-fade-in"}`,onAnimationEnd:()=>{g&&(p(!1),f(!1))},children:A.jsx("div",{style:{width:`${typeof t=="string"?t:`${t}%`}`,height:`${typeof n=="string"?n:`${n}%`}`,maxWidth:"92vw",maxHeight:"92vh"},className:`relative z-10 w-fit h-fit overflow-y-auto p-6 md:p-10 rounded-lg ${a} ${o} ${l??""} ${g?"animate-blur-down":""}`,children:i})}):null}function me({text:i,onClickFunction:t,pressed:n=!1,index:a,tooltip:o,disabled:l=!1,className:u}){const h=()=>{l||t?.(a)},f=n?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light";return A.jsxs("div",{className:"relative group/button",children:[A.jsx("button",{disabled:l,"aria-pressed":n,onClick:h,className:`w-fit h-9 px-3 bg-card-bg rounded-lg border-2 font-display font-semibold transition-all duration-200 whitespace-nowrap ${u} 
        ${l?"opacity-50 cursor-not-allowed border-card-border text-text-secondary bg-game-bg-dark":`active:scale-95 ${f}`}`,children:i}),o&&!l&&A.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/button:opacity-100 group-hover/button:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[A.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:o}),A.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:A.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]})]})}var Nb=Db();function Cl({children:i,defaultSelect:t,itemsPerRow:n}){const[a,o]=K.useState(t),l=typeof n=="number"&&n>0?Math.floor(n):void 0,u=f=>{f!==void 0&&o(f)},h=K.Children.toArray(i).map((f,g)=>K.isValidElement(f)?K.cloneElement(f,{index:g,pressed:g===a,onClickFunction:p=>{f.props.onClickFunction?.(p),u(p)}}):f);if(l){const f=[];for(let g=0;g<h.length;g+=l)f.push(h.slice(g,g+l));return A.jsx("div",{className:"flex flex-col gap-2 items-start",children:f.map((g,p)=>A.jsx("div",{className:"flex flex-row items-center gap-2",children:g},p))})}return A.jsx("div",{className:"flex flex-row items-center gap-2",children:h})}const Rw=()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body;function bi({content:i,children:t,disabled:n=!1,offset:a=10}){const[o,l]=K.useState(!1),[u,h]=K.useState(!1),[f,g]=K.useState({top:0,left:0}),p=K.useRef(null),b=K.useRef(null);K.useLayoutEffect(()=>{if(!o){h(!1);return}const _=p.current,x=b.current;if(!_||!x)return;const S=_.getBoundingClientRect(),T=x.getBoundingClientRect();let C=S.top-T.height-a,R=S.left+S.width/2-T.width/2;C<8&&(C=S.bottom+a),R=Math.max(8,Math.min(R,window.innerWidth-T.width-8)),g({top:C,left:R}),h(!0)},[o,a]);const v=K.useMemo(Rw,[]);return A.jsxs("span",{ref:p,className:"inline-flex",onMouseEnter:()=>!n&&l(!0),onMouseLeave:()=>l(!1),children:[t,o&&v&&Nb.createPortal(A.jsxs("div",{ref:b,style:{position:"fixed",top:f.top,left:f.left},className:`z-[9999] px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple transition-[opacity,transform] duration-200 ease-out will-change-transform ${u?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-2 scale-95"}`,"aria-hidden":"true",children:[A.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:i}),A.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:A.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]}),v)]})}function kl({text:i,onClickFunction:t,optionsValue:n,tooltip:a,itemsPerRow:o}){const[l,u]=K.useState(!1),[h,f]=K.useState(!1),[g,p]=K.useState({top:0,left:0}),b=K.useRef(null),v=K.useRef(null),_=()=>{u(!l),t?.()},x=typeof o=="number"&&o>0?Math.floor(o):void 0,S=C=>K.isValidElement(C)&&C.type===Cl;K.useLayoutEffect(()=>{if(!l){f(!1);return}const C=b.current,R=v.current;if(!C||!R)return;const D=C.getBoundingClientRect(),U=R.getBoundingClientRect();let q=D.top-U.height-12,I=D.left+D.width/2-U.width/2;q<8&&(q=D.bottom+12),I=Math.max(8,Math.min(I,window.innerWidth-U.width-8)),p({top:q,left:I}),f(!0)},[l,x,n?.length]);const T=K.useMemo(()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body,[]);return A.jsxs("div",{className:"relative z-50 flex flex-col items-center group/options",children:[l&&T&&Nb.createPortal(A.jsx("div",{ref:v,style:{position:"fixed",top:g.top,left:g.left},className:`z-[5000] w-fit h-fit p-2 bg-card-bg border-2 border-card-border rounded-xl shadow-card backdrop-blur-sm duration-200 ${h?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-95 pointer-events-none"}`,children:A.jsx("div",{className:"flex flex-col gap-2",children:n?.map((C,R)=>S(C)&&x?K.cloneElement(C,{key:R,itemsPerRow:x}):A.jsx("div",{children:C},R))})}),T),A.jsx(bi,{content:a??"",disabled:!a||l,children:A.jsx("button",{ref:b,onClick:_,className:`w-9 h-9 bg-card-bg rounded-lg border-2 transition-all duration-200 font-display font-semibold active:scale-95 ${l?"border-accent-primary text-accent-primary shadow-glow-purple":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple"} ${l?"bg-game-bg-light":"hover:bg-game-bg-light"}`,children:i})})]})}function Rl({label:i,placeholder:t,value:n,onChange:a,onSubmit:o,defaultValue:l,type:u="text",disabled:h=!1,className:f}){const g=b=>{a?.(b.target.value)},p=b=>{b.key==="Enter"&&(b.preventDefault(),b.currentTarget.blur(),o?.())};return A.jsxs("label",{className:"flex flex-col gap-1 w-full",children:[i&&A.jsx("span",{className:"text-text-secondary text-xs font-display font-semibold uppercase tracking-wide",children:i}),A.jsx("input",{type:u,value:n,defaultValue:l,onChange:g,onKeyDown:p,placeholder:t,disabled:h,className:`bg-card-bg border-2 border-card-border rounded-lg h-10 px-4 transition-all duration-200 hover:border-accent-warning focus:border-accent-primary focus:shadow-glow-purple text-text-primary font-display font-semibold placeholder:text-text-secondary placeholder:opacity-50 outline-none disabled:opacity-50 disabled:cursor-not-allowed ${f??""}`})]})}function Br(i){return i+.5|0}const wi=(i,t,n)=>Math.max(Math.min(i,n),t);function dr(i){return wi(Br(i*2.55),0,255)}function Si(i){return wi(Br(i*255),0,255)}function Vn(i){return wi(Br(i/2.55)/100,0,1)}function $p(i){return wi(Br(i*100),0,100)}const Ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ih=[..."0123456789ABCDEF"],Mw=i=>Ih[i&15],Dw=i=>Ih[(i&240)>>4]+Ih[i&15],rl=i=>(i&240)>>4===(i&15),jw=i=>rl(i.r)&&rl(i.g)&&rl(i.b)&&rl(i.a);function Nw(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&Ze[i[1]]*17,g:255&Ze[i[2]]*17,b:255&Ze[i[3]]*17,a:t===5?Ze[i[4]]*17:255}:(t===7||t===9)&&(n={r:Ze[i[1]]<<4|Ze[i[2]],g:Ze[i[3]]<<4|Ze[i[4]],b:Ze[i[5]]<<4|Ze[i[6]],a:t===9?Ze[i[7]]<<4|Ze[i[8]]:255})),n}const zw=(i,t)=>i<255?t(i):"";function Uw(i){var t=jw(i)?Mw:Dw;return i?"#"+t(i.r)+t(i.g)+t(i.b)+zw(i.a,t):void 0}const Lw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function zb(i,t,n){const a=t*Math.min(n,1-n),o=(l,u=(l+i/30)%12)=>n-a*Math.max(Math.min(u-3,9-u,1),-1);return[o(0),o(8),o(4)]}function Bw(i,t,n){const a=(o,l=(o+i/60)%6)=>n-n*t*Math.max(Math.min(l,4-l,1),0);return[a(5),a(3),a(1)]}function Hw(i,t,n){const a=zb(i,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)a[o]*=1-t-n,a[o]+=t;return a}function qw(i,t,n,a,o){return i===o?(t-n)/a+(t<n?6:0):t===o?(n-i)/a+2:(i-t)/a+4}function mf(i){const n=i.r/255,a=i.g/255,o=i.b/255,l=Math.max(n,a,o),u=Math.min(n,a,o),h=(l+u)/2;let f,g,p;return l!==u&&(p=l-u,g=h>.5?p/(2-l-u):p/(l+u),f=qw(n,a,o,p,l),f=f*60+.5),[f|0,g||0,h]}function pf(i,t,n,a){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,a)).map(Si)}function yf(i,t,n){return pf(zb,i,t,n)}function Pw(i,t,n){return pf(Hw,i,t,n)}function $w(i,t,n){return pf(Bw,i,t,n)}function Ub(i){return(i%360+360)%360}function Vw(i){const t=Lw.exec(i);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?dr(+t[5]):Si(+t[5]));const o=Ub(+t[2]),l=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?a=Pw(o,l,u):t[1]==="hsv"?a=$w(o,l,u):a=yf(o,l,u),{r:a[0],g:a[1],b:a[2],a:n}}function Iw(i,t){var n=mf(i);n[0]=Ub(n[0]+t),n=yf(n),i.r=n[0],i.g=n[1],i.b=n[2]}function Gw(i){if(!i)return;const t=mf(i),n=t[0],a=$p(t[1]),o=$p(t[2]);return i.a<255?`hsla(${n}, ${a}%, ${o}%, ${Vn(i.a)})`:`hsl(${n}, ${a}%, ${o}%)`}const Vp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Ip={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Yw(){const i={},t=Object.keys(Ip),n=Object.keys(Vp);let a,o,l,u,h;for(a=0;a<t.length;a++){for(u=h=t[a],o=0;o<n.length;o++)l=n[o],h=h.replace(l,Vp[l]);l=parseInt(Ip[u],16),i[h]=[l>>16&255,l>>8&255,l&255]}return i}let ol;function Kw(i){ol||(ol=Yw(),ol.transparent=[0,0,0,0]);const t=ol[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Fw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ww(i){const t=Fw.exec(i);let n=255,a,o,l;if(t){if(t[7]!==a){const u=+t[7];n=t[8]?dr(u):wi(u*255,0,255)}return a=+t[1],o=+t[3],l=+t[5],a=255&(t[2]?dr(a):wi(a,0,255)),o=255&(t[4]?dr(o):wi(o,0,255)),l=255&(t[6]?dr(l):wi(l,0,255)),{r:a,g:o,b:l,a:n}}}function Xw(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${Vn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Ah=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Ys=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Qw(i,t,n){const a=Ys(Vn(i.r)),o=Ys(Vn(i.g)),l=Ys(Vn(i.b));return{r:Si(Ah(a+n*(Ys(Vn(t.r))-a))),g:Si(Ah(o+n*(Ys(Vn(t.g))-o))),b:Si(Ah(l+n*(Ys(Vn(t.b))-l))),a:i.a+n*(t.a-i.a)}}function ll(i,t,n){if(i){let a=mf(i);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=yf(a),i.r=a[0],i.g=a[1],i.b=a[2]}}function Lb(i,t){return i&&Object.assign(t||{},i)}function Gp(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Si(i[3]))):(t=Lb(i,{r:0,g:0,b:0,a:1}),t.a=Si(t.a)),t}function Jw(i){return i.charAt(0)==="r"?Ww(i):Vw(i)}class Er{constructor(t){if(t instanceof Er)return t;const n=typeof t;let a;n==="object"?a=Gp(t):n==="string"&&(a=Nw(t)||Kw(t)||Jw(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=Lb(this._rgb);return t&&(t.a=Vn(t.a)),t}set rgb(t){this._rgb=Gp(t)}rgbString(){return this._valid?Xw(this._rgb):void 0}hexString(){return this._valid?Uw(this._rgb):void 0}hslString(){return this._valid?Gw(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,o=t.rgb;let l;const u=n===l?.5:n,h=2*u-1,f=a.a-o.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;l=1-g,a.r=255&g*a.r+l*o.r+.5,a.g=255&g*a.g+l*o.g+.5,a.b=255&g*a.b+l*o.b+.5,a.a=u*a.a+(1-u)*o.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=Qw(this._rgb,t._rgb,n)),this}clone(){return new Er(this.rgb)}alpha(t){return this._rgb.a=Si(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Br(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ll(this._rgb,2,t),this}darken(t){return ll(this._rgb,2,-t),this}saturate(t){return ll(this._rgb,1,t),this}desaturate(t){return ll(this._rgb,1,-t),this}rotate(t){return Iw(this._rgb,t),this}}function Hn(){}const Zw=(()=>{let i=0;return()=>i++})();function Bt(i){return i==null}function ie(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Tt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ve(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function yn(i,t){return ve(i)?i:t}function St(i,t){return typeof i>"u"?t:i}const tx=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Pt(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function Dt(i,t,n,a){let o,l,u;if(ie(i))for(l=i.length,o=0;o<l;o++)t.call(n,i[o],o);else if(Tt(i))for(u=Object.keys(i),l=u.length,o=0;o<l;o++)t.call(n,i[u[o]],u[o])}function jl(i,t){let n,a,o,l;if(!i||!t||i.length!==t.length)return!1;for(n=0,a=i.length;n<a;++n)if(o=i[n],l=t[n],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function Nl(i){if(ie(i))return i.map(Nl);if(Tt(i)){const t=Object.create(null),n=Object.keys(i),a=n.length;let o=0;for(;o<a;++o)t[n[o]]=Nl(i[n[o]]);return t}return i}function Bb(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ex(i,t,n,a){if(!Bb(i))return;const o=t[i],l=n[i];Tt(o)&&Tt(l)?Ar(o,l,a):t[i]=Nl(l)}function Ar(i,t,n){const a=ie(t)?t:[t],o=a.length;if(!Tt(i))return i;n=n||{};const l=n.merger||ex;let u;for(let h=0;h<o;++h){if(u=a[h],!Tt(u))continue;const f=Object.keys(u);for(let g=0,p=f.length;g<p;++g)l(f[g],i,u,n)}return i}function br(i,t){return Ar(i,t,{merger:nx})}function nx(i,t,n){if(!Bb(i))return;const a=t[i],o=n[i];Tt(a)&&Tt(o)?br(a,o):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Nl(o))}const Yp={"":i=>i,x:i=>i.x,y:i=>i.y};function ix(i){const t=i.split("."),n=[];let a="";for(const o of t)a+=o,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function sx(i){const t=ix(i);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function zl(i,t){return(Yp[t]||(Yp[t]=sx(t)))(i)}function bf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Ul=i=>typeof i<"u",Ti=i=>typeof i=="function",Kp=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function ax(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const oe=Math.PI,fn=2*oe,rx=fn+oe,Ll=Number.POSITIVE_INFINITY,ox=oe/180,hn=oe/2,Ii=oe/4,Fp=oe*2/3,Hb=Math.log10,oa=Math.sign;function vr(i,t,n){return Math.abs(i-t)<n}function Wp(i){const t=Math.round(i);i=vr(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(Hb(i))),a=i/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function lx(i){const t=[],n=Math.sqrt(i);let a;for(a=1;a<n;a++)i%a===0&&(t.push(a),t.push(i/a));return n===(n|0)&&t.push(n),t.sort((o,l)=>o-l).pop(),t}function cx(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Or(i){return!cx(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function ux(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function hx(i,t,n){let a,o,l;for(a=0,o=i.length;a<o;a++)l=i[a][n],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function ts(i){return i*(oe/180)}function fx(i){return i*(180/oe)}function Xp(i){if(!ve(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function dx(i,t){const n=t.x-i.x,a=t.y-i.y,o=Math.sqrt(n*n+a*a);let l=Math.atan2(a,n);return l<-.5*oe&&(l+=fn),{angle:l,distance:o}}function Gh(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function gx(i,t){return(i-t+rx)%fn-oe}function _n(i){return(i%fn+fn)%fn}function qb(i,t,n,a){const o=_n(i),l=_n(t),u=_n(n),h=_n(l-o),f=_n(u-o),g=_n(o-l),p=_n(o-u);return o===l||o===u||a&&l===u||h>f&&g<p}function en(i,t,n){return Math.max(t,Math.min(n,i))}function mx(i){return en(i,-32768,32767)}function ia(i,t,n,a=1e-6){return i>=Math.min(t,n)-a&&i<=Math.max(t,n)+a}function vf(i,t,n){n=n||(u=>i[u]<t);let a=i.length-1,o=0,l;for(;a-o>1;)l=o+a>>1,n(l)?o=l:a=l;return{lo:o,hi:a}}const es=(i,t,n,a)=>vf(i,n,a?o=>{const l=i[o][t];return l<n||l===n&&i[o+1][t]===n}:o=>i[o][t]<n),px=(i,t,n)=>vf(i,n,a=>i[a][t]>=n);function yx(i,t,n){let a=0,o=i.length;for(;a<o&&i[a]<t;)a++;for(;o>a&&i[o-1]>n;)o--;return a>0||o<i.length?i.slice(a,o):i}const Pb=["push","pop","shift","splice","unshift"];function bx(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Pb.forEach(n=>{const a="_onData"+bf(n),o=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...l){const u=o.apply(this,l);return i._chartjs.listeners.forEach(h=>{typeof h[a]=="function"&&h[a](...l)}),u}})})}function Qp(i,t){const n=i._chartjs;if(!n)return;const a=n.listeners,o=a.indexOf(t);o!==-1&&a.splice(o,1),!(a.length>0)&&(Pb.forEach(l=>{delete i[l]}),delete i._chartjs)}function vx(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const $b=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function Vb(i,t){let n=[],a=!1;return function(...o){n=o,a||(a=!0,$b.call(window,()=>{a=!1,i.apply(t,n)}))}}function _x(i,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(i,t,a)):i.apply(this,a),t}}const _f=i=>i==="start"?"left":i==="end"?"right":"center",ye=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,wx=(i,t,n,a)=>i===(a?"left":"right")?n:i==="center"?(t+n)/2:t;function xx(i,t,n){const a=t.length;let o=0,l=a;if(i._sorted){const{iScale:u,vScale:h,_parsed:f}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=u.axis,{min:b,max:v,minDefined:_,maxDefined:x}=u.getUserBounds();if(_){if(o=Math.min(es(f,p,b).lo,n?a:es(t,p,u.getPixelForValue(b)).lo),g){const S=f.slice(0,o+1).reverse().findIndex(T=>!Bt(T[h.axis]));o-=Math.max(0,S)}o=en(o,0,a-1)}if(x){let S=Math.max(es(f,u.axis,v,!0).hi+1,n?0:es(t,p,u.getPixelForValue(v),!0).hi+1);if(g){const T=f.slice(S-1).findIndex(C=>!Bt(C[h.axis]));S+=Math.max(0,T)}l=en(S,o,a)-o}else l=a-o}return{start:o,count:l}}function Sx(i){const{xScale:t,yScale:n,_scaleRanges:a}=i,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return i._scaleRanges=o,!0;const l=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,o),l}const cl=i=>i===0||i===1,Jp=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*fn/n)),Zp=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*fn/n)+1,_r={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*hn)+1,easeOutSine:i=>Math.sin(i*hn),easeInOutSine:i=>-.5*(Math.cos(oe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>cl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>cl(i)?i:Jp(i,.075,.3),easeOutElastic:i=>cl(i)?i:Zp(i,.075,.3),easeInOutElastic(i){return cl(i)?i:i<.5?.5*Jp(i*2,.1125,.45):.5+.5*Zp(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-_r.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?_r.easeInBounce(i*2)*.5:_r.easeOutBounce(i*2-1)*.5+.5};function wf(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ty(i){return wf(i)?i:new Er(i)}function Oh(i){return wf(i)?i:new Er(i).saturate(.5).darken(.1).hexString()}const Tx=["x","y","borderWidth","radius","tension"],Ex=["color","borderColor","backgroundColor"];function Ax(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ex},numbers:{type:"number",properties:Tx}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Ox(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ey=new Map;function Cx(i,t){t=t||{};const n=i+JSON.stringify(t);let a=ey.get(n);return a||(a=new Intl.NumberFormat(i,t),ey.set(n,a)),a}function Ib(i,t,n){return Cx(t,n).format(i)}const kx={values(i){return ie(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const a=this.chart.options.locale;let o,l=i;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(o="scientific"),l=Rx(i,n)}const u=Hb(Math.abs(l)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:o,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Ib(i,a,f)}};function Rx(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var Gb={formatters:kx};function Mx(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Gb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const as=Object.create(null),Yh=Object.create(null);function wr(i,t){if(!t)return i;const n=t.split(".");for(let a=0,o=n.length;a<o;++a){const l=n[a];i=i[l]||(i[l]=Object.create(null))}return i}function Ch(i,t,n){return typeof t=="string"?Ar(wr(i,t),n):Ar(wr(i,""),t)}class Dx{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,o)=>Oh(o.backgroundColor),this.hoverBorderColor=(a,o)=>Oh(o.borderColor),this.hoverColor=(a,o)=>Oh(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ch(this,t,n)}get(t){return wr(this,t)}describe(t,n){return Ch(Yh,t,n)}override(t,n){return Ch(as,t,n)}route(t,n,a,o){const l=wr(this,t),u=wr(this,a),h="_"+n;Object.defineProperties(l,{[h]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[h],g=u[o];return Tt(f)?Object.assign({},g,f):St(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(n=>n(this))}}var Wt=new Dx({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ax,Ox,Mx]);function jx(i){return!i||Bt(i.size)||Bt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function ny(i,t,n,a,o){let l=t[o];return l||(l=t[o]=i.measureText(o).width,n.push(o)),l>a&&(a=l),a}function Gi(i,t,n){const a=i.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((t-o)*a)/a+o}function iy(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Kh(i,t,n,a){Yb(i,t,n,a,null)}function Yb(i,t,n,a,o){let l,u,h,f,g,p,b,v;const _=t.pointStyle,x=t.rotation,S=t.radius;let T=(x||0)*ox;if(_&&typeof _=="object"&&(l=_.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(n,a),i.rotate(T),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(S)||S<=0)){switch(i.beginPath(),_){default:o?i.ellipse(n,a,o/2,S,0,0,fn):i.arc(n,a,S,0,fn),i.closePath();break;case"triangle":p=o?o/2:S,i.moveTo(n+Math.sin(T)*p,a-Math.cos(T)*S),T+=Fp,i.lineTo(n+Math.sin(T)*p,a-Math.cos(T)*S),T+=Fp,i.lineTo(n+Math.sin(T)*p,a-Math.cos(T)*S),i.closePath();break;case"rectRounded":g=S*.516,f=S-g,u=Math.cos(T+Ii)*f,b=Math.cos(T+Ii)*(o?o/2-g:f),h=Math.sin(T+Ii)*f,v=Math.sin(T+Ii)*(o?o/2-g:f),i.arc(n-b,a-h,g,T-oe,T-hn),i.arc(n+v,a-u,g,T-hn,T),i.arc(n+b,a+h,g,T,T+hn),i.arc(n-v,a+u,g,T+hn,T+oe),i.closePath();break;case"rect":if(!x){f=Math.SQRT1_2*S,p=o?o/2:f,i.rect(n-p,a-f,2*p,2*f);break}T+=Ii;case"rectRot":b=Math.cos(T)*(o?o/2:S),u=Math.cos(T)*S,h=Math.sin(T)*S,v=Math.sin(T)*(o?o/2:S),i.moveTo(n-b,a-h),i.lineTo(n+v,a-u),i.lineTo(n+b,a+h),i.lineTo(n-v,a+u),i.closePath();break;case"crossRot":T+=Ii;case"cross":b=Math.cos(T)*(o?o/2:S),u=Math.cos(T)*S,h=Math.sin(T)*S,v=Math.sin(T)*(o?o/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"star":b=Math.cos(T)*(o?o/2:S),u=Math.cos(T)*S,h=Math.sin(T)*S,v=Math.sin(T)*(o?o/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u),T+=Ii,b=Math.cos(T)*(o?o/2:S),u=Math.cos(T)*S,h=Math.sin(T)*S,v=Math.sin(T)*(o?o/2:S),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"line":u=o?o/2:Math.cos(T)*S,h=Math.sin(T)*S,i.moveTo(n-u,a-h),i.lineTo(n+u,a+h);break;case"dash":i.moveTo(n,a),i.lineTo(n+Math.cos(T)*(o?o/2:S),a+Math.sin(T)*S);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Cr(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Il(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Gl(i){i.restore()}function Nx(i,t,n,a,o){if(!t)return i.lineTo(n.x,n.y);if(o==="middle"){const l=(t.x+n.x)/2;i.lineTo(l,t.y),i.lineTo(l,n.y)}else o==="after"!=!!a?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function zx(i,t,n,a){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function Ux(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Lx(i,t,n,a,o){if(o.strikethrough||o.underline){const l=i.measureText(a),u=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,f=n-l.actualBoundingBoxAscent,g=n+l.actualBoundingBoxDescent,p=o.strikethrough?(f+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(u,p),i.lineTo(h,p),i.stroke()}}function Bx(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function kr(i,t,n,a,o,l={}){const u=ie(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let f,g;for(i.save(),i.font=o.string,Ux(i,l),f=0;f<u.length;++f)g=u[f],l.backdrop&&Bx(i,l.backdrop),h&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),Bt(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(g,n,a,l.maxWidth)),i.fillText(g,n,a,l.maxWidth),Lx(i,n,a,g,l),a+=Number(o.lineHeight);i.restore()}function Fh(i,t){const{x:n,y:a,w:o,h:l,radius:u}=t;i.arc(n+u.topLeft,a+u.topLeft,u.topLeft,1.5*oe,oe,!0),i.lineTo(n,a+l-u.bottomLeft),i.arc(n+u.bottomLeft,a+l-u.bottomLeft,u.bottomLeft,oe,hn,!0),i.lineTo(n+o-u.bottomRight,a+l),i.arc(n+o-u.bottomRight,a+l-u.bottomRight,u.bottomRight,hn,0,!0),i.lineTo(n+o,a+u.topRight),i.arc(n+o-u.topRight,a+u.topRight,u.topRight,0,-hn,!0),i.lineTo(n+u.topLeft,a)}const Hx=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,qx=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Px(i,t){const n=(""+i).match(Hx);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const $x=i=>+i||0;function Kb(i,t){const n={},a=Tt(t),o=a?Object.keys(t):t,l=Tt(i)?a?u=>St(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of o)n[u]=$x(l(u));return n}function Vx(i){return Kb(i,{top:"y",right:"x",bottom:"y",left:"x"})}function xr(i){return Kb(i,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(i){const t=Vx(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function be(i,t){i=i||{},t=t||Wt.font;let n=St(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=St(i.style,t.style);a&&!(""+a).match(qx)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const o={family:St(i.family,t.family),lineHeight:Px(St(i.lineHeight,t.lineHeight),n),size:n,style:a,weight:St(i.weight,t.weight),string:""};return o.string=jx(o),o}function ul(i,t,n,a){let o,l,u;for(o=0,l=i.length;o<l;++o)if(u=i[o],u!==void 0&&u!==void 0)return u}function Ix(i,t,n){const{min:a,max:o}=i,l=tx(t,(o-a)/2),u=(h,f)=>n&&h===0?0:h+f;return{min:u(a,-Math.abs(l)),max:u(o,l)}}function rs(i,t){return Object.assign(Object.create(i),t)}function xf(i,t=[""],n,a,o=()=>i[0]){const l=n||i;typeof a>"u"&&(a=Qb("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:a,_getTarget:o,override:h=>xf([h,...i],t,l,a)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete i[0][f],!0},get(h,f){return Wb(h,f,()=>Jx(f,t,i,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,f){return ay(h).includes(f)},ownKeys(h){return ay(h)},set(h,f,g){const p=h._storage||(h._storage=o());return h[f]=p[f]=g,delete h._keys,!0}})}function la(i,t,n,a){const o={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:Fb(i,a),setContext:l=>la(i,l,n,a),override:l=>la(i.override(l),t,n,a)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete i[u],!0},get(l,u,h){return Wb(l,u,()=>Yx(l,u,h))},getOwnPropertyDescriptor(l,u){return l._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(l,u,h){return i[u]=h,delete l[u],!0}})}function Fb(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:o=t.allKeys}=i;return{allKeys:o,scriptable:n,indexable:a,isScriptable:Ti(n)?n:()=>n,isIndexable:Ti(a)?a:()=>a}}const Gx=(i,t)=>i?i+bf(t):t,Sf=(i,t)=>Tt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Wb(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const a=n();return i[t]=a,a}function Yx(i,t,n){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=i;let h=a[t];return Ti(h)&&u.isScriptable(t)&&(h=Kx(t,h,i,n)),ie(h)&&h.length&&(h=Fx(t,h,i,u.isIndexable)),Sf(t,h)&&(h=la(h,o,l&&l[t],u)),h}function Kx(i,t,n,a){const{_proxy:o,_context:l,_subProxy:u,_stack:h}=n;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let f=t(l,u||a);return h.delete(i),Sf(i,f)&&(f=Tf(o._scopes,o,i,f)),f}function Fx(i,t,n,a){const{_proxy:o,_context:l,_subProxy:u,_descriptors:h}=n;if(typeof l.index<"u"&&a(i))return t[l.index%t.length];if(Tt(t[0])){const f=t,g=o._scopes.filter(p=>p!==f);t=[];for(const p of f){const b=Tf(g,o,i,p);t.push(la(b,l,u&&u[i],h))}}return t}function Xb(i,t,n){return Ti(i)?i(t,n):i}const Wx=(i,t)=>i===!0?t:typeof i=="string"?zl(t,i):void 0;function Xx(i,t,n,a,o){for(const l of t){const u=Wx(n,l);if(u){i.add(u);const h=Xb(u._fallback,n,o);if(typeof h<"u"&&h!==n&&h!==a)return h}else if(u===!1&&typeof a<"u"&&n!==a)return null}return!1}function Tf(i,t,n,a){const o=t._rootScopes,l=Xb(t._fallback,n,a),u=[...i,...o],h=new Set;h.add(a);let f=sy(h,u,n,l||n,a);return f===null||typeof l<"u"&&l!==n&&(f=sy(h,u,l,f,a),f===null)?!1:xf(Array.from(h),[""],o,l,()=>Qx(t,n,a))}function sy(i,t,n,a,o){for(;n;)n=Xx(i,t,n,a,o);return n}function Qx(i,t,n){const a=i._getTarget();t in a||(a[t]={});const o=a[t];return ie(o)&&Tt(n)?n:o||{}}function Jx(i,t,n,a){let o;for(const l of t)if(o=Qb(Gx(l,i),n),typeof o<"u")return Sf(i,o)?Tf(n,a,i,o):o}function Qb(i,t){for(const n of t){if(!n)continue;const a=n[i];if(typeof a<"u")return a}}function ay(i){let t=i._keys;return t||(t=i._keys=Zx(i._scopes)),t}function Zx(i){const t=new Set;for(const n of i)for(const a of Object.keys(n).filter(o=>!o.startsWith("_")))t.add(a);return Array.from(t)}const tS=Number.EPSILON||1e-14,ca=(i,t)=>t<i.length&&!i[t].skip&&i[t],Jb=i=>i==="x"?"y":"x";function eS(i,t,n,a){const o=i.skip?t:i,l=t,u=n.skip?t:n,h=Gh(l,o),f=Gh(u,l);let g=h/(h+f),p=f/(h+f);g=isNaN(g)?0:g,p=isNaN(p)?0:p;const b=a*g,v=a*p;return{previous:{x:l.x-b*(u.x-o.x),y:l.y-b*(u.y-o.y)},next:{x:l.x+v*(u.x-o.x),y:l.y+v*(u.y-o.y)}}}function nS(i,t,n){const a=i.length;let o,l,u,h,f,g=ca(i,0);for(let p=0;p<a-1;++p)if(f=g,g=ca(i,p+1),!(!f||!g)){if(vr(t[p],0,tS)){n[p]=n[p+1]=0;continue}o=n[p]/t[p],l=n[p+1]/t[p],h=Math.pow(o,2)+Math.pow(l,2),!(h<=9)&&(u=3/Math.sqrt(h),n[p]=o*u*t[p],n[p+1]=l*u*t[p])}}function iS(i,t,n="x"){const a=Jb(n),o=i.length;let l,u,h,f=ca(i,0);for(let g=0;g<o;++g){if(u=h,h=f,f=ca(i,g+1),!h)continue;const p=h[n],b=h[a];u&&(l=(p-u[n])/3,h[`cp1${n}`]=p-l,h[`cp1${a}`]=b-l*t[g]),f&&(l=(f[n]-p)/3,h[`cp2${n}`]=p+l,h[`cp2${a}`]=b+l*t[g])}}function sS(i,t="x"){const n=Jb(t),a=i.length,o=Array(a).fill(0),l=Array(a);let u,h,f,g=ca(i,0);for(u=0;u<a;++u)if(h=f,f=g,g=ca(i,u+1),!!f){if(g){const p=g[t]-f[t];o[u]=p!==0?(g[n]-f[n])/p:0}l[u]=h?g?oa(o[u-1])!==oa(o[u])?0:(o[u-1]+o[u])/2:o[u-1]:o[u]}nS(i,o,l),iS(i,l,t)}function hl(i,t,n){return Math.max(Math.min(i,n),t)}function aS(i,t){let n,a,o,l,u,h=Cr(i[0],t);for(n=0,a=i.length;n<a;++n)u=l,l=h,h=n<a-1&&Cr(i[n+1],t),l&&(o=i[n],u&&(o.cp1x=hl(o.cp1x,t.left,t.right),o.cp1y=hl(o.cp1y,t.top,t.bottom)),h&&(o.cp2x=hl(o.cp2x,t.left,t.right),o.cp2y=hl(o.cp2y,t.top,t.bottom)))}function rS(i,t,n,a,o){let l,u,h,f;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")sS(i,o);else{let g=a?i[i.length-1]:i[0];for(l=0,u=i.length;l<u;++l)h=i[l],f=eS(g,h,i[Math.min(l+1,u-(a?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&aS(i,n)}function Ef(){return typeof window<"u"&&typeof document<"u"}function Af(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bl(i,t,n){let a;return typeof i=="string"?(a=parseInt(i,10),i.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=i,a}const Yl=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function oS(i,t){return Yl(i).getPropertyValue(t)}const lS=["top","right","bottom","left"];function ss(i,t,n){const a={};n=n?"-"+n:"";for(let o=0;o<4;o++){const l=lS[o];a[l]=parseFloat(i[t+"-"+l+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const cS=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function uS(i,t){const n=i.touches,a=n&&n.length?n[0]:i,{offsetX:o,offsetY:l}=a;let u=!1,h,f;if(cS(o,l,i.target))h=o,f=l;else{const g=t.getBoundingClientRect();h=a.clientX-g.left,f=a.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function Wi(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:a}=t,o=Yl(n),l=o.boxSizing==="border-box",u=ss(o,"padding"),h=ss(o,"border","width"),{x:f,y:g,box:p}=uS(i,n),b=u.left+(p&&h.left),v=u.top+(p&&h.top);let{width:_,height:x}=t;return l&&(_-=u.width+h.width,x-=u.height+h.height),{x:Math.round((f-b)/_*n.width/a),y:Math.round((g-v)/x*n.height/a)}}function hS(i,t,n){let a,o;if(t===void 0||n===void 0){const l=i&&Af(i);if(!l)t=i.clientWidth,n=i.clientHeight;else{const u=l.getBoundingClientRect(),h=Yl(l),f=ss(h,"border","width"),g=ss(h,"padding");t=u.width-g.width-f.width,n=u.height-g.height-f.height,a=Bl(h.maxWidth,l,"clientWidth"),o=Bl(h.maxHeight,l,"clientHeight")}}return{width:t,height:n,maxWidth:a||Ll,maxHeight:o||Ll}}const xi=i=>Math.round(i*10)/10;function fS(i,t,n,a){const o=Yl(i),l=ss(o,"margin"),u=Bl(o.maxWidth,i,"clientWidth")||Ll,h=Bl(o.maxHeight,i,"clientHeight")||Ll,f=hS(i,t,n);let{width:g,height:p}=f;if(o.boxSizing==="content-box"){const v=ss(o,"border","width"),_=ss(o,"padding");g-=_.width+v.width,p-=_.height+v.height}return g=Math.max(0,g-l.width),p=Math.max(0,a?g/a:p-l.height),g=xi(Math.min(g,u,f.maxWidth)),p=xi(Math.min(p,h,f.maxHeight)),g&&!p&&(p=xi(g/2)),(t!==void 0||n!==void 0)&&a&&f.height&&p>f.height&&(p=f.height,g=xi(Math.floor(p*a))),{width:g,height:p}}function ry(i,t,n){const a=t||1,o=xi(i.height*a),l=xi(i.width*a);i.height=xi(i.height),i.width=xi(i.width);const u=i.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==a||u.height!==o||u.width!==l?(i.currentDevicePixelRatio=a,u.height=o,u.width=l,i.ctx.setTransform(a,0,0,a,0,0),!0):!1}const dS=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Ef()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function oy(i,t){const n=oS(i,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Xi(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function gS(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:a==="middle"?n<.5?i.y:t.y:a==="after"?n<1?i.y:t.y:n>0?t.y:i.y}}function mS(i,t,n,a){const o={x:i.cp2x,y:i.cp2y},l={x:t.cp1x,y:t.cp1y},u=Xi(i,o,n),h=Xi(o,l,n),f=Xi(l,t,n),g=Xi(u,h,n),p=Xi(h,f,n);return Xi(g,p,n)}const pS=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},yS=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function aa(i,t,n){return i?pS(t,n):yS()}function Zb(i,t){let n,a;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=a)}function tv(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function ev(i){return i==="angle"?{between:qb,compare:gx,normalize:_n}:{between:ia,compare:(t,n)=>t-n,normalize:t=>t}}function ly({start:i,end:t,count:n,loop:a,style:o}){return{start:i%n,end:t%n,loop:a&&(t-i+1)%n===0,style:o}}function bS(i,t,n){const{property:a,start:o,end:l}=n,{between:u,normalize:h}=ev(a),f=t.length;let{start:g,end:p,loop:b}=i,v,_;if(b){for(g+=f,p+=f,v=0,_=f;v<_&&u(h(t[g%f][a]),o,l);++v)g--,p--;g%=f,p%=f}return p<g&&(p+=f),{start:g,end:p,loop:b,style:i.style}}function nv(i,t,n){if(!n)return[i];const{property:a,start:o,end:l}=n,u=t.length,{compare:h,between:f,normalize:g}=ev(a),{start:p,end:b,loop:v,style:_}=bS(i,t,n),x=[];let S=!1,T=null,C,R,D;const U=()=>f(o,D,C)&&h(o,D)!==0,q=()=>h(l,C)===0||f(l,D,C),I=()=>S||U(),P=()=>!S||q();for(let F=p,Q=p;F<=b;++F)R=t[F%u],!R.skip&&(C=g(R[a]),C!==D&&(S=f(C,o,l),T===null&&I()&&(T=h(C,o)===0?F:Q),T!==null&&P()&&(x.push(ly({start:T,end:F,loop:v,count:u,style:_})),T=null),Q=F,D=C));return T!==null&&x.push(ly({start:T,end:b,loop:v,count:u,style:_})),x}function iv(i,t){const n=[],a=i.segments;for(let o=0;o<a.length;o++){const l=nv(a[o],i.points,t);l.length&&n.push(...l)}return n}function vS(i,t,n,a){let o=0,l=t-1;if(n&&!a)for(;o<t&&!i[o].skip;)o++;for(;o<t&&i[o].skip;)o++;for(o%=t,n&&(l+=o);l>o&&i[l%t].skip;)l--;return l%=t,{start:o,end:l}}function _S(i,t,n,a){const o=i.length,l=[];let u=t,h=i[t],f;for(f=t+1;f<=n;++f){const g=i[f%o];g.skip||g.stop?h.skip||(a=!1,l.push({start:t%o,end:(f-1)%o,loop:a}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&l.push({start:t%o,end:u%o,loop:a}),l}function wS(i,t){const n=i.points,a=i.options.spanGaps,o=n.length;if(!o)return[];const l=!!i._loop,{start:u,end:h}=vS(n,o,l,a);if(a===!0)return cy(i,[{start:u,end:h,loop:l}],n,t);const f=h<u?h+o:h,g=!!i._fullLoop&&u===0&&h===o-1;return cy(i,_S(n,u,f,g),n,t)}function cy(i,t,n,a){return!a||!a.setContext||!n?t:xS(i,t,n,a)}function xS(i,t,n,a){const o=i._chart.getContext(),l=uy(i.options),{_datasetIndex:u,options:{spanGaps:h}}=i,f=n.length,g=[];let p=l,b=t[0].start,v=b;function _(x,S,T,C){const R=h?-1:1;if(x!==S){for(x+=f;n[x%f].skip;)x-=R;for(;n[S%f].skip;)S+=R;x%f!==S%f&&(g.push({start:x%f,end:S%f,loop:T,style:C}),p=C,b=S%f)}}for(const x of t){b=h?b:x.start;let S=n[b%f],T;for(v=b+1;v<=x.end;v++){const C=n[v%f];T=uy(a.setContext(rs(o,{type:"segment",p0:S,p1:C,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:u}))),SS(T,p)&&_(b,v-1,x.loop,p),S=C,p=T}b<v-1&&_(b,v-1,x.loop,p)}return g}function uy(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function SS(i,t){if(!t)return!1;const n=[],a=function(o,l){return wf(l)?(n.includes(l)||n.push(l),n.indexOf(l)):l};return JSON.stringify(i,a)!==JSON.stringify(t,a)}function fl(i,t,n){return i.options.clip?i[n]:t[n]}function TS(i,t){const{xScale:n,yScale:a}=i;return n&&a?{left:fl(n,t,"left"),right:fl(n,t,"right"),top:fl(a,t,"top"),bottom:fl(a,t,"bottom")}:t}function sv(i,t){const n=t._clip;if(n.disabled)return!1;const a=TS(t,i.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:a.bottom+(n.bottom===!0?0:n.bottom)}}class ES{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,o){const l=n.listeners[o],u=n.duration;l.forEach(h=>h({chart:t,initial:n.initial,numSteps:u,currentStep:Math.min(a-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=$b.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,o)=>{if(!a.running||!a.items.length)return;const l=a.items;let u=l.length-1,h=!1,f;for(;u>=0;--u)f=l[u],f._active?(f._total>a.duration&&(a.duration=f._total),f.tick(t),h=!0):(l[u]=l[l.length-1],l.pop());h&&(o.draw(),this._notify(o,a,t,"progress")),l.length||(a.running=!1,this._notify(o,a,t,"complete"),a.initial=!1),n+=l.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,o)=>Math.max(a,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let o=a.length-1;for(;o>=0;--o)a[o].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qn=new ES;const hy="transparent",AS={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const a=ty(i||hy),o=a.valid&&ty(t||hy);return o&&o.valid?o.mix(a,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class OS{constructor(t,n,a,o){const l=n[a];o=ul([t.to,o,l,t.from]);const u=ul([t.from,l,o]);this._active=!0,this._fn=t.fn||AS[t.type||typeof u],this._easing=_r[t.easing]||_r.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=u,this._to=o,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const o=this._target[this._prop],l=a-this._start,u=this._duration-l;this._start=a,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=ul([t.to,n,o,t.from]),this._from=ul([t.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,o=this._prop,l=this._from,u=this._loop,h=this._to;let f;if(this._active=l!==h&&(u||n<a),!this._active){this._target[o]=h,this._notify(!0);return}if(n<0){this._target[o]=l;return}f=n/a%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[o]=this._fn(l,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let o=0;o<a.length;o++)a[o][n]()}}class av{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Tt(t))return;const n=Object.keys(Wt.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!Tt(l))return;const u={};for(const h of n)u[h]=l[h];(ie(l.properties)&&l.properties||[o]).forEach(h=>{(h===o||!a.has(h))&&a.set(h,u)})})}_animateOptions(t,n){const a=n.options,o=kS(t,a);if(!o)return[];const l=this._createAnimations(o,a);return a.$shared&&CS(t.options.$animations,a).then(()=>{t.options=a},()=>{}),l}_createAnimations(t,n){const a=this._properties,o=[],l=t.$animations||(t.$animations={}),u=Object.keys(n),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){o.push(...this._animateOptions(t,n));continue}const p=n[g];let b=l[g];const v=a.get(g);if(b)if(v&&b.active()){b.update(v,p,h);continue}else b.cancel();if(!v||!v.duration){t[g]=p;continue}l[g]=b=new OS(v,t,g,p),o.push(b)}return o}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return qn.add(this._chart,a),!0}}function CS(i,t){const n=[],a=Object.keys(t);for(let o=0;o<a.length;o++){const l=i[a[o]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function kS(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function fy(i,t){const n=i&&i.options||{},a=n.reverse,o=n.min===void 0?t:0,l=n.max===void 0?t:0;return{start:a?l:o,end:a?o:l}}function RS(i,t,n){if(n===!1)return!1;const a=fy(i,n),o=fy(t,n);return{top:o.end,right:a.end,bottom:o.start,left:a.start}}function MS(i){let t,n,a,o;return Tt(i)?(t=i.top,n=i.right,a=i.bottom,o=i.left):t=n=a=o=i,{top:t,right:n,bottom:a,left:o,disabled:i===!1}}function rv(i,t){const n=[],a=i._getSortedDatasetMetas(t);let o,l;for(o=0,l=a.length;o<l;++o)n.push(a[o].index);return n}function dy(i,t,n,a={}){const o=i.keys,l=a.mode==="single";let u,h,f,g;if(t===null)return;let p=!1;for(u=0,h=o.length;u<h;++u){if(f=+o[u],f===n){if(p=!0,a.all)continue;break}g=i.values[f],ve(g)&&(l||t===0||oa(t)===oa(g))&&(t+=g)}return!p&&!a.all?0:t}function DS(i,t){const{iScale:n,vScale:a}=t,o=n.axis==="x"?"x":"y",l=a.axis==="x"?"x":"y",u=Object.keys(i),h=new Array(u.length);let f,g,p;for(f=0,g=u.length;f<g;++f)p=u[f],h[f]={[o]:p,[l]:i[p]};return h}function kh(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function jS(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function NS(i){const{min:t,max:n,minDefined:a,maxDefined:o}=i.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function zS(i,t,n){const a=i[t]||(i[t]={});return a[n]||(a[n]={})}function gy(i,t,n,a){for(const o of t.getMatchingVisibleMetas(a).reverse()){const l=i[o.index];if(n&&l>0||!n&&l<0)return o.index}return null}function my(i,t){const{chart:n,_cachedMeta:a}=i,o=n._stacks||(n._stacks={}),{iScale:l,vScale:u,index:h}=a,f=l.axis,g=u.axis,p=jS(l,u,a),b=t.length;let v;for(let _=0;_<b;++_){const x=t[_],{[f]:S,[g]:T}=x,C=x._stacks||(x._stacks={});v=C[g]=zS(o,p,S),v[h]=T,v._top=gy(v,u,!0,a.type),v._bottom=gy(v,u,!1,a.type);const R=v._visualValues||(v._visualValues={});R[h]=T}}function Rh(i,t){const n=i.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function US(i,t){return rs(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function LS(i,t,n){return rs(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function or(i,t){const n=i.controller.index,a=i.vScale&&i.vScale.axis;if(a){t=t||i._parsed;for(const o of t){const l=o._stacks;if(!l||l[a]===void 0||l[a][n]===void 0)return;delete l[a][n],l[a]._visualValues!==void 0&&l[a]._visualValues[n]!==void 0&&delete l[a]._visualValues[n]}}}const Mh=i=>i==="reset"||i==="none",py=(i,t)=>t?i:Object.assign({},i),BS=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:rv(n,!0),values:null};class ov{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&or(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),o=(b,v,_,x)=>b==="x"?v:b==="r"?x:_,l=n.xAxisID=St(a.xAxisID,Rh(t,"x")),u=n.yAxisID=St(a.yAxisID,Rh(t,"y")),h=n.rAxisID=St(a.rAxisID,Rh(t,"r")),f=n.indexAxis,g=n.iAxisID=o(f,l,u,h),p=n.vAxisID=o(f,u,l,h);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Qp(this._data,this),t._stacked&&or(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(Tt(n)){const o=this._cachedMeta;this._data=DS(n,o)}else if(a!==n){if(a){Qp(a,this);const o=this._cachedMeta;or(o),o._parsed=[]}n&&Object.isExtensible(n)&&bx(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let o=!1;this._dataCheck();const l=n._stacked;n._stacked=kh(n.vScale,n),n.stack!==a.stack&&(o=!0,or(n),n.stack=a.stack),this._resyncElements(t),(o||l!==n._stacked)&&(my(this,n._parsed),n._stacked=kh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:o}=this,{iScale:l,_stacked:u}=a,h=l.axis;let f=t===0&&n===o.length?!0:a._sorted,g=t>0&&a._parsed[t-1],p,b,v;if(this._parsing===!1)a._parsed=o,a._sorted=!0,v=o;else{ie(o[t])?v=this.parseArrayData(a,o,t,n):Tt(o[t])?v=this.parseObjectData(a,o,t,n):v=this.parsePrimitiveData(a,o,t,n);const _=()=>b[h]===null||g&&b[h]<g[h];for(p=0;p<n;++p)a._parsed[p+t]=b=v[p],f&&(_()&&(f=!1),g=b);a._sorted=f}u&&my(this,v)}parsePrimitiveData(t,n,a,o){const{iScale:l,vScale:u}=t,h=l.axis,f=u.axis,g=l.getLabels(),p=l===u,b=new Array(o);let v,_,x;for(v=0,_=o;v<_;++v)x=v+a,b[v]={[h]:p||l.parse(g[x],x),[f]:u.parse(n[x],x)};return b}parseArrayData(t,n,a,o){const{xScale:l,yScale:u}=t,h=new Array(o);let f,g,p,b;for(f=0,g=o;f<g;++f)p=f+a,b=n[p],h[f]={x:l.parse(b[0],p),y:u.parse(b[1],p)};return h}parseObjectData(t,n,a,o){const{xScale:l,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(o);let p,b,v,_;for(p=0,b=o;p<b;++p)v=p+a,_=n[v],g[p]={x:l.parse(zl(_,h),v),y:u.parse(zl(_,f),v)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const o=this.chart,l=this._cachedMeta,u=n[t.axis],h={keys:rv(o,!0),values:n._stacks[t.axis]._visualValues};return dy(h,u,l.index,{mode:a})}updateRangeFromParsed(t,n,a,o){const l=a[n.axis];let u=l===null?NaN:l;const h=o&&a._stacks[n.axis];o&&h&&(o.values=h,u=dy(o,l,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,n){const a=this._cachedMeta,o=a._parsed,l=a._sorted&&t===a.iScale,u=o.length,h=this._getOtherScale(t),f=BS(n,a,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:b}=NS(h);let v,_;function x(){_=o[v];const S=_[h.axis];return!ve(_[t.axis])||p>S||b<S}for(v=0;v<u&&!(!x()&&(this.updateRangeFromParsed(g,t,_,f),l));++v);if(l){for(v=u-1;v>=0;--v)if(!x()){this.updateRangeFromParsed(g,t,_,f);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let o,l,u;for(o=0,l=n.length;o<l;++o)u=n[o][t.axis],ve(u)&&a.push(u);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,o=n.vScale,l=this.getParsed(t);return{label:a?""+a.getLabelForValue(l[a.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=MS(St(this.options.clip,RS(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,o=a.data||[],l=n.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||o.length-h,g=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(t,l,h,f),p=h;p<h+f;++p){const b=o[p];b.hidden||(b.active&&g?u.push(b):b.draw(t,l))}for(p=0;p<u.length;++p)u[p].draw(t,l)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const o=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];l=u.$context||(u.$context=LS(this.getContext(),t,u)),l.parsed=this.getParsed(t),l.raw=o.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=US(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=a,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const o=n==="active",l=this._cachedDataOpts,u=t+"-"+n,h=l[u],f=this.enableOptionSharing&&Ul(a);if(h)return py(h,f);const g=this.chart.config,p=g.datasetElementScopeKeys(this._type,t),b=o?[`${t}Hover`,"hover",t,""]:[t,""],v=g.getOptionScopes(this.getDataset(),p),_=Object.keys(Wt.elements[t]),x=()=>this.getContext(a,o,n),S=g.resolveNamedOptions(v,_,x,b);return S.$shared&&(S.$shared=f,l[u]=Object.freeze(py(S,f))),S}_resolveAnimations(t,n,a){const o=this.chart,l=this._cachedDataOpts,u=`animation-${n}`,h=l[u];if(h)return h;let f;if(o.options.animation!==!1){const p=this.chart.config,b=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),b);f=p.createResolver(v,this.getContext(t,a,n))}const g=new av(o,f&&f.animations);return f&&f._cacheable&&(l[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Mh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),o=this._sharedOptions,l=this.getSharedOptions(a),u=this.includeOptions(n,l)||l!==o;return this.updateSharedOptions(l,n,a),{sharedOptions:l,includeOptions:u}}updateElement(t,n,a,o){Mh(o)?Object.assign(t,a):this._resolveAnimations(n,o).update(t,a)}updateSharedOptions(t,n,a){t&&!Mh(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,o){t.active=o;const l=this.getStyle(n,o);this._resolveAnimations(n,a,o).update(t,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const o=a.length,l=n.length,u=Math.min(l,o);u&&this.parse(0,u),l>o?this._insertElements(o,l-o,t):l<o&&this._removeElements(l,o-l)}_insertElements(t,n,a=!0){const o=this._cachedMeta,l=o.data,u=t+n;let h;const f=g=>{for(g.length+=n,h=g.length-1;h>=u;h--)g[h]=g[h-n]};for(f(l),h=t;h<u;++h)l[h]=new this.dataElementType;this._parsing&&f(o._parsed),this.parse(t,n),a&&this.updateElements(l,t,n,"reset")}updateElements(t,n,a,o){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const o=a._parsed.splice(t,n);a._stacked&&or(a,o)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,o]=t;this[n](a,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class HS extends ov{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:a,data:o=[],_dataset:l}=n,u=this.chart._animationsDisabled;let{start:h,count:f}=xx(n,o,u);this._drawStart=h,this._drawCount=f,Sx(n)&&(h=0,f=o.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=o;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(a,void 0,{animated:!u,options:g},t),this.updateElements(o,h,f,t)}updateElements(t,n,a,o){const l=o==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:p,includeOptions:b}=this._getSharedOptions(n,o),v=u.axis,_=h.axis,{spanGaps:x,segment:S}=this.options,T=Or(x)?x:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||l||o==="none",R=n+a,D=t.length;let U=n>0&&this.getParsed(n-1);for(let q=0;q<D;++q){const I=t[q],P=C?I:{};if(q<n||q>=R){P.skip=!0;continue}const F=this.getParsed(q),Q=Bt(F[_]),dt=P[v]=u.getPixelForValue(F[v],q),it=P[_]=l||Q?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,F,f):F[_],q);P.skip=isNaN(dt)||isNaN(it)||Q,P.stop=q>0&&Math.abs(F[v]-U[v])>T,S&&(P.parsed=F,P.raw=g.data[q]),b&&(P.options=p||this.resolveDataElementOptions(q,I.active?"active":o)),C||this.updateElement(I,q,P,o),U=F}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return a;const l=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(a,l,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Yi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Of{static override(t){Object.assign(Of.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Yi()}parse(){return Yi()}format(){return Yi()}add(){return Yi()}diff(){return Yi()}startOf(){return Yi()}endOf(){return Yi()}}var qS={_date:Of};function PS(i,t,n,a){const{controller:o,data:l,_sorted:u}=i,h=o._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&l.length){const g=h._reversePixels?px:es;if(a){if(o._sharedOptions){const p=l[0],b=typeof p.getRange=="function"&&p.getRange(t);if(b){const v=g(l,t,n-b),_=g(l,t,n+b);return{lo:v.lo,hi:_.hi}}}}else{const p=g(l,t,n);if(f){const{vScale:b}=o._cachedMeta,{_parsed:v}=i,_=v.slice(0,p.lo+1).reverse().findIndex(S=>!Bt(S[b.axis]));p.lo-=Math.max(0,_);const x=v.slice(p.hi).findIndex(S=>!Bt(S[b.axis]));p.hi+=Math.max(0,x)}return p}}return{lo:0,hi:l.length-1}}function Kl(i,t,n,a,o){const l=i.getSortedVisibleDatasetMetas(),u=n[t];for(let h=0,f=l.length;h<f;++h){const{index:g,data:p}=l[h],{lo:b,hi:v}=PS(l[h],t,u,o);for(let _=b;_<=v;++_){const x=p[_];x.skip||a(x,g,_)}}}function $S(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(a,o){const l=t?Math.abs(a.x-o.x):0,u=n?Math.abs(a.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(u,2))}}function Dh(i,t,n,a,o){const l=[];return!o&&!i.isPointInArea(t)||Kl(i,n,t,function(h,f,g){!o&&!Cr(h,i.chartArea,0)||h.inRange(t.x,t.y,a)&&l.push({element:h,datasetIndex:f,index:g})},!0),l}function VS(i,t,n,a){let o=[];function l(u,h,f){const{startAngle:g,endAngle:p}=u.getProps(["startAngle","endAngle"],a),{angle:b}=dx(u,{x:t.x,y:t.y});qb(b,g,p)&&o.push({element:u,datasetIndex:h,index:f})}return Kl(i,n,t,l),o}function IS(i,t,n,a,o,l){let u=[];const h=$S(n);let f=Number.POSITIVE_INFINITY;function g(p,b,v){const _=p.inRange(t.x,t.y,o);if(a&&!_)return;const x=p.getCenterPoint(o);if(!(!!l||i.isPointInArea(x))&&!_)return;const T=h(t,x);T<f?(u=[{element:p,datasetIndex:b,index:v}],f=T):T===f&&u.push({element:p,datasetIndex:b,index:v})}return Kl(i,n,t,g),u}function jh(i,t,n,a,o,l){return!l&&!i.isPointInArea(t)?[]:n==="r"&&!a?VS(i,t,n,o):IS(i,t,n,a,o,l)}function yy(i,t,n,a,o){const l=[],u=n==="x"?"inXRange":"inYRange";let h=!1;return Kl(i,n,t,(f,g,p)=>{f[u]&&f[u](t[n],o)&&(l.push({element:f,datasetIndex:g,index:p}),h=h||f.inRange(t.x,t.y,o))}),a&&!h?[]:l}var GS={modes:{index(i,t,n,a){const o=Wi(t,i),l=n.axis||"x",u=n.includeInvisible||!1,h=n.intersect?Dh(i,o,l,a,u):jh(i,o,l,!1,a,u),f=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const p=h[0].index,b=g.data[p];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:p})}),f):[]},dataset(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;let h=n.intersect?Dh(i,o,l,a,u):jh(i,o,l,!1,a,u);if(h.length>0){const f=h[0].datasetIndex,g=i.getDatasetMeta(f).data;h=[];for(let p=0;p<g.length;++p)h.push({element:g[p],datasetIndex:f,index:p})}return h},point(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return Dh(i,o,l,a,u)},nearest(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return jh(i,o,l,n.intersect,a,u)},x(i,t,n,a){const o=Wi(t,i);return yy(i,o,"x",n.intersect,a)},y(i,t,n,a){const o=Wi(t,i);return yy(i,o,"y",n.intersect,a)}}};const lv=["left","top","right","bottom"];function lr(i,t){return i.filter(n=>n.pos===t)}function by(i,t){return i.filter(n=>lv.indexOf(n.pos)===-1&&n.box.axis===t)}function cr(i,t){return i.sort((n,a)=>{const o=t?a:n,l=t?n:a;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function YS(i){const t=[];let n,a,o,l,u,h;for(n=0,a=(i||[]).length;n<a;++n)o=i[n],{position:l,options:{stack:u,stackWeight:h=1}}=o,t.push({index:n,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:u&&l+u,stackWeight:h});return t}function KS(i){const t={};for(const n of i){const{stack:a,pos:o,stackWeight:l}=n;if(!a||!lv.includes(o))continue;const u=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}return t}function FS(i,t){const n=KS(i),{vBoxMaxWidth:a,hBoxMaxHeight:o}=t;let l,u,h;for(l=0,u=i.length;l<u;++l){h=i[l];const{fullSize:f}=h.box,g=n[h.stack],p=g&&h.stackWeight/g.weight;h.horizontal?(h.width=p?p*a:f&&t.availableWidth,h.height=o):(h.width=a,h.height=p?p*o:f&&t.availableHeight)}return n}function WS(i){const t=YS(i),n=cr(t.filter(g=>g.box.fullSize),!0),a=cr(lr(t,"left"),!0),o=cr(lr(t,"right")),l=cr(lr(t,"top"),!0),u=cr(lr(t,"bottom")),h=by(t,"x"),f=by(t,"y");return{fullSize:n,leftAndTop:a.concat(l),rightAndBottom:o.concat(f).concat(u).concat(h),chartArea:lr(t,"chartArea"),vertical:a.concat(o).concat(f),horizontal:l.concat(u).concat(h)}}function vy(i,t,n,a){return Math.max(i[n],t[n])+Math.max(i[a],t[a])}function cv(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function XS(i,t,n,a){const{pos:o,box:l}=n,u=i.maxPadding;if(!Tt(o)){n.size&&(i[o]-=n.size);const b=a[n.stack]||{size:0,count:1};b.size=Math.max(b.size,n.horizontal?l.height:l.width),n.size=b.size/b.count,i[o]+=n.size}l.getPadding&&cv(u,l.getPadding());const h=Math.max(0,t.outerWidth-vy(u,i,"left","right")),f=Math.max(0,t.outerHeight-vy(u,i,"top","bottom")),g=h!==i.w,p=f!==i.h;return i.w=h,i.h=f,n.horizontal?{same:g,other:p}:{same:p,other:g}}function QS(i){const t=i.maxPadding;function n(a){const o=Math.max(t[a]-i[a],0);return i[a]+=o,o}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function JS(i,t){const n=t.maxPadding;function a(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(u=>{l[u]=Math.max(t[u],n[u])}),l}return a(i?["left","right"]:["top","bottom"])}function gr(i,t,n,a){const o=[];let l,u,h,f,g,p;for(l=0,u=i.length,g=0;l<u;++l){h=i[l],f=h.box,f.update(h.width||t.w,h.height||t.h,JS(h.horizontal,t));const{same:b,other:v}=XS(t,n,h,a);g|=b&&o.length,p=p||v,f.fullSize||o.push(h)}return g&&gr(o,t,n,a)||p}function dl(i,t,n,a,o){i.top=n,i.left=t,i.right=t+a,i.bottom=n+o,i.width=a,i.height=o}function _y(i,t,n,a){const o=n.padding;let{x:l,y:u}=t;for(const h of i){const f=h.box,g=a[h.stack]||{placed:0,weight:1},p=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*p,v=g.size||f.height;Ul(g.start)&&(u=g.start),f.fullSize?dl(f,o.left,u,n.outerWidth-o.right-o.left,v):dl(f,t.left+g.placed,u,b,v),g.start=u,g.placed+=b,u=f.bottom}else{const b=t.h*p,v=g.size||f.width;Ul(g.start)&&(l=g.start),f.fullSize?dl(f,l,o.top,v,n.outerHeight-o.bottom-o.top):dl(f,l,t.top+g.placed,v,b),g.start=l,g.placed+=b,l=f.right}}t.x=l,t.y=u}var nn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,a){if(!i)return;const o=sn(i.options.layout.padding),l=Math.max(t-o.width,0),u=Math.max(n-o.height,0),h=WS(i.boxes),f=h.vertical,g=h.horizontal;Dt(i.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=f.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:l,availableHeight:u,vBoxMaxWidth:l/2/p,hBoxMaxHeight:u/2}),v=Object.assign({},o);cv(v,sn(a));const _=Object.assign({maxPadding:v,w:l,h:u,x:o.left,y:o.top},o),x=FS(f.concat(g),b);gr(h.fullSize,_,b,x),gr(f,_,b,x),gr(g,_,b,x)&&gr(f,_,b,x),QS(_),_y(h.leftAndTop,_,b,x),_.x+=_.w,_.y+=_.h,_y(h.rightAndBottom,_,b,x),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Dt(h.chartArea,S=>{const T=S.box;Object.assign(T,i.chartArea),T.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class uv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,o){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,o?Math.floor(n/o):a)}}isAttached(t){return!0}updateConfig(t){}}class ZS extends uv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ml="$chartjs",tT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},wy=i=>i===null||i==="";function eT(i,t){const n=i.style,a=i.getAttribute("height"),o=i.getAttribute("width");if(i[Ml]={initial:{height:a,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",wy(o)){const l=oy(i,"width");l!==void 0&&(i.width=l)}if(wy(a))if(i.style.height==="")i.height=i.width/(t||2);else{const l=oy(i,"height");l!==void 0&&(i.height=l)}return i}const hv=dS?{passive:!0}:!1;function nT(i,t,n){i&&i.addEventListener(t,n,hv)}function iT(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,hv)}function sT(i,t){const n=tT[i.type]||i.type,{x:a,y:o}=Wi(i,t);return{type:n,chart:t,native:i,x:a!==void 0?a:null,y:o!==void 0?o:null}}function Hl(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function aT(i,t,n){const a=i.canvas,o=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||Hl(h.addedNodes,a),u=u&&!Hl(h.removedNodes,a);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function rT(i,t,n){const a=i.canvas,o=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||Hl(h.removedNodes,a),u=u&&!Hl(h.addedNodes,a);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Rr=new Map;let xy=0;function fv(){const i=window.devicePixelRatio;i!==xy&&(xy=i,Rr.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function oT(i,t){Rr.size||window.addEventListener("resize",fv),Rr.set(i,t)}function lT(i){Rr.delete(i),Rr.size||window.removeEventListener("resize",fv)}function cT(i,t,n){const a=i.canvas,o=a&&Af(a);if(!o)return;const l=Vb((h,f)=>{const g=o.clientWidth;n(h,f),g<o.clientWidth&&n()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,p=f.contentRect.height;g===0&&p===0||l(g,p)});return u.observe(o),oT(i,l),u}function Nh(i,t,n){n&&n.disconnect(),t==="resize"&&lT(i)}function uT(i,t,n){const a=i.canvas,o=Vb(l=>{i.ctx!==null&&n(sT(l,i))},i);return nT(a,t,o),o}class hT extends uv{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(eT(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[Ml])return!1;const a=n[Ml].initial;["height","width"].forEach(l=>{const u=a[l];Bt(u)?n.removeAttribute(l):n.setAttribute(l,u)});const o=a.style||{};return Object.keys(o).forEach(l=>{n.style[l]=o[l]}),n.width=n.width,delete n[Ml],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const o=t.$proxies||(t.$proxies={}),u={attach:aT,detach:rT,resize:cT}[n]||uT;o[n]=u(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),o=a[n];if(!o)return;({attach:Nh,detach:Nh,resize:Nh}[n]||iT)(t,n,o),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,o){return fS(t,n,a,o)}isAttached(t){const n=t&&Af(t);return!!(n&&n.isConnected)}}function fT(i){return!Ef()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?ZS:hT}class os{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return Or(this.x)&&Or(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const o={};return t.forEach(l=>{o[l]=a[l]&&a[l].active()?a[l]._to:this[l]}),o}}function dT(i,t){const n=i.options.ticks,a=gT(i),o=Math.min(n.maxTicksLimit||a,a),l=n.major.enabled?pT(t):[],u=l.length,h=l[0],f=l[u-1],g=[];if(u>o)return yT(t,g,l,u/o),g;const p=mT(l,t,o);if(u>0){let b,v;const _=u>1?Math.round((f-h)/(u-1)):null;for(gl(t,g,p,Bt(_)?0:h-_,h),b=0,v=u-1;b<v;b++)gl(t,g,p,l[b],l[b+1]);return gl(t,g,p,f,Bt(_)?t.length:f+_),g}return gl(t,g,p),g}function gT(i){const t=i.options.offset,n=i._tickSize(),a=i._length/n+(t?0:1),o=i._maxLength/n;return Math.floor(Math.min(a,o))}function mT(i,t,n){const a=bT(i),o=t.length/n;if(!a)return Math.max(o,1);const l=lx(a);for(let u=0,h=l.length-1;u<h;u++){const f=l[u];if(f>o)return f}return Math.max(o,1)}function pT(i){const t=[];let n,a;for(n=0,a=i.length;n<a;n++)i[n].major&&t.push(n);return t}function yT(i,t,n,a){let o=0,l=n[0],u;for(a=Math.ceil(a),u=0;u<i.length;u++)u===l&&(t.push(i[u]),o++,l=n[o*a])}function gl(i,t,n,a,o){const l=St(a,0),u=Math.min(St(o,i.length),i.length);let h=0,f,g,p;for(n=Math.ceil(n),o&&(f=o-a,n=f/Math.floor(f/n)),p=l;p<0;)h++,p=Math.round(l+h*n);for(g=Math.max(l,0);g<u;g++)g===p&&(t.push(i[g]),h++,p=Math.round(l+h*n))}function bT(i){const t=i.length;let n,a;if(t<2)return!1;for(a=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==a)return!1;return a}const vT=i=>i==="left"?"right":i==="right"?"left":i,Sy=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,Ty=(i,t)=>Math.min(t||i,i);function Ey(i,t){const n=[],a=i.length/t,o=i.length;let l=0;for(;l<o;l+=a)n.push(i[Math.floor(l)]);return n}function _T(i,t,n){const a=i.ticks.length,o=Math.min(t,a-1),l=i._startPixel,u=i._endPixel,h=1e-6;let f=i.getPixelForTick(o),g;if(!(n&&(a===1?g=Math.max(f-l,u-f):t===0?g=(i.getPixelForTick(1)-f)/2:g=(f-i.getPixelForTick(o-1))/2,f+=o<t?g:-g,f<l-h||f>u+h)))return f}function wT(i,t){Dt(i,n=>{const a=n.gc,o=a.length/2;let l;if(o>t){for(l=0;l<o;++l)delete n.data[a[l]];a.splice(0,o)}})}function ur(i){return i.drawTicks?i.tickLength:0}function Ay(i,t){if(!i.display)return 0;const n=be(i.font,t),a=sn(i.padding);return(ie(i.text)?i.text.length:1)*n.lineHeight+a.height}function xT(i,t){return rs(i,{scale:t,type:"scale"})}function ST(i,t,n){return rs(i,{tick:n,index:t,type:"tick"})}function TT(i,t,n){let a=_f(i);return(n&&t!=="right"||!n&&t==="right")&&(a=vT(a)),a}function ET(i,t,n,a){const{top:o,left:l,bottom:u,right:h,chart:f}=i,{chartArea:g,scales:p}=f;let b=0,v,_,x;const S=u-o,T=h-l;if(i.isHorizontal()){if(_=ye(a,l,h),Tt(n)){const C=Object.keys(n)[0],R=n[C];x=p[C].getPixelForValue(R)+S-t}else n==="center"?x=(g.bottom+g.top)/2+S-t:x=Sy(i,n,t);v=h-l}else{if(Tt(n)){const C=Object.keys(n)[0],R=n[C];_=p[C].getPixelForValue(R)-T+t}else n==="center"?_=(g.left+g.right)/2-T+t:_=Sy(i,n,t);x=ye(a,u,o),b=n==="left"?-hn:hn}return{titleX:_,titleY:x,maxWidth:v,rotation:b}}class ua extends os{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:o}=this;return t=yn(t,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),a=yn(a,Number.POSITIVE_INFINITY),o=yn(o,Number.NEGATIVE_INFINITY),{min:yn(t,a),max:yn(n,o),minDefined:ve(t),maxDefined:ve(n)}}getMinMax(t){let{min:n,max:a,minDefined:o,maxDefined:l}=this.getUserBounds(),u;if(o&&l)return{min:n,max:a};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),o||(n=Math.min(n,u.min)),l||(a=Math.max(a,u.max));return n=l&&n>a?a:n,a=o&&n>a?n:a,{min:yn(n,yn(a,n)),max:yn(a,yn(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pt(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:o,grace:l,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ix(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Ey(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=dT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pt(this.options.afterUpdate,[this])}beforeSetDimensions(){Pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,o,l;for(a=0,o=t.length;a<o;a++)l=t[a],l.label=Pt(n.callback,[l.value,a,t],this)}afterTickToLabelConversion(){Pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=Ty(this.ticks.length,t.ticks.maxTicksLimit),o=n.minRotation||0,l=n.maxRotation;let u=o,h,f,g;if(!this._isVisible()||!n.display||o>=l||a<=1||!this.isHorizontal()){this.labelRotation=o;return}const p=this._getLabelSizes(),b=p.widest.width,v=p.highest.height,_=en(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/a:_/(a-1),b+6>h&&(h=_/(a-(t.offset?.5:1)),f=this.maxHeight-ur(t.grid)-n.padding-Ay(t.title,this.chart.options.font),g=Math.sqrt(b*b+v*v),u=fx(Math.min(Math.asin(en((p.highest.height+6)/h,-1,1)),Math.asin(en(f/g,-1,1))-Math.asin(en(v/g,-1,1)))),u=Math.max(o,Math.min(l,u))),this.labelRotation=u}afterCalculateLabelRotation(){Pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:o,grid:l}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=Ay(o,n.options.font);if(h?(t.width=this.maxWidth,t.height=ur(l)+f):(t.height=this.maxHeight,t.width=ur(l)+f),a.display&&this.ticks.length){const{first:g,last:p,widest:b,highest:v}=this._getLabelSizes(),_=a.padding*2,x=ts(this.labelRotation),S=Math.cos(x),T=Math.sin(x);if(h){const C=a.mirror?0:T*b.width+S*v.height;t.height=Math.min(this.maxHeight,t.height+C+_)}else{const C=a.mirror?0:S*b.width+T*v.height;t.width=Math.min(this.maxWidth,t.width+C+_)}this._calculatePadding(g,p,T,S)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,o){const{ticks:{align:l,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;f?g?(v=o*t.width,_=a*n.height):(v=a*t.height,_=o*n.width):l==="start"?_=n.width:l==="end"?v=t.width:l!=="inner"&&(v=t.width/2,_=n.width/2),this.paddingLeft=Math.max((v-p+u)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-b+u)*this.width/(this.width-b),0)}else{let p=n.height/2,b=t.height/2;l==="start"?(p=0,b=t.height):l==="end"&&(p=n.height,b=0),this.paddingTop=p+u,this.paddingBottom=b+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)Bt(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=Ey(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:o,_longestTextCache:l}=this,u=[],h=[],f=Math.floor(n/Ty(n,a));let g=0,p=0,b,v,_,x,S,T,C,R,D,U,q;for(b=0;b<n;b+=f){if(x=t[b].label,S=this._resolveTickFontOptions(b),o.font=T=S.string,C=l[T]=l[T]||{data:{},gc:[]},R=S.lineHeight,D=U=0,!Bt(x)&&!ie(x))D=ny(o,C.data,C.gc,D,x),U=R;else if(ie(x))for(v=0,_=x.length;v<_;++v)q=x[v],!Bt(q)&&!ie(q)&&(D=ny(o,C.data,C.gc,D,q),U+=R);u.push(D),h.push(U),g=Math.max(D,g),p=Math.max(U,p)}wT(l,n);const I=u.indexOf(g),P=h.indexOf(p),F=Q=>({width:u[Q]||0,height:h[Q]||0});return{first:F(0),last:F(n-1),widest:F(I),highest:F(P),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return mx(this._alignToPixels?Gi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=ST(this.getContext(),t,a))}return this.$context||(this.$context=xT(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ts(this.labelRotation),a=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),l=this._getLabelSizes(),u=t.autoSkipPadding||0,h=l?l.widest.width+u:0,f=l?l.highest.height+u:0;return this.isHorizontal()?f*a>h*o?h/a:f/o:f*o<h*a?f/a:h/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,o=this.options,{grid:l,position:u,border:h}=o,f=l.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),v=ur(l),_=[],x=h.setContext(this.getContext()),S=x.display?x.width:0,T=S/2,C=function(B){return Gi(a,B,S)};let R,D,U,q,I,P,F,Q,dt,it,rt,kt;if(u==="top")R=C(this.bottom),P=this.bottom-v,Q=R-T,it=C(t.top)+T,kt=t.bottom;else if(u==="bottom")R=C(this.top),it=t.top,kt=C(t.bottom)-T,P=R+T,Q=this.top+v;else if(u==="left")R=C(this.right),I=this.right-v,F=R-T,dt=C(t.left)+T,rt=t.right;else if(u==="right")R=C(this.left),dt=t.left,rt=C(t.right)-T,I=R+T,F=this.left+v;else if(n==="x"){if(u==="center")R=C((t.top+t.bottom)/2+.5);else if(Tt(u)){const B=Object.keys(u)[0],X=u[B];R=C(this.chart.scales[B].getPixelForValue(X))}it=t.top,kt=t.bottom,P=R+T,Q=P+v}else if(n==="y"){if(u==="center")R=C((t.left+t.right)/2);else if(Tt(u)){const B=Object.keys(u)[0],X=u[B];R=C(this.chart.scales[B].getPixelForValue(X))}I=R-T,F=I-v,dt=t.left,rt=t.right}const st=St(o.ticks.maxTicksLimit,b),ct=Math.max(1,Math.ceil(b/st));for(D=0;D<b;D+=ct){const B=this.getContext(D),X=l.setContext(B),W=h.setContext(B),tt=X.lineWidth,ot=X.color,E=W.dash||[],L=W.dashOffset,Y=X.tickWidth,J=X.tickColor,lt=X.tickBorderDash||[],gt=X.tickBorderDashOffset;U=_T(this,D,f),U!==void 0&&(q=Gi(a,U,tt),g?I=F=dt=rt=q:P=Q=it=kt=q,_.push({tx1:I,ty1:P,tx2:F,ty2:Q,x1:dt,y1:it,x2:rt,y2:kt,width:tt,color:ot,borderDash:E,borderDashOffset:L,tickWidth:Y,tickColor:J,tickBorderDash:lt,tickBorderDashOffset:gt}))}return this._ticksLength=b,this._borderValue=R,_}_computeLabelItems(t){const n=this.axis,a=this.options,{position:o,ticks:l}=a,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:p,mirror:b}=l,v=ur(a.grid),_=v+p,x=b?-p:_,S=-ts(this.labelRotation),T=[];let C,R,D,U,q,I,P,F,Q,dt,it,rt,kt="middle";if(o==="top")I=this.bottom-x,P=this._getXAxisLabelAlignment();else if(o==="bottom")I=this.top+x,P=this._getXAxisLabelAlignment();else if(o==="left"){const ct=this._getYAxisLabelAlignment(v);P=ct.textAlign,q=ct.x}else if(o==="right"){const ct=this._getYAxisLabelAlignment(v);P=ct.textAlign,q=ct.x}else if(n==="x"){if(o==="center")I=(t.top+t.bottom)/2+_;else if(Tt(o)){const ct=Object.keys(o)[0],B=o[ct];I=this.chart.scales[ct].getPixelForValue(B)+_}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")q=(t.left+t.right)/2-_;else if(Tt(o)){const ct=Object.keys(o)[0],B=o[ct];q=this.chart.scales[ct].getPixelForValue(B)}P=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(f==="start"?kt="top":f==="end"&&(kt="bottom"));const st=this._getLabelSizes();for(C=0,R=h.length;C<R;++C){D=h[C],U=D.label;const ct=l.setContext(this.getContext(C));F=this.getPixelForTick(C)+l.labelOffset,Q=this._resolveTickFontOptions(C),dt=Q.lineHeight,it=ie(U)?U.length:1;const B=it/2,X=ct.color,W=ct.textStrokeColor,tt=ct.textStrokeWidth;let ot=P;u?(q=F,P==="inner"&&(C===R-1?ot=this.options.reverse?"left":"right":C===0?ot=this.options.reverse?"right":"left":ot="center"),o==="top"?g==="near"||S!==0?rt=-it*dt+dt/2:g==="center"?rt=-st.highest.height/2-B*dt+dt:rt=-st.highest.height+dt/2:g==="near"||S!==0?rt=dt/2:g==="center"?rt=st.highest.height/2-B*dt:rt=st.highest.height-it*dt,b&&(rt*=-1),S!==0&&!ct.showLabelBackdrop&&(q+=dt/2*Math.sin(S))):(I=F,rt=(1-it)*dt/2);let E;if(ct.showLabelBackdrop){const L=sn(ct.backdropPadding),Y=st.heights[C],J=st.widths[C];let lt=rt-L.top,gt=0-L.left;switch(kt){case"middle":lt-=Y/2;break;case"bottom":lt-=Y;break}switch(P){case"center":gt-=J/2;break;case"right":gt-=J;break;case"inner":C===R-1?gt-=J:C>0&&(gt-=J/2);break}E={left:gt,top:lt,width:J+L.width,height:Y+L.height,color:ct.backdropColor}}T.push({label:U,font:Q,textOffset:rt,options:{rotation:S,color:X,strokeColor:W,strokeWidth:tt,textAlign:ot,textBaseline:kt,translation:[q,I],backdrop:E}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ts(this.labelRotation))return t==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:o,padding:l}}=this.options,u=this._getLabelSizes(),h=t+l,f=u.widest.width;let g,p;return n==="left"?o?(p=this.right+l,a==="near"?g="left":a==="center"?(g="center",p+=f/2):(g="right",p+=f)):(p=this.right-h,a==="near"?g="right":a==="center"?(g="center",p-=f/2):(g="left",p=this.left)):n==="right"?o?(p=this.left+l,a==="near"?g="right":a==="center"?(g="center",p-=f/2):(g="left",p-=f)):(p=this.left+h,a==="near"?g="left":a==="center"?(g="center",p+=f/2):(g="right",p=this.right)):g="right",{textAlign:g,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:o,width:l,height:u}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,o,l,u),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(l=>l.value===t);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,u;const h=(f,g,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(f.x,f.y),a.lineTo(g.x,g.y),a.stroke(),a.restore())};if(n.display)for(l=0,u=o.length;l<u;++l){const f=o[l];n.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:o}}=this,l=a.setContext(this.getContext()),u=a.display?l.width:0;if(!u)return;const h=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,p,b,v;this.isHorizontal()?(g=Gi(t,this.left,u)-u/2,p=Gi(t,this.right,h)+h/2,b=v=f):(b=Gi(t,this.top,u)-u/2,v=Gi(t,this.bottom,h)+h/2,g=p=f),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(g,b),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,o=this._computeLabelArea();o&&Il(a,o);const l=this.getLabelItems(t);for(const u of l){const h=u.options,f=u.font,g=u.label,p=u.textOffset;kr(a,g,0,p,f,h)}o&&Gl(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:o}}=this;if(!a.display)return;const l=be(a.font),u=sn(a.padding),h=a.align;let f=l.lineHeight/2;n==="bottom"||n==="center"||Tt(n)?(f+=u.bottom,ie(a.text)&&(f+=l.lineHeight*(a.text.length-1))):f+=u.top;const{titleX:g,titleY:p,maxWidth:b,rotation:v}=ET(this,f,n,h);kr(t,a.text,0,0,l,{color:a.color,maxWidth:b,rotation:v,textAlign:TT(h,n,o),textBaseline:"middle",translation:[g,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=St(t.grid&&t.grid.z,-1),o=St(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ua.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:a,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",o=[];let l,u;for(l=0,u=n.length;l<u;++l){const h=n[l];h[a]===this.id&&(!t||h.type===t)&&o.push(h)}return o}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return be(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ml{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;CT(n)&&(a=this.register(n));const o=this.items,l=t.id,u=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in o||(o[l]=t,AT(t,u,a),this.override&&Wt.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,o=this.scope;a in n&&delete n[a],o&&a in Wt[o]&&(delete Wt[o][a],this.override&&delete as[a])}}function AT(i,t,n){const a=Ar(Object.create(null),[n?Wt.get(n):{},Wt.get(t),i.defaults]);Wt.set(t,a),i.defaultRoutes&&OT(t,i.defaultRoutes),i.descriptors&&Wt.describe(t,i.descriptors)}function OT(i,t){Object.keys(t).forEach(n=>{const a=n.split("."),o=a.pop(),l=[i].concat(a).join("."),u=t[n].split("."),h=u.pop(),f=u.join(".");Wt.route(l,o,f,h)})}function CT(i){return"id"in i&&"defaults"in i}class kT{constructor(){this.controllers=new ml(ov,"datasets",!0),this.elements=new ml(os,"elements"),this.plugins=new ml(Object,"plugins"),this.scales=new ml(ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(o=>{const l=a||this._getRegistryForType(o);a||l.isForType(o)||l===this.plugins&&o.id?this._exec(t,l,o):Dt(o,u=>{const h=a||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,n,a){const o=bf(t);Pt(a["before"+o],[],a),n[t](a),Pt(a["after"+o],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const o=n.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return o}}var vn=new kT;class RT{constructor(){this._init=void 0}notify(t,n,a,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=o?this._descriptors(t).filter(o):this._descriptors(t),u=this._notify(l,t,n,a);return n==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,n,a,o){o=o||{};for(const l of t){const u=l.plugin,h=u[a],f=[n,o,l.options];if(Pt(h,f,u)===!1&&o.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,o=St(a.options&&a.options.plugins,{}),l=MT(a);return o===!1&&!n?[]:jT(t,l,o,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,o=(l,u)=>l.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(o(n,a),t,"stop"),this._notify(o(a,n),t,"start")}}function MT(i){const t={},n=[],a=Object.keys(vn.plugins.items);for(let l=0;l<a.length;l++)n.push(vn.getPlugin(a[l]));const o=i.plugins||[];for(let l=0;l<o.length;l++){const u=o[l];n.indexOf(u)===-1&&(n.push(u),t[u.id]=!0)}return{plugins:n,localIds:t}}function DT(i,t){return!t&&i===!1?null:i===!0?{}:i}function jT(i,{plugins:t,localIds:n},a,o){const l=[],u=i.getContext();for(const h of t){const f=h.id,g=DT(a[f],o);g!==null&&l.push({plugin:h,options:NT(i.config,{plugin:h,local:n[f]},g,u)})}return l}function NT(i,{plugin:t,local:n},a,o){const l=i.pluginScopeKeys(t),u=i.getOptionScopes(a,l);return n&&t.defaults&&u.push(t.defaults),i.createResolver(u,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Wh(i,t){const n=Wt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function zT(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function UT(i,t){return i===t?"_index_":"_value_"}function Oy(i){if(i==="x"||i==="y"||i==="r")return i}function LT(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Xh(i,...t){if(Oy(i))return i;for(const n of t){const a=n.axis||LT(n.position)||i.length>1&&Oy(i[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Cy(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function BT(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===i||a.yAxisID===i);if(n.length)return Cy(i,"x",n[0])||Cy(i,"y",n[0])}return{}}function HT(i,t){const n=as[i.type]||{scales:{}},a=t.scales||{},o=Wh(i.type,t),l=Object.create(null);return Object.keys(a).forEach(u=>{const h=a[u];if(!Tt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Xh(u,h,BT(u,i),Wt.scales[h.type]),g=UT(f,o),p=n.scales||{};l[u]=br(Object.create(null),[{axis:f},h,p[f],p[g]])}),i.data.datasets.forEach(u=>{const h=u.type||i.type,f=u.indexAxis||Wh(h,t),p=(as[h]||{}).scales||{};Object.keys(p).forEach(b=>{const v=zT(b,f),_=u[v+"AxisID"]||v;l[_]=l[_]||Object.create(null),br(l[_],[{axis:v},a[_],p[b]])})}),Object.keys(l).forEach(u=>{const h=l[u];br(h,[Wt.scales[h.type],Wt.scale])}),l}function dv(i){const t=i.options||(i.options={});t.plugins=St(t.plugins,{}),t.scales=HT(i,t)}function gv(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function qT(i){return i=i||{},i.data=gv(i.data),dv(i),i}const ky=new Map,mv=new Set;function pl(i,t){let n=ky.get(i);return n||(n=t(),ky.set(i,n),mv.add(n)),n}const hr=(i,t,n)=>{const a=zl(t,n);a!==void 0&&i.add(a)};class PT{constructor(t){this._config=qT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=gv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),dv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return pl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return pl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return pl(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let o=a.get(t);return(!o||n)&&(o=new Map,a.set(t,o)),o}getOptionScopes(t,n,a){const{options:o,type:l}=this,u=this._cachedScopes(t,a),h=u.get(n);if(h)return h;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(b=>hr(f,t,b))),p.forEach(b=>hr(f,o,b)),p.forEach(b=>hr(f,as[l]||{},b)),p.forEach(b=>hr(f,Wt,b)),p.forEach(b=>hr(f,Yh,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),mv.has(n)&&u.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,as[n]||{},Wt.datasets[n]||{},{type:n},Wt,Yh]}resolveNamedOptions(t,n,a,o=[""]){const l={$shared:!0},{resolver:u,subPrefixes:h}=Ry(this._resolverCache,t,o);let f=u;if(VT(u,n)){l.$shared=!1,a=Ti(a)?a():a;const g=this.createResolver(t,a,h);f=la(u,a,g)}for(const g of n)l[g]=f[g];return l}createResolver(t,n,a=[""],o){const{resolver:l}=Ry(this._resolverCache,t,a);return Tt(n)?la(l,n,void 0,o):l}}function Ry(i,t,n){let a=i.get(t);a||(a=new Map,i.set(t,a));const o=n.join();let l=a.get(o);return l||(l={resolver:xf(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},a.set(o,l)),l}const $T=i=>Tt(i)&&Object.getOwnPropertyNames(i).some(t=>Ti(i[t]));function VT(i,t){const{isScriptable:n,isIndexable:a}=Fb(i);for(const o of t){const l=n(o),u=a(o),h=(u||l)&&i[o];if(l&&(Ti(h)||$T(h))||u&&ie(h))return!0}return!1}var IT="4.5.1";const GT=["top","bottom","left","right","chartArea"];function My(i,t){return i==="top"||i==="bottom"||GT.indexOf(i)===-1&&t==="x"}function Dy(i,t){return function(n,a){return n[i]===a[i]?n[t]-a[t]:n[i]-a[i]}}function jy(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Pt(n&&n.onComplete,[i],t)}function YT(i){const t=i.chart,n=t.options.animation;Pt(n&&n.onProgress,[i],t)}function pv(i){return Ef()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Dl={},Ny=i=>{const t=pv(i);return Object.values(Dl).filter(n=>n.canvas===t).pop()};function KT(i,t,n){const a=Object.keys(i);for(const o of a){const l=+o;if(l>=t){const u=i[o];delete i[o],(n>0||l>t)&&(i[l+n]=u)}}}function FT(i,t,n,a){return!n||i.type==="mouseout"?null:a?t:i}let Fl=class{static defaults=Wt;static instances=Dl;static overrides=as;static registry=vn;static version=IT;static getChart=Ny;static register(...t){vn.add(...t),zy()}static unregister(...t){vn.remove(...t),zy()}constructor(t,n){const a=this.config=new PT(n),o=pv(t),l=Ny(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const u=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||fT(o)),this.platform.updateConfig(a);const h=this.platform.acquireContext(o,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,p=f&&f.width;if(this.id=Zw(),this.ctx=h,this.canvas=f,this.width=p,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_x(b=>this.update(b),u.resizeDelay||0),this._dataChanges=[],Dl[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",jy),qn.listen(this,"progress",YT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:o,_aspectRatio:l}=this;return Bt(t)?n&&l?l:o?a/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ry(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iy(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(t,n){qn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,o=this.canvas,l=a.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(o,t,n,l),h=a.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,ry(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Pt(a.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Dt(n,(a,o)=>{a.id=o})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,o=Object.keys(a).reduce((u,h)=>(u[h]=!1,u),{});let l=[];n&&(l=l.concat(Object.keys(n).map(u=>{const h=n[u],f=Xh(u,h),g=f==="r",p=f==="x";return{options:h,dposition:g?"chartArea":p?"bottom":"left",dtype:g?"radialLinear":p?"category":"linear"}}))),Dt(l,u=>{const h=u.options,f=h.id,g=Xh(f,h),p=St(h.type,u.dtype);(h.position===void 0||My(h.position,g)!==My(u.dposition))&&(h.position=u.dposition),o[f]=!0;let b=null;if(f in a&&a[f].type===p)b=a[f];else{const v=vn.getScale(p);b=new v({id:f,type:p,ctx:this.ctx,chart:this}),a[b.id]=b}b.init(h,t)}),Dt(o,(u,h)=>{u||delete a[h]}),Dt(a,u=>{nn.configure(this,u,u.options),nn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((o,l)=>o.index-l.index),a>n){for(let o=n;o<a;++o)this._destroyDatasetMeta(o);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(Dy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,o)=>{n.filter(l=>l===a._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,o;for(this._removeUnreferencedMetasets(),a=0,o=n.length;a<o;a++){const l=n[a];let u=this.getDatasetMeta(a);const h=l.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(a),u=this.getDatasetMeta(a)),u.type=h,u.indexAxis=l.indexAxis||Wh(h,this.options),u.order=l.order||0,u.index=a,u.label=""+l.label,u.visible=this.isDatasetVisible(a),u.controller)u.controller.updateIndex(a),u.controller.linkScales();else{const f=vn.getController(h),{datasetElementType:g,dataElementType:p}=Wt.datasets[h];Object.assign(f,{dataElementType:vn.getElement(p),datasetElementType:g&&vn.getElement(g)}),u.controller=new f(this,a),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,p=this.data.datasets.length;g<p;g++){const{controller:b}=this.getDatasetMeta(g),v=!o&&l.indexOf(b)===-1;b.buildOrUpdateElements(v),u=Math.max(+b.getMaxOverflow(),u)}u=this._minPadding=a.layout.autoPadding?u:0,this._updateLayout(u),o||Dt(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Dy("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Dt(this.scales,t=>{nn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!Kp(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:o,count:l}of n){const u=a==="_removeElements"?-l:l;KT(t,o,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=l=>new Set(t.filter(u=>u[0]===l).map((u,h)=>h+","+u.splice(1).join(","))),o=a(0);for(let l=1;l<n;l++)if(!Kp(o,a(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],Dt(this.boxes,o=>{a&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Ti(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),o={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(a.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),jy({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];(!t||u.visible)&&a.push(u)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},o=sv(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Il(n,o),t.controller.draw(),o&&Gl(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Cr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,o){const l=GS.modes[n];return typeof l=="function"?l(this,t,a,o):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let o=a.filter(l=>l&&l._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(o)),o}getContext(){return this.$context||(this.$context=rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const o=a?"show":"hide",l=this.getDatasetMeta(t),u=l.controller._resolveAnimations(void 0,o);Ul(n)?(l.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),u.update(l,{visible:a}),this.update(h=>h.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),qn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),iy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},o=(l,u,h)=>{l.offsetX=u,l.offsetY=h,this._eventHandler(l)};Dt(this.options.events,l=>a(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(f,g)=>{n.addEventListener(this,f,g),t[f]=g},o=(f,g)=>{t[f]&&(n.removeEventListener(this,f,g),delete t[f])},l=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{o("attach",h),this.attached=!0,this.resize(),a("resize",l),a("detach",u)};u=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),a("attach",h)},n.isAttached(this.canvas)?h():u()}unbindEvents(){Dt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Dt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const o=a?"set":"remove";let l,u,h,f;for(n==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[o+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:l,index:u})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[u],index:u}});!jl(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const o=this.options.hover,l=(f,g)=>f.filter(p=>!g.some(b=>p.datasetIndex===b.datasetIndex&&p.index===b.index)),u=l(n,t),h=a?t:l(t,n);u.length&&this.updateHoverStyle(u,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,o)===!1)return;const l=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,o),(l||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:o=[],options:l}=this,u=n,h=this._getActiveElements(t,o,a,u),f=ax(t),g=FT(t,this._lastEvent,a,f);a&&(this._lastEvent=null,Pt(l.onHover,[t,h,this],this),f&&Pt(l.onClick,[t,h,this],this));const p=!jl(h,o);return(p||n)&&(this._active=h,this._updateHoverStyles(h,o,n)),this._lastEvent=g,p}_getActiveElements(t,n,a,o){if(t.type==="mouseout")return[];if(!a)return n;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,o)}};function zy(){return Dt(Fl.instances,i=>i._plugins.invalidate())}function yv(i,t,n=t){i.lineCap=St(n.borderCapStyle,t.borderCapStyle),i.setLineDash(St(n.borderDash,t.borderDash)),i.lineDashOffset=St(n.borderDashOffset,t.borderDashOffset),i.lineJoin=St(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=St(n.borderWidth,t.borderWidth),i.strokeStyle=St(n.borderColor,t.borderColor)}function WT(i,t,n){i.lineTo(n.x,n.y)}function XT(i){return i.stepped?Nx:i.tension||i.cubicInterpolationMode==="monotone"?zx:WT}function bv(i,t,n={}){const a=i.length,{start:o=0,end:l=a-1}=n,{start:u,end:h}=t,f=Math.max(o,u),g=Math.min(l,h),p=o<u&&l<u||o>h&&l>h;return{count:a,start:f,loop:t.loop,ilen:g<f&&!p?a+g-f:g-f}}function QT(i,t,n,a){const{points:o,options:l}=t,{count:u,start:h,loop:f,ilen:g}=bv(o,n,a),p=XT(l);let{move:b=!0,reverse:v}=a||{},_,x,S;for(_=0;_<=g;++_)x=o[(h+(v?g-_:_))%u],!x.skip&&(b?(i.moveTo(x.x,x.y),b=!1):p(i,S,x,v,l.stepped),S=x);return f&&(x=o[(h+(v?g:0))%u],p(i,S,x,v,l.stepped)),!!f}function JT(i,t,n,a){const o=t.points,{count:l,start:u,ilen:h}=bv(o,n,a),{move:f=!0,reverse:g}=a||{};let p=0,b=0,v,_,x,S,T,C;const R=U=>(u+(g?h-U:U))%l,D=()=>{S!==T&&(i.lineTo(p,T),i.lineTo(p,S),i.lineTo(p,C))};for(f&&(_=o[R(0)],i.moveTo(_.x,_.y)),v=0;v<=h;++v){if(_=o[R(v)],_.skip)continue;const U=_.x,q=_.y,I=U|0;I===x?(q<S?S=q:q>T&&(T=q),p=(b*p+U)/++b):(D(),i.lineTo(U,q),x=I,b=0,S=T=q),C=q}D()}function Qh(i){const t=i.options,n=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?JT:QT}function ZT(i){return i.stepped?gS:i.tension||i.cubicInterpolationMode==="monotone"?mS:Xi}function t1(i,t,n,a){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,a)&&o.closePath()),yv(i,t.options),i.stroke(o)}function e1(i,t,n,a){const{segments:o,options:l}=t,u=Qh(t);for(const h of o)yv(i,l,h.style),i.beginPath(),u(i,t,h,{start:n,end:n+a-1})&&i.closePath(),i.stroke()}const n1=typeof Path2D=="function";function i1(i,t,n,a){n1&&!t.options.segment?t1(i,t,n,a):e1(i,t,n,a)}class Wl extends os{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const o=a.spanGaps?this._loop:this._fullLoop;rS(this._points,a,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){const a=this.options,o=t[n],l=this.points,u=iv(this,{property:n,start:o,end:o});if(!u.length)return;const h=[],f=ZT(a);let g,p;for(g=0,p=u.length;g<p;++g){const{start:b,end:v}=u[g],_=l[b],x=l[v];if(_===x){h.push(_);continue}const S=Math.abs((o-_[n])/(x[n]-_[n])),T=f(_,x,S,a.stepped);T[n]=t[n],h.push(T)}return h.length===1?h[0]:h}pathSegment(t,n,a){return Qh(this)(t,this,n,a)}path(t,n,a){const o=this.segments,l=Qh(this);let u=this._loop;n=n||0,a=a||this.points.length-n;for(const h of o)u&=l(t,this,h,{start:n,end:n+a-1});return!!u}draw(t,n,a,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),i1(t,this,a,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Uy(i,t,n,a){const o=i.options,{[n]:l}=i.getProps([n],a);return Math.abs(t-l)<o.radius+o.hitRadius}class s1 extends os{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,a){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],a);return Math.pow(t-l,2)+Math.pow(n-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return Uy(this,t,"x",n)}inYRange(t,n){return Uy(this,t,"y",n)}getCenterPoint(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const a=n&&t.borderWidth||0;return(n+a)*2}draw(t,n){const a=this.options;this.skip||a.radius<.1||!Cr(this,n,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,Kh(t,a,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function a1(i,t,n){const a=i.segments,o=i.points,l=t.points,u=[];for(const h of a){let{start:f,end:g}=h;g=Xl(f,g,o);const p=Jh(n,o[f],o[g],h.loop);if(!t.segments){u.push({source:h,target:p,start:o[f],end:o[g]});continue}const b=iv(t,p);for(const v of b){const _=Jh(n,l[v.start],l[v.end],v.loop),x=nv(h,o,_);for(const S of x)u.push({source:S,target:v,start:{[n]:Ly(p,_,"start",Math.max)},end:{[n]:Ly(p,_,"end",Math.min)}})}}return u}function Jh(i,t,n,a){if(a)return;let o=t[i],l=n[i];return i==="angle"&&(o=_n(o),l=_n(l)),{property:i,start:o,end:l}}function r1(i,t){const{x:n=null,y:a=null}=i||{},o=t.points,l=[];return t.segments.forEach(({start:u,end:h})=>{h=Xl(u,h,o);const f=o[u],g=o[h];a!==null?(l.push({x:f.x,y:a}),l.push({x:g.x,y:a})):n!==null&&(l.push({x:n,y:f.y}),l.push({x:n,y:g.y}))}),l}function Xl(i,t,n){for(;t>i;t--){const a=n[t];if(!isNaN(a.x)&&!isNaN(a.y))break}return t}function Ly(i,t,n,a){return i&&t?a(i[n],t[n]):i?i[n]:t?t[n]:0}function vv(i,t){let n=[],a=!1;return ie(i)?(a=!0,n=i):n=r1(i,t),n.length?new Wl({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function By(i){return i&&i.fill!==!1}function o1(i,t,n){let o=i[t].fill;const l=[t];let u;if(!n)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!ve(o))return o;if(u=i[o],!u)return!1;if(u.visible)return o;l.push(o),o=u.fill}return!1}function l1(i,t,n){const a=f1(i);if(Tt(a))return isNaN(a.value)?!1:a;let o=parseFloat(a);return ve(o)&&Math.floor(o)===o?c1(a[0],t,o,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function c1(i,t,n,a){return(i==="-"||i==="+")&&(n=t+n),n===t||n<0||n>=a?!1:n}function u1(i,t){let n=null;return i==="start"?n=t.bottom:i==="end"?n=t.top:Tt(i)?n=t.getPixelForValue(i.value):t.getBasePixel&&(n=t.getBasePixel()),n}function h1(i,t,n){let a;return i==="start"?a=n:i==="end"?a=t.options.reverse?t.min:t.max:Tt(i)?a=i.value:a=t.getBaseValue(),a}function f1(i){const t=i.options,n=t.fill;let a=St(n&&n.target,n);return a===void 0&&(a=!!t.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function d1(i){const{scale:t,index:n,line:a}=i,o=[],l=a.segments,u=a.points,h=g1(t,n);h.push(vv({x:null,y:t.bottom},a));for(let f=0;f<l.length;f++){const g=l[f];for(let p=g.start;p<=g.end;p++)m1(o,u[p],h)}return new Wl({points:o,options:{}})}function g1(i,t){const n=[],a=i.getMatchingVisibleMetas("line");for(let o=0;o<a.length;o++){const l=a[o];if(l.index===t)break;l.hidden||n.unshift(l.dataset)}return n}function m1(i,t,n){const a=[];for(let o=0;o<n.length;o++){const l=n[o],{first:u,last:h,point:f}=p1(l,t,"x");if(!(!f||u&&h)){if(u)a.unshift(f);else if(i.push(f),!h)break}}i.push(...a)}function p1(i,t,n){const a=i.interpolate(t,n);if(!a)return{};const o=a[n],l=i.segments,u=i.points;let h=!1,f=!1;for(let g=0;g<l.length;g++){const p=l[g],b=u[p.start][n],v=u[p.end][n];if(ia(o,b,v)){h=o===b,f=o===v;break}}return{first:h,last:f,point:a}}class _v{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,a){const{x:o,y:l,radius:u}=this;return n=n||{start:0,end:fn},t.arc(o,l,u,n.end,n.start,!0),!a.bounds}interpolate(t){const{x:n,y:a,radius:o}=this,l=t.angle;return{x:n+Math.cos(l)*o,y:a+Math.sin(l)*o,angle:l}}}function y1(i){const{chart:t,fill:n,line:a}=i;if(ve(n))return b1(t,n);if(n==="stack")return d1(i);if(n==="shape")return!0;const o=v1(i);return o instanceof _v?o:vv(o,a)}function b1(i,t){const n=i.getDatasetMeta(t);return n&&i.isDatasetVisible(t)?n.dataset:null}function v1(i){return(i.scale||{}).getPointPositionForValue?w1(i):_1(i)}function _1(i){const{scale:t={},fill:n}=i,a=u1(n,t);if(ve(a)){const o=t.isHorizontal();return{x:o?a:null,y:o?null:a}}return null}function w1(i){const{scale:t,fill:n}=i,a=t.options,o=t.getLabels().length,l=a.reverse?t.max:t.min,u=h1(n,t,l),h=[];if(a.grid.circular){const f=t.getPointPositionForValue(0,l);return new _v({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<o;++f)h.push(t.getPointPositionForValue(f,u));return h}function zh(i,t,n){const a=y1(t),{chart:o,index:l,line:u,scale:h,axis:f}=t,g=u.options,p=g.fill,b=g.backgroundColor,{above:v=b,below:_=b}=p||{},x=o.getDatasetMeta(l),S=sv(o,x);a&&u.points.length&&(Il(i,n),x1(i,{line:u,target:a,above:v,below:_,area:n,scale:h,axis:f,clip:S}),Gl(i))}function x1(i,t){const{line:n,target:a,above:o,below:l,area:u,scale:h,clip:f}=t,g=n._loop?"angle":t.axis;i.save();let p=l;l!==o&&(g==="x"?(Hy(i,a,u.top),Uh(i,{line:n,target:a,color:o,scale:h,property:g,clip:f}),i.restore(),i.save(),Hy(i,a,u.bottom)):g==="y"&&(qy(i,a,u.left),Uh(i,{line:n,target:a,color:l,scale:h,property:g,clip:f}),i.restore(),i.save(),qy(i,a,u.right),p=o)),Uh(i,{line:n,target:a,color:p,scale:h,property:g,clip:f}),i.restore()}function Hy(i,t,n){const{segments:a,points:o}=t;let l=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,p=o[f],b=o[Xl(f,g,o)];l?(i.moveTo(p.x,p.y),l=!1):(i.lineTo(p.x,n),i.lineTo(p.x,p.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(b.x,n)}i.lineTo(t.first().x,n),i.closePath(),i.clip()}function qy(i,t,n){const{segments:a,points:o}=t;let l=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,p=o[f],b=o[Xl(f,g,o)];l?(i.moveTo(p.x,p.y),l=!1):(i.lineTo(n,p.y),i.lineTo(p.x,p.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(n,b.y)}i.lineTo(n,t.first().y),i.closePath(),i.clip()}function Uh(i,t){const{line:n,target:a,property:o,color:l,scale:u,clip:h}=t,f=a1(n,a,o);for(const{source:g,target:p,start:b,end:v}of f){const{style:{backgroundColor:_=l}={}}=g,x=a!==!0;i.save(),i.fillStyle=_,S1(i,u,h,x&&Jh(o,b,v)),i.beginPath();const S=!!n.pathSegment(i,g);let T;if(x){S?i.closePath():Py(i,a,v,o);const C=!!a.pathSegment(i,p,{move:S,reverse:!0});T=S&&C,T||Py(i,a,b,o)}i.closePath(),i.fill(T?"evenodd":"nonzero"),i.restore()}}function S1(i,t,n,a){const o=t.chart.chartArea,{property:l,start:u,end:h}=a||{};if(l==="x"||l==="y"){let f,g,p,b;l==="x"?(f=u,g=o.top,p=h,b=o.bottom):(f=o.left,g=u,p=o.right,b=h),i.beginPath(),n&&(f=Math.max(f,n.left),p=Math.min(p,n.right),g=Math.max(g,n.top),b=Math.min(b,n.bottom)),i.rect(f,g,p-f,b-g),i.clip()}}function Py(i,t,n,a){const o=t.interpolate(n,a);o&&i.lineTo(o.x,o.y)}var T1={id:"filler",afterDatasetsUpdate(i,t,n){const a=(i.data.datasets||[]).length,o=[];let l,u,h,f;for(u=0;u<a;++u)l=i.getDatasetMeta(u),h=l.dataset,f=null,h&&h.options&&h instanceof Wl&&(f={visible:i.isDatasetVisible(u),index:u,fill:l1(h,u,a),chart:i,axis:l.controller.options.indexAxis,scale:l.vScale,line:h}),l.$filler=f,o.push(f);for(u=0;u<a;++u)f=o[u],!(!f||f.fill===!1)&&(f.fill=o1(o,u,n.propagate))},beforeDraw(i,t,n){const a=n.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),l=i.chartArea;for(let u=o.length-1;u>=0;--u){const h=o[u].$filler;h&&(h.line.updateControlPoints(l,h.axis),a&&h.fill&&zh(i.ctx,h,l))}},beforeDatasetsDraw(i,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const a=i.getSortedVisibleDatasetMetas();for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;By(l)&&zh(i.ctx,l,i.chartArea)}},beforeDatasetDraw(i,t,n){const a=t.meta.$filler;!By(a)||n.drawTime!=="beforeDatasetDraw"||zh(i.ctx,a,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const $y=(i,t)=>{let{boxHeight:n=t,boxWidth:a=t}=i;return i.usePointStyle&&(n=Math.min(n,t),a=i.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},E1=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Vy extends os{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Pt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,o)=>t.sort(a,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,o=be(a.font),l=o.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=$y(a,l);let g,p;n.font=o.string,this.isHorizontal()?(g=this.maxWidth,p=this._fitRows(u,l,h,f)+10):(p=this.maxHeight,g=this._fitCols(u,o,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,o){const{ctx:l,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],p=o+h;let b=t;l.textAlign="left",l.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((x,S)=>{const T=a+n/2+l.measureText(x.text).width;(S===0||g[g.length-1]+T+2*h>u)&&(b+=p,g[g.length-(S>0?0:1)]=0,_+=p,v++),f[S]={left:0,top:_,row:v,width:T,height:o},g[g.length-1]+=T+h}),b}_fitCols(t,n,a,o){const{ctx:l,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],p=u-t;let b=h,v=0,_=0,x=0,S=0;return this.legendItems.forEach((T,C)=>{const{itemWidth:R,itemHeight:D}=A1(a,n,l,T,o);C>0&&_+D+2*h>p&&(b+=v+h,g.push({width:v,height:_}),x+=v+h,S++,v=_=0),f[C]={left:x,top:_,col:S,width:R,height:D},v=Math.max(v,R),_+=D+h}),b+=v,g.push({width:v,height:_}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:o},rtl:l}}=this,u=aa(l,this.left,this.width);if(this.isHorizontal()){let h=0,f=ye(a,this.left+o,this.right-this.lineWidths[h]);for(const g of n)h!==g.row&&(h=g.row,f=ye(a,this.left+o,this.right-this.lineWidths[h])),g.top+=this.top+t+o,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+o}else{let h=0,f=ye(a,this.top+t+o,this.bottom-this.columnSizes[h].height);for(const g of n)g.col!==h&&(h=g.col,f=ye(a,this.top+t+o,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+o,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Il(t,this),this._draw(),Gl(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:o}=this,{align:l,labels:u}=t,h=Wt.color,f=aa(t.rtl,this.left,this.width),g=be(u.font),{padding:p}=u,b=g.size,v=b/2;let _;this.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=g.string;const{boxWidth:x,boxHeight:S,itemHeight:T}=$y(u,b),C=function(I,P,F){if(isNaN(x)||x<=0||isNaN(S)||S<0)return;o.save();const Q=St(F.lineWidth,1);if(o.fillStyle=St(F.fillStyle,h),o.lineCap=St(F.lineCap,"butt"),o.lineDashOffset=St(F.lineDashOffset,0),o.lineJoin=St(F.lineJoin,"miter"),o.lineWidth=Q,o.strokeStyle=St(F.strokeStyle,h),o.setLineDash(St(F.lineDash,[])),u.usePointStyle){const dt={radius:S*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:Q},it=f.xPlus(I,x/2),rt=P+v;Yb(o,dt,it,rt,u.pointStyleWidth&&x)}else{const dt=P+Math.max((b-S)/2,0),it=f.leftForLtr(I,x),rt=xr(F.borderRadius);o.beginPath(),Object.values(rt).some(kt=>kt!==0)?Fh(o,{x:it,y:dt,w:x,h:S,radius:rt}):o.rect(it,dt,x,S),o.fill(),Q!==0&&o.stroke()}o.restore()},R=function(I,P,F){kr(o,F.text,I,P+T/2,g,{strikethrough:F.hidden,textAlign:f.textAlign(F.textAlign)})},D=this.isHorizontal(),U=this._computeTitleHeight();D?_={x:ye(l,this.left+p,this.right-a[0]),y:this.top+p+U,line:0}:_={x:this.left+p,y:ye(l,this.top+U+p,this.bottom-n[0].height),line:0},Zb(this.ctx,t.textDirection);const q=T+p;this.legendItems.forEach((I,P)=>{o.strokeStyle=I.fontColor,o.fillStyle=I.fontColor;const F=o.measureText(I.text).width,Q=f.textAlign(I.textAlign||(I.textAlign=u.textAlign)),dt=x+v+F;let it=_.x,rt=_.y;f.setWidth(this.width),D?P>0&&it+dt+p>this.right&&(rt=_.y+=q,_.line++,it=_.x=ye(l,this.left+p,this.right-a[_.line])):P>0&&rt+q>this.bottom&&(it=_.x=it+n[_.line].width+p,_.line++,rt=_.y=ye(l,this.top+U+p,this.bottom-n[_.line].height));const kt=f.x(it);if(C(kt,rt,I),it=wx(Q,it+x+v,D?it+dt:this.right,t.rtl),R(f.x(it),rt,I),D)_.x+=dt+p;else if(typeof I.text!="string"){const st=g.lineHeight;_.y+=wv(I,st)+p}else _.y+=q}),tv(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=be(n.font),o=sn(n.padding);if(!n.display)return;const l=aa(t.rtl,this.left,this.width),u=this.ctx,h=n.position,f=a.size/2,g=o.top+f;let p,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+g,b=ye(t.align,b,this.right-v);else{const x=this.columnSizes.reduce((S,T)=>Math.max(S,T.height),0);p=g+ye(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const _=ye(h,b,b+v);u.textAlign=l.textAlign(_f(h)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=a.string,kr(u,n.text,_,p,a)}_computeTitleHeight(){const t=this.options.title,n=be(t.font),a=sn(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,o,l;if(ia(t,this.left,this.right)&&ia(n,this.top,this.bottom)){for(l=this.legendHitBoxes,a=0;a<l.length;++a)if(o=l[a],ia(t,o.left,o.left+o.width)&&ia(n,o.top,o.top+o.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!k1(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,l=E1(o,a);o&&!l&&Pt(n.onLeave,[t,o,this],this),this._hoveredItem=a,a&&!l&&Pt(n.onHover,[t,a,this],this)}else a&&Pt(n.onClick,[t,a,this],this)}}function A1(i,t,n,a,o){const l=O1(a,i,t,n),u=C1(o,a,t.lineHeight);return{itemWidth:l,itemHeight:u}}function O1(i,t,n,a){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((l,u)=>l.length>u.length?l:u)),t+n.size/2+a.measureText(o).width}function C1(i,t,n){let a=i;return typeof t.text!="string"&&(a=wv(t,n)),a}function wv(i,t){const n=i.text?i.text.length:0;return t*n}function k1(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var R1={id:"legend",_element:Vy,start(i,t,n){const a=i.legend=new Vy({ctx:i.ctx,options:n,chart:i});nn.configure(i,a,n),nn.addBox(i,a)},stop(i){nn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const a=i.legend;nn.configure(i,a,n),a.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const a=t.datasetIndex,o=n.chart;o.isDatasetVisible(a)?(o.hide(a),t.hidden=!0):(o.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:o,color:l,useBorderRadius:u,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(n?0:void 0),p=sn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:g.borderColor,pointStyle:a||g.pointStyle,rotation:g.rotation,textAlign:o||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};let xv=class extends os{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const o=ie(a.text)?a.text.length:1;this._padding=sn(a.padding);const l=o*be(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:o,right:l,options:u}=this,h=u.align;let f=0,g,p,b;return this.isHorizontal()?(p=ye(h,a,l),b=n+t,g=l-a):(u.position==="left"?(p=a+t,b=ye(h,o,n),f=oe*-.5):(p=l-t,b=ye(h,n,o),f=oe*.5),g=o-n),{titleX:p,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=be(n.font),l=a.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(l);kr(t,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:g,textAlign:_f(n.align),textBaseline:"middle",translation:[u,h]})}};function M1(i,t){const n=new xv({ctx:i.ctx,options:t,chart:i});nn.configure(i,n,t),nn.addBox(i,n),i.titleBlock=n}var D1={id:"title",_element:xv,start(i,t,n){M1(i,n)},stop(i){const t=i.titleBlock;nn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,n){const a=i.titleBlock;nn.configure(i,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mr={average(i){if(!i.length)return!1;let t,n,a=new Set,o=0,l=0;for(t=0,n=i.length;t<n;++t){const h=i[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();a.add(f.x),o+=f.y,++l}}return l===0||a.size===0?!1:{x:[...a].reduce((h,f)=>h+f)/a.size,y:o/l}},nearest(i,t){if(!i.length)return!1;let n=t.x,a=t.y,o=Number.POSITIVE_INFINITY,l,u,h;for(l=0,u=i.length;l<u;++l){const f=i[l].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),p=Gh(t,g);p<o&&(o=p,h=f)}}if(h){const f=h.tooltipPosition();n=f.x,a=f.y}return{x:n,y:a}}};function bn(i,t){return t&&(ie(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Pn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function j1(i,t){const{element:n,datasetIndex:a,index:o}=t,l=i.getDatasetMeta(a).controller,{label:u,value:h}=l.getLabelAndValue(o);return{chart:i,label:u,parsed:l.getParsed(o),raw:i.data.datasets[a].data[o],formattedValue:h,dataset:l.getDataset(),dataIndex:o,datasetIndex:a,element:n}}function Iy(i,t){const n=i.chart.ctx,{body:a,footer:o,title:l}=i,{boxWidth:u,boxHeight:h}=t,f=be(t.bodyFont),g=be(t.titleFont),p=be(t.footerFont),b=l.length,v=o.length,_=a.length,x=sn(t.padding);let S=x.height,T=0,C=a.reduce((U,q)=>U+q.before.length+q.lines.length+q.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(S+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),C){const U=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;S+=_*U+(C-_)*f.lineHeight+(C-1)*t.bodySpacing}v&&(S+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let R=0;const D=function(U){T=Math.max(T,n.measureText(U).width+R)};return n.save(),n.font=g.string,Dt(i.title,D),n.font=f.string,Dt(i.beforeBody.concat(i.afterBody),D),R=t.displayColors?u+2+t.boxPadding:0,Dt(a,U=>{Dt(U.before,D),Dt(U.lines,D),Dt(U.after,D)}),R=0,n.font=p.string,Dt(i.footer,D),n.restore(),T+=x.width,{width:T,height:S}}function N1(i,t){const{y:n,height:a}=t;return n<a/2?"top":n>i.height-a/2?"bottom":"center"}function z1(i,t,n,a){const{x:o,width:l}=a,u=n.caretSize+n.caretPadding;if(i==="left"&&o+l+u>t.width||i==="right"&&o-l-u<0)return!0}function U1(i,t,n,a){const{x:o,width:l}=n,{width:u,chartArea:{left:h,right:f}}=i;let g="center";return a==="center"?g=o<=(h+f)/2?"left":"right":o<=l/2?g="left":o>=u-l/2&&(g="right"),z1(g,i,t,n)&&(g="center"),g}function Gy(i,t,n){const a=n.yAlign||t.yAlign||N1(i,n);return{xAlign:n.xAlign||t.xAlign||U1(i,t,n,a),yAlign:a}}function L1(i,t){let{x:n,width:a}=i;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function B1(i,t,n){let{y:a,height:o}=i;return t==="top"?a+=n:t==="bottom"?a-=o+n:a-=o/2,a}function Yy(i,t,n,a){const{caretSize:o,caretPadding:l,cornerRadius:u}=i,{xAlign:h,yAlign:f}=n,g=o+l,{topLeft:p,topRight:b,bottomLeft:v,bottomRight:_}=xr(u);let x=L1(t,h);const S=B1(t,f,g);return f==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(p,v)+o:h==="right"&&(x+=Math.max(b,_)+o),{x:en(x,0,a.width-t.width),y:en(S,0,a.height-t.height)}}function yl(i,t,n){const a=sn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-a.right:i.x+a.left}function Ky(i){return bn([],Pn(i))}function H1(i,t,n){return rs(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Fy(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const Sv={beforeTitle:Hn,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:Hn,beforeBody:Hn,beforeLabel:Hn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return Bt(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hn,afterBody:Hn,beforeFooter:Hn,footer:Hn,afterFooter:Hn};function ke(i,t,n,a){const o=i[t].call(n,a);return typeof o>"u"?Sv[t].call(n,a):o}class Wy extends os{static positioners=mr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),o=a.enabled&&n.options.animation&&a.animations,l=new av(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=H1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,o=ke(a,"beforeTitle",this,t),l=ke(a,"title",this,t),u=ke(a,"afterTitle",this,t);let h=[];return h=bn(h,Pn(o)),h=bn(h,Pn(l)),h=bn(h,Pn(u)),h}getBeforeBody(t,n){return Ky(ke(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,o=[];return Dt(t,l=>{const u={before:[],lines:[],after:[]},h=Fy(a,l);bn(u.before,Pn(ke(h,"beforeLabel",this,l))),bn(u.lines,ke(h,"label",this,l)),bn(u.after,Pn(ke(h,"afterLabel",this,l))),o.push(u)}),o}getAfterBody(t,n){return Ky(ke(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,o=ke(a,"beforeFooter",this,t),l=ke(a,"footer",this,t),u=ke(a,"afterFooter",this,t);let h=[];return h=bn(h,Pn(o)),h=bn(h,Pn(l)),h=bn(h,Pn(u)),h}_createItems(t){const n=this._active,a=this.chart.data,o=[],l=[],u=[];let h=[],f,g;for(f=0,g=n.length;f<g;++f)h.push(j1(this.chart,n[f]));return t.filter&&(h=h.filter((p,b,v)=>t.filter(p,b,v,a))),t.itemSort&&(h=h.sort((p,b)=>t.itemSort(p,b,a))),Dt(h,p=>{const b=Fy(t.callbacks,p);o.push(ke(b,"labelColor",this,p)),l.push(ke(b,"labelPointStyle",this,p)),u.push(ke(b,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=u,this.dataPoints=h,h}update(t,n){const a=this.options.setContext(this.getContext()),o=this._active;let l,u=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const h=mr[a.position].call(this,o,this._eventPosition);u=this._createItems(a),this.title=this.getTitle(u,a),this.beforeBody=this.getBeforeBody(u,a),this.body=this.getBody(u,a),this.afterBody=this.getAfterBody(u,a),this.footer=this.getFooter(u,a);const f=this._size=Iy(this,a),g=Object.assign({},h,f),p=Gy(this.chart,a,g),b=Yy(a,g,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,o){const l=this.getCaretPosition(t,a,o);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(t,n,a){const{xAlign:o,yAlign:l}=this,{caretSize:u,cornerRadius:h}=a,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:b}=xr(h),{x:v,y:_}=t,{width:x,height:S}=n;let T,C,R,D,U,q;return l==="center"?(U=_+S/2,o==="left"?(T=v,C=T-u,D=U+u,q=U-u):(T=v+x,C=T+u,D=U-u,q=U+u),R=T):(o==="left"?C=v+Math.max(f,p)+u:o==="right"?C=v+x-Math.max(g,b)-u:C=this.caretX,l==="top"?(D=_,U=D-u,T=C-u,R=C+u):(D=_+S,U=D+u,T=C+u,R=C-u),q=D),{x1:T,x2:C,x3:R,y1:D,y2:U,y3:q}}drawTitle(t,n,a){const o=this.title,l=o.length;let u,h,f;if(l){const g=aa(a.rtl,this.x,this.width);for(t.x=yl(this,a.titleAlign,a),n.textAlign=g.textAlign(a.titleAlign),n.textBaseline="middle",u=be(a.titleFont),h=a.titleSpacing,n.fillStyle=a.titleColor,n.font=u.string,f=0;f<l;++f)n.fillText(o[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===l&&(t.y+=a.titleMarginBottom-h)}}_drawColorBox(t,n,a,o,l){const u=this.labelColors[a],h=this.labelPointStyles[a],{boxHeight:f,boxWidth:g}=l,p=be(l.bodyFont),b=yl(this,"left",l),v=o.x(b),_=f<p.lineHeight?(p.lineHeight-f)/2:0,x=n.y+_;if(l.usePointStyle){const S={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=o.leftForLtr(v,g)+g/2,C=x+f/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Kh(t,S,T,C),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Kh(t,S,T,C)}else{t.lineWidth=Tt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const S=o.leftForLtr(v,g),T=o.leftForLtr(o.xPlus(v,1),g-2),C=xr(u.borderRadius);Object.values(C).some(R=>R!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Fh(t,{x:S,y:x,w:g,h:f,radius:C}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Fh(t,{x:T,y:x+1,w:g-2,h:f-2,radius:C}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(S,x,g,f),t.strokeRect(S,x,g,f),t.fillStyle=u.backgroundColor,t.fillRect(T,x+1,g-2,f-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:o}=this,{bodySpacing:l,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:p}=a,b=be(a.bodyFont);let v=b.lineHeight,_=0;const x=aa(a.rtl,this.x,this.width),S=function(F){n.fillText(F,x.x(t.x+_),t.y+v/2),t.y+=v+l},T=x.textAlign(u);let C,R,D,U,q,I,P;for(n.textAlign=u,n.textBaseline="middle",n.font=b.string,t.x=yl(this,T,a),n.fillStyle=a.bodyColor,Dt(this.beforeBody,S),_=h&&T!=="right"?u==="center"?g/2+p:g+2+p:0,U=0,I=o.length;U<I;++U){for(C=o[U],R=this.labelTextColors[U],n.fillStyle=R,Dt(C.before,S),D=C.lines,h&&D.length&&(this._drawColorBox(n,t,U,x,a),v=Math.max(b.lineHeight,f)),q=0,P=D.length;q<P;++q)S(D[q]),v=b.lineHeight;Dt(C.after,S)}_=0,v=b.lineHeight,Dt(this.afterBody,S),t.y-=l}drawFooter(t,n,a){const o=this.footer,l=o.length;let u,h;if(l){const f=aa(a.rtl,this.x,this.width);for(t.x=yl(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=f.textAlign(a.footerAlign),n.textBaseline="middle",u=be(a.footerFont),n.fillStyle=a.footerColor,n.font=u.string,h=0;h<l;++h)n.fillText(o[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+a.footerSpacing}}drawBackground(t,n,a,o){const{xAlign:l,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:p}=a,{topLeft:b,topRight:v,bottomLeft:_,bottomRight:x}=xr(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(h+b,f),u==="top"&&this.drawCaret(t,n,a,o),n.lineTo(h+g-v,f),n.quadraticCurveTo(h+g,f,h+g,f+v),u==="center"&&l==="right"&&this.drawCaret(t,n,a,o),n.lineTo(h+g,f+p-x),n.quadraticCurveTo(h+g,f+p,h+g-x,f+p),u==="bottom"&&this.drawCaret(t,n,a,o),n.lineTo(h+_,f+p),n.quadraticCurveTo(h,f+p,h,f+p-_),u==="center"&&l==="left"&&this.drawCaret(t,n,a,o),n.lineTo(h,f+b),n.quadraticCurveTo(h,f,h+b,f),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,o=a&&a.x,l=a&&a.y;if(o||l){const u=mr[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Iy(this,t),f=Object.assign({},u,this._size),g=Gy(n,t,f),p=Yy(t,f,g,n);(o._to!==p.x||l._to!==p.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const u=sn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=a,this.drawBackground(l,t,o,n),Zb(t,n.textDirection),l.y+=u.top,this.drawTitle(l,t,n),this.drawBody(l,t,n),this.drawFooter(l,t,n),tv(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,o=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),l=!jl(a,o),u=this._positionChanged(o,n);(l||u)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],u=this._getActiveElements(t,l,n,a),h=this._positionChanged(u,t),f=n||!jl(u,l)||h;return f&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,a,o){const l=this.options;if(t.type==="mouseout")return[];if(!o)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,l.mode,l,a);return l.reverse&&u.reverse(),u}_positionChanged(t,n){const{caretX:a,caretY:o,options:l}=this,u=mr[l.position].call(this,t,n);return u!==!1&&(a!==u.x||o!==u.y)}}var q1={id:"tooltip",_element:Wy,positioners:mr,afterInit(i,t,n){n&&(i.tooltip=new Wy({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Sv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const P1=(i,t,n,a)=>(typeof t=="string"?(n=i.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function $1(i,t,n,a){const o=i.indexOf(t);if(o===-1)return P1(i,t,n,a);const l=i.lastIndexOf(t);return o!==l?n:o}const V1=(i,t)=>i===null?null:en(Math.round(i),0,t);function Xy(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class I1 extends ua{static id="category";static defaults={ticks:{callback:Xy}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:o,label:l}of n)a[o]===l&&a.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Bt(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:$1(a,t,St(n,t),this._addedLabels),V1(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(o=this.getLabels().length-1)),this.min=a,this.max=o}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,o=[];let l=this.getLabels();l=t===0&&n===l.length-1?l:l.slice(t,n+1),this._valueRange=Math.max(l.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let u=t;u<=n;u++)o.push({value:u});return o}getLabelForValue(t){return Xy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function G1(i,t){const n=[],{bounds:o,step:l,min:u,max:h,precision:f,count:g,maxTicks:p,maxDigits:b,includeBounds:v}=i,_=l||1,x=p-1,{min:S,max:T}=t,C=!Bt(u),R=!Bt(h),D=!Bt(g),U=(T-S)/(b+1);let q=Wp((T-S)/x/_)*_,I,P,F,Q;if(q<1e-14&&!C&&!R)return[{value:S},{value:T}];Q=Math.ceil(T/q)-Math.floor(S/q),Q>x&&(q=Wp(Q*q/x/_)*_),Bt(f)||(I=Math.pow(10,f),q=Math.ceil(q*I)/I),o==="ticks"?(P=Math.floor(S/q)*q,F=Math.ceil(T/q)*q):(P=S,F=T),C&&R&&l&&ux((h-u)/l,q/1e3)?(Q=Math.round(Math.min((h-u)/q,p)),q=(h-u)/Q,P=u,F=h):D?(P=C?u:P,F=R?h:F,Q=g-1,q=(F-P)/Q):(Q=(F-P)/q,vr(Q,Math.round(Q),q/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const dt=Math.max(Xp(q),Xp(P));I=Math.pow(10,Bt(f)?dt:f),P=Math.round(P*I)/I,F=Math.round(F*I)/I;let it=0;for(C&&(v&&P!==u?(n.push({value:u}),P<u&&it++,vr(Math.round((P+it*q)*I)/I,u,Qy(u,U,i))&&it++):P<u&&it++);it<Q;++it){const rt=Math.round((P+it*q)*I)/I;if(R&&rt>h)break;n.push({value:rt})}return R&&v&&F!==h?n.length&&vr(n[n.length-1].value,h,Qy(h,U,i))?n[n.length-1].value=h:n.push({value:h}):(!R||F===h)&&n.push({value:F}),n}function Qy(i,t,{horizontal:n,minRotation:a}){const o=ts(a),l=(n?Math.sin(o):Math.cos(o))||.001,u=.75*t*(""+i).length;return Math.min(t/l,u)}class Y1 extends ua{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:o,max:l}=this;const u=f=>o=n?o:f,h=f=>l=a?l:f;if(t){const f=oa(o),g=oa(l);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(o===l){let f=l===0?1:Math.abs(l*.05);h(l+f),t||u(o-f)}this.min=o,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,o;return a?(o=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const o={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,u=G1(o,l);return t.bounds==="ticks"&&hx(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const o=(a-n)/Math.max(t.length-1,1)/2;n-=o,a+=o}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return Ib(t,this.chart.options.locale,this.options.ticks.format)}}class K1 extends Y1{static id="linear";static defaults={ticks:{callback:Gb.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ve(t)?t:0,this.max=ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=ts(this.options.ticks.minRotation),o=(t?Math.sin(a):Math.cos(a))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ql={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(Ql);function Jy(i,t){return i-t}function Zy(i,t){if(Bt(t))return null;const n=i._adapter,{parser:a,round:o,isoWeekday:l}=i._parseOpts;let u=t;return typeof a=="function"&&(u=a(u)),ve(u)||(u=typeof a=="string"?n.parse(u,a):n.parse(u)),u===null?null:(o&&(u=o==="week"&&(Or(l)||l===!0)?n.startOf(u,"isoWeek",l):n.startOf(u,o)),+u)}function tb(i,t,n,a){const o=Re.length;for(let l=Re.indexOf(i);l<o-1;++l){const u=Ql[Re[l]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-t)/(h*u.size))<=a)return Re[l]}return Re[o-1]}function F1(i,t,n,a,o){for(let l=Re.length-1;l>=Re.indexOf(n);l--){const u=Re[l];if(Ql[u].common&&i._adapter.diff(o,a,u)>=t-1)return u}return Re[n?Re.indexOf(n):0]}function W1(i){for(let t=Re.indexOf(i)+1,n=Re.length;t<n;++t)if(Ql[Re[t]].common)return Re[t]}function eb(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:a,hi:o}=vf(n,t),l=n[a]>=t?n[a]:n[o];i[l]=!0}}function X1(i,t,n,a){const o=i._adapter,l=+o.startOf(t[0].value,a),u=t[t.length-1].value;let h,f;for(h=l;h<=u;h=+o.add(h,1,a))f=n[h],f>=0&&(t[f].major=!0);return t}function nb(i,t,n){const a=[],o={},l=t.length;let u,h;for(u=0;u<l;++u)h=t[u],o[h]=u,a.push({value:h,major:!1});return l===0||!n?a:X1(i,a,o,n)}class ib extends ua{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),o=this._adapter=new qS._date(t.adapters.date);o.init(n),br(a.displayFormats,o.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Zy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:o,max:l,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(o=Math.min(o,g.min)),!h&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),o=ve(o)&&!isNaN(o)?o:+n.startOf(Date.now(),a),l=ve(l)&&!isNaN(l)?l:+n.endOf(Date.now(),a)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,o=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,u=this.max,h=yx(o,l,u);return this._unit=n.unit||(a.autoSkip?tb(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):F1(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:W1(this._unit),this.initOffsets(o),t.reverse&&h.reverse(),nb(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,o,l;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?a=l:a=(l-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;n=en(n,0,u),a=en(a,0,u),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,o=this.options,l=o.time,u=l.unit||tb(l.minUnit,n,a,this._getLabelCapacity(n)),h=St(o.ticks.stepSize,1),f=u==="week"?l.isoWeekday:!1,g=Or(f)||f===!0,p={};let b=n,v,_;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":u),t.diff(a,n,u)>1e5*h)throw new Error(n+" and "+a+" are too far apart with stepSize of "+h+" "+u);const x=o.ticks.source==="data"&&this.getDataTimestamps();for(v=b,_=0;v<a;v=+t.add(v,h,u),_++)eb(p,v,x);return(v===a||o.bounds==="ticks"||_===1)&&eb(p,v,x),Object.keys(p).sort(Jy).map(S=>+S)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const o=this.options.time.displayFormats,l=this._unit,u=n||o[l];return this._adapter.format(t,u)}_tickFormatFunction(t,n,a,o){const l=this.options,u=l.ticks.callback;if(u)return Pt(u,[t,n,a],this);const h=l.time.displayFormats,f=this._unit,g=this._majorUnit,p=f&&h[f],b=g&&h[g],v=a[n],_=g&&b&&v&&v.major;return this._adapter.format(t,o||(_?b:p))}generateTickLabels(t){let n,a,o;for(n=0,a=t.length;n<a;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,o=ts(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(o),u=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:a*l+h*u,h:a*u+h*l}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,o=a[n.unit]||a.millisecond,l=this._tickFormatFunction(t,0,nb(this,[t],this._majorUnit),o),u=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,a=o.length;n<a;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const o=this.getLabels();for(n=0,a=o.length;n<a;++n)t.push(Zy(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return vx(t.sort(Jy))}}function bl(i,t,n){let a=0,o=i.length-1,l,u,h,f;n?(t>=i[a].pos&&t<=i[o].pos&&({lo:a,hi:o}=es(i,"pos",t)),{pos:l,time:h}=i[a],{pos:u,time:f}=i[o]):(t>=i[a].time&&t<=i[o].time&&({lo:a,hi:o}=es(i,"time",t)),{time:l,pos:h}=i[a],{time:u,pos:f}=i[o]);const g=u-l;return g?h+(f-h)*(t-l)/g:h}class _2 extends ib{static id="timeseries";static defaults=ib.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=bl(n,this.min),this._tableRange=bl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,o=[],l=[];let u,h,f,g,p;for(u=0,h=t.length;u<h;++u)g=t[u],g>=n&&g<=a&&o.push(g);if(o.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(u=0,h=o.length;u<h;++u)p=o[u+1],f=o[u-1],g=o[u],Math.round((p+f)/2)!==g&&l.push({time:g,pos:u/(h-1)});return l}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((o,l)=>o-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(bl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return bl(this._table,a*this._tableRange+this._minPos,!0)}}const Tv="label";function sb(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function Q1(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function Ev(i,t){i.labels=t}function Av(i,t,n=Tv){const a=[];i.datasets=t.map(o=>{const l=i.datasets.find(u=>u[n]===o[n]);return!l||!o.data||a.includes(l)?{...o}:(a.push(l),Object.assign(l,o),l)})}function J1(i,t=Tv){const n={labels:[],datasets:[]};return Ev(n,i.labels),Av(n,i.datasets,t),n}function Z1(i,t){const{height:n=150,width:a=300,redraw:o=!1,datasetIdKey:l,type:u,data:h,options:f,plugins:g=[],fallbackContent:p,updateMode:b,...v}=i,_=K.useRef(null),x=K.useRef(null),S=()=>{_.current&&(x.current=new Fl(_.current,{type:u,data:J1(h,l),options:f&&{...f},plugins:g}),sb(t,x.current))},T=()=>{sb(t,null),x.current&&(x.current.destroy(),x.current=null)};return K.useEffect(()=>{!o&&x.current&&f&&Q1(x.current,f)},[o,f]),K.useEffect(()=>{!o&&x.current&&Ev(x.current.config.data,h.labels)},[o,h.labels]),K.useEffect(()=>{!o&&x.current&&h.datasets&&Av(x.current.config.data,h.datasets,l)},[o,h.datasets]),K.useEffect(()=>{x.current&&(o?(T(),setTimeout(S)):x.current.update(b))},[o,f,h.labels,h.datasets,b]),K.useEffect(()=>{x.current&&(T(),setTimeout(S))},[u]),K.useEffect(()=>(S(),()=>T()),[]),A.jsx("canvas",{ref:_,role:"img",height:n,width:a,...v,children:p})}const tE=K.forwardRef(Z1);function eE(i,t){return Fl.register(t),K.forwardRef((n,a)=>A.jsx(tE,{...n,ref:a,type:i}))}const nE=eE("line",HS);Fl.register(I1,K1,s1,Wl,D1,q1,R1,T1);const Ks=i=>{if(typeof window>"u")return"";const t=document.querySelector("[class*='theme-']")??document.documentElement;return getComputedStyle(t).getPropertyValue(i).trim()},vl=(i,t)=>{const n=i.replace("#","").trim(),a=n.length===3?n.split("").map(h=>h+h).join(""):n;if(!/^[0-9a-fA-F]{6}$/.test(a))return`rgba(200, 155, 94, ${t})`;const o=parseInt(a.slice(0,2),16),l=parseInt(a.slice(2,4),16),u=parseInt(a.slice(4,6),16);return`rgba(${o}, ${l}, ${u}, ${t})`};function pr({data:i,xKey:t,series:n,xTitle:a="X",yTitle:o="Y",className:l,height:u,width:h,showLegend:f=!1,yBeginAtZero:g=!0,tooltipValueSuffix:p=""}){const b=K.useMemo(()=>{const x=Ks("--accent-primary")||"#c89b5e",S=Ks("--accent-secondary")||"#8b7355",T=Ks("--accent-warning")||"#e8c080",C=Ks("--card-bg")||"#1a1a1a",R=Ks("--text-primary")||"#e8ddd0",D=Ks("--text-secondary")||"#b8a896";return{line:x,lineHover:T,point:x,pointHover:T,grid:vl(S,.12),fill:vl(x,.18),axis:D,axisTitle:R,tooltipBg:vl(C,.98),tooltipBorder:x}},[]),v=K.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:f},tooltip:{enabled:!0,backgroundColor:b.tooltipBg,titleColor:b.axisTitle,bodyColor:b.axis,borderColor:b.tooltipBorder,borderWidth:2,padding:14,titleFont:{size:15,weight:"bold",family:"'JetBrains Mono', monospace"},bodyFont:{size:14,family:"'JetBrains Mono', monospace"},displayColors:!1,callbacks:{title:x=>{const S=x[0]?.parsed?.x;return S==null?"":`${S}`},label:x=>{const S=x.parsed.y,T=p?` ${p}`:"";return`${Math.round(S??0)}${T}`}}}},scales:{x:{type:"linear",grid:{display:!0,color:b.grid,lineWidth:1.5},border:{display:!1},ticks:{color:b.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:10},title:{display:!0,text:a,color:b.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{top:12}}},y:{beginAtZero:g,grid:{display:!0,color:b.grid,lineWidth:1.5},border:{display:!1},ticks:{color:b.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:8},title:{display:!0,text:o,color:b.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{bottom:12}}}},interaction:{intersect:!1,mode:"index"},animation:{duration:750,easing:"easeInOutQuart"}}),[b,f,p,a,g,o]),_=K.useMemo(()=>{const x=n??[],S=(C,R)=>typeof t=="function"?t(C,R):Number(C[t])||0;return{datasets:x.map(C=>{const R=C.color??b.line,D=C.fill??!1;return{label:C.label??String(C.key),data:i.map((U,q)=>({x:S(U,q),y:Number(U[C.key])||0})),borderColor:R,backgroundColor:D?vl(R,.18):"transparent",pointRadius:5,pointHoverRadius:9,pointBackgroundColor:R,pointBorderColor:b.tooltipBg,pointBorderWidth:2.5,pointHoverBackgroundColor:b.lineHover,pointHoverBorderColor:R,pointHoverBorderWidth:3,tension:C.tension??.4,fill:D,borderWidth:3,segment:{borderColor:R}}})}},[i,n,t,b]);return A.jsx("div",{className:["w-full h-full p-4 bg-card-bg/40 backdrop-blur-sm rounded-2xl border border-card-border/50 shadow-2xl",l].filter(Boolean).join(" "),style:{height:u,width:h},children:A.jsx(nE,{options:v,data:_})})}function Ov({options:i,label:t,onChange:n}){const a=o=>{n?.(o.target.value)};return A.jsxs("label",{children:[t,A.jsx("select",{onChange:a,className:"bg-card-bg border-2 border-card-border rounded-lg h-9 w-fit px-3 transition-all duration-200 hover:border-accent-primary active:border-accent-primary active:scale-95 text-text-primary font-semibold",children:i.map((o,l)=>A.jsx("option",{value:o,children:o},l))})]})}function Jl(i,t){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function iE(i,t,n,a){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(p){try{g(a.next(p))}catch(b){u(b)}}function f(p){try{g(a.throw(p))}catch(b){u(b)}}function g(p){p.done?l(p.value):o(p.value).then(h,f)}g((a=a.apply(i,t||[])).next())})}const sE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class Cf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class aE extends Cf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ab extends Cf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class rb extends Cf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Zh||(Zh={}));class rE{constructor(t,{headers:n={},customFetch:a,region:o=Zh.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=sE(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return iE(this,arguments,void 0,function*(n,a={}){var o;let l,u;try{const{headers:h,method:f,body:g,signal:p,timeout:b}=a;let v={},{region:_}=a;_||(_=this.region);const x=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let S;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=g):typeof g=="string"?(v["Content-Type"]="text/plain",S=g):typeof FormData<"u"&&g instanceof FormData?S=g:(v["Content-Type"]="application/json",S=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?S=JSON.stringify(g):S=g;let T=p;b&&(u=new AbortController,l=setTimeout(()=>u.abort(),b),p?(T=u.signal,p.addEventListener("abort",()=>u.abort())):T=u.signal);const C=yield this.fetch(x.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:S,signal:T}).catch(q=>{throw new aE(q)}),R=C.headers.get("x-relay-error");if(R&&R==="true")throw new ab(C);if(!C.ok)throw new rb(C);let D=((o=C.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),U;return D==="application/json"?U=yield C.json():D==="application/octet-stream"||D==="application/pdf"?U=yield C.blob():D==="text/event-stream"?U=C:D==="multipart/form-data"?U=yield C.formData():U=yield C.text(),{data:U,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof rb||h instanceof ab?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var oE=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},lE=class{constructor(i){var t,n,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=i.urlLengthLimit)!==null&&a!==void 0?a:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,f=null,g=l.status,p=l.statusText;if(l.ok){var b,v;if(n.method!=="HEAD"){var _;const C=await l.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const S=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(v=l.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var x;const S=await l.text();try{u=JSON.parse(S),Array.isArray(u)&&l.status===404&&(h=[],u=null,g=200,p="OK")}catch{l.status===404&&S===""?(g=204,p="No Content"):u={message:S}}if(u&&n.isMaybeSingle&&(!(u==null||(x=u.details)===null||x===void 0)&&x.includes("0 rows"))&&(u=null,g=200,p="OK"),u&&n.shouldThrowOnError)throw new oE(u)}return{error:u,data:h,count:f,status:g,statusText:p}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let h="",f="",g="";const p=l?.cause;if(p){var b,v,_,x;const C=(b=p?.message)!==null&&b!==void 0?b:"",R=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(_=l?.name)!==null&&_!==void 0?_:"FetchError"}: ${l?.message}`,h+=`

Caused by: ${(x=p?.name)!==null&&x!==void 0?x:"Error"}: ${C}`,R&&(h+=` (${R})`),p?.stack&&(h+=`
${p.stack}`)}else{var S;h=(S=l?.stack)!==null&&S!==void 0?S:""}const T=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(g="",f="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",f="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(f+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:h,hint:f,code:g},data:null,count:null,status:0,statusText:""}})),o.then(i,t)}returns(){return this}overrideTypes(){return this}},cE=class extends lE{select(i){let t=!1;const n=(i??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${i}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,t,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(l,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var u;const h=[i?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const ob=new RegExp("[,()]");var ta=class extends cE{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&ob.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&ob.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${o}fts${l}.${t}`),this}match(i){return Object.entries(i).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(i,t,n){return this.url.searchParams.append(i,`not.${t}.${n}`),this}or(i,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,t,n){return this.url.searchParams.append(i,`${t}.${n}`),this}},uE=class{constructor(i,{headers:t={},schema:n,fetch:a,urlLengthLimit:o=8e3}){this.url=i,this.headers=new Headers(t),this.schema=n,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:n=!1,count:a}=t??{},o=n?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(g=>/\s/.test(g)&&!l?"":(g==='"'&&(l=!l),g)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new ta({method:o,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:n=!0}={}){var a;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);l.searchParams.set("columns",f.join(","))}}return new ta({method:o,url:l,headers:u,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),a&&f.append("Prefer",`count=${a}`),o||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",p.join(","))}}return new ta({method:u,url:h,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var n;const a="PATCH",{url:o,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new ta({method:a,url:o,headers:l,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const n="DELETE",{url:a,headers:o}=this.cloneRequestState();return i&&o.append("Prefer",`count=${i}`),new ta({method:n,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mr(i){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(i)}function hE(i,t){if(Mr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Mr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function fE(i){var t=hE(i,"string");return Mr(t)=="symbol"?t:t+""}function dE(i,t,n){return(t=fE(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function lb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function _l(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lb(Object(n),!0).forEach(function(a){dE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):lb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}var gE=class Cv{constructor(t,{headers:n={},schema:a,fetch:o,timeout:l,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=u;const h=o??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,g)=>{const p=new AbortController,b=setTimeout(()=>p.abort(),l),v=g?.signal;if(v){if(v.aborted)return clearTimeout(b),h(f,g);const _=()=>{clearTimeout(b),p.abort()};return v.addEventListener("abort",_,{once:!0}),h(f,_l(_l({},g),{},{signal:p.signal})).finally(()=>{clearTimeout(b),v.removeEventListener("abort",_)})}return h(f,_l(_l({},g),{},{signal:p.signal})).finally(()=>clearTimeout(b))}:this.fetch=h}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new uE(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Cv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:a=!1,get:o=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${t}`);let g;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),b=a&&Object.values(n).some(p);b?(h="POST",g=n):a||o?(h=a?"HEAD":"GET",Object.entries(n).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{f.searchParams.append(_,x)})):(h="POST",g=n);const v=new Headers(this.headers);return b?v.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&v.set("Prefer",`count=${l}`),new ta({method:h,url:f,headers:v,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class mE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const o=a.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const pE="2.95.3",yE=`realtime-js/${pE}`,bE="1.0.0",kv="2.0.0",cb=kv,tf=1e4,vE=1e3,_E=100;var vi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(vi||(vi={}));var ne;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ne||(ne={}));var un;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(un||(un={}));var ef;(function(i){i.websocket="websocket"})(ef||(ef={}));var Ji;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ji||(Ji={}));class wE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,a){var o,l;const u=t.topic,h=(o=t.ref)!==null&&o!==void 0?o:"",f=(l=t.join_ref)!==null&&l!==void 0?l:"",g=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+g.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let x=new DataView(_),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,f.length),x.setUint8(S++,h.length),x.setUint8(S++,u.length),x.setUint8(S++,g.length),x.setUint8(S++,b.length),x.setUint8(S++,n),Array.from(f,C=>x.setUint8(S++,C.charCodeAt(0))),Array.from(h,C=>x.setUint8(S++,C.charCodeAt(0))),Array.from(u,C=>x.setUint8(S++,C.charCodeAt(0))),Array.from(g,C=>x.setUint8(S++,C.charCodeAt(0))),Array.from(b,C=>x.setUint8(S++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+a.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(a),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,l,u,h,f]=a;return n({join_ref:o,ref:l,topic:u,event:h,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,o)}_decodeUserBroadcast(t,n,a){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const g=a.decode(t.slice(f,f+o));f=f+o;const p=a.decode(t.slice(f,f+l));f=f+l;const b=a.decode(t.slice(f,f+u));f=f+u;const v=t.slice(f,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,x={type:this.BROADCAST_EVENT,event:p,payload:_};return u>0&&(x.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Rv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Lt||(Lt={}));const ub=(i,t,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=xE(u,i,t,o),l),{}):{}},xE=(i,t,n,a)=>{const o=t.find(h=>h.name===i),l=o?.type,u=n[i];return l&&!a.includes(l)?Mv(l,u):nf(u)},Mv=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return AE(t,n)}switch(i){case Lt.bool:return SE(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return TE(t);case Lt.json:case Lt.jsonb:return EE(t);case Lt.timestamp:return OE(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return nf(t);default:return nf(t)}},nf=i=>i,SE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},TE=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},EE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},AE=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,a=i[n];if(i[0]==="{"&&a==="}"){let l;const u=i.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Mv(t,h))}return i},OE=i=>typeof i=="string"?i.replace(" ","T"):i,Dv=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Lh{constructor(t,n,a={},o=tf){this.channel=t,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var hb;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(hb||(hb={}));class Sr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sr.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Sr.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Sr.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,o){const l=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(l,(g,p)=>{u[g]||(f[g]=p)}),this.map(u,(g,p)=>{const b=l[g];if(b){const v=p.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),x=p.filter(T=>_.indexOf(T.presence_ref)<0),S=b.filter(T=>v.indexOf(T.presence_ref)<0);x.length>0&&(h[g]=x),S.length>0&&(f[g]=S)}else h[g]=p}),this.syncDiff(l,{joins:h,leaves:f},a,o)}static syncDiff(t,n,a,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var g;const p=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(f),p.length>0){const b=t[h].map(_=>_.presence_ref),v=p.filter(_=>b.indexOf(_.presence_ref)<0);t[h].unshift(...v)}a(h,p,f)}),this.map(u,(h,f)=>{let g=t[h];if(!g)return;const p=f.map(b=>b.presence_ref);g=g.filter(b=>p.indexOf(b.presence_ref)<0),t[h]=g,o(h,g,f),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const o=t[a];return"metas"in o?n[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fb;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(fb||(fb={}));var Tr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Tr||(Tr={}));var $n;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class sa{constructor(t,n={config:{}},a){var o,l;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lh(this,un.join,this.params,this.timeout),this.rejoinTimer=new Rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Sr(this),this.broadcastEndpointURL=Dv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Tr.PRESENCE]&&this.bindings[Tr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,b={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t?.($n.CHANNEL_ERROR,_)),this._onClose(()=>t?.($n.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.($n.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,T=(x=S?.length)!==null&&x!==void 0?x:0,C=[];for(let R=0;R<T;R++){const D=S[R],{filter:{event:U,schema:q,table:I,filter:P}}=D,F=_&&_[R];if(F&&F.event===U&&sa.isFilterValueEqual(F.schema,q)&&sa.isFilterValueEqual(F.table,I)&&sa.isFilterValueEqual(F.filter,P))C.push(Object.assign(Object.assign({},D),{id:F.id}));else{this.unsubscribe(),this.state=ne.errored,t?.($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t($n.SUBSCRIBED);return}}).receive("error",_=>{this.state=ne.errored,t?.($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ne.joined&&t===Tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const g=await h.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Lh(this,un.leave,{},t),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Lh(this,t,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_E){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var o,l;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:g,join:p}=un;if(a&&[h,f,g,p].indexOf(u)>=0&&a!==this._joinRef())return;let v=this._onMessage(u,n,a);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var x,S,T;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((T=(S=_.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(v,a)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var x,S,T,C,R,D;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const U=_.id,q=(x=_.filter)===null||x===void 0?void 0:x.event;return U&&((S=n.ids)===null||S===void 0?void 0:S.includes(U))&&(q==="*"||q?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const U=(R=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return U==="*"||U===((D=n?.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof v=="object"&&"ids"in v){const x=v.data,{schema:S,table:T,commit_timestamp:C,type:R,errors:D}=x;v=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:C,eventType:R,new:{},old:{},errors:D}),this._getPayloadRecords(x))}_.callback(v,a)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&sa.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=ub(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=ub(t.columns,t.old_record)),n}}const Bh=()=>{},wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CE=[1e3,2e3,5e3,1e4],kE=1e4,RE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ME{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tf,this.transport=null,this.heartbeatIntervalMs=wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bh,this.ref=0,this.reconnectTimer=null,this.vsn=cb,this.logger=Bh,this.conn=null,this.sendBuffer=[],this.serializer=new wE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ef.websocket}`,this.httpEndpoint=Dv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case vi.connecting:return Ji.Connecting;case vi.open:return Ji.Open;case vi.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new sa(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:a,payload:o,ref:l}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(vE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",g)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:l,ref:u}=n,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${o} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===vi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vi.open||this.conn.readyState===vi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${a}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([RE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:yE};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Rv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,o,l,u,h,f,g,p,b,v,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:tf,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:wl.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Bh,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:cb,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(x=>CE[x-1]||kE),this.vsn){case bE:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((x,S)=>S(JSON.stringify(x))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((x,S)=>S(JSON.parse(x)));break;case kv:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Dr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function DE(i,t,n){const a=new URL(t,i);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function jE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function NE(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:l,headers:u}){const h=DE(i.baseUrl,a,o),f=await jE(i.auth),g=await t(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),p=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),v=b&&p?JSON.parse(p):p;if(!g.ok){const _=b?v:void 0,x=_?.error;throw new Dr(x?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:x?.type,icebergCode:x?.code,details:_})}return{status:g.status,headers:g.headers,data:v}}}}function xl(i){return i.join("")}var zE=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:xl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,t){const n={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(i.namespace)}`}),!0}catch(t){if(t instanceof Dr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(n){if(n instanceof Dr&&n.status===409)return;throw n}}};function Fs(i){return i.join("")}var UE=class{constructor(i,t="",n){this.client=i,this.prefix=t,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(i,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(n){if(n instanceof Dr&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(n){if(n instanceof Dr&&n.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw n}}},LE=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=NE({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new zE(this.client,t),this.tableOps=new UE(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},Zl=class extends Error{constructor(i,t="storage",n,a){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function tc(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Sl=class extends Zl{constructor(i,t,n,a="storage"){super(i,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jv=class extends Zl{constructor(i,t,n="storage"){super(i,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const BE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),HE=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},sf=i=>{if(Array.isArray(i))return i.map(n=>sf(n));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=sf(a)}),t},qE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function jr(i){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(i)}function PE(i,t){if(jr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(jr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function $E(i){var t=PE(i,"string");return jr(t)=="symbol"?t:t+""}function VE(i,t,n){return(t=$E(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function db(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function ft(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?db(Object(n),!0).forEach(function(a){VE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):db(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const gb=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},IE=async(i,t,n,a)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const o=i,l=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||l+"";t(new Sl(gb(u),l,h,a))}).catch(()=>{if(a==="vectors"){const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}else{const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}});else{const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}}else t(new jv(gb(i),i,a))},GE=(i,t,n,a)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"||i==="HEAD"||!a?ft(ft({},o),n):(HE(a)?(o.headers=ft({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),ft(ft({},o),n))};async function fr(i,t,n,a,o,l,u){return new Promise((h,f)=>{i(n,GE(t,a,o,l)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;if(u==="vectors"){const p=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!p||!p.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>IE(g,f,a,u))})}function Nv(i="storage"){return{get:async(t,n,a,o)=>fr(t,"GET",n,a,o,void 0,i),post:async(t,n,a,o,l)=>fr(t,"POST",n,o,l,a,i),put:async(t,n,a,o,l)=>fr(t,"PUT",n,o,l,a,i),head:async(t,n,a,o)=>fr(t,"HEAD",n,ft(ft({},a),{},{noResolveJson:!0}),o,void 0,i),remove:async(t,n,a,o,l)=>fr(t,"DELETE",n,o,l,a,i)}}const YE=Nv("storage"),{get:Nr,post:cn,put:af,head:KE,remove:kf}=YE,$e=Nv("vectors");var ha=class{constructor(i,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=BE(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(tc(n))return{data:null,error:n};throw n}}},FE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};let zv;zv=Symbol.toStringTag;var WE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[zv]="BlobDownloadBuilder",this.promise=null}asStream(){return new FE(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};const XE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var QE=class extends ha{constructor(i,t={},n,a){super(i,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(i,t,n,a){var o=this;return o.handleOperation(async()=>{let l;const u=ft(ft({},mb),a);let h=ft(ft({},o.headers),i==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",o.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(f))):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(h=ft(ft({},h),a.headers));const g=o._removeEmptyFolders(t),p=o._getFinalPath(g),b=await(i=="PUT"?af:cn)(o.fetch,`${o.url}/object/${p}`,l,ft({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(i,t,n){return this.uploadOrUpdate("POST",i,t,n)}async uploadToSignedUrl(i,t,n,a){var o=this;const l=o._removeEmptyFolders(i),u=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",t),o.handleOperation(async()=>{let f;const g=ft({upsert:mb.upsert},a),p=ft(ft({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",g.cacheControl)):(f=n,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType),{path:l,fullPath:(await af(o.fetch,h.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(i,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(i);const o=ft({},n.headers);t?.upsert&&(o["x-upsert"]="true");const l=await cn(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(n.url+l.url),h=u.searchParams.get("token");if(!h)throw new Zl("No token returned by API");return{signedUrl:u.toString(),path:i,token:h}})}async update(i,t,n){return this.uploadOrUpdate("PUT",i,t,n)}async move(i,t,n){var a=this;return a.handleOperation(async()=>await cn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(i,t,n){var a=this;return a.handleOperation(async()=>({path:(await cn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(i,t,n){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(i),l=await cn(a.fetch,`${a.url}/object/sign/${o}`,ft({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)}})}async createSignedUrls(i,t,n){var a=this;return a.handleOperation(async()=>{const o=await cn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:i},{headers:a.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(u=>ft(ft({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null}))})}download(i,t,n){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",u=this._getFinalPath(i),h=()=>Nr(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0},n);return new WE(h,this.shouldThrowOnError)}async info(i){var t=this;const n=t._getFinalPath(i);return t.handleOperation(async()=>sf(await Nr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(i){var t=this;const n=t._getFinalPath(i);try{return await KE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tc(a)&&a instanceof jv){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,t){const n=this._getFinalPath(i),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await kf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,n){var a=this;return a.handleOperation(async()=>{const o=ft(ft(ft({},XE),t),{},{prefix:i||""});return await cn(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n)})}async listV2(i,t){var n=this;return n.handleOperation(async()=>{const a=ft({},i);return await cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const JE="2.95.3",Hr={"X-Client-Info":`storage-js/${JE}`};var ZE=class extends ha{constructor(i,t={},n,a){const o=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const l=o.href.replace(/\/$/,""),u=ft(ft({},Hr),t);super(l,u,n,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(i);return await Nr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Nr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var n=this;return n.handleOperation(async()=>await cn(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(i,t){var n=this;return n.handleOperation(async()=>await af(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await kf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ft(ft({},Hr),t);super(a,o,n,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const a=n.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Nr(t.fetch,o,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await kf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!qE(i))throw new Zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new LE({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}},eA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ft(ft({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers})||{})}},nA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ft(ft({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},iA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ft(ft({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},sA=class extends iA{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new aA(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,n=this;return t().call(n,i)}async getBucket(i){var t=()=>super.getBucket,n=this;return t().call(n,i)}async listBuckets(i={}){var t=()=>super.listBuckets,n=this;return t().call(n,i)}async deleteBucket(i){var t=()=>super.deleteBucket,n=this;return t().call(n,i)}},aA=class extends eA{constructor(i,t,n,a){super(i,t,a),this.vectorBucketName=n}async createIndex(i){var t=()=>super.createIndex,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,i)}index(i){return new rA(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},rA=class extends nA{constructor(i,t,n,a,o){super(i,t,o),this.vectorBucketName=n,this.indexName=a}async putVectors(i){var t=()=>super.putVectors,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var t=()=>super.getVectors,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,n=this;return t().call(n,ft(ft({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},oA=class extends ZE{constructor(i,t={},n,a){super(i,t,n,a)}from(i){return new QE(this.url,this.headers,i,this.fetch)}get vectors(){return new sA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tA(this.url+"/iceberg",this.headers,this.fetch)}};const Uv="2.95.3",ea=30*1e3,rf=3,Hh=rf*ea,lA="http://localhost:9999",cA="supabase.auth.token",uA={"X-Client-Info":`gotrue-js/${Uv}`},of="X-Supabase-Api-Version",Lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fA=600*1e3;class zr extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function nt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class dA extends zr{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function gA(i){return nt(i)&&i.name==="AuthApiError"}class Zi extends zr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yn extends zr{constructor(t,n,a,o){super(t,a,o),this.name=n,this.status=a}}class Pe extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qh(i){return nt(i)&&i.name==="AuthSessionMissingError"}class Ws extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class El extends Yn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mA(i){return nt(i)&&i.name==="AuthImplicitGrantRedirectError"}class pb extends Yn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pA extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class lf extends Yn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ph(i){return nt(i)&&i.name==="AuthRetryableFetchError"}class yb extends Yn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class cf extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bb=` 	
\r=`.split(""),yA=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<bb.length;t+=1)i[bb[t].charCodeAt(0)]=-2;for(let t=0;t<ql.length;t+=1)i[ql[t].charCodeAt(0)]=t;return i})();function vb(i,t,n){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ql[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ql[a]),t.queuedBits-=6}}function Bv(i,t,n){const a=yA[i];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function _b(i){const t=[],n=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{_A(u,a,n)};for(let u=0;u<i.length;u+=1)Bv(i.charCodeAt(u),o,l);return t.join("")}function bA(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function vA(i,t){for(let n=0;n<i.length;n+=1){let a=i.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(i.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}bA(a,t)}}function _A(i,t,n){if(t.utf8seq===0){if(i<=127){n(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ra(i){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<i.length;o+=1)Bv(i.charCodeAt(o),n,a);return new Uint8Array(t)}function wA(i){const t=[];return vA(i,n=>t.push(n)),new Uint8Array(t)}function ns(i){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};return i.forEach(o=>vb(o,n,a)),vb(null,n,a),t.join("")}function xA(i){return Math.round(Date.now()/1e3)+i}function SA(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",Ki={tested:!1,writable:!1},Hv=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ki.tested)return Ki.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ki.tested=!0,Ki.writable=!0}catch{Ki.tested=!0,Ki.writable=!1}return Ki.writable};function TA(i){const t={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return n.searchParams.forEach((a,o)=>{t[o]=a}),t}const qv=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),EA=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",na=async(i,t,n)=>{await i.setItem(t,JSON.stringify(n))},Fi=async(i,t)=>{const n=await i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},de=async(i,t)=>{await i.removeItem(t)};class ec{constructor(){this.promise=new ec.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ec.promiseConstructor=Promise;function Al(i){const t=i.split(".");if(t.length!==3)throw new cf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!hA.test(t[a]))throw new cf("JWT not in base64url format");return{header:JSON.parse(_b(t[0])),payload:JSON.parse(_b(t[1])),signature:ra(t[2]),raw:{header:t[0],payload:t[1]}}}async function AA(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function OA(i,t){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await i(l);if(!t(l,null,u)){a(u);return}}catch(u){if(!t(l,u)){o(u);return}}})()})}function CA(i){return("0"+i.toString(16)).substr(-2)}function kA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,CA).join("")}async function RA(i){const n=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function MA(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await RA(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(i,t,n=!1){const a=kA();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await na(i,`${t}-code-verifier`,o);const l=await MA(a);return[l,a===l?"plain":"s256"]}const DA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jA(i){const t=i.headers.get(of);if(!t||!t.match(DA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NA(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function zA(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const UA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(i){if(!UA.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const i={};return new Proxy(i,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LA(i,t){return new Proxy(i,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,o)}})}function wb(i){return JSON.parse(JSON.stringify(i))}const Qi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),BA=[502,503,504];async function xb(i){var t;if(!EA(i))throw new lf(Qi(i),0);if(BA.includes(i.status))throw new lf(Qi(i),i.status);let n;try{n=await i.json()}catch(l){throw new Zi(Qi(l),l)}let a;const o=jA(i);if(o&&o.getTime()>=Lv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new yb(Qi(n),i.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new yb(Qi(n),i.status,n.weak_password.reasons);throw new dA(Qi(n),i.status||500,a)}const HA=(i,t,n,a)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ht(i,t,n,a){var o;const l=Object.assign({},a?.headers);l[of]||(l[of]=Lv["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await qA(i,t,n+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function qA(i,t,n,a,o,l){const u=HA(t,a,o,l);let h;try{h=await i(n,Object.assign({},u))}catch(f){throw console.error(f),new lf(Qi(f),0)}if(h.ok||await xb(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await xb(f)}}function ln(i){var t;let n=null;VA(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=xA(i.expires_in)));const a=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:a},error:null}}function Sb(i){const t=ln(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=i.weak_password),t}function _i(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function PA(i){return{data:i,error:null}}function $A(i){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l}=i,u=Jl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Tb(i){return i}function VA(i){return i.access_token&&i.refresh_token&&i.expires_in}const Vh=["global","local","others"];class IA{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=qv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Vh[0]){if(Vh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vh.join(", ")}`);try{return await ht(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(nt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ht(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_i})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Jl(t,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await ht(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:$A,redirectTo:n?.redirectTo})}catch(n){if(nt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_i})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,o,l,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},p=await ht(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Tb});if(p.error)throw p.error;const b=await p.json(),v=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);g[`${T}Page`]=S}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(nt(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Qs(t);try{return await ht(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_i})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qs(t);try{return await ht(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_i})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Qs(t);try{return await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_i})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Qs(t.userId);try{const{data:n,error:a}=await ht(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qs(t.userId),Qs(t.id);try{return{data:await ht(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,o,l,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},p=await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Tb});if(p.error)throw p.error;const b=await p.json(),v=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(x.split(";")[1].split("=")[1]);g[`${T}Page`]=S}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(nt(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ht(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ht(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(nt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ht(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ht(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}}function Eb(i={}){return{getItem:t=>i[t]||null,setItem:(t,n)=>{i[t]=n},removeItem:t=>{delete i[t]}}}const Js={debug:!!(globalThis&&Hv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Pv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GA extends Pv{}async function YA(i,t,n){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await n()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(t===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new GA(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Js.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function KA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $v(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function FA(i){return parseInt(i,16)}function WA(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function XA(i){var t;const{chainId:n,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:g,scheme:p,uri:b,version:v}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=$v(i.address),x=p?`${p}://${a}`:a,S=i.statement?`${i.statement}
`:"",T=`${x} wants you to sign in with your Ethereum account:
${_}

${S}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(C+=`
Expiration Time: ${o.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),f&&(C+=`
Request ID: ${f}`),g){let R=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);R+=`
- ${D}`}C+=R}return`${T}
${C}`}class te extends Error{constructor({message:t,code:n,cause:a,name:o}){var l;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Pl extends te{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function QA({error:i,options:t}){var n,a,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const u=window.location.hostname;if(Vv(u)){if(l.rp.id!==u)return new te({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function JA({error:i,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(Vv(a)){if(n.rpId!==a)return new te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class ZA{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tO=new ZA;function eO(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:n,excludeCredentials:a}=i,o=Jl(i,["challenge","user","excludeCredentials"]),l=ra(t).buffer,u=Object.assign(Object.assign({},n),{id:ra(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const g=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:ra(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function nO(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:n}=i,a=Jl(i,["challenge","allowCredentials"]),o=ra(t).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ra(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function iO(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:ns(new Uint8Array(i.response.attestationObject)),clientDataJSON:ns(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sO(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,a=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ns(new Uint8Array(o.authenticatorData)),clientDataJSON:ns(new Uint8Array(o.clientDataJSON)),signature:ns(new Uint8Array(o.signature)),userHandle:o.userHandle?ns(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ab(){var i,t;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function aO(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:QA({error:t,options:i})}}}async function rO(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:JA({error:t,options:i})}}}const oO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $l(...i){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of i)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(t(u)){const h=a[l];t(h)?a[l]=$l(h,u):a[l]=$l(u)}else a[l]=u}return a}function cO(i,t){return $l(oO,i,t||{})}function uO(i,t){return $l(lO,i,t||{})}class hO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:o},l){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:f};const g=o??tO.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;if(!p.name){const b=a;if(b)p.name=`${p.id}:${b}`;else{const _=(await this.client.getUser()).data.user,x=((u=_?.user_metadata)===null||u===void 0?void 0:u.name)||_?.email||_?.id||"User";p.name=`${p.id}:${x}`}}p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=cO(h.webauthn.credential_options.publicKey,l?.create),{data:b,error:v}=await aO({publicKey:p,signal:g});return b?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const p=uO(h.webauthn.credential_options.publicKey,l?.request),{data:b,error:v}=await rO(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(h){return nt(h)?{data:null,error:h}:{data:null,error:new Zi("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new zr("rpId is required for WebAuthn authentication")};try{if(!Ab())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return nt(u)?{data:null,error:u}:{data:null,error:new Zi("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new zr("rpId is required for WebAuthn registration")};try{if(!Ab())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:h};const{data:f,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(u){return nt(u)?{data:null,error:u}:{data:null,error:new Zi("Unexpected error in register",u)}}}}KA();const fO={url:lA,storageKey:cA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ob(i,t,n){return await n()}const Zs={};class Ur{get jwks(){var t,n;return(n=(t=Zs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},fO),t);if(this.storageKey=l.storageKey,this.instanceID=(n=Ur.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ur.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ge()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new IA({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=qv(l.fetch),this.lock=l.lock||Ob,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&ge()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=YA:this.lock=Ob,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new hO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Hv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Eb(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Uv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(ge()&&(n=TA(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),ge()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),mA(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return nt(n)?this._returnResult({error:n}):this._returnResult({error:new Zi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,o;try{const l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ln}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(l){if(nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,a,o;try{let l;if("email"in t){const{email:p,password:b,options:v}=t;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await Xs(this.storage,this.storageKey)),l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:b,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:x},xform:ln})}else if("phone"in t){const{phone:p,password:b,options:v}=t;l=await ht(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ln})}else throw new Tl("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await de(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:h}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Sb})}else if("phone"in t){const{phone:l,password:u,options:h}=t;n=await ht(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Sb})}else throw new Tl("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Ws;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,o,l,u,h,f,g,p,b,v;let _,x;if("message"in t)_=t.message,x=t.signature;else{const{chain:S,wallet:T,statement:C,options:R}=t;let D;if(ge())if(typeof T=="object")D=T;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")D=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const U=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href),q=await D.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=$v(q[0]);let P=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!P){const Q=await D.request({method:"eth_chainId"});P=FA(Q)}const F={domain:U.host,address:I,statement:C,uri:U.href,version:"1",chainId:P,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=R?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=R?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=XA(F),x=await D.request({method:"personal_sign",params:[WA(_),I]})}try{const{data:S,error:T}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(T)throw T;if(!S||!S.session||!S.user){const C=new Ws;return this._returnResult({data:{user:null,session:null},error:C})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:T})}catch(S){if(nt(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var n,a,o,l,u,h,f,g,p,b,v,_;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:T,wallet:C,statement:R,options:D}=t;let U;if(ge())if(typeof C=="object")U=C;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))U=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=C}const q=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const I=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),R?{statement:R}:null));let P;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")P=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)P=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)x=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),S=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${q.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(a=D?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=D?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((u=D?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((h=D?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((f=D?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(p=D?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const I=await U.signMessage(new TextEncoder().encode(x),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:T,error:C}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:ns(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ln});if(C)throw C;if(!T||!T.session||!T.user){const R=new Ws;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(nt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new pA;const{data:l,error:u}=await ht(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ln});if(await de(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new Ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:a,token:o,access_token:l,nonce:u}=t,h=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ln}),{data:f,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f||!f.session||!f.user){const p=new Ws;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:g})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,o,l,u;try{if("email"in t){const{email:h,options:f}=t;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Xs(this.storage,this.storageKey));const{error:b}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:f}=t,{data:g,error:p}=await ht(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:p})}throw new Tl("You must provide either an email or phone number.")}catch(h){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,a;try{let o,l;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await ht(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ln});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,g=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,a,o,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Xs(this.storage,this.storageKey));const g=await ht(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:PA});return!((l=g.data)===null||l===void 0)&&l.url&&ge()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Pe;const{error:o}=await ht(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(nt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:l}=t,{error:u}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:a,type:o,options:l}=t,{data:u,error:h}=await ht(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Tl("You must provide either an email or phone number and a type")}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await Fi(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=$h()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=LA(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_i}):await this._useSession(async n=>{var a,o,l;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await ht(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:_i})})}catch(n){if(nt(n))return qh(n)&&(await this._removeSession(),await de(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new Pe;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Xs(this.storage,this.storageKey));const{data:g,error:p}=await ht(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:_i});if(p)throw p;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pe;const n=Date.now()/1e3;let a=n,o=!0,l=null;const{payload:u}=Al(t.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{data:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Pe;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ge())throw new El("No browser detected.");if(t.error||t.error_description||t.error_code)throw new El(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new pb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pb("No code detected.");const{data:R,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:g}=t;if(!l||!h||!u||!g)throw new El("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(h);let v=p+b;f&&(v=parseInt(f));const _=v-p;_*1e3<=ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const x=v-b;p-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,v,p):p-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,v,p);const{data:S,error:T}=await this._getUser(l);if(T)throw T;const C={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:b,expires_at:v,refresh_token:u,token_type:g,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(nt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Fi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l&&!qh(l))return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(gA(h)&&(h.status===404||h.status===401||h.status===403)||qh(h)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await de(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=SA(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Xs(this.storage,this.storageKey,!0));try{return await ht(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,f,g,p;const{data:b,error:v}=l;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ht(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return ge()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(nt(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:h,token:f,access_token:g,nonce:p}=t,b=await ht(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ln}),{data:v,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ws}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(o){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)throw u;return await ht(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await OA(async o=>(o>0&&await AA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ht(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ln})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Ph(l)&&Date.now()+u-a<ea})}catch(a){if(this._debug(n,"error",a),nt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),ge()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Fi(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Fi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await na(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:$h()}else if(o&&!o.user&&!o.user){const u=await Fi(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await de(this.storage,this.storageKey+"-user"),await na(this.storage,this.storageKey,o)):o.user=$h()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hh;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Hh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ph(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ec;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Pe;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),nt(l)){const u={data:null,error:l};return Ph(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await de(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await na(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=wb(o);await na(this.storage,this.storageKey,l)}else{const o=wb(n);await na(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await de(this.storage,this.storageKey),await de(this.storage,this.storageKey+"-code-verifier"),await de(this.storage,this.storageKey+"-user"),this.userStorage&&await de(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ea);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ea}ms, refresh threshold is ${rf} ticks`),o<=rf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Pv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await Xs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ht(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await ht(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?iO(t.webauthn.credential_response):sO(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:f}=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ht(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:eO(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:nO(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,o,l;if(t)try{const{payload:_}=Al(t);let x=null;_.aal&&(x=_.aal);let S=x;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((a=(n=T?.factors)===null||n===void 0?void 0:n.filter(U=>U.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(S="aal2");const D=_.amr||[];return{data:{currentLevel:x,nextLevel:S,currentAuthenticationMethods:D},error:null}}catch(_){if(nt(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Al(u.access_token);let g=null;f.aal&&(g=f.aal);let p=g;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await ht(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Pe});const u=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ge()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Pe});const u=await ht(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ge()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await ht(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(t){if(nt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await ht(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pe})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(h=>h.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===t),a&&this.jwks_cached_at+fA>o)return a;const{data:l,error:u}=await ht(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});a=_.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:f}}=Al(a);n?.allowExpired||NA(l.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:l,header:o,signature:u},error:null}}const p=zA(o.alg),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,u,wA(`${h}.${f}`)))throw new cf("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}}Ur.nextInstanceID={};const dO=Ur,gO="2.95.3";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const mO={"X-Client-Info":`supabase-js-${yr}/${gO}`},pO={headers:mO},yO={schema:"public"},bO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vO={};function Lr(i){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(i)}function _O(i,t){if(Lr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Lr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function wO(i){var t=_O(i,"string");return Lr(t)=="symbol"?t:t+""}function xO(i,t,n){return(t=wO(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function Cb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function Gt(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cb(Object(n),!0).forEach(function(a){xO(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Cb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const SO=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),TO=()=>Headers,EO=(i,t,n)=>{const a=SO(n),o=TO();return async(l,u)=>{var h;const f=(h=await t())!==null&&h!==void 0?h:i;let g=new o(u?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),a(l,Gt(Gt({},u),{},{headers:g}))}};function AO(i){return i.endsWith("/")?i:i+"/"}function OO(i,t){var n,a;const{db:o,auth:l,realtime:u,global:h}=i,{db:f,auth:g,realtime:p,global:b}=t,v={db:Gt(Gt({},f),o),auth:Gt(Gt({},g),l),realtime:Gt(Gt({},p),u),storage:{},global:Gt(Gt(Gt({},b),h),{},{headers:Gt(Gt({},(n=b?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function CO(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var kO=class extends dO{constructor(i){super(i)}},RO=class{constructor(i,t,n){var a,o;this.supabaseUrl=i,this.supabaseKey=t;const l=CO(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:yO,realtime:vO,auth:Gt(Gt({},bO),{},{storageKey:u}),global:pO},f=OO(n??{},h);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=f.auth)!==null&&g!==void 0?g:{},this.headers,f.global.fetch)}this.fetch=EO(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new gE(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new oA(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new rE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,n)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,n;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:g},p,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kO({url:this.authUrl.href,headers:Gt(Gt({},v),p),storageKey:l,autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,flowType:u,lock:h,debug:f,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new ME(this.realtimeUrl.href,Gt(Gt({},i),{},{params:Gt(Gt({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const MO=(i,t,n)=>new RO(i,t,n);function DO(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}DO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jO="https://qdwwowrsnlqrkfcfvgip.supabase.co",NO="sb_publishable_WPv3waHS1QBX_KzfWt7P4Q_U6FZMV8H",se=MO(jO,NO),zO=[{Game:{Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,ErrorLetters:[],LineGraphDataSet:[]},GameSettings:{CurrentText:"",CurrentTitle:"",Timer:-1},Settings:{Text:{Length:"short"}}}],Gn=zO,UO=new Set,uf=new Set;function Iv(i,t){for(const n of i)try{n()}catch(a){console.error(`${t} subscriber threw:`,a)}}function LO(){Iv(UO,"SubscribeDataChanges")}function Gv(){Iv(uf,"SubscribeGameSettingsChanges"),LO()}function BO(i){return uf.add(i),()=>{uf.delete(i)}}function HO(i){return Gn[i].Game}function is(i){return Gn[i].GameSettings}function Vl(i,t={}){if(i>=Gn.length)return;const n=Gn[i].GameSettings={...Gn[i].GameSettings,...t};return Gv(),n}function Yv(i){return Gn[i].Settings}function qO(i,t={}){if(i>=Gn.length)return;const n=Gn[i].Settings={...Gn[i].Settings,...t};return Gv(),n}function In(i,t){localStorage.setItem(i,t)}function tn(i){const t=localStorage.getItem(i);return t||""}function PO(i){localStorage.removeItem(i)}async function $O(i,t,n){const{data:a,error:o}=await se.auth.signUp({email:t,password:n,options:{data:{username:i}}});if(o)return console.log("Sign up error: ",o),{status:"error",message:"Sign up error"};if(!a.session)return{status:"verify",message:"Bitte Email besttigen."};const l=a.user?.id;if(!l)return console.log("No user id from signup."),{status:"error",message:"No user id from signup."};const{data:u,error:h}=await se.from("Users").insert([{Username:i,Email:t,userId:l}]).single();if(h)return console.log("Error saving user: ",h),{status:"error",message:"Error saving user"};In("logged in","true"),console.log(u);const f="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",{error:g}=await se.from("UserSettings").upsert({id:l,profilePicture:f},{onConflict:"id"});return g&&console.log("Error saving user settings: ",g),{status:"ok"}}async function VO(i,t){const{data:n,error:a}=await se.auth.signInWithPassword({email:i,password:t});if(a){console.log("Sign up error: ",a);return}const{data:o,error:l}=await se.auth.getUser();if(l){console.log("Error getting user: ",l);return}if(!o.user?.email_confirmed_at){console.log("Bitte Email besttigen.");return}const u=n.user?.id;if(!u){console.log("No user id from signup.");return}const{data:h,error:f}=await se.from("Users").select("*").eq("userId",u).single();f?console.log("Error loading profile: ",f):console.log(h),In("logged in","true")}async function IO(){const{error:i}=await se.auth.signOut();if(i){console.log("Sign out error: ",i);return}In("logged in","false")}async function Rf(){const{data:{user:i}}=await se.auth.getUser();return i}async function GO(i){const t=await Rf();if(!t)return;const{error:n}=await se.from("Users").update({Username:i}).eq("userId",t.id);n&&console.log("Error: ",n)}async function YO(){const i=await Rf();if(!i)return"";const{data:t,error:n}=await se.from("Users").select("Username").eq("userId",i.id).single();return n&&console.log("Error: ",n),t?.Username??""}async function KO(){const{data:{user:i},error:t}=await se.auth.getUser();if(t||!i)throw t??new Error("No user");const{data:n,error:a}=await se.from("UserSettings").select("*").eq("id",i.id).maybeSingle();if(a)throw a;return n??{id:i.id,profilePicture:null}}async function FO(i){const t=await Rf();if(!t)return;const n=i.name.split(".").pop(),a=`${t.id}/${Date.now()}.${n}`,{error:o}=await se.storage.from("avatars").upload(a,i,{upsert:!0});if(o){console.log("Upload error:",o);return}const{data:l}=se.storage.from("avatars").getPublicUrl(a),{error:u}=await se.from("UserSettings").upsert({id:t.id,profilePicture:l.publicUrl},{onConflict:"id"});if(u){console.log("Error updating UserSettings: ",u);return}return l.publicUrl}async function Kv(){const{data:{user:i},error:t}=await se.auth.getUser();if(t||!i)throw t??new Error("No user");const{data:n,error:a}=await se.from("UserStats").select("*").eq("userId",i.id).maybeSingle();if(a)throw a;return n??{userId:i.id,created_at:new Date().toISOString(),rounds:[]}}async function WO(i){const{data:{user:t},error:n}=await se.auth.getUser();if(n||!t)throw n??new Error("No user");const{data:a,error:o}=await se.from("UserStats").upsert({userId:t.id,...i},{onConflict:"userId"}).select().single();if(o)throw console.log("updateUserStats error:",o),o;return a||console.log("updateUserStats returned no data",{patch:i,userId:t.id}),a}async function XO(i){console.log("appendUserRound called",i);const n=[...(await Kv()).rounds,i];return WO({rounds:n})}function QO(){window.location.reload()}function JO(){In("open-profile-on-load","true"),window.location.reload()}function ZO({text:i="Button",preferedPrefix:t="",onClick:n,setFile:a}){const o=K.useRef(null),l=()=>{o.current?.click(),n?.()},u=h=>{const f=h.target.files?.[0]??null;f!==null&&f.toString().startsWith(t)&&a(f)};return A.jsxs(A.Fragment,{children:[A.jsx(me,{onClickFunction:l,text:i}),A.jsx("input",{ref:o,type:"file",onChange:u,style:{display:"none"}})]})}const hf=JSON.parse(`[{"title":"The Wonders of the Ocean","short":"The ocean is a vast and mysterious world. It covers more than 70% of the Earths surface and is home to countless species, many of which remain undiscovered.","medium":"Oceans play a crucial role in regulating the Earth's climate. They provide oxygen, regulate temperature, and support biodiversity. Yet, they are facing threats from pollution, overfishing, and climate change.","long":"The ocean is not just a source of beauty, but it is also vital for life on Earth. It regulates the planet's climate by absorbing carbon dioxide and heat. Oceans are home to diverse ecosystems that support a vast array of marine life, from the smallest plankton to the largest whales. The depths of the ocean are still largely unexplored, and scientists continue to discover new species and learn more about the role oceans play in maintaining balance on Earth. However, these ecosystems are under threat due to human activities such as pollution, overfishing, and the effects of climate change, which are causing irreversible damage to marine life."},{"title":"The Evolution of Space Exploration","short":"Space exploration has fascinated humanity for centuries. From the early observations of the night sky to the historic moon landing, space has always been a realm of mystery and possibility.","medium":"With technological advancements, space exploration has moved from theoretical concepts to practical achievements. The Apollo moon landings in the 1960s were a milestone, and today, we have private companies sending spacecraft to Mars and beyond.","long":"Space exploration has come a long way since humanity first gazed at the stars. The first steps on the moon in 1969 marked a monumental achievement in science and technology, demonstrating humanity's ability to reach beyond our planet. Today, space exploration continues to evolve, with private companies like SpaceX and Blue Origin pushing the boundaries of what is possible. Mars missions, space tourism, and even the exploration of asteroids are now becoming realities. These advancements not only inspire future generations but also provide valuable insights into the origins of our solar system and the potential for life beyond Earth."},{"title":"The Influence of Social Media","short":"Social media has transformed how we communicate and interact with others. It has created a platform for self-expression, connection, and even activism.","medium":"While social media brings people closer together, it also raises concerns about privacy, mental health, and the spread of misinformation. Platforms like Facebook, Twitter, and Instagram have become integral parts of daily life for billions.","long":"Social media has revolutionized communication, allowing individuals to connect with others worldwide in an instant. It has provided a platform for self-expression, where people can share their lives, ideas, and opinions. Social movements have found a new voice through social media, allowing them to mobilize quickly and raise awareness for causes. However, the rise of social media has also led to several challenges. Privacy concerns are rampant, and the constant exposure to curated lives can have negative effects on mental health. Furthermore, the spread of misinformation and the ability to create echo chambers has become a growing concern for society."},{"title":"The Power of Music","short":"Music has the ability to inspire, uplift, and connect people. It transcends cultural and language barriers, evoking emotions and creating shared experiences.","medium":"From classical symphonies to modern pop hits, music plays a fundamental role in human culture. It brings people together, whether in concert halls, living rooms, or festivals. Music has the power to heal, to celebrate, and to communicate in ways that words alone cannot.","long":"Music is a universal language that speaks directly to the heart. It has been an essential part of human civilization for centuries, playing a central role in rituals, celebrations, and everyday life. Music can express a range of emotions, from joy and excitement to sorrow and nostalgia. It brings people together, whether they are singing in a choir, attending a concert, or simply enjoying a song on the radio. Music's therapeutic benefits are also widely recognized, helping to reduce stress, improve mood, and even aid in healing. As technology evolves, music continues to play an important role in shaping culture and personal identity."},{"title":"The Future of Renewable Energy","short":"Renewable energy sources such as solar, wind, and hydropower are rapidly changing the energy landscape, offering a cleaner, more sustainable alternative to fossil fuels.","medium":"The push for renewable energy is driven by the need to combat climate change and reduce our dependence on finite fossil fuels. Solar and wind energy have become some of the most cost-effective energy sources worldwide, with continued innovations in energy storage and grid integration.","long":"The future of energy lies in renewable sources that can provide sustainable power without the harmful environmental impacts of fossil fuels. Solar, wind, and hydropower are already playing significant roles in the global energy mix, and their potential to provide clean energy is growing. As technology advances, these renewable sources are becoming more efficient and cost-effective. Solar panels are now more affordable than ever, and wind turbines are harnessing energy at unprecedented rates. The challenge remains to create a reliable and efficient way to store and distribute this energy, but breakthroughs in battery storage and smart grids are making this more achievable. Transitioning to renewable energy is essential for reducing greenhouse gas emissions and mitigating the effects of climate change, ensuring a cleaner, healthier planet for future generations."},{"title":"The Rise of Artificial Intelligence","short":"Artificial intelligence is revolutionizing industries, from healthcare to finance, offering new solutions and efficiencies in ways previously unimaginable.","medium":"AI technologies, including machine learning and deep learning, are now integral to a variety of sectors. They help automate tasks, enhance decision-making, and provide insights that drive innovation and growth.","long":"Artificial intelligence is no longer just a futuristic concept. It's a driving force behind some of the most groundbreaking advancements in technology. AI systems, especially those using machine learning and deep learning, are transforming industries by automating routine tasks, improving efficiency, and solving complex problems that were once thought too difficult. In healthcare, AI is assisting in diagnostics and drug discovery, while in finance, it's enabling better risk management and fraud detection. As AI continues to evolve, its potential to reshape industries grows, leading to a future where machines work alongside humans to tackle challenges and create new opportunities. However, the rise of AI also raises ethical concerns, including job displacement and the need for responsible development."},{"title":"The Role of Education in Society","short":"Education is a cornerstone of personal and societal development, shaping individuals and communities, and playing a key role in advancing society.","medium":"Education opens doors to opportunity, fostering critical thinking, creativity, and innovation. It provides individuals with the tools to navigate life and contribute to society, while also being essential for economic and social progress.","long":"Education is one of the most powerful tools for societal transformation. It empowers individuals to build skills, broaden their perspectives, and achieve their full potential. Beyond personal development, education plays a central role in creating an informed and engaged citizenry. It fosters critical thinking, problem-solving, and the ability to engage with complex issues. On a societal level, education drives economic growth and social mobility, helping to bridge gaps between different communities and reducing inequality. As technology continues to evolve, education is also adapting, with online learning and digital tools revolutionizing how knowledge is shared. However, ensuring equitable access to quality education remains a key challenge for many parts of the world."},{"title":"The Impact of Climate Change","short":"Climate change is one of the most pressing global challenges, affecting ecosystems, weather patterns, and human communities around the world.","medium":"The effects of climate change are already being felt globally, with rising temperatures, more frequent natural disasters, and shifts in ecosystems. Addressing these challenges requires global cooperation and sustainable solutions.","long":"Climate change is no longer a distant threatit is a reality that is impacting every corner of the globe. Rising temperatures, shifting weather patterns, and extreme weather events such as hurricanes, droughts, and floods are becoming more frequent and intense. These changes are disrupting ecosystems, threatening biodiversity, and putting human populations at risk, particularly in vulnerable regions. Addressing climate change requires coordinated global action to reduce greenhouse gas emissions, transition to renewable energy, and protect ecosystems. Governments, businesses, and individuals must all play a role in mitigating the effects of climate change and adapting to its consequences. The urgency of this issue cannot be overstated, as the choices we make today will determine the future of our planet."},{"title":"The Wonders of Space","short":"Space is a vast and mysterious frontier that continues to captivate humanity, filled with galaxies, stars, and planets waiting to be discovered.","medium":"Space exploration has provided remarkable insights into the origins of the universe, the nature of distant stars and planets, and the possibility of life beyond Earth. The more we learn, the more we realize how much there is yet to explore.","long":"The universe is an awe-inspiring expanse that holds countless mysteries. Through the advancements in telescopes, spacecraft, and space exploration, we have begun to unravel the wonders of space. The study of distant galaxies, the birth of stars, and the exploration of exoplanets have provided invaluable insights into the origins of the cosmos and the potential for life beyond Earth. Space missions like the Hubble Space Telescope and the Mars Rover have opened our eyes to the beauty and complexity of the universe. As technology continues to improve, the possibilities for space exploration are endless, with future missions aimed at reaching distant asteroids, exploring the moons of Jupiter and Saturn, and even sending humans to Mars. Space holds infinite potential for discovery and understanding."},{"title":"The Importance of Mental Health","short":"Mental health is just as important as physical health, and its impact on overall well-being cannot be overstated.","medium":"Mental health affects every aspect of life, from personal relationships to career success. Tackling mental health challenges requires understanding, open communication, and access to proper care and support.","long":"Mental health is a crucial aspect of overall well-being, affecting how we think, feel, and act. It influences our relationships, work life, and ability to cope with stress. Yet, mental health is often overlooked, with many people facing stigma when seeking help. Mental health issues such as depression, anxiety, and stress can have a significant impact on a person's quality of life, making it essential to prioritize mental health alongside physical health. Raising awareness, reducing stigma, and ensuring access to mental health services are critical steps in supporting individuals who are struggling. Just as we would seek medical treatment for a physical illness, it's vital that we also take care of our mental health and encourage others to do the same."}]`),ff=hf;function kb(){const i=[];for(const t in hf){const n=hf[t];n?.title&&i.push(n.title)}return i}function t2(i){const t=Math.floor(Math.random()*ff.length),n=ff[t];return{title:n.title,text:n[i]}}function e2(i,t){const n=ff.find(a=>a.title===i);return n?{title:n.title,text:n[t]}:null}function Rb(i){for(let t=0;t<i.length;t++)if(i[t]==="@")return!0;return!1}function Fv(){const i=t2(Yv(0).Text.Length);Vl(0,{CurrentText:i.text,CurrentTitle:i.title}),console.log(`Text: ${is(0).CurrentText}`)}function n2(i){Vl(0,{Timer:i}),console.log(`Timer: ${is(0).Timer}`)}function i2(){const i=new Array;for(const t of Array.from(document.styleSheets)){let n;try{n=t.cssRules}catch{continue}for(const a of Array.from(n))if(a instanceof CSSStyleRule){const o=a.selectorText.split(",");for(const l of o){const u=l.trim();u.startsWith(".theme")&&i.push(u.slice(1))}}}return i}function Wv(i){return i.length===0?0:i.reduce((t,n)=>t+n,0)/i.length}function s2(i){if(i===void 0)return;const t=[];for(const n of i)t.push(n.accuracy);return Wv(t)}function a2(i){if(i===void 0)return;const t=[];for(const n of i)t.push(n.wpm);return Wv(t)}function Mb(i){if(i===void 0)return;const t=[];for(const o of i)t.push([o.wpm,o.time,o.errorLetters.length]);let n=0,a=[0,0];for(const o of t){const l=o[0]/o[1]-o[2];l>n&&(n=l,a=o)}return a}function r2(i){if(!i||i.length===0)return;const t={};for(const o of i)for(const l of o.errorLetters)t[l]=(t[l]??0)+1;let n="",a=0;for(const o in t){const l=t[o];l>a&&(a=l,n=o)}return{[n]:a}}function o2(i){return i===void 0?0:i.length+1}function Xv(i,t){const n=i/t*100;return Math.round(n*100)/100}function df(i,t){return t<=0?0:Math.round(i/5/t)}const Qv=K.createContext(null);function l2({children:i}){const[t,n]=K.useState(!1),[a,o]=K.useState(!1),[l,u]=K.useState(()=>HO(0)),[h,f]=K.useState(0),[g,p]=K.useState(null),[b,v]=K.useState(!1),[_,x]=K.useState(null),[S,T]=K.useState(!0),C=K.useCallback(()=>f(U=>U+1),[]);K.useEffect(()=>{u(U=>{const q=U.Seconds/60,I=df(U.Character,q),P=U.Character-U.CorrectCharacter,F=Xv(U.CorrectCharacter,U.Character);return q===U.Minutes&&I===U.WPM&&P===U.Errors&&F===U.Accurancy?U:{...U,Minutes:q,WPM:I,Errors:P,Accurancy:F}})},[l.Seconds,l.Character,l.CorrectCharacter]);const R=K.useCallback(async()=>{let U=!1;v(!0),x(null);try{const q=await Kv();U||p(q)}catch{x("Konnte Stats nicht laden")}finally{v(!1)}},[]);K.useEffect(()=>{a&&R()},[a,R]),K.useEffect(()=>{S&&T(!1)},[S]);const D=K.useMemo(()=>({game:l,setGame:u,isGameStarted:t,setIsGameStarted:n,showResults:a,setShowResults:o,textVersion:h,bumpTextVersion:C,stats:g,loadingStats:b,statsError:_,firstLoaded:S,loadStats:R}),[l,t,a,h,g,b,_,C,S,R]);return A.jsx(Qv.Provider,{value:D,children:i})}function qr(){const i=K.useContext(Qv);if(!i)throw new Error("useGameStore must be used within GameStoreProvider");return i}function c2({data:i,classname:t}){return A.jsxs("div",{className:`w-full h-16 bg-card-bg border border-card-border rounded-lg ${t} px-4 py-2 flex items-center justify-between transition-all duration-200 hover:border-accent-primary hover:shadow-glow-purple group`,children:[A.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[A.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Time"}),A.jsxs("div",{className:"text-lg font-display font-bold text-text-primary",children:[i.time,"s"]})]}),A.jsx("div",{className:"h-8 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),A.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[A.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Accuracy"}),A.jsxs("div",{className:"text-lg font-display font-bold text-accent-primary",children:[i.accuracy,"%"]})]}),A.jsx("div",{className:"h-8 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),A.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[A.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"WPM"}),A.jsx("div",{className:"text-lg font-display font-bold text-accent-secondary",children:i.wpm})]}),A.jsx("div",{className:"h-8 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),A.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[A.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Errors"}),A.jsx("div",{className:"text-lg font-display font-bold text-accent-warning",children:i.errorLetters.length})]})]})}function u2({rounds:i}){return A.jsx("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden blur-[0.6px] px-4 py-2 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:i.map((t,n)=>A.jsx(c2,{data:t,classname:"my-2"},n))})}function h2(){const[i,t]=K.useState(!1),[n,a]=K.useState(!1),[o,l]=K.useState(!1),[u,h]=K.useState(""),[f,g]=K.useState(""),[p,b]=K.useState(null),[v,_]=K.useState(null),{stats:x,loadStats:S}=qr(),[T,C]=K.useState("WpmGraph"),R=K.useMemo(()=>{const st=x?.rounds??[],ct=r2(st);return{"Average Acc":s2(st),"Average WPM":a2(st),"Best WPM":Mb(st)?.[0]??0,"Best Time":Mb(st)?.[1]??0,"Error Hotspots":Object.keys(ct??{})[0]??"",Streaks:o2(st)-1}},[x]);K.useEffect(()=>{let st=!0;return YO().then(ct=>{st&&g(ct)}),KO().then(ct=>{st&&b(ct.profilePicture??null)}).catch(ct=>{console.log("Error loading user settings: ",ct)}),tn("open-profile-on-load")==="true"&&(t(!0),PO("open-profile-on-load")),()=>{st=!1}},[]),K.useEffect(()=>{v!==null&&FO(v).then(st=>{st&&b(st)}).catch(st=>{console.log("Error updating profile picture: ",st)})},[v]),K.useEffect(()=>{i&&S()},[i,S]);const D=()=>{t(!i)},U=async()=>{await IO(),window.location.reload()},q=st=>{h(st)},I=async()=>{await GO(u.trim()),l(!1),JO()},P=(x?.rounds??[]).map(st=>({...st,errorCount:st.errorLetters.length})),F=A.jsx(pr,{data:P,xKey:(st,ct)=>ct+1,series:[{key:"wpm",label:"WPM",fill:!0}],xTitle:"Rounds",yTitle:"WPM",height:"95%",width:"100%",tooltipValueSuffix:"WPM",className:"border-none shadow-none"}),Q=A.jsx(pr,{data:P,xKey:(st,ct)=>ct+1,series:[{key:"accuracy",label:"Accuracy",fill:!0}],xTitle:"Rounds",yTitle:"Accuracy",height:"95%",width:"100%",tooltipValueSuffix:"%",className:"border-none shadow-none"}),dt=A.jsx(pr,{data:P,xKey:(st,ct)=>ct+1,series:[{key:"time",label:"Time",fill:!0}],xTitle:"Rounds",yTitle:"Time",height:"95%",width:"100%",tooltipValueSuffix:"'s'",className:"border-none shadow-none"}),it=A.jsx(pr,{data:P,xKey:(st,ct)=>ct+1,series:[{key:"errorCount",label:"ErrorLetters",fill:!0}],xTitle:"Rounds",yTitle:"Errors",height:"95%",width:"100%",tooltipValueSuffix:"Error's",className:"border-none shadow-none"}),rt=st=>{C(st),console.log(T)},kt=A.jsxs("div",{className:"flex flex-row gap-x-10 h-full",children:[A.jsx("div",{className:"w-1/4 flex flex-col gap-5",children:A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsxs("div",{className:"w-full aspect-square relative overflow-visible",children:[A.jsx("div",{className:"absolute z-50 -m-5",children:A.jsx(kl,{tooltip:"Settings",onClickFunction:()=>a(!n),text:"",optionsValue:[A.jsx(me,{text:"Log Out",onClickFunction:U})]})}),A.jsxs("div",{className:"relative group",children:[A.jsx("img",{src:p??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-4 border-card-border transition-all duration-700 group-hover:scale-105 shadow-2xl"}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100",children:A.jsx(ZO,{text:"",setFile:_})})]})]}),A.jsxs("div",{className:"group relative flex justify-center items-center p-5 overflow-hidden",children:[o?A.jsx(Rl,{value:u,onSubmit:I,onChange:q}):A.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest transition-all duration-700 group-hover:-translate-x-8 group-hover:tracking-normal",children:f}),A.jsx("div",{className:"absolute right-5 opacity-0 translate-x-4 transition-all duration-700 group-hover:opacity-100 group-hover:-translate-x-7",children:o?null:A.jsx(me,{onClickFunction:()=>l(!0),text:""})})]}),A.jsxs("ul",{className:"list-none pl-0 space-y-2 text-lg text-text-primary font-mono font-extrabold",children:[A.jsxs("li",{className:"flex items-center justify-between",children:[A.jsx(bi,{content:"The average accuracy this player has.",children:A.jsx("span",{className:"cursor-default",children:"Average Accuracy"})}),A.jsxs("span",{children:[R["Average Acc"]!==void 0?Math.round(R["Average Acc"]*100)/100:0,"%"]})]}),A.jsx("div",{className:"h-px w-full bg-white/80"}),A.jsxs("li",{className:"flex items-center justify-between",children:[A.jsx(bi,{content:"The average words per minute this player has.",children:A.jsx("span",{className:"cursor-default",children:"Average WPM"})}),A.jsx("span",{children:R["Average WPM"]!==void 0?Math.round(R["Average WPM"]*100)/100:0})]}),A.jsx("div",{className:"h-px w-full bg-white/80"}),A.jsxs("li",{className:"flex items-center justify-between",children:[A.jsx(bi,{content:"The best WPM this player had.",children:A.jsx("span",{className:"cursor-default",children:"Best WPM"})}),A.jsx(bi,{content:`This player got ${R["Best WPM"]} WPM in ${R["Best Time"]} seconds!`,children:A.jsx("span",{children:R["Best WPM"]})})]}),A.jsx("div",{className:"h-px w-full bg-white/80"}),A.jsxs("li",{className:"flex items-center justify-between",children:[A.jsx(bi,{content:"The letter the player misstypes the most.",children:A.jsx("span",{className:"cursor-default",children:"Error Hotspots"})}),A.jsx("span",{children:R["Error Hotspots"]})]}),A.jsx("div",{className:"h-px w-full bg-white/80"}),A.jsxs("li",{className:"flex items-center justify-between",children:[A.jsx(bi,{content:"How many plays this payer has.",children:A.jsx("span",{className:"cursor-default",children:"Streak"})}),A.jsx("span",{children:R.Streaks})]})]})]})}),A.jsxs("div",{className:"w-3/4 flex flex-col gap-5 min-h-0",children:[A.jsx("div",{className:"flex-[3] flex flex-row gap-x-5 min-h-0",children:A.jsxs("div",{className:"w-full h-full bg-game-bg-light rounded-md p-5 pl-0",children:[A.jsx("div",{className:"w-fit h-fit flex items-center justify-center ml-5",children:A.jsx(Ov,{options:["WpmGraph","AccGraph","TimeGraph","ErrorLettersGraph"],onChange:st=>rt(st)})}),T==="WpmGraph"&&F,T==="AccGraph"&&Q,T==="TimeGraph"&&dt,T==="ErrorLettersGraph"&&it]})}),A.jsx("div",{className:"flex-[2] bg-game-bg-light rounded-md min-h-0",children:A.jsx(u2,{rounds:x?.rounds??[]})})]})]});return A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:D,style:{width:"15%"},className:"relative z-50 m-5 border-2 border-card-border rounded-full transition-all duration-150 hover:border-accent-primary active:scale-90",children:A.jsx("img",{src:p??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full"})}),A.jsx(jb,{open:i,value:kt,width:65,height:70,className:"motion-preset-blur-up-lg"})]})}function f2({glow:i=!1}){return A.jsx("h1",{className:`text-1xl font-display font-bold tracking-tight ${i?"drop-shadow-[0_0_25px_rgba(200,155,94,0.6)]":""}`,children:A.jsx("span",{className:"text-accent-primary",children:is(0).CurrentTitle})})}function Ol({text:i,fontSize:t=30,infoText:n,infoFontSize:a=12,infoPlace:o="Bottom",color:l="text-text-primary"}){const u=A.jsx("p",{style:{fontSize:t},className:`${l} font-bold`,children:i}),h=A.jsx("p",{style:{fontSize:`${a}px`},className:"text-text-secondary font-bold uppercase tracking-wider",children:n});return A.jsxs("div",{className:"flex flex-col",children:[o=="Bottom"?u:h,o=="Top"?u:h]})}function d2(){const{game:i,stats:t}=qr(),n=t?.rounds?.length?t.rounds[t.rounds.length-1]:null,a=n?.wpm??i.WPM,o=n?.accuracy??i.Accurancy,l=n?.errorLetters?.length??i.Errors,u=n?.time??i.Seconds;return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"w-full h-full bg-card-bg border border-card-border rounded-lg shadow-card flex flex-col",children:[A.jsxs("div",{className:"w-full h-28 border-b border-card-border flex flex-row items-center justify-around px-12",children:[A.jsx(Ol,{text:`${a}`,fontSize:42,infoText:"WPM",color:"text-accent-primary"}),A.jsx("div",{className:"h-16 w-px bg-card-border"}),A.jsx(Ol,{text:`${o}%`,fontSize:42,infoText:"ACC",color:"text-accent-success"}),A.jsx("div",{className:"h-16 w-px bg-card-border"}),A.jsx(Ol,{text:`${l}`,fontSize:42,infoText:"Errors",color:"text-accent-error"}),A.jsx("div",{className:"h-16 w-px bg-card-border"}),A.jsx(Ol,{text:`${u}'s`,fontSize:42,infoText:"Time / Seconds",color:"text-accent-secondary"})]}),A.jsx("div",{className:"flex-1 p-10",children:A.jsx(pr,{data:i.LineGraphDataSet,xKey:"Seconds",series:[{key:"WPM",label:"WPM",fill:!0}],xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE",tooltipValueSuffix:"WPM",className:"border-none shadow-none"})})]})})}function g2(){const{isGameStarted:i,setIsGameStarted:t,setShowResults:n,setGame:a,textVersion:o}=qr(),[l,u]=K.useState(""),[h,f]=K.useState([]),[g,p]=K.useState(is(0).Timer),[b,v]=K.useState(()=>is(0).CurrentText),_=K.useRef(!1),x=K.useRef(g),[S,T]=K.useState({Normal:"text-text-primary opacity-30",Correct:"text-text-correct",Incorrect:"text-text-incorrect",Upcoming:"text-text-upcoming opacity-20",Current:"text-text-current font-semibold border-b-4 border-white/50"}),C=K.useRef(b),R=K.useRef(is(0)),D=K.useMemo(()=>b.split(`
`).join(""),[b]),U=K.useMemo(()=>b.split(`
`),[b]),q=K.useRef(l),I=K.useRef(null),P=K.useRef(0),F=K.useRef(0),Q=K.useRef([]),dt=K.useRef(!1),it=K.useRef(0),rt=K.useCallback(async()=>{if(dt.current)return;dt.current=!0;const W=Math.max(F.current-P.current,0),tt=Math.max(it.current,0),ot=tt/60,E={time:tt,accuracy:Xv(W,Math.max(F.current,1)),wpm:df(F.current,ot),errorLetters:Q.current};try{await XO(E)}catch(L){console.log("appendUserRound failed:",L)}},[D.length]);K.useEffect(()=>{},[T]);const kt=K.useCallback(W=>{const ot=(W??C.current).split(`
`).join(""),E=R.current.Timer;t(!1),n(!1),u(""),q.current="",P.current=0,F.current=0,Q.current=[],dt.current=!1,it.current=0,f(Array.from({length:ot.length},()=>S.Normal)),p(E),x.current=E,a(L=>({...L,Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]})),requestAnimationFrame(()=>{I.current?.scrollTo({top:0}),I.current?.focus()})},[a,n,t,S]),st=K.useCallback(()=>{const W=is(0),tt=R.current,ot=W.CurrentText!==tt.CurrentText,E=W.Timer!==tt.Timer,L=W.CurrentTitle!==tt.CurrentTitle;if(!(!ot&&!E&&!L)){if(R.current=W,ot){C.current=W.CurrentText,v(W.CurrentText),kt(W.CurrentText);return}if(E){kt();return}kt()}},[kt]);K.useEffect(()=>{C.current=b},[b]),K.useEffect(()=>{x.current=g},[g]),K.useEffect(()=>{if(!_.current){_.current=!0;return}st()},[st,o]),K.useEffect(()=>{I.current?.focus()},[]),K.useEffect(()=>{const W=BO(st);return st(),W},[st]),K.useEffect(()=>{f(Array.from({length:D.length},()=>S.Normal))},[D,S]);const ct=K.useMemo(()=>{const W=b.split(`
`),tt=[];let ot=0;for(const E of W)tt.push(ot),ot+=E.length;return tt},[b]);K.useEffect(()=>{if(!i)return;const W=R.current.Timer>0;W&&(x.current=R.current.Timer,p(x.current));const tt=setInterval(()=>{a(E=>{const L=E.Seconds/60,Y={gameIndex:E.LineGraphDataSet.length,Seconds:E.Seconds,WPM:df(E.Character,L)};return{...E,LineGraphDataSet:[...E.LineGraphDataSet,Y]}})},5e3),ot=setInterval(()=>{it.current+=1,a(E=>({...E,Seconds:E.Seconds+1})),W&&(x.current=Math.max(x.current-1,0),p(x.current),!(x.current>0)&&(t(!1),(async()=>(await rt(),n(!0)))(),clearInterval(ot),clearInterval(tt)))},1e3);return()=>{clearInterval(ot),clearInterval(tt)}},[i,a,n,t]),K.useEffect(()=>{const W=l.length-1;if(W<0){a(Y=>({...Y,Character:F.current,CorrectCharacter:Math.max(F.current-P.current,0)})),f(Array.from({length:D.length},()=>S.Normal));return}const tt=l[W]==D[W],ot=Math.min(l.length,D.length);for(let Y=0;Y<ot;Y+=1)l[Y],D[Y];a(Y=>({...Y,Character:F.current,CorrectCharacter:Math.max(F.current-P.current,0)})),f(Y=>{const J=[...Y];return J[W]=tt?S.Correct:S.Incorrect,W+1<J.length&&(J[W+1]=S.Current),W+2<J.length&&(J[W+2]=S.Upcoming),J});const E=I.current;let L=null;if(E){for(let Y=W;Y<D.length&&(L=E.querySelector(`[data-idx="${Y}"]`),!L);Y+=1);if(!L)for(let Y=W-1;Y>=0&&(L=E.querySelector(`[data-idx="${Y}"]`),!L);Y-=1);}if(E&&L instanceof HTMLElement){const Y=L.offsetTop-E.clientHeight/2+L.offsetHeight/2,J=Math.max(E.scrollHeight-E.clientHeight,0),lt=Math.max(0,Math.min(Y,J));E.scrollTo({top:lt})}W>=D.length-1&&(t(!1),(async()=>(await rt(),n(!0)))())},[l,D,rt,a,n,t,S]);const B=(W,tt)=>{let ot=0;return W.split(/(\s+)/).map((E,L)=>{const Y=ot;return ot+=E.length,E.trim()===""?A.jsx("span",{children:E},L):A.jsx("span",{className:"whitespace-nowrap",children:E.split("").map((J,lt)=>{const gt=ct[tt]+Y+lt,Et=h[gt]??S.Normal;return A.jsx("span",{"data-idx":gt,className:`inline-block ${Et} transition-colors duration-100`,children:J},lt)})},L)})},X=R.current.Timer>0;return A.jsxs("div",{className:"relative w-full h-2/5",children:[X&&A.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-md border border-card-border bg-game-bg-light px-3 py-1 text-sm font-semibold text-text-primary shadow-card pointer-events-none",children:g}),A.jsx("div",{ref:I,tabIndex:0,onClick:()=>I.current?.focus(),onKeyDown:W=>{const tt=W.key;if(tt==="Escape"){W.preventDefault(),kt();return}if(!(tt==="Backspace"||tt.length===1&&!W.ctrlKey&&!W.metaKey&&!W.altKey))return;if(W.preventDefault(),i||t(!0),tt==="Backspace"){if(q.current.length===0)return;u(L=>{const Y=L.slice(0,L.length-1);return q.current=Y,Y});return}if(q.current.length>=D.length)return;const E=q.current.length;F.current+=1,D[E]!==tt&&(P.current+=1,Q.current.push(D[E])),u(L=>{const Y=L+tt;return q.current=Y,Y})},className:"w-full h-full bg-card-bg p-10 rounded-xl text-text-primary text-typing-xxl font-mono outline-none shadow-card border-2 border-card-border overflow-y-scroll hover:border-accent-warning focus:border-accent-primary transition-all duration-300 backdrop-blur-sm",style:{scrollbarWidth:"thin",scrollbarColor:"#3a352f #211e1b"},children:U.map((W,tt)=>A.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:B(W,tt)},tt))})]})}function m2(){const{bumpTextVersion:i}=qr(),[t,n]=K.useState();K.useEffect(()=>{n(i2()),tn("theme")===void 0&&In("theme","theme-earthy-earth"),tn("theme-index")===""&&In("theme-index","0"),console.log(`Theme: ${tn("theme")}
Theme-Index: ${tn("theme-index")}`)},[]),K.useEffect(()=>{console.log("Themes: ",t)},[t]);const a=(h,f)=>{In("theme",h),In("theme-index",f),QO()},o=h=>{qO(0,{Text:{Length:h}}),Fv(),i()},l=h=>{n2(h)},u=h=>{const f=kb();if(!h||f.length===0)return;const g=h,p=Yv(0).Text.Length,b=f[Math.floor(Math.random()*f.length)],v=g==="Random"?b:g,x=e2(v,p)?.text??"Something went wrong! Text not found!";Vl(0,{CurrentTitle:v}),Vl(0,{CurrentText:x})};return A.jsx(A.Fragment,{children:A.jsxs("div",{className:"w-full h-14 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row items-center gap-3 px-2 backdrop-blur-sm",children:[A.jsx(kl,{text:"",tooltip:"Text options",optionsValue:[A.jsx(Cl,{children:[A.jsx(me,{index:0,text:"Short",onClickFunction:()=>o("short")}),A.jsx(me,{index:1,text:"Middle",onClickFunction:()=>o("medium")}),A.jsx(me,{index:2,text:"Long",onClickFunction:()=>o("long")}),A.jsx(Ov,{label:"",options:["Random",...kb()],onChange:u})],defaultSelect:0})]}),A.jsx(kl,{text:"",tooltip:"Timer options",optionsValue:[A.jsx(Cl,{children:[A.jsx(me,{index:0,text:"15's",onClickFunction:()=>l(15),tooltip:"Set a timer too 15 seconds."}),A.jsx(me,{index:1,text:"30's",onClickFunction:()=>l(30),tooltip:"Set a timer too 30 seconds."}),A.jsx(me,{index:2,text:"60's",onClickFunction:()=>l(60),tooltip:"Set a timer too 60 seconds."}),A.jsx(me,{index:3,text:"",onClickFunction:()=>l(-1),tooltip:"Set a timer that runs until u finished typing."})],defaultSelect:3})]}),A.jsx(kl,{text:"",tooltip:"Theme",itemsPerRow:15,optionsValue:[A.jsx(Cl,{children:t!==void 0?t.map((h,f)=>A.jsx(bi,{content:h,children:A.jsx(me,{text:"",className:` h-10 ${h} text-accent-primary`,onClickFunction:()=>a(h,`${f}`)},f)})):[A.jsx(me,{}),A.jsx(me,{})],defaultSelect:parseInt(tn("theme-index"))})]})]})})}function p2({text:i="Loading..."}){return A.jsxs("div",{className:"w-screen h-screen bg-game-bg flex flex-col items-center justify-center gap-8",children:[A.jsxs("div",{className:"relative w-24 h-24",children:[[...Array(8)].map((t,n)=>A.jsx("div",{className:"absolute w-3 h-3 bg-accent-primary rounded-full",style:{top:"50%",left:"50%",transform:`rotate(${n*45}deg) translateY(-40px)`,animation:"pulse-glow 1.2s ease-in-out infinite",animationDelay:`${n*.15}s`}},n)),A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-accent-warning rounded-full shadow-glow-purple animate-pulse"})]}),A.jsxs("div",{className:"flex flex-col items-center gap-2",children:[A.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary animate-pulse",children:i}),A.jsxs("div",{className:"flex gap-1.5",children:[A.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full animate-bounce",style:{animationDelay:"0s"}}),A.jsx("div",{className:"w-2 h-2 bg-accent-warning rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),A.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),A.jsx("style",{children:`
                @keyframes pulse-glow {
                    0%, 100% {
                        opacity: 0.3;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(0.8);
                    }
                    50% {
                        opacity: 1;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(1.2);
                        box-shadow: 0 0 20px rgba(200, 155, 94, 0.8);
                    }
                }
            `})]})}function y2(){const[i,t]=K.useState(!1),[n,a]=K.useState(!1),[o,l]=K.useState("login"),[u,h]=K.useState(""),[f,g]=K.useState(""),[p,b]=K.useState(""),[v,_]=K.useState(""),{showResults:x,setShowResults:S,bumpTextVersion:T,loadingStats:C}=qr();K.useEffect(()=>{Fv(),T(),tn("logged in")===null&&In("logged in","false");const Q=tn("theme")||"theme-earthy-earth";(it=>{for(const rt of Array.from(it.classList))rt.startsWith("theme-")&&it.classList.remove(rt);it.classList.add(Q)})(document.documentElement)},[T]);const R=()=>{S(!x)},D=()=>{a(!n)},U=(Q,dt)=>{Q==="Username"&&g(dt),Q==="Email"&&b(dt),Q==="Password"&&_(dt)},q=async()=>{if(l("signup"),console.log(tn("logged in")),tn("logged in")==="true")return;const Q=await $O(f,p,v);Q?.status==="verify"?h("Please confirm your email."):Q?.status==="error"?h("Error, please try again."):h("")},I=async()=>{await VO(p,v),l("login"),h(""),window.location.reload()},P=A.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row gap-6 p-6 md:p-8 bg-card-bg border-2 border-card-border rounded-xl shadow-card",children:[A.jsxs("div",{className:"md:w-5/12 w-full flex flex-col gap-5 bg-game-bg-light border-2 border-card-border rounded-lg p-6",children:[A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-warning shadow-glow-yellow"}),A.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-primary shadow-glow-purple"}),A.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green"})]}),A.jsx("div",{className:"text-xs font-display uppercase tracking-[0.35em] text-text-secondary",children:"Access"})]}),A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold tracking-widest text-accent-primary",children:"WELCOME"}),A.jsx("p",{className:"text-text-secondary font-display text-sm leading-relaxed",children:"Log in to sync stats, save streaks and unlock custom themes."})]}),A.jsxs("div",{className:"flex flex-col gap-3 text-sm font-display text-text-primary",children:[A.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[A.jsx("span",{children:"Sync progress"}),A.jsx("span",{className:"text-accent-primary",children:"Ready"})]}),A.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[A.jsx("span",{children:"Keep streaks"}),A.jsx("span",{className:"text-accent-primary",children:"Active"})]}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{children:"Secure session"}),A.jsx("span",{className:"text-accent-primary",children:"Enabled"})]})]}),A.jsx("div",{className:"mt-auto text-xs font-display uppercase tracking-[0.3em] text-text-secondary",children:"Typing Game"})]}),A.jsxs("div",{className:"md:w-7/12 w-full flex flex-col gap-5",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>l("login"),className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="login"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,children:"Login"}),A.jsx("button",{className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="signup"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,onClick:()=>l("signup"),children:"Sign up"})]}),A.jsx("div",{className:"h-px w-full bg-card-border/70"}),A.jsxs("div",{className:"w-full flex flex-col gap-4",children:[o==="signup"?A.jsx(Rl,{onChange:Q=>U("Username",Q),label:"Username",placeholder:"Enter your username..",type:"text",className:"w-full"}):null,A.jsx(Rl,{onChange:Q=>U("Email",Q),label:"Email",placeholder:"Enter your email..",type:"email",className:"w-full"}),A.jsx(Rl,{onChange:Q=>U("Password",Q),label:"Password",placeholder:"Enter your password..",type:"password",className:"w-full"})]}),A.jsx("div",{className:"h-px w-full bg-card-border/70"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("div",{className:"text-xs font-display uppercase tracking-[0.2em] text-text-secondary",children:o==="login"?"No account? Sign up":"Already have an account?"}),A.jsx("div",{className:"flex items-center gap-3",children:o==="signup"?A.jsx(me,{disabled:!Rb(p),onClickFunction:q,text:"Create Account"}):A.jsx(me,{disabled:!Rb(p),onClickFunction:I,text:"Login"})})]}),u?A.jsx("div",{className:"text-xs font-display text-accent-warning",children:u}):null]})]}),F=tn("theme")||"theme-earthy-earth";return A.jsx("div",{className:`${F}`,children:A.jsx("div",{className:"w-screen h-screen bg-game-bg overflow-hidden",children:A.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center",children:[A.jsx("div",{id:"portal-root",className:`${F}`}),x?A.jsxs("div",{className:"w-full h-full flex flex-row",children:[A.jsx("div",{className:"absolute w-fit h-fit flex items-start p-5",children:A.jsx(me,{onClickFunction:R,text:""})}),A.jsx("div",{className:"w-full h-full flex items-center justify-center",children:A.jsx("div",{className:"w-4/5 h-4/5",children:C?A.jsx(p2,{text:"Loading results..."}):A.jsx(d2,{})})})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:" w-1/5 h-full flex-0",children:tn("logged in")==="false"?A.jsx("div",{className:"relative z-50 p-5",children:A.jsx(me,{onClickFunction:D,text:"Login / Sign up"})}):A.jsx(h2,{})}),n?A.jsx(jb,{value:P,width:"min(980px, 92vw)",height:"min(640px, 90vh)",className:"bg-transparent border-none"}):null,A.jsxs("div",{className:"w-1/5 h-full flex flex-col gap-3 justify-center items-center flex-1",children:[A.jsx(m2,{}),A.jsx(g2,{}),A.jsx("div",{className:"w-[98%] flex flex-row items-center justify-start",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:A.jsx(f2,{glow:!!i})})]}),A.jsx("div",{className:"w-1/5 h-full flex-2"})]})]})})})}kw.createRoot(document.getElementById("root")).render(A.jsx(K.StrictMode,{children:A.jsx(l2,{children:A.jsx(y2,{})})}));
