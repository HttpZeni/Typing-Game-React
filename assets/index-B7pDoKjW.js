(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var _h={exports:{}},ar={};var jp;function xw(){if(jp)return ar;jp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,o,l){var u=null;if(l!==void 0&&(u=""+l),o.key!==void 0&&(u=""+o.key),"key"in o){l={};for(var h in o)h!=="key"&&(l[h]=o[h])}else l=o;return o=l.ref,{$$typeof:i,type:a,key:u,ref:o!==void 0?o:null,props:l}}return ar.Fragment=t,ar.jsx=n,ar.jsxs=n,ar}var Np;function Sw(){return Np||(Np=1,_h.exports=xw()),_h.exports}var E=Sw(),wh={exports:{}},dt={};var zp;function Tw(){if(zp)return dt;zp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function _(A){return A===null||typeof A!="object"?null:(A=v&&A[v]||A["@@iterator"],typeof A=="function"?A:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function O(A,L,W){this.props=A,this.context=L,this.refs=T,this.updater=W||S}O.prototype.isReactComponent={},O.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},O.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function D(){}D.prototype=O.prototype;function R(A,L,W){this.props=A,this.context=L,this.refs=T,this.updater=W||S}var q=R.prototype=new D;q.constructor=R,x(q,O.prototype),q.isPureReactComponent=!0;var H=Array.isArray;function $(){}var P={H:null,A:null,T:null,S:null},X=Object.prototype.hasOwnProperty;function Q(A,L,W){var J=W.ref;return{$$typeof:i,type:A,key:L,ref:J!==void 0?J:null,props:W}}function at(A,L){return Q(A.type,L,A.props)}function it(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function rt(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(W){return L[W]})}var Ct=/\/+/g;function Dt(A,L){return typeof A=="object"&&A!==null&&A.key!=null?rt(""+A.key):L.toString(36)}function pt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then($,$):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function U(A,L,W,J,lt){var ft=typeof A;(ft==="undefined"||ft==="boolean")&&(A=null);var Tt=!1;if(A===null)Tt=!0;else switch(ft){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(A.$$typeof){case i:case t:Tt=!0;break;case p:return Tt=A._init,U(Tt(A._payload),L,W,J,lt)}}if(Tt)return lt=lt(A),Tt=J===""?"."+Dt(A,0):J,H(lt)?(W="",Tt!=null&&(W=Tt.replace(Ct,"$&/")+"/"),U(lt,L,W,"",function(fa){return fa})):lt!=null&&(it(lt)&&(lt=at(lt,W+(lt.key==null||A&&A.key===lt.key?"":(""+lt.key).replace(Ct,"$&/")+"/")+Tt)),L.push(lt)),1;Tt=0;var _e=J===""?".":J+":";if(H(A))for(var Yt=0;Yt<A.length;Yt++)J=A[Yt],ft=_e+Dt(J,Yt),Tt+=U(J,L,W,ft,lt);else if(Yt=_(A),typeof Yt=="function")for(A=Yt.call(A),Yt=0;!(J=A.next()).done;)J=J.value,ft=_e+Dt(J,Yt++),Tt+=U(J,L,W,ft,lt);else if(ft==="object"){if(typeof A.then=="function")return U(pt(A),L,W,J,lt);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function G(A,L,W){if(A==null)return A;var J=[],lt=0;return U(A,J,"","",function(ft){return L.call(W,ft,lt++)}),J}function F(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(W){(A._status===0||A._status===-1)&&(A._status=1,A._result=W)},function(W){(A._status===0||A._status===-1)&&(A._status=2,A._result=W)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var tt=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},ot={map:G,forEach:function(A,L,W){G(A,function(){L.apply(this,arguments)},W)},count:function(A){var L=0;return G(A,function(){L++}),L},toArray:function(A){return G(A,function(L){return L})||[]},only:function(A){if(!it(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return dt.Activity=y,dt.Children=ot,dt.Component=O,dt.Fragment=n,dt.Profiler=o,dt.PureComponent=R,dt.StrictMode=a,dt.Suspense=f,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,dt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return P.H.useMemoCache(A)}},dt.cache=function(A){return function(){return A.apply(null,arguments)}},dt.cacheSignal=function(){return null},dt.cloneElement=function(A,L,W){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var J=x({},A.props),lt=A.key;if(L!=null)for(ft in L.key!==void 0&&(lt=""+L.key),L)!X.call(L,ft)||ft==="key"||ft==="__self"||ft==="__source"||ft==="ref"&&L.ref===void 0||(J[ft]=L[ft]);var ft=arguments.length-2;if(ft===1)J.children=W;else if(1<ft){for(var Tt=Array(ft),_e=0;_e<ft;_e++)Tt[_e]=arguments[_e+2];J.children=Tt}return Q(A.type,lt,J)},dt.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},dt.createElement=function(A,L,W){var J,lt={},ft=null;if(L!=null)for(J in L.key!==void 0&&(ft=""+L.key),L)X.call(L,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(lt[J]=L[J]);var Tt=arguments.length-2;if(Tt===1)lt.children=W;else if(1<Tt){for(var _e=Array(Tt),Yt=0;Yt<Tt;Yt++)_e[Yt]=arguments[Yt+2];lt.children=_e}if(A&&A.defaultProps)for(J in Tt=A.defaultProps,Tt)lt[J]===void 0&&(lt[J]=Tt[J]);return Q(A,ft,lt)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(A){return{$$typeof:h,render:A}},dt.isValidElement=it,dt.lazy=function(A){return{$$typeof:p,_payload:{_status:-1,_result:A},_init:F}},dt.memo=function(A,L){return{$$typeof:g,type:A,compare:L===void 0?null:L}},dt.startTransition=function(A){var L=P.T,W={};P.T=W;try{var J=A(),lt=P.S;lt!==null&&lt(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then($,tt)}catch(ft){tt(ft)}finally{L!==null&&W.types!==null&&(L.types=W.types),P.T=L}},dt.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},dt.use=function(A){return P.H.use(A)},dt.useActionState=function(A,L,W){return P.H.useActionState(A,L,W)},dt.useCallback=function(A,L){return P.H.useCallback(A,L)},dt.useContext=function(A){return P.H.useContext(A)},dt.useDebugValue=function(){},dt.useDeferredValue=function(A,L){return P.H.useDeferredValue(A,L)},dt.useEffect=function(A,L){return P.H.useEffect(A,L)},dt.useEffectEvent=function(A){return P.H.useEffectEvent(A)},dt.useId=function(){return P.H.useId()},dt.useImperativeHandle=function(A,L,W){return P.H.useImperativeHandle(A,L,W)},dt.useInsertionEffect=function(A,L){return P.H.useInsertionEffect(A,L)},dt.useLayoutEffect=function(A,L){return P.H.useLayoutEffect(A,L)},dt.useMemo=function(A,L){return P.H.useMemo(A,L)},dt.useOptimistic=function(A,L){return P.H.useOptimistic(A,L)},dt.useReducer=function(A,L,W){return P.H.useReducer(A,L,W)},dt.useRef=function(A){return P.H.useRef(A)},dt.useState=function(A){return P.H.useState(A)},dt.useSyncExternalStore=function(A,L,W){return P.H.useSyncExternalStore(A,L,W)},dt.useTransition=function(){return P.H.useTransition()},dt.version="19.2.4",dt}var Up;function mf(){return Up||(Up=1,wh.exports=Tw()),wh.exports}var K=mf(),xh={exports:{}},rr={},Sh={exports:{}},Th={};var Lp;function Ew(){return Lp||(Lp=1,(function(i){function t(U,G){var F=U.length;U.push(G);t:for(;0<F;){var tt=F-1>>>1,ot=U[tt];if(0<o(ot,G))U[tt]=G,U[F]=ot,F=tt;else break t}}function n(U){return U.length===0?null:U[0]}function a(U){if(U.length===0)return null;var G=U[0],F=U.pop();if(F!==G){U[0]=F;t:for(var tt=0,ot=U.length,A=ot>>>1;tt<A;){var L=2*(tt+1)-1,W=U[L],J=L+1,lt=U[J];if(0>o(W,F))J<ot&&0>o(lt,W)?(U[tt]=lt,U[J]=F,tt=J):(U[tt]=W,U[L]=F,tt=L);else if(J<ot&&0>o(lt,F))U[tt]=lt,U[J]=F,tt=J;else break t}}return G}function o(U,G){var F=U.sortIndex-G.sortIndex;return F!==0?F:U.id-G.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var f=[],g=[],p=1,y=null,v=3,_=!1,S=!1,x=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function q(U){for(var G=n(g);G!==null;){if(G.callback===null)a(g);else if(G.startTime<=U)a(g),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(g)}}function H(U){if(x=!1,q(U),!S)if(n(f)!==null)S=!0,$||($=!0,rt());else{var G=n(g);G!==null&&pt(H,G.startTime-U)}}var $=!1,P=-1,X=5,Q=-1;function at(){return T?!0:!(i.unstable_now()-Q<X)}function it(){if(T=!1,$){var U=i.unstable_now();Q=U;var G=!0;try{t:{S=!1,x&&(x=!1,D(P),P=-1),_=!0;var F=v;try{e:{for(q(U),y=n(f);y!==null&&!(y.expirationTime>U&&at());){var tt=y.callback;if(typeof tt=="function"){y.callback=null,v=y.priorityLevel;var ot=tt(y.expirationTime<=U);if(U=i.unstable_now(),typeof ot=="function"){y.callback=ot,q(U),G=!0;break e}y===n(f)&&a(f),q(U)}else a(f);y=n(f)}if(y!==null)G=!0;else{var A=n(g);A!==null&&pt(H,A.startTime-U),G=!1}}break t}finally{y=null,v=F,_=!1}G=void 0}}finally{G?rt():$=!1}}}var rt;if(typeof R=="function")rt=function(){R(it)};else if(typeof MessageChannel<"u"){var Ct=new MessageChannel,Dt=Ct.port2;Ct.port1.onmessage=it,rt=function(){Dt.postMessage(null)}}else rt=function(){O(it,0)};function pt(U,G){P=O(function(){U(i.unstable_now())},G)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(U){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var F=v;v=G;try{return U()}finally{v=F}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var F=v;v=U;try{return G()}finally{v=F}},i.unstable_scheduleCallback=function(U,G,F){var tt=i.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?tt+F:tt):F=tt,U){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=F+ot,U={id:p++,callback:G,priorityLevel:U,startTime:F,expirationTime:ot,sortIndex:-1},F>tt?(U.sortIndex=F,t(g,U),n(f)===null&&U===n(g)&&(x?(D(P),P=-1):x=!0,pt(H,F-tt))):(U.sortIndex=ot,t(f,U),S||_||(S=!0,$||($=!0,rt()))),U},i.unstable_shouldYield=at,i.unstable_wrapCallback=function(U){var G=v;return function(){var F=v;v=G;try{return U.apply(this,arguments)}finally{v=F}}}})(Th)),Th}var Bp;function Aw(){return Bp||(Bp=1,Sh.exports=Ew()),Sh.exports}var Eh={exports:{}},pe={};var Hp;function Ow(){if(Hp)return pe;Hp=1;var i=mf();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(f,g,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:f,containerInfo:g,implementation:p}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pe.createPortal=function(f,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(f,g,null,p)},pe.flushSync=function(f){var g=u.T,p=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=g,a.p=p,a.d.f()}},pe.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(f,g))},pe.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},pe.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?a.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:_}):p==="script"&&a.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pe.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);a.d.M(f,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(f)},pe.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,y=h(p,g.crossOrigin);a.d.L(f,p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pe.preloadModule=function(f,g){if(typeof f=="string")if(g){var p=h(g.as,g.crossOrigin);a.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(f)},pe.requestFormReset=function(f){a.d.r(f)},pe.unstable_batchedUpdates=function(f,g){return f(g)},pe.useFormState=function(f,g,p){return u.H.useFormState(f,g,p)},pe.useFormStatus=function(){return u.H.useHostTransitionStatus()},pe.version="19.2.4",pe}var qp;function jb(){if(qp)return Eh.exports;qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Eh.exports=Ow(),Eh.exports}var Pp;function Cw(){if(Pp)return rr;Pp=1;var i=Aw(),t=mf(),n=jb();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function l(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(l(e)!==e)throw Error(a(188))}function g(e){var s=e.alternate;if(!s){if(s=l(e),s===null)throw Error(a(188));return s!==e?null:e}for(var r=e,c=s;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(c=d.return,c!==null){r=c;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return f(d),e;if(m===c)return f(d),s;m=m.sibling}throw Error(a(188))}if(r.return!==c.return)r=d,c=m;else{for(var b=!1,w=d.child;w;){if(w===r){b=!0,r=d,c=m;break}if(w===c){b=!0,c=d,r=m;break}w=w.sibling}if(!b){for(w=m.child;w;){if(w===r){b=!0,r=m,c=d;break}if(w===c){b=!0,c=m,r=d;break}w=w.sibling}if(!b)throw Error(a(189))}}if(r.alternate!==c)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:s}function p(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=p(e),s!==null)return s;e=e.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),at=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function rt(e){return e===null||typeof e!="object"?null:(e=it&&e[it]||e["@@iterator"],typeof e=="function"?e:null)}var Ct=Symbol.for("react.client.reference");function Dt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ct?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case O:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case $:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case R:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case q:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return s=e.displayName||null,s!==null?s:Dt(e.type)||"Memo";case X:s=e._payload,e=e._init;try{return Dt(e(s))}catch{}}return null}var pt=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},tt=[],ot=-1;function A(e){return{current:e}}function L(e){0>ot||(e.current=tt[ot],tt[ot]=null,ot--)}function W(e,s){ot++,tt[ot]=e.current,e.current=s}var J=A(null),lt=A(null),ft=A(null),Tt=A(null);function _e(e,s){switch(W(ft,s),W(lt,e),W(J,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?np(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=np(s),e=ip(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(J),W(J,e)}function Yt(){L(J),L(lt),L(ft)}function fa(e){e.memoizedState!==null&&W(Tt,e);var s=J.current,r=ip(s,e.type);s!==r&&(W(lt,e),W(J,r))}function Pr(e){lt.current===e&&(L(J),L(lt)),Tt.current===e&&(L(Tt),er._currentValue=F)}var nc,Df;function Ti(e){if(nc===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);nc=s&&s[1]||"",Df=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+e+Df}var ic=!1;function sc(e,s){if(!e||ic)return"";ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var z=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){z=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){z=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],w=m[1];if(b&&w){var C=b.split(`
`),N=w.split(`
`);for(d=c=0;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;for(;d<N.length&&!N[d].includes("DetermineComponentFrameRoot");)d++;if(c===C.length||d===N.length)for(c=C.length-1,d=N.length-1;1<=c&&0<=d&&C[c]!==N[d];)d--;for(;1<=c&&0<=d;c--,d--)if(C[c]!==N[d]){if(c!==1||d!==1)do if(c--,d--,0>d||C[c]!==N[d]){var I=`
`+C[c].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=c&&0<=d);break}}}finally{ic=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ti(r):""}function Zv(e,s){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return e.child!==s&&s!==null?Ti("Suspense Fallback"):Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return sc(e.type,!1);case 11:return sc(e.type.render,!1);case 1:return sc(e.type,!0);case 31:return Ti("Activity");default:return""}}function jf(e){try{var s="",r=null;do s+=Zv(e,r),r=e,e=e.return;while(e);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var ac=Object.prototype.hasOwnProperty,rc=i.unstable_scheduleCallback,oc=i.unstable_cancelCallback,t0=i.unstable_shouldYield,e0=i.unstable_requestPaint,Me=i.unstable_now,n0=i.unstable_getCurrentPriorityLevel,Nf=i.unstable_ImmediatePriority,zf=i.unstable_UserBlockingPriority,$r=i.unstable_NormalPriority,i0=i.unstable_LowPriority,Uf=i.unstable_IdlePriority,s0=i.log,a0=i.unstable_setDisableYieldValue,da=null,De=null;function Kn(e){if(typeof s0=="function"&&a0(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(da,e)}catch{}}var je=Math.clz32?Math.clz32:l0,r0=Math.log,o0=Math.LN2;function l0(e){return e>>>=0,e===0?32:31-(r0(e)/o0|0)|0}var Ir=256,Vr=262144,Gr=4194304;function Ei(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Yr(e,s,r){var c=e.pendingLanes;if(c===0)return 0;var d=0,m=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var w=c&134217727;return w!==0?(c=w&~m,c!==0?d=Ei(c):(b&=w,b!==0?d=Ei(b):r||(r=w&~e,r!==0&&(d=Ei(r))))):(w=c&~m,w!==0?d=Ei(w):b!==0?d=Ei(b):r||(r=c&~e,r!==0&&(d=Ei(r)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,r=s&-s,m>=r||m===32&&(r&4194048)!==0)?s:d}function ga(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function c0(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(){var e=Gr;return Gr<<=1,(Gr&62914560)===0&&(Gr=4194304),e}function lc(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function ma(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function u0(e,s,r,c,d,m){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,N=e.hiddenUpdates;for(r=b&~r;0<r;){var I=31-je(r),Y=1<<I;w[I]=0,C[I]=-1;var z=N[I];if(z!==null)for(N[I]=null,I=0;I<z.length;I++){var B=z[I];B!==null&&(B.lane&=-536870913)}r&=~Y}c!==0&&Bf(e,c,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(b&~s))}function Bf(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-je(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function Hf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var c=31-je(r),d=1<<c;d&s|e[c]&s&&(e[c]|=s),r&=~d}}function qf(e,s){var r=s&-s;return r=(r&42)!==0?1:cc(r),(r&(e.suspendedLanes|s))!==0?0:r}function cc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function uc(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pf(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Ap(e.type))}function $f(e,s){var r=G.p;try{return G.p=e,s()}finally{G.p=r}}var Fn=Math.random().toString(36).slice(2),le="__reactFiber$"+Fn,xe="__reactProps$"+Fn,ls="__reactContainer$"+Fn,hc="__reactEvents$"+Fn,h0="__reactListeners$"+Fn,f0="__reactHandles$"+Fn,If="__reactResources$"+Fn,pa="__reactMarker$"+Fn;function fc(e){delete e[le],delete e[xe],delete e[hc],delete e[h0],delete e[f0]}function cs(e){var s=e[le];if(s)return s;for(var r=e.parentNode;r;){if(s=r[ls]||r[le]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=up(e);e!==null;){if(r=e[le])return r;e=up(e)}return s}e=r,r=e.parentNode}return null}function us(e){if(e=e[le]||e[ls]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function ya(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function hs(e){var s=e[If];return s||(s=e[If]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ae(e){e[pa]=!0}var Vf=new Set,Gf={};function Ai(e,s){fs(e,s),fs(e+"Capture",s)}function fs(e,s){for(Gf[e]=s,e=0;e<s.length;e++)Vf.add(s[e])}var d0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Kf={};function g0(e){return ac.call(Kf,e)?!0:ac.call(Yf,e)?!1:d0.test(e)?Kf[e]=!0:(Yf[e]=!0,!1)}function Kr(e,s,r){if(g0(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Fr(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function wn(e,s,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+c)}}function Ie(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ff(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function m0(e,s,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,m=c.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){r=""+b,m.call(this,b)}}),Object.defineProperty(e,s,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function dc(e){if(!e._valueTracker){var s=Ff(e)?"checked":"value";e._valueTracker=m0(e,s,""+e[s])}}function Wf(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return e&&(c=Ff(e)?e.checked?"true":"false":e.value),e=c,e!==r?(s.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var p0=/[\n"\\]/g;function Ve(e){return e.replace(p0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gc(e,s,r,c,d,m,b,w){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),s!=null?b==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ie(s)):e.value!==""+Ie(s)&&(e.value=""+Ie(s)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),s!=null?mc(e,b,Ie(s)):r!=null?mc(e,b,Ie(r)):c!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ie(w):e.removeAttribute("name")}function Xf(e,s,r,c,d,m,b,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),s!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){dc(e);return}r=r!=null?""+Ie(r):"",s=s!=null?""+Ie(s):r,w||s===e.value||(e.value=s),e.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=w?e.checked:!!c,e.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b),dc(e)}function mc(e,s,r){s==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ds(e,s,r,c){if(e=e.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=s.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Ie(r),s=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}s!==null||e[d].disabled||(s=e[d])}s!==null&&(s.selected=!0)}}function Qf(e,s,r){if(s!=null&&(s=""+Ie(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+Ie(r):""}function Jf(e,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(a(92));if(pt(c)){if(1<c.length)throw Error(a(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=Ie(s),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),dc(e)}function gs(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zf(e,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,r):typeof r!="number"||r===0||y0.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function td(e,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&r[d]!==c&&Zf(e,d,c)}else for(var m in s)s.hasOwnProperty(m)&&Zf(e,m,s[m])}function pc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(e){return v0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function xn(){}var yc=null;function bc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,ps=null;function ed(e){var s=us(e);if(s&&(e=s.stateNode)){var r=e[xe]||null;t:switch(e=s.stateNode,s.type){case"input":if(gc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ve(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==e&&c.form===e.form){var d=c[xe]||null;if(!d)throw Error(a(90));gc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===e.form&&Wf(c)}break t;case"textarea":Qf(e,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&ds(e,!!r.multiple,s,!1)}}}var vc=!1;function nd(e,s,r){if(vc)return e(s,r);vc=!0;try{var c=e(s);return c}finally{if(vc=!1,(ms!==null||ps!==null)&&(Bo(),ms&&(s=ms,e=ps,ps=ms=null,ed(s),e)))for(s=0;s<e.length;s++)ed(e[s])}}function ba(e,s){var r=e.stateNode;if(r===null)return null;var c=r[xe]||null;if(c===null)return null;r=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(Sn)try{var va={};Object.defineProperty(va,"passive",{get:function(){_c=!0}}),window.addEventListener("test",va,va),window.removeEventListener("test",va,va)}catch{_c=!1}var Wn=null,wc=null,Qr=null;function id(){if(Qr)return Qr;var e,s=wc,r=s.length,c,d="value"in Wn?Wn.value:Wn.textContent,m=d.length;for(e=0;e<r&&s[e]===d[e];e++);var b=r-e;for(c=1;c<=b&&s[r-c]===d[m-c];c++);return Qr=d.slice(e,1<c?1-c:void 0)}function Jr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function sd(){return!1}function Se(e){function s(r,c,d,m,b){this._reactName=r,this._targetInst=d,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Zr:sd,this.isPropagationStopped=sd,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},to=Se(Oi),_a=y({},Oi,{view:0,detail:0}),_0=Se(_a),xc,Sc,wa,eo=y({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(xc=e.screenX-wa.screenX,Sc=e.screenY-wa.screenY):Sc=xc=0,wa=e),xc)},movementY:function(e){return"movementY"in e?e.movementY:Sc}}),ad=Se(eo),w0=y({},eo,{dataTransfer:0}),x0=Se(w0),S0=y({},_a,{relatedTarget:0}),Tc=Se(S0),T0=y({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),E0=Se(T0),A0=y({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=Se(A0),C0=y({},Oi,{data:0}),rd=Se(C0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=M0[e])?!!s[e]:!1}function Ec(){return D0}var j0=y({},_a,{key:function(e){if(e.key){var s=k0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Jr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(e){return e.type==="keypress"?Jr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N0=Se(j0),z0=y({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Se(z0),U0=y({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),L0=Se(U0),B0=y({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=Se(B0),q0=y({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P0=Se(q0),$0=y({},Oi,{newState:0,oldState:0}),I0=Se($0),V0=[9,13,27,32],Ac=Sn&&"CompositionEvent"in window,xa=null;Sn&&"documentMode"in document&&(xa=document.documentMode);var G0=Sn&&"TextEvent"in window&&!xa,ld=Sn&&(!Ac||xa&&8<xa&&11>=xa),cd=" ",ud=!1;function hd(e,s){switch(e){case"keyup":return V0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function Y0(e,s){switch(e){case"compositionend":return fd(s);case"keypress":return s.which!==32?null:(ud=!0,cd);case"textInput":return e=s.data,e===cd&&ud?null:e;default:return null}}function K0(e,s){if(ys)return e==="compositionend"||!Ac&&hd(e,s)?(e=id(),Qr=wc=Wn=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ld&&s.locale!=="ko"?null:s.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!F0[e.type]:s==="textarea"}function gd(e,s,r,c){ms?ps?ps.push(c):ps=[c]:ms=c,s=Go(s,"onChange"),0<s.length&&(r=new to("onChange","change",null,r,c),e.push({event:r,listeners:s}))}var Sa=null,Ta=null;function W0(e){Xm(e,0)}function no(e){var s=ya(e);if(Wf(s))return e}function md(e,s){if(e==="change")return s}var pd=!1;if(Sn){var Oc;if(Sn){var Cc="oninput"in document;if(!Cc){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),Cc=typeof yd.oninput=="function"}Oc=Cc}else Oc=!1;pd=Oc&&(!document.documentMode||9<document.documentMode)}function bd(){Sa&&(Sa.detachEvent("onpropertychange",vd),Ta=Sa=null)}function vd(e){if(e.propertyName==="value"&&no(Ta)){var s=[];gd(s,Ta,e,bc(e)),nd(W0,s)}}function X0(e,s,r){e==="focusin"?(bd(),Sa=s,Ta=r,Sa.attachEvent("onpropertychange",vd)):e==="focusout"&&bd()}function Q0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return no(Ta)}function J0(e,s){if(e==="click")return no(s)}function Z0(e,s){if(e==="input"||e==="change")return no(s)}function t_(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Ne=typeof Object.is=="function"?Object.is:t_;function Ea(e,s){if(Ne(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var d=r[c];if(!ac.call(s,d)||!Ne(e[d],s[d]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wd(e,s){var r=_d(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=s&&c>=s)return{node:r,offset:s-e};e=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_d(r)}}function xd(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?xd(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Sd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Wr(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Wr(e.document)}return s}function kc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var e_=Sn&&"documentMode"in document&&11>=document.documentMode,bs=null,Rc=null,Aa=null,Mc=!1;function Td(e,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Mc||bs==null||bs!==Wr(c)||(c=bs,"selectionStart"in c&&kc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Aa&&Ea(Aa,c)||(Aa=c,c=Go(Rc,"onSelect"),0<c.length&&(s=new to("onSelect","select",null,s,r),e.push({event:s,listeners:c}),s.target=bs)))}function Ci(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var vs={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},Dc={},Ed={};Sn&&(Ed=document.createElement("div").style,"AnimationEvent"in window||(delete vs.animationend.animation,delete vs.animationiteration.animation,delete vs.animationstart.animation),"TransitionEvent"in window||delete vs.transitionend.transition);function ki(e){if(Dc[e])return Dc[e];if(!vs[e])return e;var s=vs[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Ed)return Dc[e]=s[r];return e}var Ad=ki("animationend"),Od=ki("animationiteration"),Cd=ki("animationstart"),n_=ki("transitionrun"),i_=ki("transitionstart"),s_=ki("transitioncancel"),kd=ki("transitionend"),Rd=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function an(e,s){Rd.set(e,s),Ai(s,[e])}var io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ge=[],_s=0,Nc=0;function so(){for(var e=_s,s=Nc=_s=0;s<e;){var r=Ge[s];Ge[s++]=null;var c=Ge[s];Ge[s++]=null;var d=Ge[s];Ge[s++]=null;var m=Ge[s];if(Ge[s++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}m!==0&&Md(r,d,m)}}function ao(e,s,r,c){Ge[_s++]=e,Ge[_s++]=s,Ge[_s++]=r,Ge[_s++]=c,Nc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function zc(e,s,r,c){return ao(e,s,r,c),ro(e)}function Ri(e,s){return ao(e,null,null,s),ro(e)}function Md(e,s,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var d=!1,m=e.return;m!==null;)m.childLanes|=r,c=m.alternate,c!==null&&(c.childLanes|=r),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&s!==null&&(d=31-je(r),e=m.hiddenUpdates,c=e[d],c===null?e[d]=[s]:c.push(s),s.lane=r|536870912),m):null}function ro(e){if(50<Fa)throw Fa=0,Vu=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var ws={};function a_(e,s,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,s,r,c){return new a_(e,s,r,c)}function Uc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,s){var r=e.alternate;return r===null?(r=ze(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Dd(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function oo(e,s,r,c,d,m){var b=0;if(c=e,typeof e=="function")Uc(e)&&(b=1);else if(typeof e=="string")b=uw(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Q:return e=ze(31,r,s,d),e.elementType=Q,e.lanes=m,e;case x:return Mi(r.children,d,m,s);case T:b=8,d|=24;break;case O:return e=ze(12,r,s,d|2),e.elementType=O,e.lanes=m,e;case H:return e=ze(13,r,s,d),e.elementType=H,e.lanes=m,e;case $:return e=ze(19,r,s,d),e.elementType=$,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:b=10;break t;case D:b=9;break t;case q:b=11;break t;case P:b=14;break t;case X:b=16,c=null;break t}b=29,r=Error(a(130,e===null?"null":typeof e,"")),c=null}return s=ze(b,r,s,d),s.elementType=e,s.type=c,s.lanes=m,s}function Mi(e,s,r,c){return e=ze(7,e,c,s),e.lanes=r,e}function Lc(e,s,r){return e=ze(6,e,null,s),e.lanes=r,e}function jd(e){var s=ze(18,null,null,0);return s.stateNode=e,s}function Bc(e,s,r){return s=ze(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var Nd=new WeakMap;function Ye(e,s){if(typeof e=="object"&&e!==null){var r=Nd.get(e);return r!==void 0?r:(s={value:e,source:s,stack:jf(s)},Nd.set(e,s),s)}return{value:e,source:s,stack:jf(s)}}var xs=[],Ss=0,lo=null,Oa=0,Ke=[],Fe=0,Xn=null,dn=1,gn="";function En(e,s){xs[Ss++]=Oa,xs[Ss++]=lo,lo=e,Oa=s}function zd(e,s,r){Ke[Fe++]=dn,Ke[Fe++]=gn,Ke[Fe++]=Xn,Xn=e;var c=dn;e=gn;var d=32-je(c)-1;c&=~(1<<d),r+=1;var m=32-je(s)+d;if(30<m){var b=d-d%5;m=(c&(1<<b)-1).toString(32),c>>=b,d-=b,dn=1<<32-je(s)+d|r<<d|c,gn=m+e}else dn=1<<m|r<<d|c,gn=e}function Hc(e){e.return!==null&&(En(e,1),zd(e,1,0))}function qc(e){for(;e===lo;)lo=xs[--Ss],xs[Ss]=null,Oa=xs[--Ss],xs[Ss]=null;for(;e===Xn;)Xn=Ke[--Fe],Ke[Fe]=null,gn=Ke[--Fe],Ke[Fe]=null,dn=Ke[--Fe],Ke[Fe]=null}function Ud(e,s){Ke[Fe++]=dn,Ke[Fe++]=gn,Ke[Fe++]=Xn,dn=s.id,gn=s.overflow,Xn=e}var ce=null,Ht=null,wt=!1,Qn=null,We=!1,Pc=Error(a(519));function Jn(e){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(Ye(s,e)),Pc}function Ld(e){var s=e.stateNode,r=e.type,c=e.memoizedProps;switch(s[le]=e,s[xe]=c,r){case"dialog":bt("cancel",s),bt("close",s);break;case"iframe":case"object":case"embed":bt("load",s);break;case"video":case"audio":for(r=0;r<Xa.length;r++)bt(Xa[r],s);break;case"source":bt("error",s);break;case"img":case"image":case"link":bt("error",s),bt("load",s);break;case"details":bt("toggle",s);break;case"input":bt("invalid",s),Xf(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":bt("invalid",s);break;case"textarea":bt("invalid",s),Jf(s,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||tp(s.textContent,r)?(c.popover!=null&&(bt("beforetoggle",s),bt("toggle",s)),c.onScroll!=null&&bt("scroll",s),c.onScrollEnd!=null&&bt("scrollend",s),c.onClick!=null&&(s.onclick=xn),s=!0):s=!1,s||Jn(e,!0)}function Bd(e){for(ce=e.return;ce;)switch(ce.tag){case 5:case 31:case 13:We=!1;return;case 27:case 3:We=!0;return;default:ce=ce.return}}function Ts(e){if(e!==ce)return!1;if(!wt)return Bd(e),wt=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ah(e.type,e.memoizedProps)),r=!r),r&&Ht&&Jn(e),Bd(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=cp(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=cp(e)}else s===27?(s=Ht,fi(e.type)?(e=uh,uh=null,Ht=e):Ht=s):Ht=ce?Qe(e.stateNode.nextSibling):null;return!0}function Di(){Ht=ce=null,wt=!1}function $c(){var e=Qn;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),Qn=null),e}function Ca(e){Qn===null?Qn=[e]:Qn.push(e)}var Ic=A(null),ji=null,An=null;function Zn(e,s,r){W(Ic,s._currentValue),s._currentValue=r}function On(e){e._currentValue=Ic.current,L(Ic)}function Vc(e,s,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===r)break;e=e.return}}function Gc(e,s,r,c){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;t:for(;m!==null;){var w=m;m=d;for(var C=0;C<s.length;C++)if(w.context===s[C]){m.lanes|=r,w=m.alternate,w!==null&&(w.lanes|=r),Vc(m.return,r,e),c||(b=null);break t}m=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(a(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Vc(b,r,e),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===e){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function Es(e,s,r,c){e=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var w=d.type;Ne(d.pendingProps.value,b.value)||(e!==null?e.push(w):e=[w])}}else if(d===Tt.current){if(b=d.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(er):e=[er])}d=d.return}e!==null&&Gc(s,e,r,c),s.flags|=262144}function co(e){for(e=e.firstContext;e!==null;){if(!Ne(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ni(e){ji=e,An=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ue(e){return Hd(ji,e)}function uo(e,s){return ji===null&&Ni(e),Hd(e,s)}function Hd(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},An===null){if(e===null)throw Error(a(308));An=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else An=An.next=s;return r}var r_=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},o_=i.unstable_scheduleCallback,l_=i.unstable_NormalPriority,Xt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yc(){return{controller:new r_,data:new Map,refCount:0}}function ka(e){e.refCount--,e.refCount===0&&o_(l_,function(){e.controller.abort()})}var Ra=null,Kc=0,As=0,Os=null;function c_(e,s){if(Ra===null){var r=Ra=[];Kc=0,As=Xu(),Os={status:"pending",value:void 0,then:function(c){r.push(c)}}}return Kc++,s.then(qd,qd),s}function qd(){if(--Kc===0&&Ra!==null){Os!==null&&(Os.status="fulfilled");var e=Ra;Ra=null,As=0,Os=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function u_(e,s){var r=[],c={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),c}var Pd=U.S;U.S=function(e,s){Tm=Me(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&c_(e,s),Pd!==null&&Pd(e,s)};var zi=A(null);function Fc(){var e=zi.current;return e!==null?e:Ut.pooledCache}function ho(e,s){s===null?W(zi,zi.current):W(zi,s.pool)}function $d(){var e=Fc();return e===null?null:{parent:Xt._currentValue,pool:e}}var Cs=Error(a(460)),Wc=Error(a(474)),fo=Error(a(542)),go={then:function(){}};function Id(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vd(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(xn,xn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Yd(e),e;default:if(typeof s.status=="string")s.then(xn,xn);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Yd(e),e}throw Li=s,Cs}}function Ui(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Li=r,Cs):r}}var Li=null;function Gd(){if(Li===null)throw Error(a(459));var e=Li;return Li=null,e}function Yd(e){if(e===Cs||e===fo)throw Error(a(483))}var ks=null,Ma=0;function mo(e){var s=Ma;return Ma+=1,ks===null&&(ks=[]),Vd(ks,e,s)}function Da(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function po(e,s){throw s.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function Kd(e){function s(M,k){if(e){var j=M.deletions;j===null?(M.deletions=[k],M.flags|=16):j.push(k)}}function r(M,k){if(!e)return null;for(;k!==null;)s(M,k),k=k.sibling;return null}function c(M){for(var k=new Map;M!==null;)M.key!==null?k.set(M.key,M):k.set(M.index,M),M=M.sibling;return k}function d(M,k){return M=Tn(M,k),M.index=0,M.sibling=null,M}function m(M,k,j){return M.index=j,e?(j=M.alternate,j!==null?(j=j.index,j<k?(M.flags|=67108866,k):j):(M.flags|=67108866,k)):(M.flags|=1048576,k)}function b(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,k,j,V){return k===null||k.tag!==6?(k=Lc(j,M.mode,V),k.return=M,k):(k=d(k,j),k.return=M,k)}function C(M,k,j,V){var st=j.type;return st===x?I(M,k,j.props.children,V,j.key):k!==null&&(k.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===X&&Ui(st)===k.type)?(k=d(k,j.props),Da(k,j),k.return=M,k):(k=oo(j.type,j.key,j.props,null,M.mode,V),Da(k,j),k.return=M,k)}function N(M,k,j,V){return k===null||k.tag!==4||k.stateNode.containerInfo!==j.containerInfo||k.stateNode.implementation!==j.implementation?(k=Bc(j,M.mode,V),k.return=M,k):(k=d(k,j.children||[]),k.return=M,k)}function I(M,k,j,V,st){return k===null||k.tag!==7?(k=Mi(j,M.mode,V,st),k.return=M,k):(k=d(k,j),k.return=M,k)}function Y(M,k,j){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Lc(""+k,M.mode,j),k.return=M,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return j=oo(k.type,k.key,k.props,null,M.mode,j),Da(j,k),j.return=M,j;case S:return k=Bc(k,M.mode,j),k.return=M,k;case X:return k=Ui(k),Y(M,k,j)}if(pt(k)||rt(k))return k=Mi(k,M.mode,j,null),k.return=M,k;if(typeof k.then=="function")return Y(M,mo(k),j);if(k.$$typeof===R)return Y(M,uo(M,k),j);po(M,k)}return null}function z(M,k,j,V){var st=k!==null?k.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return st!==null?null:w(M,k,""+j,V);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return j.key===st?C(M,k,j,V):null;case S:return j.key===st?N(M,k,j,V):null;case X:return j=Ui(j),z(M,k,j,V)}if(pt(j)||rt(j))return st!==null?null:I(M,k,j,V,null);if(typeof j.then=="function")return z(M,k,mo(j),V);if(j.$$typeof===R)return z(M,k,uo(M,j),V);po(M,j)}return null}function B(M,k,j,V,st){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return M=M.get(j)||null,w(k,M,""+V,st);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return M=M.get(V.key===null?j:V.key)||null,C(k,M,V,st);case S:return M=M.get(V.key===null?j:V.key)||null,N(k,M,V,st);case X:return V=Ui(V),B(M,k,j,V,st)}if(pt(V)||rt(V))return M=M.get(j)||null,I(k,M,V,st,null);if(typeof V.then=="function")return B(M,k,j,mo(V),st);if(V.$$typeof===R)return B(M,k,j,uo(k,V),st);po(k,V)}return null}function Z(M,k,j,V){for(var st=null,Et=null,et=k,mt=k=0,_t=null;et!==null&&mt<j.length;mt++){et.index>mt?(_t=et,et=null):_t=et.sibling;var At=z(M,et,j[mt],V);if(At===null){et===null&&(et=_t);break}e&&et&&At.alternate===null&&s(M,et),k=m(At,k,mt),Et===null?st=At:Et.sibling=At,Et=At,et=_t}if(mt===j.length)return r(M,et),wt&&En(M,mt),st;if(et===null){for(;mt<j.length;mt++)et=Y(M,j[mt],V),et!==null&&(k=m(et,k,mt),Et===null?st=et:Et.sibling=et,Et=et);return wt&&En(M,mt),st}for(et=c(et);mt<j.length;mt++)_t=B(et,M,mt,j[mt],V),_t!==null&&(e&&_t.alternate!==null&&et.delete(_t.key===null?mt:_t.key),k=m(_t,k,mt),Et===null?st=_t:Et.sibling=_t,Et=_t);return e&&et.forEach(function(yi){return s(M,yi)}),wt&&En(M,mt),st}function ct(M,k,j,V){if(j==null)throw Error(a(151));for(var st=null,Et=null,et=k,mt=k=0,_t=null,At=j.next();et!==null&&!At.done;mt++,At=j.next()){et.index>mt?(_t=et,et=null):_t=et.sibling;var yi=z(M,et,At.value,V);if(yi===null){et===null&&(et=_t);break}e&&et&&yi.alternate===null&&s(M,et),k=m(yi,k,mt),Et===null?st=yi:Et.sibling=yi,Et=yi,et=_t}if(At.done)return r(M,et),wt&&En(M,mt),st;if(et===null){for(;!At.done;mt++,At=j.next())At=Y(M,At.value,V),At!==null&&(k=m(At,k,mt),Et===null?st=At:Et.sibling=At,Et=At);return wt&&En(M,mt),st}for(et=c(et);!At.done;mt++,At=j.next())At=B(et,M,mt,At.value,V),At!==null&&(e&&At.alternate!==null&&et.delete(At.key===null?mt:At.key),k=m(At,k,mt),Et===null?st=At:Et.sibling=At,Et=At);return e&&et.forEach(function(ww){return s(M,ww)}),wt&&En(M,mt),st}function zt(M,k,j,V){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case _:t:{for(var st=j.key;k!==null;){if(k.key===st){if(st=j.type,st===x){if(k.tag===7){r(M,k.sibling),V=d(k,j.props.children),V.return=M,M=V;break t}}else if(k.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===X&&Ui(st)===k.type){r(M,k.sibling),V=d(k,j.props),Da(V,j),V.return=M,M=V;break t}r(M,k);break}else s(M,k);k=k.sibling}j.type===x?(V=Mi(j.props.children,M.mode,V,j.key),V.return=M,M=V):(V=oo(j.type,j.key,j.props,null,M.mode,V),Da(V,j),V.return=M,M=V)}return b(M);case S:t:{for(st=j.key;k!==null;){if(k.key===st)if(k.tag===4&&k.stateNode.containerInfo===j.containerInfo&&k.stateNode.implementation===j.implementation){r(M,k.sibling),V=d(k,j.children||[]),V.return=M,M=V;break t}else{r(M,k);break}else s(M,k);k=k.sibling}V=Bc(j,M.mode,V),V.return=M,M=V}return b(M);case X:return j=Ui(j),zt(M,k,j,V)}if(pt(j))return Z(M,k,j,V);if(rt(j)){if(st=rt(j),typeof st!="function")throw Error(a(150));return j=st.call(j),ct(M,k,j,V)}if(typeof j.then=="function")return zt(M,k,mo(j),V);if(j.$$typeof===R)return zt(M,k,uo(M,j),V);po(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,k!==null&&k.tag===6?(r(M,k.sibling),V=d(k,j),V.return=M,M=V):(r(M,k),V=Lc(j,M.mode,V),V.return=M,M=V),b(M)):r(M,k)}return function(M,k,j,V){try{Ma=0;var st=zt(M,k,j,V);return ks=null,st}catch(et){if(et===Cs||et===fo)throw et;var Et=ze(29,et,null,M.mode);return Et.lanes=V,Et.return=M,Et}}}var Bi=Kd(!0),Fd=Kd(!1),ti=!1;function Xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,s,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=ro(e),Md(e,null,r),s}return ao(e,c,s,r),ro(e)}function ja(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,Hf(e,r)}}function Jc(e,s){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?d=m=s:m=m.next=s}else d=m=s;r={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var Zc=!1;function Na(){if(Zc){var e=Os;if(e!==null)throw e}}function za(e,s,r,c){Zc=!1;var d=e.updateQueue;ti=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var C=w,N=C.next;C.next=null,b===null?m=N:b.next=N,b=C;var I=e.alternate;I!==null&&(I=I.updateQueue,w=I.lastBaseUpdate,w!==b&&(w===null?I.firstBaseUpdate=N:w.next=N,I.lastBaseUpdate=C))}if(m!==null){var Y=d.baseState;b=0,I=N=C=null,w=m;do{var z=w.lane&-536870913,B=z!==w.lane;if(B?(vt&z)===z:(c&z)===z){z!==0&&z===As&&(Zc=!0),I!==null&&(I=I.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Z=e,ct=w;z=s;var zt=r;switch(ct.tag){case 1:if(Z=ct.payload,typeof Z=="function"){Y=Z.call(zt,Y,z);break t}Y=Z;break t;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ct.payload,z=typeof Z=="function"?Z.call(zt,Y,z):Z,z==null)break t;Y=y({},Y,z);break t;case 2:ti=!0}}z=w.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=d.callbacks,B===null?d.callbacks=[z]:B.push(z))}else B={lane:z,tag:w.tag,payload:w.payload,callback:w.callback,next:null},I===null?(N=I=B,C=Y):I=I.next=B,b|=z;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;B=w,w=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);I===null&&(C=Y),d.baseState=C,d.firstBaseUpdate=N,d.lastBaseUpdate=I,m===null&&(d.shared.lanes=0),oi|=b,e.lanes=b,e.memoizedState=Y}}function Wd(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function Xd(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Wd(r[e],s)}var Rs=A(null),yo=A(0);function Qd(e,s){e=Un,W(yo,e),W(Rs,s),Un=e|s.baseLanes}function tu(){W(yo,Un),W(Rs,Rs.current)}function eu(){Un=yo.current,L(Rs),L(yo)}var Ue=A(null),Xe=null;function ii(e){var s=e.alternate;W(Kt,Kt.current&1),W(Ue,e),Xe===null&&(s===null||Rs.current!==null||s.memoizedState!==null)&&(Xe=e)}function nu(e){W(Kt,Kt.current),W(Ue,e),Xe===null&&(Xe=e)}function Jd(e){e.tag===22?(W(Kt,Kt.current),W(Ue,e),Xe===null&&(Xe=e)):si()}function si(){W(Kt,Kt.current),W(Ue,Ue.current)}function Le(e){L(Ue),Xe===e&&(Xe=null),L(Kt)}var Kt=A(0);function bo(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||lh(r)||ch(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Cn=0,gt=null,jt=null,Qt=null,vo=!1,Ms=!1,Hi=!1,_o=0,Ua=0,Ds=null,h_=0;function It(){throw Error(a(321))}function iu(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Ne(e[r],s[r]))return!1;return!0}function su(e,s,r,c,d,m){return Cn=m,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,U.H=e===null||e.memoizedState===null?zg:vu,Hi=!1,m=r(c,d),Hi=!1,Ms&&(m=tg(s,r,c,d)),Zd(e),m}function Zd(e){U.H=Ha;var s=jt!==null&&jt.next!==null;if(Cn=0,Qt=jt=gt=null,vo=!1,Ua=0,Ds=null,s)throw Error(a(300));e===null||Jt||(e=e.dependencies,e!==null&&co(e)&&(Jt=!0))}function tg(e,s,r,c){gt=e;var d=0;do{if(Ms&&(Ds=null),Ua=0,Ms=!1,25<=d)throw Error(a(301));if(d+=1,Qt=jt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}U.H=Ug,m=s(r,c)}while(Ms);return m}function f_(){var e=U.H,s=e.useState()[0];return s=typeof s.then=="function"?La(s):s,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(gt.flags|=1024),s}function au(){var e=_o!==0;return _o=0,e}function ru(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function ou(e){if(vo){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}vo=!1}Cn=0,Qt=jt=gt=null,Ms=!1,Ua=_o=0,Ds=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?gt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Ft(){if(jt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var s=Qt===null?gt.memoizedState:Qt.next;if(s!==null)Qt=s,jt=e;else{if(e===null)throw gt.alternate===null?Error(a(467)):Error(a(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Qt===null?gt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function La(e){var s=Ua;return Ua+=1,Ds===null&&(Ds=[]),e=Vd(Ds,e,s),s=gt,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,U.H=s===null||s.memoizedState===null?zg:vu),e}function xo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return La(e);if(e.$$typeof===R)return ue(e)}throw Error(a(438,String(e)))}function lu(e){var s=null,r=gt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=gt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=wo(),gt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),c=0;c<e;c++)r[c]=at;return s.index++,r}function kn(e,s){return typeof s=="function"?s(e):s}function So(e){var s=Ft();return cu(s,jt,e)}function cu(e,s,r){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var d=e.baseQueue,m=c.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}s.baseQueue=d=m,c.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{s=d.next;var w=b=null,C=null,N=s,I=!1;do{var Y=N.lane&-536870913;if(Y!==N.lane?(vt&Y)===Y:(Cn&Y)===Y){var z=N.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Y===As&&(I=!0);else if((Cn&z)===z){N=N.next,z===As&&(I=!0);continue}else Y={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},C===null?(w=C=Y,b=m):C=C.next=Y,gt.lanes|=z,oi|=z;Y=N.action,Hi&&r(m,Y),m=N.hasEagerState?N.eagerState:r(m,Y)}else z={lane:Y,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},C===null?(w=C=z,b=m):C=C.next=z,gt.lanes|=Y,oi|=Y;N=N.next}while(N!==null&&N!==s);if(C===null?b=m:C.next=w,!Ne(m,e.memoizedState)&&(Jt=!0,I&&(r=Os,r!==null)))throw r;e.memoizedState=m,e.baseState=b,e.baseQueue=C,c.lastRenderedState=m}return d===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function uu(e){var s=Ft(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var c=r.dispatch,d=r.pending,m=s.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do m=e(m,b.action),b=b.next;while(b!==d);Ne(m,s.memoizedState)||(Jt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),r.lastRenderedState=m}return[m,c]}function eg(e,s,r){var c=gt,d=Ft(),m=wt;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=s();var b=!Ne((jt||d).memoizedState,r);if(b&&(d.memoizedState=r,Jt=!0),d=d.queue,du(sg.bind(null,c,d,e),[e]),d.getSnapshot!==s||b||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,js(9,{destroy:void 0},ig.bind(null,c,d,r,s),null),Ut===null)throw Error(a(349));m||(Cn&127)!==0||ng(c,s,r)}return r}function ng(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=gt.updateQueue,s===null?(s=wo(),gt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function ig(e,s,r,c){s.value=r,s.getSnapshot=c,ag(s)&&rg(e)}function sg(e,s,r){return r(function(){ag(s)&&rg(e)})}function ag(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Ne(e,r)}catch{return!0}}function rg(e){var s=Ri(e,2);s!==null&&Ce(s,e,2)}function hu(e){var s=we();if(typeof e=="function"){var r=e;if(e=r(),Hi){Kn(!0);try{r()}finally{Kn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},s}function og(e,s,r,c){return e.baseState=r,cu(e,jt,typeof c=="function"?c:kn)}function d_(e,s,r,c,d){if(Ao(e))throw Error(a(485));if(e=s.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};U.T!==null?r(!0):m.isTransition=!1,c(m),r=s.pending,r===null?(m.next=s.pending=m,lg(s,m)):(m.next=r.next,s.pending=r.next=m)}}function lg(e,s){var r=s.action,c=s.payload,d=e.state;if(s.isTransition){var m=U.T,b={};U.T=b;try{var w=r(d,c),C=U.S;C!==null&&C(b,w),cg(e,s,w)}catch(N){fu(e,s,N)}finally{m!==null&&b.types!==null&&(m.types=b.types),U.T=m}}else try{m=r(d,c),cg(e,s,m)}catch(N){fu(e,s,N)}}function cg(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){ug(e,s,c)},function(c){return fu(e,s,c)}):ug(e,s,r)}function ug(e,s,r){s.status="fulfilled",s.value=r,hg(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,lg(e,r)))}function fu(e,s,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,hg(s),s=s.next;while(s!==c)}e.action=null}function hg(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function fg(e,s){return s}function dg(e,s){if(wt){var r=Ut.formState;if(r!==null){t:{var c=gt;if(wt){if(Ht){e:{for(var d=Ht,m=We;d.nodeType!==8;){if(!m){d=null;break e}if(d=Qe(d.nextSibling),d===null){d=null;break e}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Ht=Qe(d.nextSibling),c=d.data==="F!";break t}}Jn(c)}c=!1}c&&(s=r[0])}}return r=we(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:s},r.queue=c,r=Dg.bind(null,gt,c),c.dispatch=r,c=hu(!1),m=bu.bind(null,gt,!1,c.queue),c=we(),d={state:s,dispatch:null,action:e,pending:null},c.queue=d,r=d_.bind(null,gt,d,m,r),d.dispatch=r,c.memoizedState=e,[s,r,!1]}function gg(e){var s=Ft();return mg(s,jt,e)}function mg(e,s,r){if(s=cu(e,s,fg)[0],e=So(kn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=La(s)}catch(b){throw b===Cs?fo:b}else c=s;s=Ft();var d=s.queue,m=d.dispatch;return r!==s.memoizedState&&(gt.flags|=2048,js(9,{destroy:void 0},g_.bind(null,d,r),null)),[c,m,e]}function g_(e,s){e.action=s}function pg(e){var s=Ft(),r=jt;if(r!==null)return mg(s,r,e);Ft(),s=s.memoizedState,r=Ft();var c=r.queue.dispatch;return r.memoizedState=e,[s,c,!1]}function js(e,s,r,c){return e={tag:e,create:r,deps:c,inst:s,next:null},s=gt.updateQueue,s===null&&(s=wo(),gt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,s.lastEffect=e),e}function yg(){return Ft().memoizedState}function To(e,s,r,c){var d=we();gt.flags|=e,d.memoizedState=js(1|s,{destroy:void 0},r,c===void 0?null:c)}function Eo(e,s,r,c){var d=Ft();c=c===void 0?null:c;var m=d.memoizedState.inst;jt!==null&&c!==null&&iu(c,jt.memoizedState.deps)?d.memoizedState=js(s,m,r,c):(gt.flags|=e,d.memoizedState=js(1|s,m,r,c))}function bg(e,s){To(8390656,8,e,s)}function du(e,s){Eo(2048,8,e,s)}function m_(e){gt.flags|=4;var s=gt.updateQueue;if(s===null)s=wo(),gt.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function vg(e){var s=Ft().memoizedState;return m_({ref:s,nextImpl:e}),function(){if((Ot&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function _g(e,s){return Eo(4,2,e,s)}function wg(e,s){return Eo(4,4,e,s)}function xg(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function Sg(e,s,r){r=r!=null?r.concat([e]):null,Eo(4,4,xg.bind(null,s,e),r)}function gu(){}function Tg(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&iu(s,c[1])?c[0]:(r.memoizedState=[e,s],e)}function Eg(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&iu(s,c[1]))return c[0];if(c=e(),Hi){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[c,s],c}function mu(e,s,r){return r===void 0||(Cn&1073741824)!==0&&(vt&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=Am(),gt.lanes|=e,oi|=e,r)}function Ag(e,s,r,c){return Ne(r,s)?r:Rs.current!==null?(e=mu(e,r,c),Ne(e,s)||(Jt=!0),e):(Cn&42)===0||(Cn&1073741824)!==0&&(vt&261930)===0?(Jt=!0,e.memoizedState=r):(e=Am(),gt.lanes|=e,oi|=e,s)}function Og(e,s,r,c,d){var m=G.p;G.p=m!==0&&8>m?m:8;var b=U.T,w={};U.T=w,bu(e,!1,s,r);try{var C=d(),N=U.S;if(N!==null&&N(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var I=u_(C,c);Ba(e,s,I,qe(e))}else Ba(e,s,c,qe(e))}catch(Y){Ba(e,s,{then:function(){},status:"rejected",reason:Y},qe())}finally{G.p=m,b!==null&&w.types!==null&&(b.types=w.types),U.T=b}}function p_(){}function pu(e,s,r,c){if(e.tag!==5)throw Error(a(476));var d=Cg(e).queue;Og(e,d,s,F,r===null?p_:function(){return kg(e),r(c)})}function Cg(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:F},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function kg(e){var s=Cg(e);s.next===null&&(s=e.alternate.memoizedState),Ba(e,s.next.queue,{},qe())}function yu(){return ue(er)}function Rg(){return Ft().memoizedState}function Mg(){return Ft().memoizedState}function y_(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=qe();e=ei(r);var c=ni(s,e,r);c!==null&&(Ce(c,s,r),ja(c,s,r)),s={cache:Yc()},e.payload=s;return}s=s.return}}function b_(e,s,r){var c=qe();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ao(e)?jg(s,r):(r=zc(e,s,r,c),r!==null&&(Ce(r,e,c),Ng(r,s,c)))}function Dg(e,s,r){var c=qe();Ba(e,s,r,c)}function Ba(e,s,r,c){var d={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ao(e))jg(s,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var b=s.lastRenderedState,w=m(b,r);if(d.hasEagerState=!0,d.eagerState=w,Ne(w,b))return ao(e,s,d,0),Ut===null&&so(),!1}catch{}if(r=zc(e,s,d,c),r!==null)return Ce(r,e,c),Ng(r,s,c),!0}return!1}function bu(e,s,r,c){if(c={lane:2,revertLane:Xu(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ao(e)){if(s)throw Error(a(479))}else s=zc(e,r,c,2),s!==null&&Ce(s,e,2)}function Ao(e){var s=e.alternate;return e===gt||s!==null&&s===gt}function jg(e,s){Ms=vo=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Ng(e,s,r){if((r&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,Hf(e,r)}}var Ha={readContext:ue,use:xo,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useLayoutEffect:It,useInsertionEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useSyncExternalStore:It,useId:It,useHostTransitionStatus:It,useFormState:It,useActionState:It,useOptimistic:It,useMemoCache:It,useCacheRefresh:It};Ha.useEffectEvent=It;var zg={readContext:ue,use:xo,useCallback:function(e,s){return we().memoizedState=[e,s===void 0?null:s],e},useContext:ue,useEffect:bg,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,To(4194308,4,xg.bind(null,s,e),r)},useLayoutEffect:function(e,s){return To(4194308,4,e,s)},useInsertionEffect:function(e,s){To(4,2,e,s)},useMemo:function(e,s){var r=we();s=s===void 0?null:s;var c=e();if(Hi){Kn(!0);try{e()}finally{Kn(!1)}}return r.memoizedState=[c,s],c},useReducer:function(e,s,r){var c=we();if(r!==void 0){var d=r(s);if(Hi){Kn(!0);try{r(s)}finally{Kn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},c.queue=e,e=e.dispatch=b_.bind(null,gt,e),[c.memoizedState,e]},useRef:function(e){var s=we();return e={current:e},s.memoizedState=e},useState:function(e){e=hu(e);var s=e.queue,r=Dg.bind(null,gt,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:gu,useDeferredValue:function(e,s){var r=we();return mu(r,e,s)},useTransition:function(){var e=hu(!1);return e=Og.bind(null,gt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var c=gt,d=we();if(wt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),Ut===null)throw Error(a(349));(vt&127)!==0||ng(c,s,r)}d.memoizedState=r;var m={value:r,getSnapshot:s};return d.queue=m,bg(sg.bind(null,c,m,e),[e]),c.flags|=2048,js(9,{destroy:void 0},ig.bind(null,c,m,r,s),null),r},useId:function(){var e=we(),s=Ut.identifierPrefix;if(wt){var r=gn,c=dn;r=(c&~(1<<32-je(c)-1)).toString(32)+r,s="_"+s+"R_"+r,r=_o++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=h_++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:yu,useFormState:dg,useActionState:dg,useOptimistic:function(e){var s=we();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=bu.bind(null,gt,!0,r),r.dispatch=s,[e,s]},useMemoCache:lu,useCacheRefresh:function(){return we().memoizedState=y_.bind(null,gt)},useEffectEvent:function(e){var s=we(),r={impl:e};return s.memoizedState=r,function(){if((Ot&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vu={readContext:ue,use:xo,useCallback:Tg,useContext:ue,useEffect:du,useImperativeHandle:Sg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Eg,useReducer:So,useRef:yg,useState:function(){return So(kn)},useDebugValue:gu,useDeferredValue:function(e,s){var r=Ft();return Ag(r,jt.memoizedState,e,s)},useTransition:function(){var e=So(kn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:La(e),s]},useSyncExternalStore:eg,useId:Rg,useHostTransitionStatus:yu,useFormState:gg,useActionState:gg,useOptimistic:function(e,s){var r=Ft();return og(r,jt,e,s)},useMemoCache:lu,useCacheRefresh:Mg};vu.useEffectEvent=vg;var Ug={readContext:ue,use:xo,useCallback:Tg,useContext:ue,useEffect:du,useImperativeHandle:Sg,useInsertionEffect:_g,useLayoutEffect:wg,useMemo:Eg,useReducer:uu,useRef:yg,useState:function(){return uu(kn)},useDebugValue:gu,useDeferredValue:function(e,s){var r=Ft();return jt===null?mu(r,e,s):Ag(r,jt.memoizedState,e,s)},useTransition:function(){var e=uu(kn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:La(e),s]},useSyncExternalStore:eg,useId:Rg,useHostTransitionStatus:yu,useFormState:pg,useActionState:pg,useOptimistic:function(e,s){var r=Ft();return jt!==null?og(r,jt,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Mg};Ug.useEffectEvent=vg;function _u(e,s,r,c){s=e.memoizedState,r=r(c,s),r=r==null?s:y({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var wu={enqueueSetState:function(e,s,r){e=e._reactInternals;var c=qe(),d=ei(c);d.payload=s,r!=null&&(d.callback=r),s=ni(e,d,c),s!==null&&(Ce(s,e,c),ja(s,e,c))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var c=qe(),d=ei(c);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ni(e,d,c),s!==null&&(Ce(s,e,c),ja(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=qe(),c=ei(r);c.tag=2,s!=null&&(c.callback=s),s=ni(e,c,r),s!==null&&(Ce(s,e,r),ja(s,e,r))}};function Lg(e,s,r,c,d,m,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,m,b):s.prototype&&s.prototype.isPureReactComponent?!Ea(r,c)||!Ea(d,m):!0}function Bg(e,s,r,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==e&&wu.enqueueReplaceState(s,s.state,null)}function qi(e,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(e=e.defaultProps){r===s&&(r=y({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function Hg(e){io(e)}function qg(e){console.error(e)}function Pg(e){io(e)}function Oo(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $g(e,s,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function xu(e,s,r){return r=ei(r),r.tag=3,r.payload={element:null},r.callback=function(){Oo(e,s)},r}function Ig(e){return e=ei(e),e.tag=3,e}function Vg(e,s,r,c){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=c.value;e.payload=function(){return d(m)},e.callback=function(){$g(s,r,c)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){$g(s,r,c),typeof d!="function"&&(li===null?li=new Set([this]):li.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function v_(e,s,r,c,d){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&Es(s,r,d,!0),r=Ue.current,r!==null){switch(r.tag){case 31:case 13:return Xe===null?Ho():r.alternate===null&&Vt===0&&(Vt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,c===go?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),Ku(e,c,d)),!1;case 22:return r.flags|=65536,c===go?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),Ku(e,c,d)),!1}throw Error(a(435,r.tag))}return Ku(e,c,d),Ho(),!1}if(wt)return s=Ue.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Pc&&(e=Error(a(422),{cause:c}),Ca(Ye(e,r)))):(c!==Pc&&(s=Error(a(423),{cause:c}),Ca(Ye(s,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,c=Ye(c,r),d=xu(e.stateNode,c,d),Jc(e,d),Vt!==4&&(Vt=2)),!1;var m=Error(a(520),{cause:c});if(m=Ye(m,r),Ka===null?Ka=[m]:Ka.push(m),Vt!==4&&(Vt=2),s===null)return!0;c=Ye(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=xu(r.stateNode,c,e),Jc(r,e),!1;case 1:if(s=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(li===null||!li.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Ig(d),Vg(d,e,r,c),Jc(r,d),!1}r=r.return}while(r!==null);return!1}var Su=Error(a(461)),Jt=!1;function he(e,s,r,c){s.child=e===null?Fd(s,null,r,c):Bi(s,e.child,r,c)}function Gg(e,s,r,c,d){r=r.render;var m=s.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return Ni(s),c=su(e,s,r,b,m,d),w=au(),e!==null&&!Jt?(ru(e,s,d),Rn(e,s,d)):(wt&&w&&Hc(s),s.flags|=1,he(e,s,c,d),s.child)}function Yg(e,s,r,c,d){if(e===null){var m=r.type;return typeof m=="function"&&!Uc(m)&&m.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=m,Kg(e,s,m,c,d)):(e=oo(r.type,null,c,s,s.mode,d),e.ref=s.ref,e.return=s,s.child=e)}if(m=e.child,!Mu(e,d)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:Ea,r(b,c)&&e.ref===s.ref)return Rn(e,s,d)}return s.flags|=1,e=Tn(m,c),e.ref=s.ref,e.return=s,s.child=e}function Kg(e,s,r,c,d){if(e!==null){var m=e.memoizedProps;if(Ea(m,c)&&e.ref===s.ref)if(Jt=!1,s.pendingProps=c=m,Mu(e,d))(e.flags&131072)!==0&&(Jt=!0);else return s.lanes=e.lanes,Rn(e,s,d)}return Tu(e,s,r,c,d)}function Fg(e,s,r,c){var d=c.children,m=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,e!==null){for(c=s.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~m}else c=0,s.child=null;return Wg(e,s,m,r,c)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&ho(s,m!==null?m.cachePool:null),m!==null?Qd(s,m):tu(),Jd(s);else return c=s.lanes=536870912,Wg(e,s,m!==null?m.baseLanes|r:r,r,c)}else m!==null?(ho(s,m.cachePool),Qd(s,m),si(),s.memoizedState=null):(e!==null&&ho(s,null),tu(),si());return he(e,s,d,r),s.child}function qa(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Wg(e,s,r,c,d){var m=Fc();return m=m===null?null:{parent:Xt._currentValue,pool:m},s.memoizedState={baseLanes:r,cachePool:m},e!==null&&ho(s,null),tu(),Jd(s),e!==null&&Es(e,s,c,!0),s.childLanes=d,null}function Co(e,s){return s=Ro({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Xg(e,s,r){return Bi(s,e.child,null,r),e=Co(s,s.pendingProps),e.flags|=2,Le(s),s.memoizedState=null,e}function __(e,s,r){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(wt){if(c.mode==="hidden")return e=Co(s,c),s.lanes=536870912,qa(null,e);if(nu(s),(e=Ht)?(e=lp(e,We),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:dn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=jd(e),r.return=s,s.child=r,ce=s,Ht=null)):e=null,e===null)throw Jn(s);return s.lanes=536870912,null}return Co(s,c)}var m=e.memoizedState;if(m!==null){var b=m.dehydrated;if(nu(s),d)if(s.flags&256)s.flags&=-257,s=Xg(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(a(558));else if(Jt||Es(e,s,r,!1),d=(r&e.childLanes)!==0,Jt||d){if(c=Ut,c!==null&&(b=qf(c,r),b!==0&&b!==m.retryLane))throw m.retryLane=b,Ri(e,b),Ce(c,e,b),Su;Ho(),s=Xg(e,s,r)}else e=m.treeContext,Ht=Qe(b.nextSibling),ce=s,wt=!0,Qn=null,We=!1,e!==null&&Ud(s,e),s=Co(s,c),s.flags|=4096;return s}return e=Tn(e.child,{mode:c.mode,children:c.children}),e.ref=s.ref,s.child=e,e.return=s,e}function ko(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function Tu(e,s,r,c,d){return Ni(s),r=su(e,s,r,c,void 0,d),c=au(),e!==null&&!Jt?(ru(e,s,d),Rn(e,s,d)):(wt&&c&&Hc(s),s.flags|=1,he(e,s,r,d),s.child)}function Qg(e,s,r,c,d,m){return Ni(s),s.updateQueue=null,r=tg(s,c,r,d),Zd(e),c=au(),e!==null&&!Jt?(ru(e,s,m),Rn(e,s,m)):(wt&&c&&Hc(s),s.flags|=1,he(e,s,r,m),s.child)}function Jg(e,s,r,c,d){if(Ni(s),s.stateNode===null){var m=ws,b=r.contextType;typeof b=="object"&&b!==null&&(m=ue(b)),m=new r(c,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wu,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=c,m.state=s.memoizedState,m.refs={},Xc(s),b=r.contextType,m.context=typeof b=="object"&&b!==null?ue(b):ws,m.state=s.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(_u(s,r,b,c),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&wu.enqueueReplaceState(m,m.state,null),za(s,c,m,d),Na(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){m=s.stateNode;var w=s.memoizedProps,C=qi(r,w);m.props=C;var N=m.context,I=r.contextType;b=ws,typeof I=="object"&&I!==null&&(b=ue(I));var Y=r.getDerivedStateFromProps;I=typeof Y=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,I||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||N!==b)&&Bg(s,m,c,b),ti=!1;var z=s.memoizedState;m.state=z,za(s,c,m,d),Na(),N=s.memoizedState,w||z!==N||ti?(typeof Y=="function"&&(_u(s,r,Y,c),N=s.memoizedState),(C=ti||Lg(s,r,C,c,z,N,b))?(I||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=N),m.props=c,m.state=N,m.context=b,c=C):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{m=s.stateNode,Qc(e,s),b=s.memoizedProps,I=qi(r,b),m.props=I,Y=s.pendingProps,z=m.context,N=r.contextType,C=ws,typeof N=="object"&&N!==null&&(C=ue(N)),w=r.getDerivedStateFromProps,(N=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==Y||z!==C)&&Bg(s,m,c,C),ti=!1,z=s.memoizedState,m.state=z,za(s,c,m,d),Na();var B=s.memoizedState;b!==Y||z!==B||ti||e!==null&&e.dependencies!==null&&co(e.dependencies)?(typeof w=="function"&&(_u(s,r,w,c),B=s.memoizedState),(I=ti||Lg(s,r,I,c,z,B,C)||e!==null&&e.dependencies!==null&&co(e.dependencies))?(N||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,B,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,B,C)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=B),m.props=c,m.state=B,m.context=C,c=I):(typeof m.componentDidUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&z===e.memoizedState||(s.flags|=1024),c=!1)}return m=c,ko(e,s),c=(s.flags&128)!==0,m||c?(m=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,e!==null&&c?(s.child=Bi(s,e.child,null,d),s.child=Bi(s,null,r,d)):he(e,s,r,d),s.memoizedState=m.state,e=s.child):e=Rn(e,s,d),e}function Zg(e,s,r,c){return Di(),s.flags|=256,he(e,s,r,c),s.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Au(e){return{baseLanes:e,cachePool:$d()}}function Ou(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=He),e}function tm(e,s,r){var c=s.pendingProps,d=!1,m=(s.flags&128)!==0,b;if((b=m)||(b=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,e===null){if(wt){if(d?ii(s):si(),(e=Ht)?(e=lp(e,We),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Xn!==null?{id:dn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},r=jd(e),r.return=s,s.child=r,ce=s,Ht=null)):e=null,e===null)throw Jn(s);return ch(e)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(si(),d=s.mode,w=Ro({mode:"hidden",children:w},d),c=Mi(c,d,r,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=Au(r),c.childLanes=Ou(e,b,r),s.memoizedState=Eu,qa(null,c)):(ii(s),Cu(s,w))}var C=e.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(m)s.flags&256?(ii(s),s.flags&=-257,s=ku(e,s,r)):s.memoizedState!==null?(si(),s.child=e.child,s.flags|=128,s=null):(si(),w=c.fallback,d=s.mode,c=Ro({mode:"visible",children:c.children},d),w=Mi(w,d,r,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Bi(s,e.child,null,r),c=s.child,c.memoizedState=Au(r),c.childLanes=Ou(e,b,r),s.memoizedState=Eu,s=qa(null,c));else if(ii(s),ch(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var N=b.dgst;b=N,c=Error(a(419)),c.stack="",c.digest=b,Ca({value:c,source:null,stack:null}),s=ku(e,s,r)}else if(Jt||Es(e,s,r,!1),b=(r&e.childLanes)!==0,Jt||b){if(b=Ut,b!==null&&(c=qf(b,r),c!==0&&c!==C.retryLane))throw C.retryLane=c,Ri(e,c),Ce(b,e,c),Su;lh(w)||Ho(),s=ku(e,s,r)}else lh(w)?(s.flags|=192,s.child=e.child,s=null):(e=C.treeContext,Ht=Qe(w.nextSibling),ce=s,wt=!0,Qn=null,We=!1,e!==null&&Ud(s,e),s=Cu(s,c.children),s.flags|=4096);return s}return d?(si(),w=c.fallback,d=s.mode,C=e.child,N=C.sibling,c=Tn(C,{mode:"hidden",children:c.children}),c.subtreeFlags=C.subtreeFlags&65011712,N!==null?w=Tn(N,w):(w=Mi(w,d,r,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,qa(null,c),c=s.child,w=e.child.memoizedState,w===null?w=Au(r):(d=w.cachePool,d!==null?(C=Xt._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=$d(),w={baseLanes:w.baseLanes|r,cachePool:d}),c.memoizedState=w,c.childLanes=Ou(e,b,r),s.memoizedState=Eu,qa(e.child,c)):(ii(s),r=e.child,e=r.sibling,r=Tn(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,e!==null&&(b=s.deletions,b===null?(s.deletions=[e],s.flags|=16):b.push(e)),s.child=r,s.memoizedState=null,r)}function Cu(e,s){return s=Ro({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Ro(e,s){return e=ze(22,e,null,s),e.lanes=0,e}function ku(e,s,r){return Bi(s,e.child,null,r),e=Cu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function em(e,s,r){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Vc(e.return,s,r)}function Ru(e,s,r,c,d,m){var b=e.memoizedState;b===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:d,treeForkCount:m}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=r,b.tailMode=d,b.treeForkCount=m)}function nm(e,s,r){var c=s.pendingProps,d=c.revealOrder,m=c.tail;c=c.children;var b=Kt.current,w=(b&2)!==0;if(w?(b=b&1|2,s.flags|=128):b&=1,W(Kt,b),he(e,s,c,r),c=wt?Oa:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&em(e,r,s);else if(e.tag===19)em(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)e=r.alternate,e!==null&&bo(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Ru(s,!1,d,r,m,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(e=d.alternate,e!==null&&bo(e)===null){s.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Ru(s,!0,r,null,m,c);break;case"together":Ru(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Rn(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),oi|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(Es(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,r=Tn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function Mu(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&co(e)))}function w_(e,s,r){switch(s.tag){case 3:_e(s,s.stateNode.containerInfo),Zn(s,Xt,e.memoizedState.cache),Di();break;case 27:case 5:fa(s);break;case 4:_e(s,s.stateNode.containerInfo);break;case 10:Zn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,nu(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ii(s),s.flags|=128,null):(r&s.child.childLanes)!==0?tm(e,s,r):(ii(s),e=Rn(e,s,r),e!==null?e.sibling:null);ii(s);break;case 19:var d=(e.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(Es(e,s,r,!1),c=(r&s.childLanes)!==0),d){if(c)return nm(e,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),W(Kt,Kt.current),c)break;return null;case 22:return s.lanes=0,Fg(e,s,r,s.pendingProps);case 24:Zn(s,Xt,e.memoizedState.cache)}return Rn(e,s,r)}function im(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Mu(e,r)&&(s.flags&128)===0)return Jt=!1,w_(e,s,r);Jt=(e.flags&131072)!==0}else Jt=!1,wt&&(s.flags&1048576)!==0&&zd(s,Oa,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(e=Ui(s.elementType),s.type=e,typeof e=="function")Uc(e)?(c=qi(e,c),s.tag=1,s=Jg(null,s,e,c,r)):(s.tag=0,s=Tu(null,s,e,c,r));else{if(e!=null){var d=e.$$typeof;if(d===q){s.tag=11,s=Gg(null,s,e,c,r);break t}else if(d===P){s.tag=14,s=Yg(null,s,e,c,r);break t}}throw s=Dt(e)||e,Error(a(306,s,""))}}return s;case 0:return Tu(e,s,s.type,s.pendingProps,r);case 1:return c=s.type,d=qi(c,s.pendingProps),Jg(e,s,c,d,r);case 3:t:{if(_e(s,s.stateNode.containerInfo),e===null)throw Error(a(387));c=s.pendingProps;var m=s.memoizedState;d=m.element,Qc(e,s),za(s,c,null,r);var b=s.memoizedState;if(c=b.cache,Zn(s,Xt,c),c!==m.cache&&Gc(s,[Xt],r,!0),Na(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Zg(e,s,c,r);break t}else if(c!==d){d=Ye(Error(a(424)),s),Ca(d),s=Zg(e,s,c,r);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ht=Qe(e.firstChild),ce=s,wt=!0,Qn=null,We=!0,r=Fd(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Di(),c===d){s=Rn(e,s,r);break t}he(e,s,c,r)}s=s.child}return s;case 26:return ko(e,s),e===null?(r=gp(s.type,null,s.pendingProps,null))?s.memoizedState=r:wt||(r=s.type,e=s.pendingProps,c=Yo(ft.current).createElement(r),c[le]=s,c[xe]=e,fe(c,r,e),ae(c),s.stateNode=c):s.memoizedState=gp(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return fa(s),e===null&&wt&&(c=s.stateNode=hp(s.type,s.pendingProps,ft.current),ce=s,We=!0,d=Ht,fi(s.type)?(uh=d,Ht=Qe(c.firstChild)):Ht=d),he(e,s,s.pendingProps.children,r),ko(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&wt&&((d=c=Ht)&&(c=Q_(c,s.type,s.pendingProps,We),c!==null?(s.stateNode=c,ce=s,Ht=Qe(c.firstChild),We=!1,d=!0):d=!1),d||Jn(s)),fa(s),d=s.type,m=s.pendingProps,b=e!==null?e.memoizedProps:null,c=m.children,ah(d,m)?c=null:b!==null&&ah(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=su(e,s,f_,null,null,r),er._currentValue=d),ko(e,s),he(e,s,c,r),s.child;case 6:return e===null&&wt&&((e=r=Ht)&&(r=J_(r,s.pendingProps,We),r!==null?(s.stateNode=r,ce=s,Ht=null,e=!0):e=!1),e||Jn(s)),null;case 13:return tm(e,s,r);case 4:return _e(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=Bi(s,null,c,r):he(e,s,c,r),s.child;case 11:return Gg(e,s,s.type,s.pendingProps,r);case 7:return he(e,s,s.pendingProps,r),s.child;case 8:return he(e,s,s.pendingProps.children,r),s.child;case 12:return he(e,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Zn(s,s.type,c.value),he(e,s,c.children,r),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ni(s),d=ue(d),c=c(d),s.flags|=1,he(e,s,c,r),s.child;case 14:return Yg(e,s,s.type,s.pendingProps,r);case 15:return Kg(e,s,s.type,s.pendingProps,r);case 19:return nm(e,s,r);case 31:return __(e,s,r);case 22:return Fg(e,s,r,s.pendingProps);case 24:return Ni(s),c=ue(Xt),e===null?(d=Fc(),d===null&&(d=Ut,m=Yc(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),s.memoizedState={parent:c,cache:d},Xc(s),Zn(s,Xt,d)):((e.lanes&r)!==0&&(Qc(e,s),za(s,null,null,r),Na()),d=e.memoizedState,m=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Zn(s,Xt,c)):(c=m.cache,Zn(s,Xt,c),c!==d.cache&&Gc(s,[Xt],r,!0))),he(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Mn(e){e.flags|=4}function Du(e,s,r,c,d){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Rm())e.flags|=8192;else throw Li=go,Wc}else e.flags&=-16777217}function sm(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vp(s))if(Rm())e.flags|=8192;else throw Li=go,Wc}function Mo(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Lf():536870912,e.lanes|=s,Ls|=s)}function Pa(e,s){if(!wt)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function qt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(s)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=r,s}function x_(e,s,r){var c=s.pendingProps;switch(qc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return qt(s),null;case 3:return r=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),On(Xt),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ts(s)?Mn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$c())),qt(s),null;case 26:var d=s.type,m=s.memoizedState;return e===null?(Mn(s),m!==null?(qt(s),sm(s,m)):(qt(s),Du(s,d,null,c,r))):m?m!==e.memoizedState?(Mn(s),qt(s),sm(s,m)):(qt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==c&&Mn(s),qt(s),Du(s,d,e,c,r)),null;case 27:if(Pr(s),r=ft.current,d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}e=J.current,Ts(s)?Ld(s):(e=hp(d,c,r),s.stateNode=e,Mn(s))}return qt(s),null;case 5:if(Pr(s),d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}if(m=J.current,Ts(s))Ld(s);else{var b=Yo(ft.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(d,{is:c.is}):b.createElement(d)}}m[le]=s,m[xe]=c;t:for(b=s.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===s)break t;for(;b.sibling===null;){if(b.return===null||b.return===s)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}s.stateNode=m;t:switch(fe(m,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Mn(s)}}return qt(s),Du(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&Mn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(e=ft.current,Ts(s)){if(e=s.stateNode,r=s.memoizedProps,c=null,d=ce,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}e[le]=s,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||tp(e.nodeValue,r)),e||Jn(s,!0)}else e=Yo(e).createTextNode(c),e[le]=s,s.stateNode=e}return qt(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(c=Ts(s),r!==null){if(e===null){if(!c)throw Error(a(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[le]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),e=!1}else r=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Le(s),s):(Le(s),null);if((s.flags&128)!==0)throw Error(a(558))}return qt(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ts(s),c!==null&&c.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[le]=s}else Di(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),d=!1}else d=$c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Le(s),s):(Le(s),null)}return Le(s),(s.flags&128)!==0?(s.lanes=r,s):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),Mo(s,s.updateQueue),qt(s),null);case 4:return Yt(),e===null&&th(s.stateNode.containerInfo),qt(s),null;case 10:return On(s.type),qt(s),null;case 19:if(L(Kt),c=s.memoizedState,c===null)return qt(s),null;if(d=(s.flags&128)!==0,m=c.rendering,m===null)if(d)Pa(c,!1);else{if(Vt!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(m=bo(e),m!==null){for(s.flags|=128,Pa(c,!1),e=m.updateQueue,s.updateQueue=e,Mo(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)Dd(r,e),r=r.sibling;return W(Kt,Kt.current&1|2),wt&&En(s,c.treeForkCount),s.child}e=e.sibling}c.tail!==null&&Me()>Uo&&(s.flags|=128,d=!0,Pa(c,!1),s.lanes=4194304)}else{if(!d)if(e=bo(m),e!==null){if(s.flags|=128,d=!0,e=e.updateQueue,s.updateQueue=e,Mo(s,e),Pa(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!wt)return qt(s),null}else 2*Me()-c.renderingStartTime>Uo&&r!==536870912&&(s.flags|=128,d=!0,Pa(c,!1),s.lanes=4194304);c.isBackwards?(m.sibling=s.child,s.child=m):(e=c.last,e!==null?e.sibling=m:s.child=m,c.last=m)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Me(),e.sibling=null,r=Kt.current,W(Kt,d?r&1|2:r&1),wt&&En(s,c.treeForkCount),e):(qt(s),null);case 22:case 23:return Le(s),eu(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),r=s.updateQueue,r!==null&&Mo(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),e!==null&&L(zi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),On(Xt),qt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function S_(e,s){switch(qc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return On(Xt),Yt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Pr(s),null;case 31:if(s.memoizedState!==null){if(Le(s),s.alternate===null)throw Error(a(340));Di()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Le(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Di()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return L(Kt),null;case 4:return Yt(),null;case 10:return On(s.type),null;case 22:case 23:return Le(s),eu(),e!==null&&L(zi),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return On(Xt),null;case 25:return null;default:return null}}function am(e,s){switch(qc(s),s.tag){case 3:On(Xt),Yt();break;case 26:case 27:case 5:Pr(s);break;case 4:Yt();break;case 31:s.memoizedState!==null&&Le(s);break;case 13:Le(s);break;case 19:L(Kt);break;case 10:On(s.type);break;case 22:case 23:Le(s),eu(),e!==null&&L(zi);break;case 24:On(Xt)}}function $a(e,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){c=void 0;var m=r.create,b=r.inst;c=m(),b.destroy=c}r=r.next}while(r!==d)}}catch(w){Rt(s,s.return,w)}}function ai(e,s,r){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var m=d.next;c=m;do{if((c.tag&e)===e){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var C=r,N=w;try{N()}catch(I){Rt(d,C,I)}}}c=c.next}while(c!==m)}}catch(I){Rt(s,s.return,I)}}function rm(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{Xd(s,r)}catch(c){Rt(e,e.return,c)}}}function om(e,s,r){r.props=qi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Rt(e,s,c)}}function Ia(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(d){Rt(e,s,d)}}function mn(e,s){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(d){Rt(e,s,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Rt(e,s,d)}else r.current=null}function lm(e){var s=e.type,r=e.memoizedProps,c=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(d){Rt(e,e.return,d)}}function ju(e,s,r){try{var c=e.stateNode;G_(c,e.type,r,s),c[xe]=s}catch(d){Rt(e,e.return,d)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function Nu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=xn));else if(c!==4&&(c===27&&fi(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(zu(e,s,r),e=e.sibling;e!==null;)zu(e,s,r),e=e.sibling}function Do(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(c!==4&&(c===27&&fi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Do(e,s,r),e=e.sibling;e!==null;)Do(e,s,r),e=e.sibling}function um(e){var s=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);fe(s,c,r),s[le]=e,s[xe]=r}catch(m){Rt(e,e.return,m)}}var Dn=!1,Zt=!1,Uu=!1,hm=typeof WeakSet=="function"?WeakSet:Set,re=null;function T_(e,s){if(e=e.containerInfo,ih=Zo,e=Sd(e),kc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var d=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break t}var b=0,w=-1,C=-1,N=0,I=0,Y=e,z=null;e:for(;;){for(var B;Y!==r||d!==0&&Y.nodeType!==3||(w=b+d),Y!==m||c!==0&&Y.nodeType!==3||(C=b+c),Y.nodeType===3&&(b+=Y.nodeValue.length),(B=Y.firstChild)!==null;)z=Y,Y=B;for(;;){if(Y===e)break e;if(z===r&&++N===d&&(w=b),z===m&&++I===c&&(C=b),(B=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=B}r=w===-1||C===-1?null:{start:w,end:C}}else r=null}r=r||{start:0,end:0}}else r=null;for(sh={focusedElem:e,selectionRange:r},Zo=!1,re=s;re!==null;)if(s=re,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,re=e;else for(;re!==null;){switch(s=re,m=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,r=s,d=m.memoizedProps,m=m.memoizedState,c=r.stateNode;try{var Z=qi(r.type,d);e=c.getSnapshotBeforeUpdate(Z,m),c.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Rt(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)oh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,re=e;break}re=s.return}}function fm(e,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:Nn(e,r),c&4&&$a(5,r);break;case 1:if(Nn(e,r),c&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(b){Rt(r,r.return,b)}else{var d=qi(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(d,s,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Rt(r,r.return,b)}}c&64&&rm(r),c&512&&Ia(r,r.return);break;case 3:if(Nn(e,r),c&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Xd(e,s)}catch(b){Rt(r,r.return,b)}}break;case 27:s===null&&c&4&&um(r);case 26:case 5:Nn(e,r),s===null&&c&4&&lm(r),c&512&&Ia(r,r.return);break;case 12:Nn(e,r);break;case 31:Nn(e,r),c&4&&mm(e,r);break;case 13:Nn(e,r),c&4&&pm(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=j_.bind(null,r),Z_(e,r))));break;case 22:if(c=r.memoizedState!==null||Dn,!c){s=s!==null&&s.memoizedState!==null||Zt,d=Dn;var m=Zt;Dn=c,(Zt=s)&&!m?zn(e,r,(r.subtreeFlags&8772)!==0):Nn(e,r),Dn=d,Zt=m}break;case 30:break;default:Nn(e,r)}}function dm(e){var s=e.alternate;s!==null&&(e.alternate=null,dm(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&fc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Te=!1;function jn(e,s,r){for(r=r.child;r!==null;)gm(e,s,r),r=r.sibling}function gm(e,s,r){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(da,r)}catch{}switch(r.tag){case 26:Zt||mn(r,s),jn(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||mn(r,s);var c=$t,d=Te;fi(r.type)&&($t=r.stateNode,Te=!1),jn(e,s,r),Ja(r.stateNode),$t=c,Te=d;break;case 5:Zt||mn(r,s);case 6:if(c=$t,d=Te,$t=null,jn(e,s,r),$t=c,Te=d,$t!==null)if(Te)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(r.stateNode)}catch(m){Rt(r,s,m)}else try{$t.removeChild(r.stateNode)}catch(m){Rt(r,s,m)}break;case 18:$t!==null&&(Te?(e=$t,rp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Gs(e)):rp($t,r.stateNode));break;case 4:c=$t,d=Te,$t=r.stateNode.containerInfo,Te=!0,jn(e,s,r),$t=c,Te=d;break;case 0:case 11:case 14:case 15:ai(2,r,s),Zt||ai(4,r,s),jn(e,s,r);break;case 1:Zt||(mn(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&om(r,s,c)),jn(e,s,r);break;case 21:jn(e,s,r);break;case 22:Zt=(c=Zt)||r.memoizedState!==null,jn(e,s,r),Zt=c;break;default:jn(e,s,r)}}function mm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gs(e)}catch(r){Rt(s,s.return,r)}}}function pm(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gs(e)}catch(r){Rt(s,s.return,r)}}function E_(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new hm),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new hm),s;default:throw Error(a(435,e.tag))}}function jo(e,s){var r=E_(e);s.forEach(function(c){if(!r.has(c)){r.add(c);var d=N_.bind(null,e,c);c.then(d,d)}})}function Ee(e,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var d=r[c],m=e,b=s,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(fi(w.type)){$t=w.stateNode,Te=!1;break t}break;case 5:$t=w.stateNode,Te=!1;break t;case 3:case 4:$t=w.stateNode.containerInfo,Te=!0;break t}w=w.return}if($t===null)throw Error(a(160));gm(m,b,d),$t=null,Te=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ym(s,e),s=s.sibling}var rn=null;function ym(e,s){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ee(s,e),Ae(e),c&4&&(ai(3,e,e.return),$a(3,e),ai(5,e,e.return));break;case 1:Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),c&64&&Dn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var d=rn;if(Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),c&4){var m=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){t:{c=e.type,r=e.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":m=d.getElementsByTagName("title")[0],(!m||m[pa]||m[le]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(c),d.head.insertBefore(m,d.querySelector("head > title"))),fe(m,c,r),m[le]=e,ae(m),c=m;break t;case"link":var b=yp("link","href",d).get(c+(r.href||""));if(b){for(var w=0;w<b.length;w++)if(m=b[w],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(w,1);break e}}m=d.createElement(c),fe(m,c,r),d.head.appendChild(m);break;case"meta":if(b=yp("meta","content",d).get(c+(r.content||""))){for(w=0;w<b.length;w++)if(m=b[w],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(w,1);break e}}m=d.createElement(c),fe(m,c,r),d.head.appendChild(m);break;default:throw Error(a(468,c))}m[le]=e,ae(m),c=m}e.stateNode=c}else bp(d,e.type,e.stateNode);else e.stateNode=pp(d,c,e.memoizedProps);else m!==c?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,c===null?bp(d,e.type,e.stateNode):pp(d,c,e.memoizedProps)):c===null&&e.stateNode!==null&&ju(e,e.memoizedProps,r.memoizedProps)}break;case 27:Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),r!==null&&c&4&&ju(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Ee(s,e),Ae(e),c&512&&(Zt||r===null||mn(r,r.return)),e.flags&32){d=e.stateNode;try{gs(d,"")}catch(Z){Rt(e,e.return,Z)}}c&4&&e.stateNode!=null&&(d=e.memoizedProps,ju(e,d,r!==null?r.memoizedProps:d)),c&1024&&(Uu=!0);break;case 6:if(Ee(s,e),Ae(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(Z){Rt(e,e.return,Z)}}break;case 3:if(Wo=null,d=rn,rn=Ko(s.containerInfo),Ee(s,e),rn=d,Ae(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{Gs(s.containerInfo)}catch(Z){Rt(e,e.return,Z)}Uu&&(Uu=!1,bm(e));break;case 4:c=rn,rn=Ko(e.stateNode.containerInfo),Ee(s,e),Ae(e),rn=c;break;case 12:Ee(s,e),Ae(e);break;case 31:Ee(s,e),Ae(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 13:Ee(s,e),Ae(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zo=Me()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 22:d=e.memoizedState!==null;var C=r!==null&&r.memoizedState!==null,N=Dn,I=Zt;if(Dn=N||d,Zt=I||C,Ee(s,e),Zt=I,Dn=N,Ae(e),c&8192)t:for(s=e.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||C||Dn||Zt||Pi(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){C=r=s;try{if(m=C.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;w.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(Z){Rt(C,C.return,Z)}}}else if(s.tag===6){if(r===null){C=s;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(Z){Rt(C,C.return,Z)}}}else if(s.tag===18){if(r===null){C=s;try{var B=C.stateNode;d?op(B,!0):op(C.stateNode,!1)}catch(Z){Rt(C,C.return,Z)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,jo(e,r))));break;case 19:Ee(s,e),Ae(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,jo(e,c)));break;case 30:break;case 21:break;default:Ee(s,e),Ae(e)}}function Ae(e){var s=e.flags;if(s&2){try{for(var r,c=e.return;c!==null;){if(cm(c)){r=c;break}c=c.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,m=Nu(e);Do(e,m,d);break;case 5:var b=r.stateNode;r.flags&32&&(gs(b,""),r.flags&=-33);var w=Nu(e);Do(e,w,b);break;case 3:case 4:var C=r.stateNode.containerInfo,N=Nu(e);zu(e,N,C);break;default:throw Error(a(161))}}catch(I){Rt(e,e.return,I)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;bm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function Nn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fm(e,s.alternate,s),s=s.sibling}function Pi(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ai(4,s,s.return),Pi(s);break;case 1:mn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&om(s,s.return,r),Pi(s);break;case 27:Ja(s.stateNode);case 26:case 5:mn(s,s.return),Pi(s);break;case 22:s.memoizedState===null&&Pi(s);break;case 30:Pi(s);break;default:Pi(s)}e=e.sibling}}function zn(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=e,m=s,b=m.flags;switch(m.tag){case 0:case 11:case 15:zn(d,m,r),$a(4,m);break;case 1:if(zn(d,m,r),c=m,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(N){Rt(c,c.return,N)}if(c=m,d=c.updateQueue,d!==null){var w=c.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Wd(C[d],w)}catch(N){Rt(c,c.return,N)}}r&&b&64&&rm(m),Ia(m,m.return);break;case 27:um(m);case 26:case 5:zn(d,m,r),r&&c===null&&b&4&&lm(m),Ia(m,m.return);break;case 12:zn(d,m,r);break;case 31:zn(d,m,r),r&&b&4&&mm(d,m);break;case 13:zn(d,m,r),r&&b&4&&pm(d,m);break;case 22:m.memoizedState===null&&zn(d,m,r),Ia(m,m.return);break;case 30:break;default:zn(d,m,r)}s=s.sibling}}function Lu(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&ka(r))}function Bu(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ka(e))}function on(e,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)vm(e,s,r,c),s=s.sibling}function vm(e,s,r,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:on(e,s,r,c),d&2048&&$a(9,s);break;case 1:on(e,s,r,c);break;case 3:on(e,s,r,c),d&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&ka(e)));break;case 12:if(d&2048){on(e,s,r,c),e=s.stateNode;try{var m=s.memoizedProps,b=m.id,w=m.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Rt(s,s.return,C)}}else on(e,s,r,c);break;case 31:on(e,s,r,c);break;case 13:on(e,s,r,c);break;case 23:break;case 22:m=s.stateNode,b=s.alternate,s.memoizedState!==null?m._visibility&2?on(e,s,r,c):Va(e,s):m._visibility&2?on(e,s,r,c):(m._visibility|=2,Ns(e,s,r,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Lu(b,s);break;case 24:on(e,s,r,c),d&2048&&Bu(s.alternate,s);break;default:on(e,s,r,c)}}function Ns(e,s,r,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=e,b=s,w=r,C=c,N=b.flags;switch(b.tag){case 0:case 11:case 15:Ns(m,b,w,C,d),$a(8,b);break;case 23:break;case 22:var I=b.stateNode;b.memoizedState!==null?I._visibility&2?Ns(m,b,w,C,d):Va(m,b):(I._visibility|=2,Ns(m,b,w,C,d)),d&&N&2048&&Lu(b.alternate,b);break;case 24:Ns(m,b,w,C,d),d&&N&2048&&Bu(b.alternate,b);break;default:Ns(m,b,w,C,d)}s=s.sibling}}function Va(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,c=s,d=c.flags;switch(c.tag){case 22:Va(r,c),d&2048&&Lu(c.alternate,c);break;case 24:Va(r,c),d&2048&&Bu(c.alternate,c);break;default:Va(r,c)}s=s.sibling}}var Ga=8192;function zs(e,s,r){if(e.subtreeFlags&Ga)for(e=e.child;e!==null;)_m(e,s,r),e=e.sibling}function _m(e,s,r){switch(e.tag){case 26:zs(e,s,r),e.flags&Ga&&e.memoizedState!==null&&hw(r,rn,e.memoizedState,e.memoizedProps);break;case 5:zs(e,s,r);break;case 3:case 4:var c=rn;rn=Ko(e.stateNode.containerInfo),zs(e,s,r),rn=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Ga,Ga=16777216,zs(e,s,r),Ga=c):zs(e,s,r));break;default:zs(e,s,r)}}function wm(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Ya(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];re=c,Sm(c,e)}wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xm(e),e=e.sibling}function xm(e){switch(e.tag){case 0:case 11:case 15:Ya(e),e.flags&2048&&ai(9,e,e.return);break;case 3:Ya(e);break;case 12:Ya(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,No(e)):Ya(e);break;default:Ya(e)}}function No(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];re=c,Sm(c,e)}wm(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ai(8,s,s.return),No(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,No(s));break;default:No(s)}e=e.sibling}}function Sm(e,s){for(;re!==null;){var r=re;switch(r.tag){case 0:case 11:case 15:ai(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ka(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,re=c;else t:for(r=e;re!==null;){c=re;var d=c.sibling,m=c.return;if(dm(c),c===r){re=null;break t}if(d!==null){d.return=m,re=d;break t}re=m}}}var A_={getCacheForType:function(e){var s=ue(Xt),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return ue(Xt).controller.signal}},O_=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Ut=null,yt=null,vt=0,kt=0,Be=null,ri=!1,Us=!1,Hu=!1,Un=0,Vt=0,oi=0,$i=0,qu=0,He=0,Ls=0,Ka=null,Oe=null,Pu=!1,zo=0,Tm=0,Uo=1/0,Lo=null,li=null,ee=0,ci=null,Bs=null,Ln=0,$u=0,Iu=null,Em=null,Fa=0,Vu=null;function qe(){return(Ot&2)!==0&&vt!==0?vt&-vt:U.T!==null?Xu():Pf()}function Am(){if(He===0)if((vt&536870912)===0||wt){var e=Vr;Vr<<=1,(Vr&3932160)===0&&(Vr=262144),He=e}else He=536870912;return e=Ue.current,e!==null&&(e.flags|=32),He}function Ce(e,s,r){(e===Ut&&(kt===2||kt===9)||e.cancelPendingCommit!==null)&&(Hs(e,0),ui(e,vt,He,!1)),ma(e,r),((Ot&2)===0||e!==Ut)&&(e===Ut&&((Ot&2)===0&&($i|=r),Vt===4&&ui(e,vt,He,!1)),pn(e))}function Om(e,s,r){if((Ot&6)!==0)throw Error(a(327));var c=!r&&(s&127)===0&&(s&e.expiredLanes)===0||ga(e,s),d=c?R_(e,s):Yu(e,s,!0),m=c;do{if(d===0){Us&&!c&&ui(e,s,0,!1);break}else{if(r=e.current.alternate,m&&!C_(r)){d=Yu(e,s,!1),m=!1;continue}if(d===2){if(m=s,e.errorRecoveryDisabledLanes&m)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var w=e;d=Ka;var C=w.current.memoizedState.isDehydrated;if(C&&(Hs(w,b).flags|=256),b=Yu(w,b,!1),b!==2){if(Hu&&!C){w.errorRecoveryDisabledLanes|=m,$i|=m,d=4;break t}m=Oe,Oe=d,m!==null&&(Oe===null?Oe=m:Oe.push.apply(Oe,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){Hs(e,0),ui(e,s,0,!0);break}t:{switch(c=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:ui(c,s,He,!ri);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=zo+300-Me(),10<d)){if(ui(c,s,He,!ri),Yr(c,0,!0)!==0)break t;Ln=s,c.timeoutHandle=sp(Cm.bind(null,c,r,Oe,Lo,Pu,s,He,$i,Ls,ri,m,"Throttled",-0,0),d);break t}Cm(c,r,Oe,Lo,Pu,s,He,$i,Ls,ri,m,null,-0,0)}}break}while(!0);pn(e)}function Cm(e,s,r,c,d,m,b,w,C,N,I,Y,z,B){if(e.timeoutHandle=-1,Y=s.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xn},_m(s,m,Y);var Z=(m&62914560)===m?zo-Me():(m&4194048)===m?Tm-Me():0;if(Z=fw(Y,Z),Z!==null){Ln=m,e.cancelPendingCommit=Z(Um.bind(null,e,s,m,r,c,d,b,w,C,I,Y,null,z,B)),ui(e,m,b,!N);return}}Um(e,s,m,r,c,d,b,w,C)}function C_(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var d=r[c],m=d.getSnapshot;d=d.value;try{if(!Ne(m(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ui(e,s,r,c){s&=~qu,s&=~$i,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var d=s;0<d;){var m=31-je(d),b=1<<m;c[m]=-1,d&=~b}r!==0&&Bf(e,r,s)}function Bo(){return(Ot&6)===0?(Wa(0),!1):!0}function Gu(){if(yt!==null){if(kt===0)var e=yt.return;else e=yt,An=ji=null,ou(e),ks=null,Ma=0,e=yt;for(;e!==null;)am(e.alternate,e),e=e.return;yt=null}}function Hs(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,F_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ln=0,Gu(),Ut=e,yt=r=Tn(e.current,null),vt=s,kt=0,Be=null,ri=!1,Us=ga(e,s),Hu=!1,Ls=He=qu=$i=oi=Vt=0,Oe=Ka=null,Pu=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var d=31-je(c),m=1<<d;s|=e[d],c&=~m}return Un=s,so(),r}function km(e,s){gt=null,U.H=Ha,s===Cs||s===fo?(s=Gd(),kt=3):s===Wc?(s=Gd(),kt=4):kt=s===Su?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Be=s,yt===null&&(Vt=1,Oo(e,Ye(s,e.current)))}function Rm(){var e=Ue.current;return e===null?!0:(vt&4194048)===vt?Xe===null:(vt&62914560)===vt||(vt&536870912)!==0?e===Xe:!1}function Mm(){var e=U.H;return U.H=Ha,e===null?Ha:e}function Dm(){var e=U.A;return U.A=A_,e}function Ho(){Vt=4,ri||(vt&4194048)!==vt&&Ue.current!==null||(Us=!0),(oi&134217727)===0&&($i&134217727)===0||Ut===null||ui(Ut,vt,He,!1)}function Yu(e,s,r){var c=Ot;Ot|=2;var d=Mm(),m=Dm();(Ut!==e||vt!==s)&&(Lo=null,Hs(e,s)),s=!1;var b=Vt;t:do try{if(kt!==0&&yt!==null){var w=yt,C=Be;switch(kt){case 8:Gu(),b=6;break t;case 3:case 2:case 9:case 6:Ue.current===null&&(s=!0);var N=kt;if(kt=0,Be=null,qs(e,w,C,N),r&&Us){b=0;break t}break;default:N=kt,kt=0,Be=null,qs(e,w,C,N)}}k_(),b=Vt;break}catch(I){km(e,I)}while(!0);return s&&e.shellSuspendCounter++,An=ji=null,Ot=c,U.H=d,U.A=m,yt===null&&(Ut=null,vt=0,so()),b}function k_(){for(;yt!==null;)jm(yt)}function R_(e,s){var r=Ot;Ot|=2;var c=Mm(),d=Dm();Ut!==e||vt!==s?(Lo=null,Uo=Me()+500,Hs(e,s)):Us=ga(e,s);t:do try{if(kt!==0&&yt!==null){s=yt;var m=Be;e:switch(kt){case 1:kt=0,Be=null,qs(e,s,m,1);break;case 2:case 9:if(Id(m)){kt=0,Be=null,Nm(s);break}s=function(){kt!==2&&kt!==9||Ut!==e||(kt=7),pn(e)},m.then(s,s);break t;case 3:kt=7;break t;case 4:kt=5;break t;case 7:Id(m)?(kt=0,Be=null,Nm(s)):(kt=0,Be=null,qs(e,s,m,7));break;case 5:var b=null;switch(yt.tag){case 26:b=yt.memoizedState;case 5:case 27:var w=yt;if(b?vp(b):w.stateNode.complete){kt=0,Be=null;var C=w.sibling;if(C!==null)yt=C;else{var N=w.return;N!==null?(yt=N,qo(N)):yt=null}break e}}kt=0,Be=null,qs(e,s,m,5);break;case 6:kt=0,Be=null,qs(e,s,m,6);break;case 8:Gu(),Vt=6;break t;default:throw Error(a(462))}}M_();break}catch(I){km(e,I)}while(!0);return An=ji=null,U.H=c,U.A=d,Ot=r,yt!==null?0:(Ut=null,vt=0,so(),Vt)}function M_(){for(;yt!==null&&!t0();)jm(yt)}function jm(e){var s=im(e.alternate,e,Un);e.memoizedProps=e.pendingProps,s===null?qo(e):yt=s}function Nm(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=Qg(r,s,s.pendingProps,s.type,void 0,vt);break;case 11:s=Qg(r,s,s.pendingProps,s.type.render,s.ref,vt);break;case 5:ou(s);default:am(r,s),s=yt=Dd(s,Un),s=im(r,s,Un)}e.memoizedProps=e.pendingProps,s===null?qo(e):yt=s}function qs(e,s,r,c){An=ji=null,ou(s),ks=null,Ma=0;var d=s.return;try{if(v_(e,d,s,r,vt)){Vt=1,Oo(e,Ye(r,e.current)),yt=null;return}}catch(m){if(d!==null)throw yt=d,m;Vt=1,Oo(e,Ye(r,e.current)),yt=null;return}s.flags&32768?(wt||c===1?e=!0:Us||(vt&536870912)!==0?e=!1:(ri=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ue.current,c!==null&&c.tag===13&&(c.flags|=16384))),zm(s,e)):qo(s)}function qo(e){var s=e;do{if((s.flags&32768)!==0){zm(s,ri);return}e=s.return;var r=x_(s.alternate,s,Un);if(r!==null){yt=r;return}if(s=s.sibling,s!==null){yt=s;return}yt=s=e}while(s!==null);Vt===0&&(Vt=5)}function zm(e,s){do{var r=S_(e.alternate,e);if(r!==null){r.flags&=32767,yt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){yt=e;return}yt=e=r}while(e!==null);Vt=6,yt=null}function Um(e,s,r,c,d,m,b,w,C){e.cancelPendingCommit=null;do Po();while(ee!==0);if((Ot&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(m=s.lanes|s.childLanes,m|=Nc,u0(e,r,m,b,w,C),e===Ut&&(yt=Ut=null,vt=0),Bs=s,ci=e,Ln=r,$u=m,Iu=d,Em=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,z_($r,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=U.T,U.T=null,d=G.p,G.p=2,b=Ot,Ot|=4;try{T_(e,s,r)}finally{Ot=b,G.p=d,U.T=c}}ee=1,Lm(),Bm(),Hm()}}function Lm(){if(ee===1){ee=0;var e=ci,s=Bs,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=U.T,U.T=null;var c=G.p;G.p=2;var d=Ot;Ot|=4;try{ym(s,e);var m=sh,b=Sd(e.containerInfo),w=m.focusedElem,C=m.selectionRange;if(b!==w&&w&&w.ownerDocument&&xd(w.ownerDocument.documentElement,w)){if(C!==null&&kc(w)){var N=C.start,I=C.end;if(I===void 0&&(I=N),"selectionStart"in w)w.selectionStart=N,w.selectionEnd=Math.min(I,w.value.length);else{var Y=w.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var B=z.getSelection(),Z=w.textContent.length,ct=Math.min(C.start,Z),zt=C.end===void 0?ct:Math.min(C.end,Z);!B.extend&&ct>zt&&(b=zt,zt=ct,ct=b);var M=wd(w,ct),k=wd(w,zt);if(M&&k&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==k.node||B.focusOffset!==k.offset)){var j=Y.createRange();j.setStart(M.node,M.offset),B.removeAllRanges(),ct>zt?(B.addRange(j),B.extend(k.node,k.offset)):(j.setEnd(k.node,k.offset),B.addRange(j))}}}}for(Y=[],B=w;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Y.length;w++){var V=Y[w];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Zo=!!ih,sh=ih=null}finally{Ot=d,G.p=c,U.T=r}}e.current=s,ee=2}}function Bm(){if(ee===2){ee=0;var e=ci,s=Bs,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=U.T,U.T=null;var c=G.p;G.p=2;var d=Ot;Ot|=4;try{fm(e,s.alternate,s)}finally{Ot=d,G.p=c,U.T=r}}ee=3}}function Hm(){if(ee===4||ee===3){ee=0,e0();var e=ci,s=Bs,r=Ln,c=Em;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ee=5:(ee=0,Bs=ci=null,qm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(li=null),uc(r),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(da,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=U.T,d=G.p,G.p=2,U.T=null;try{for(var m=e.onRecoverableError,b=0;b<c.length;b++){var w=c[b];m(w.value,{componentStack:w.stack})}}finally{U.T=s,G.p=d}}(Ln&3)!==0&&Po(),pn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Vu?Fa++:(Fa=0,Vu=e):Fa=0,Wa(0)}}function qm(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,ka(s)))}function Po(){return Lm(),Bm(),Hm(),Pm()}function Pm(){if(ee!==5)return!1;var e=ci,s=$u;$u=0;var r=uc(Ln),c=U.T,d=G.p;try{G.p=32>r?32:r,U.T=null,r=Iu,Iu=null;var m=ci,b=Ln;if(ee=0,Bs=ci=null,Ln=0,(Ot&6)!==0)throw Error(a(331));var w=Ot;if(Ot|=4,xm(m.current),vm(m,m.current,b,r),Ot=w,Wa(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(da,m)}catch{}return!0}finally{G.p=d,U.T=c,qm(e,s)}}function $m(e,s,r){s=Ye(r,s),s=xu(e.stateNode,s,2),e=ni(e,s,2),e!==null&&(ma(e,2),pn(e))}function Rt(e,s,r){if(e.tag===3)$m(e,e,r);else for(;s!==null;){if(s.tag===3){$m(s,e,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(li===null||!li.has(c))){e=Ye(r,e),r=Ig(2),c=ni(s,r,2),c!==null&&(Vg(r,c,s,e),ma(c,2),pn(c));break}}s=s.return}}function Ku(e,s,r){var c=e.pingCache;if(c===null){c=e.pingCache=new O_;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(r)||(Hu=!0,d.add(r),e=D_.bind(null,e,s,r),s.then(e,e))}function D_(e,s,r){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ut===e&&(vt&r)===r&&(Vt===4||Vt===3&&(vt&62914560)===vt&&300>Me()-zo?(Ot&2)===0&&Hs(e,0):qu|=r,Ls===vt&&(Ls=0)),pn(e)}function Im(e,s){s===0&&(s=Lf()),e=Ri(e,s),e!==null&&(ma(e,s),pn(e))}function j_(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Im(e,r)}function N_(e,s){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Im(e,r)}function z_(e,s){return rc(e,s)}var $o=null,Ps=null,Fu=!1,Io=!1,Wu=!1,hi=0;function pn(e){e!==Ps&&e.next===null&&(Ps===null?$o=Ps=e:Ps=Ps.next=e),Io=!0,Fu||(Fu=!0,L_())}function Wa(e,s){if(!Wu&&Io){Wu=!0;do for(var r=!1,c=$o;c!==null;){if(e!==0){var d=c.pendingLanes;if(d===0)var m=0;else{var b=c.suspendedLanes,w=c.pingedLanes;m=(1<<31-je(42|e)+1)-1,m&=d&~(b&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Km(c,m))}else m=vt,m=Yr(c,c===Ut?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||ga(c,m)||(r=!0,Km(c,m));c=c.next}while(r);Wu=!1}}function U_(){Vm()}function Vm(){Io=Fu=!1;var e=0;hi!==0&&K_()&&(e=hi);for(var s=Me(),r=null,c=$o;c!==null;){var d=c.next,m=Gm(c,s);m===0?(c.next=null,r===null?$o=d:r.next=d,d===null&&(Ps=r)):(r=c,(e!==0||(m&3)!==0)&&(Io=!0)),c=d}ee!==0&&ee!==5||Wa(e),hi!==0&&(hi=0)}function Gm(e,s){for(var r=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var b=31-je(m),w=1<<b,C=d[b];C===-1?((w&r)===0||(w&c)!==0)&&(d[b]=c0(w,s)):C<=s&&(e.expiredLanes|=w),m&=~w}if(s=Ut,r=vt,r=Yr(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===s&&(kt===2||kt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&oc(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ga(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(c!==null&&oc(c),uc(r)){case 2:case 8:r=zf;break;case 32:r=$r;break;case 268435456:r=Uf;break;default:r=$r}return c=Ym.bind(null,e),r=rc(r,c),e.callbackPriority=s,e.callbackNode=r,s}return c!==null&&c!==null&&oc(c),e.callbackPriority=2,e.callbackNode=null,2}function Ym(e,s){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Po()&&e.callbackNode!==r)return null;var c=vt;return c=Yr(e,e===Ut?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Om(e,c,s),Gm(e,Me()),e.callbackNode!=null&&e.callbackNode===r?Ym.bind(null,e):null)}function Km(e,s){if(Po())return null;Om(e,s,!0)}function L_(){W_(function(){(Ot&6)!==0?rc(Nf,U_):Vm()})}function Xu(){if(hi===0){var e=As;e===0&&(e=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),hi=e}return hi}function Fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xr(""+e)}function Wm(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function B_(e,s,r,c,d){if(s==="submit"&&r&&r.stateNode===d){var m=Fm((d[xe]||null).action),b=c.submitter;b&&(s=(s=b[xe]||null)?Fm(s.formAction):b.getAttribute("formAction"),s!==null&&(m=s,b=null));var w=new to("action","action",null,c,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hi!==0){var C=b?Wm(d,b):new FormData(d);pu(r,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(w.preventDefault(),C=b?Wm(d,b):new FormData(d),pu(r,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var Qu=0;Qu<jc.length;Qu++){var Ju=jc[Qu],H_=Ju.toLowerCase(),q_=Ju[0].toUpperCase()+Ju.slice(1);an(H_,"on"+q_)}an(Ad,"onAnimationEnd"),an(Od,"onAnimationIteration"),an(Cd,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(n_,"onTransitionRun"),an(i_,"onTransitionStart"),an(s_,"onTransitionCancel"),an(kd,"onTransitionEnd"),fs("onMouseEnter",["mouseout","mouseover"]),fs("onMouseLeave",["mouseout","mouseover"]),fs("onPointerEnter",["pointerout","pointerover"]),fs("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xa));function Xm(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],d=c.event;c=c.listeners;t:{var m=void 0;if(s)for(var b=c.length-1;0<=b;b--){var w=c[b],C=w.instance,N=w.currentTarget;if(w=w.listener,C!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=N;try{m(d)}catch(I){io(I)}d.currentTarget=null,m=C}else for(b=0;b<c.length;b++){if(w=c[b],C=w.instance,N=w.currentTarget,w=w.listener,C!==m&&d.isPropagationStopped())break t;m=w,d.currentTarget=N;try{m(d)}catch(I){io(I)}d.currentTarget=null,m=C}}}}function bt(e,s){var r=s[hc];r===void 0&&(r=s[hc]=new Set);var c=e+"__bubble";r.has(c)||(Qm(s,e,2,!1),r.add(c))}function Zu(e,s,r){var c=0;s&&(c|=4),Qm(r,e,c,s)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function th(e){if(!e[Vo]){e[Vo]=!0,Vf.forEach(function(r){r!=="selectionchange"&&(P_.has(r)||Zu(r,!1,e),Zu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Vo]||(s[Vo]=!0,Zu("selectionchange",!1,s))}}function Qm(e,s,r,c){switch(Ap(s)){case 2:var d=mw;break;case 8:d=pw;break;default:d=mh}r=d.bind(null,s,r,e),d=void 0,!_c||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(s,r,{capture:!0,passive:d}):e.addEventListener(s,r,!0):d!==void 0?e.addEventListener(s,r,{passive:d}):e.addEventListener(s,r,!1)}function eh(e,s,r,c,d){var m=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=c.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=cs(w),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){c=m=b;continue t}w=w.parentNode}}c=c.return}nd(function(){var N=m,I=bc(r),Y=[];t:{var z=Rd.get(e);if(z!==void 0){var B=to,Z=e;switch(e){case"keypress":if(Jr(r)===0)break t;case"keydown":case"keyup":B=N0;break;case"focusin":Z="focus",B=Tc;break;case"focusout":Z="blur",B=Tc;break;case"beforeblur":case"afterblur":B=Tc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=x0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=L0;break;case Ad:case Od:case Cd:B=E0;break;case kd:B=H0;break;case"scroll":case"scrollend":B=_0;break;case"wheel":B=P0;break;case"copy":case"cut":case"paste":B=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=od;break;case"toggle":case"beforetoggle":B=I0}var ct=(s&4)!==0,zt=!ct&&(e==="scroll"||e==="scrollend"),M=ct?z!==null?z+"Capture":null:z;ct=[];for(var k=N,j;k!==null;){var V=k;if(j=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||j===null||M===null||(V=ba(k,M),V!=null&&ct.push(Qa(k,V,j))),zt)break;k=k.return}0<ct.length&&(z=new B(z,Z,null,r,I),Y.push({event:z,listeners:ct}))}}if((s&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&r!==yc&&(Z=r.relatedTarget||r.fromElement)&&(cs(Z)||Z[ls]))break t;if((B||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,B?(Z=r.relatedTarget||r.toElement,B=N,Z=Z?cs(Z):null,Z!==null&&(zt=l(Z),ct=Z.tag,Z!==zt||ct!==5&&ct!==27&&ct!==6)&&(Z=null)):(B=null,Z=N),B!==Z)){if(ct=ad,V="onMouseLeave",M="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(ct=od,V="onPointerLeave",M="onPointerEnter",k="pointer"),zt=B==null?z:ya(B),j=Z==null?z:ya(Z),z=new ct(V,k+"leave",B,r,I),z.target=zt,z.relatedTarget=j,V=null,cs(I)===N&&(ct=new ct(M,k+"enter",Z,r,I),ct.target=j,ct.relatedTarget=zt,V=ct),zt=V,B&&Z)e:{for(ct=$_,M=B,k=Z,j=0,V=M;V;V=ct(V))j++;V=0;for(var st=k;st;st=ct(st))V++;for(;0<j-V;)M=ct(M),j--;for(;0<V-j;)k=ct(k),V--;for(;j--;){if(M===k||k!==null&&M===k.alternate){ct=M;break e}M=ct(M),k=ct(k)}ct=null}else ct=null;B!==null&&Jm(Y,z,B,ct,!1),Z!==null&&zt!==null&&Jm(Y,zt,Z,ct,!0)}}t:{if(z=N?ya(N):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var Et=md;else if(dd(z))if(pd)Et=Z0;else{Et=Q0;var et=X0}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?N&&pc(N.elementType)&&(Et=md):Et=J0;if(Et&&(Et=Et(e,N))){gd(Y,Et,r,I);break t}et&&et(e,z,N),e==="focusout"&&N&&z.type==="number"&&N.memoizedProps.value!=null&&mc(z,"number",z.value)}switch(et=N?ya(N):window,e){case"focusin":(dd(et)||et.contentEditable==="true")&&(bs=et,Rc=N,Aa=null);break;case"focusout":Aa=Rc=bs=null;break;case"mousedown":Mc=!0;break;case"contextmenu":case"mouseup":case"dragend":Mc=!1,Td(Y,r,I);break;case"selectionchange":if(e_)break;case"keydown":case"keyup":Td(Y,r,I)}var mt;if(Ac)t:{switch(e){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else ys?hd(e,r)&&(_t="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_t="onCompositionStart");_t&&(ld&&r.locale!=="ko"&&(ys||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&ys&&(mt=id()):(Wn=I,wc="value"in Wn?Wn.value:Wn.textContent,ys=!0)),et=Go(N,_t),0<et.length&&(_t=new rd(_t,e,null,r,I),Y.push({event:_t,listeners:et}),mt?_t.data=mt:(mt=fd(r),mt!==null&&(_t.data=mt)))),(mt=G0?Y0(e,r):K0(e,r))&&(_t=Go(N,"onBeforeInput"),0<_t.length&&(et=new rd("onBeforeInput","beforeinput",null,r,I),Y.push({event:et,listeners:_t}),et.data=mt)),B_(Y,e,N,r,I)}Xm(Y,s)})}function Qa(e,s,r){return{instance:e,listener:s,currentTarget:r}}function Go(e,s){for(var r=s+"Capture",c=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ba(e,r),d!=null&&c.unshift(Qa(e,d,m)),d=ba(e,s),d!=null&&c.push(Qa(e,d,m))),e.tag===3)return c;e=e.return}return[]}function $_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jm(e,s,r,c,d){for(var m=s._reactName,b=[];r!==null&&r!==c;){var w=r,C=w.alternate,N=w.stateNode;if(w=w.tag,C!==null&&C===c)break;w!==5&&w!==26&&w!==27||N===null||(C=N,d?(N=ba(r,m),N!=null&&b.unshift(Qa(r,N,C))):d||(N=ba(r,m),N!=null&&b.push(Qa(r,N,C)))),r=r.return}b.length!==0&&e.push({event:s,listeners:b})}var I_=/\r\n?/g,V_=/\u0000|\uFFFD/g;function Zm(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(V_,"")}function tp(e,s){return s=Zm(s),Zm(e)===s}function Nt(e,s,r,c,d,m){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||gs(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&gs(e,""+c);break;case"className":Fr(e,"class",c);break;case"tabIndex":Fr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Fr(e,r,c);break;case"style":td(e,c,m);break;case"data":if(s!=="object"){Fr(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Xr(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(s!=="input"&&Nt(e,s,"name",d.name,d,null),Nt(e,s,"formEncType",d.formEncType,d,null),Nt(e,s,"formMethod",d.formMethod,d,null),Nt(e,s,"formTarget",d.formTarget,d,null)):(Nt(e,s,"encType",d.encType,d,null),Nt(e,s,"method",d.method,d,null),Nt(e,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Xr(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=xn);break;case"onScroll":c!=null&&bt("scroll",e);break;case"onScrollEnd":c!=null&&bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=Xr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":bt("beforetoggle",e),bt("toggle",e),Kr(e,"popover",c);break;case"xlinkActuate":wn(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Kr(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=b0.get(r)||r,Kr(e,r,c))}}function nh(e,s,r,c,d,m){switch(r){case"style":td(e,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof c=="string"?gs(e,c):(typeof c=="number"||typeof c=="bigint")&&gs(e,""+c);break;case"onScroll":c!=null&&bt("scroll",e);break;case"onScrollEnd":c!=null&&bt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),m=e[xe]||null,m=m!=null?m[r]:null,typeof m=="function"&&e.removeEventListener(s,m,d),typeof c=="function")){typeof m!="function"&&m!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,c,d);break t}r in e?e[r]=c:c===!0?e.setAttribute(r,""):Kr(e,r,c)}}}function fe(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",e),bt("load",e);var c=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Nt(e,s,m,b,r,null)}}d&&Nt(e,s,"srcSet",r.srcSet,r,null),c&&Nt(e,s,"src",r.src,r,null);return;case"input":bt("invalid",e);var w=m=b=d=null,C=null,N=null;for(c in r)if(r.hasOwnProperty(c)){var I=r[c];if(I!=null)switch(c){case"name":d=I;break;case"type":b=I;break;case"checked":C=I;break;case"defaultChecked":N=I;break;case"value":m=I;break;case"defaultValue":w=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,s));break;default:Nt(e,s,c,I,r,null)}}Xf(e,m,w,C,N,b,d,!1);return;case"select":bt("invalid",e),c=b=m=null;for(d in r)if(r.hasOwnProperty(d)&&(w=r[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:Nt(e,s,d,w,r,null)}s=m,r=b,e.multiple=!!c,s!=null?ds(e,!!c,s,!1):r!=null&&ds(e,!!c,r,!0);return;case"textarea":bt("invalid",e),m=d=c=null;for(b in r)if(r.hasOwnProperty(b)&&(w=r[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:Nt(e,s,b,w,r,null)}Jf(e,c,d,m);return;case"option":for(C in r)r.hasOwnProperty(C)&&(c=r[C],c!=null)&&(C==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":Nt(e,s,C,c,r,null));return;case"dialog":bt("beforetoggle",e),bt("toggle",e),bt("cancel",e),bt("close",e);break;case"iframe":case"object":bt("load",e);break;case"video":case"audio":for(c=0;c<Xa.length;c++)bt(Xa[c],e);break;case"image":bt("error",e),bt("load",e);break;case"details":bt("toggle",e);break;case"embed":case"source":case"link":bt("error",e),bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(c=r[N],c!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:Nt(e,s,N,c,r,null)}return;default:if(pc(s)){for(I in r)r.hasOwnProperty(I)&&(c=r[I],c!==void 0&&nh(e,s,I,c,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(c=r[w],c!=null&&Nt(e,s,w,c,r,null))}function G_(e,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,w=null,C=null,N=null,I=null;for(B in r){var Y=r[B];if(r.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":C=Y;default:c.hasOwnProperty(B)||Nt(e,s,B,null,c,Y)}}for(var z in c){var B=c[z];if(Y=r[z],c.hasOwnProperty(z)&&(B!=null||Y!=null))switch(z){case"type":m=B;break;case"name":d=B;break;case"checked":N=B;break;case"defaultChecked":I=B;break;case"value":b=B;break;case"defaultValue":w=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,s));break;default:B!==Y&&Nt(e,s,z,B,c,Y)}}gc(e,b,w,C,N,I,m,d);return;case"select":B=b=w=z=null;for(m in r)if(C=r[m],r.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":B=C;default:c.hasOwnProperty(m)||Nt(e,s,m,null,c,C)}for(d in c)if(m=c[d],C=r[d],c.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":z=m;break;case"defaultValue":w=m;break;case"multiple":b=m;default:m!==C&&Nt(e,s,d,m,c,C)}s=w,r=b,c=B,z!=null?ds(e,!!r,z,!1):!!c!=!!r&&(s!=null?ds(e,!!r,s,!0):ds(e,!!r,r?[]:"",!1));return;case"textarea":B=z=null;for(w in r)if(d=r[w],r.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Nt(e,s,w,null,c,d)}for(b in c)if(d=c[b],m=r[b],c.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":z=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Nt(e,s,b,d,c,m)}Qf(e,z,B);return;case"option":for(var Z in r)z=r[Z],r.hasOwnProperty(Z)&&z!=null&&!c.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:Nt(e,s,Z,null,c,z));for(C in c)z=c[C],B=r[C],c.hasOwnProperty(C)&&z!==B&&(z!=null||B!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Nt(e,s,C,z,c,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!c.hasOwnProperty(ct)&&Nt(e,s,ct,null,c,z);for(N in c)if(z=c[N],B=r[N],c.hasOwnProperty(N)&&z!==B&&(z!=null||B!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,s));break;default:Nt(e,s,N,z,c,B)}return;default:if(pc(s)){for(var zt in r)z=r[zt],r.hasOwnProperty(zt)&&z!==void 0&&!c.hasOwnProperty(zt)&&nh(e,s,zt,void 0,c,z);for(I in c)z=c[I],B=r[I],!c.hasOwnProperty(I)||z===B||z===void 0&&B===void 0||nh(e,s,I,z,c,B);return}}for(var M in r)z=r[M],r.hasOwnProperty(M)&&z!=null&&!c.hasOwnProperty(M)&&Nt(e,s,M,null,c,z);for(Y in c)z=c[Y],B=r[Y],!c.hasOwnProperty(Y)||z===B||z==null&&B==null||Nt(e,s,Y,z,c,B)}function ep(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var d=r[c],m=d.transferSize,b=d.initiatorType,w=d.duration;if(m&&w&&ep(b)){for(b=0,w=d.responseEnd,c+=1;c<r.length;c++){var C=r[c],N=C.startTime;if(N>w)break;var I=C.transferSize,Y=C.initiatorType;I&&ep(Y)&&(C=C.responseEnd,b+=I*(C<w?1:(w-N)/(C-N)))}if(--c,s+=8*(m+b)/(d.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ih=null,sh=null;function Yo(e){return e.nodeType===9?e:e.ownerDocument}function np(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ip(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function ah(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rh=null;function K_(){var e=window.event;return e&&e.type==="popstate"?e===rh?!1:(rh=e,!0):(rh=null,!1)}var sp=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,ap=typeof Promise=="function"?Promise:void 0,W_=typeof queueMicrotask=="function"?queueMicrotask:typeof ap<"u"?function(e){return ap.resolve(null).then(e).catch(X_)}:sp;function X_(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function rp(e,s){var r=s,c=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(d),Gs(s);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Ja(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Ja(r);for(var m=r.firstChild;m;){var b=m.nextSibling,w=m.nodeName;m[pa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=b}}else r==="body"&&Ja(e.ownerDocument.body);r=d}while(r);Gs(s)}function op(e,s){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function oh(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":oh(r),fc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Q_(e,s,r,c){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[pa])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function J_(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qe(e.nextSibling),e===null))return null;return e}function lp(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qe(e.nextSibling),e===null))return null;return e}function lh(e){return e.data==="$?"||e.data==="$~"}function ch(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Z_(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Qe(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var uh=null;function cp(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return Qe(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function up(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function hp(e,s,r){switch(s=Yo(r),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ja(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);fc(e)}var Je=new Map,fp=new Set;function Ko(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bn=G.d;G.d={f:tw,r:ew,D:nw,C:iw,L:sw,m:aw,X:ow,S:rw,M:lw};function tw(){var e=Bn.f(),s=Bo();return e||s}function ew(e){var s=us(e);s!==null&&s.tag===5&&s.type==="form"?kg(s):Bn.r(e)}var $s=typeof document>"u"?null:document;function dp(e,s,r){var c=$s;if(c&&typeof s=="string"&&s){var d=Ve(s);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),fp.has(d)||(fp.add(d),e={rel:e,crossOrigin:r,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),fe(s,"link",e),ae(s),c.head.appendChild(s)))}}function nw(e){Bn.D(e),dp("dns-prefetch",e,null)}function iw(e,s){Bn.C(e,s),dp("preconnect",e,s)}function sw(e,s,r){Bn.L(e,s,r);var c=$s;if(c&&e&&s){var d='link[rel="preload"][as="'+Ve(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Ve(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Ve(r.imageSizes)+'"]')):d+='[href="'+Ve(e)+'"]';var m=d;switch(s){case"style":m=Is(e);break;case"script":m=Vs(e)}Je.has(m)||(e=y({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),Je.set(m,e),c.querySelector(d)!==null||s==="style"&&c.querySelector(Za(m))||s==="script"&&c.querySelector(tr(m))||(s=c.createElement("link"),fe(s,"link",e),ae(s),c.head.appendChild(s)))}}function aw(e,s){Bn.m(e,s);var r=$s;if(r&&e){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ve(c)+'"][href="'+Ve(e)+'"]',m=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Vs(e)}if(!Je.has(m)&&(e=y({rel:"modulepreload",href:e},s),Je.set(m,e),r.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(tr(m)))return}c=r.createElement("link"),fe(c,"link",e),ae(c),r.head.appendChild(c)}}}function rw(e,s,r){Bn.S(e,s,r);var c=$s;if(c&&e){var d=hs(c).hoistableStyles,m=Is(e);s=s||"default";var b=d.get(m);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(Za(m)))w.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":s},r),(r=Je.get(m))&&hh(e,r);var C=b=c.createElement("link");ae(C),fe(C,"link",e),C._p=new Promise(function(N,I){C.onload=N,C.onerror=I}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Fo(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(m,b)}}}function ow(e,s){Bn.X(e,s);var r=$s;if(r&&e){var c=hs(r).hoistableScripts,d=Vs(e),m=c.get(d);m||(m=r.querySelector(tr(d)),m||(e=y({src:e,async:!0},s),(s=Je.get(d))&&fh(e,s),m=r.createElement("script"),ae(m),fe(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function lw(e,s){Bn.M(e,s);var r=$s;if(r&&e){var c=hs(r).hoistableScripts,d=Vs(e),m=c.get(d);m||(m=r.querySelector(tr(d)),m||(e=y({src:e,async:!0,type:"module"},s),(s=Je.get(d))&&fh(e,s),m=r.createElement("script"),ae(m),fe(m,"link",e),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(d,m))}}function gp(e,s,r,c){var d=(d=ft.current)?Ko(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=Is(r.href),r=hs(d).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Is(r.href);var m=hs(d).hoistableStyles,b=m.get(e);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,b),(m=d.querySelector(Za(e)))&&!m._p&&(b.instance=m,b.state.loading=5),Je.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Je.set(e,r),m||cw(d,e,r,b.state))),s&&c===null)throw Error(a(528,""));return b}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vs(r),r=hs(d).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Is(e){return'href="'+Ve(e)+'"'}function Za(e){return'link[rel="stylesheet"]['+e+"]"}function mp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function cw(e,s,r,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),fe(s,"link",r),ae(s),e.head.appendChild(s))}function Vs(e){return'[src="'+Ve(e)+'"]'}function tr(e){return"script[async]"+e}function pp(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+Ve(r.href)+'"]');if(c)return s.instance=c,ae(c),c;var d=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),ae(c),fe(c,"style",d),Fo(c,r.precedence,e),s.instance=c;case"stylesheet":d=Is(r.href);var m=e.querySelector(Za(d));if(m)return s.state.loading|=4,s.instance=m,ae(m),m;c=mp(r),(d=Je.get(d))&&hh(c,d),m=(e.ownerDocument||e).createElement("link"),ae(m);var b=m;return b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),fe(m,"link",c),s.state.loading|=4,Fo(m,r.precedence,e),s.instance=m;case"script":return m=Vs(r.src),(d=e.querySelector(tr(m)))?(s.instance=d,ae(d),d):(c=r,(d=Je.get(m))&&(c=y({},r),fh(c,d)),e=e.ownerDocument||e,d=e.createElement("script"),ae(d),fe(d,"link",c),e.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Fo(c,r.precedence,e));return s.instance}function Fo(e,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,m=d,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function hh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function fh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Wo=null;function yp(e,s,r){if(Wo===null){var c=new Map,d=Wo=new Map;d.set(r,c)}else d=Wo,c=d.get(r),c||(c=new Map,d.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var m=r[d];if(!(m[pa]||m[le]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(s)||"";b=e+b;var w=c.get(b);w?w.push(m):c.set(b,[m])}}return c}function bp(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function uw(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hw(e,s,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Is(c.href),m=s.querySelector(Za(d));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Xo.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=m,ae(m);return}m=s.ownerDocument||s,c=mp(c),(d=Je.get(d))&&hh(c,d),m=m.createElement("link"),ae(m);var b=m;b._p=new Promise(function(w,C){b.onload=w,b.onerror=C}),fe(m,"link",c),r.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Xo.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var dh=0;function fw(e,s){return e.stylesheets&&e.count===0&&Jo(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+s);0<e.imgBytes&&dh===0&&(dh=62500*Y_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jo(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>dh?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Xo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Qo=null;function Jo(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Qo=new Map,s.forEach(dw,e),Qo=null,Xo.call(e))}function dw(e,s){if(!(s.state.loading&4)){var r=Qo.get(e);if(r)var c=r.get(null);else{r=new Map,Qo.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),c=b)}c&&r.set(null,c)}d=s.instance,b=d.getAttribute("data-precedence"),m=r.get(b)||c,m===c&&r.set(null,d),r.set(b,d),this.count++,c=Xo.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),s.state.loading|=4}}var er={$$typeof:R,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function gw(e,s,r,c,d,m,b,w,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=lc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lc(0),this.hiddenUpdates=lc(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function _p(e,s,r,c,d,m,b,w,C,N,I,Y){return e=new gw(e,s,r,b,C,N,I,Y,w),s=1,m===!0&&(s|=24),m=ze(3,null,null,s),e.current=m,m.stateNode=e,s=Yc(),s.refCount++,e.pooledCache=s,s.refCount++,m.memoizedState={element:c,isDehydrated:r,cache:s},Xc(m),e}function wp(e){return e?(e=ws,e):ws}function xp(e,s,r,c,d,m){d=wp(d),c.context===null?c.context=d:c.pendingContext=d,c=ei(s),c.payload={element:r},m=m===void 0?null:m,m!==null&&(c.callback=m),r=ni(e,c,s),r!==null&&(Ce(r,e,s),ja(r,e,s))}function Sp(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function gh(e,s){Sp(e,s),(e=e.alternate)&&Sp(e,s)}function Tp(e){if(e.tag===13||e.tag===31){var s=Ri(e,67108864);s!==null&&Ce(s,e,67108864),gh(e,67108864)}}function Ep(e){if(e.tag===13||e.tag===31){var s=qe();s=cc(s);var r=Ri(e,s);r!==null&&Ce(r,e,s),gh(e,s)}}var Zo=!0;function mw(e,s,r,c){var d=U.T;U.T=null;var m=G.p;try{G.p=2,mh(e,s,r,c)}finally{G.p=m,U.T=d}}function pw(e,s,r,c){var d=U.T;U.T=null;var m=G.p;try{G.p=8,mh(e,s,r,c)}finally{G.p=m,U.T=d}}function mh(e,s,r,c){if(Zo){var d=ph(c);if(d===null)eh(e,s,c,tl,r),Op(e,c);else if(bw(d,e,s,r,c))c.stopPropagation();else if(Op(e,c),s&4&&-1<yw.indexOf(e)){for(;d!==null;){var m=us(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Ei(m.pendingLanes);if(b!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var C=1<<31-je(b);w.entanglements[1]|=C,b&=~C}pn(m),(Ot&6)===0&&(Uo=Me()+500,Wa(0))}}break;case 31:case 13:w=Ri(m,2),w!==null&&Ce(w,m,2),Bo(),gh(m,2)}if(m=ph(c),m===null&&eh(e,s,c,tl,r),m===d)break;d=m}d!==null&&c.stopPropagation()}else eh(e,s,c,null,r)}}function ph(e){return e=bc(e),yh(e)}var tl=null;function yh(e){if(tl=null,e=cs(e),e!==null){var s=l(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=u(s),e!==null)return e;e=null}else if(r===31){if(e=h(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return tl=e,null}function Ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(n0()){case Nf:return 2;case zf:return 8;case $r:case i0:return 32;case Uf:return 268435456;default:return 32}default:return 32}}var bh=!1,di=null,gi=null,mi=null,nr=new Map,ir=new Map,pi=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Op(e,s){switch(e){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":nr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(s.pointerId)}}function sr(e,s,r,c,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:m,targetContainers:[d]},s!==null&&(s=us(s),s!==null&&Tp(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),e)}function bw(e,s,r,c,d){switch(s){case"focusin":return di=sr(di,e,s,r,c,d),!0;case"dragenter":return gi=sr(gi,e,s,r,c,d),!0;case"mouseover":return mi=sr(mi,e,s,r,c,d),!0;case"pointerover":var m=d.pointerId;return nr.set(m,sr(nr.get(m)||null,e,s,r,c,d)),!0;case"gotpointercapture":return m=d.pointerId,ir.set(m,sr(ir.get(m)||null,e,s,r,c,d)),!0}return!1}function Cp(e){var s=cs(e.target);if(s!==null){var r=l(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){e.blockedOn=s,$f(e.priority,function(){Ep(r)});return}}else if(s===31){if(s=h(r),s!==null){e.blockedOn=s,$f(e.priority,function(){Ep(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function el(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=ph(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);yc=c,r.target.dispatchEvent(c),yc=null}else return s=us(r),s!==null&&Tp(s),e.blockedOn=r,!1;s.shift()}return!0}function kp(e,s,r){el(e)&&r.delete(s)}function vw(){bh=!1,di!==null&&el(di)&&(di=null),gi!==null&&el(gi)&&(gi=null),mi!==null&&el(mi)&&(mi=null),nr.forEach(kp),ir.forEach(kp)}function nl(e,s){e.blockedOn===s&&(e.blockedOn=null,bh||(bh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,vw)))}var il=null;function Rp(e){il!==e&&(il=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){il===e&&(il=null);for(var s=0;s<e.length;s+=3){var r=e[s],c=e[s+1],d=e[s+2];if(typeof c!="function"){if(yh(c||r)===null)continue;break}var m=us(r);m!==null&&(e.splice(s,3),s-=3,pu(m,{pending:!0,data:d,method:r.method,action:c},c,d))}}))}function Gs(e){function s(C){return nl(C,e)}di!==null&&nl(di,e),gi!==null&&nl(gi,e),mi!==null&&nl(mi,e),nr.forEach(s),ir.forEach(s);for(var r=0;r<pi.length;r++){var c=pi[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<pi.length&&(r=pi[0],r.blockedOn===null);)Cp(r),r.blockedOn===null&&pi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var d=r[c],m=r[c+1],b=d[xe]||null;if(typeof m=="function")b||Rp(r);else if(b){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[xe]||null)w=b.formAction;else if(yh(d)!==null)continue}else w=b.action;typeof w=="function"?r[c+1]=w:(r.splice(c,3),c-=3),Rp(r)}}}function Mp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return d=b})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function vh(e){this._internalRoot=e}sl.prototype.render=vh.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,c=qe();xp(r,c,e,s,null,null)},sl.prototype.unmount=vh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;xp(e.current,2,null,e,null,null),Bo(),s[ls]=null}};function sl(e){this._internalRoot=e}sl.prototype.unstable_scheduleHydration=function(e){if(e){var s=Pf();e={blockedOn:null,target:e,priority:s};for(var r=0;r<pi.length&&s!==0&&s<pi[r].priority;r++);pi.splice(r,0,e),r===0&&Cp(e)}};var Dp=t.version;if(Dp!=="19.2.4")throw Error(a(527,Dp,"19.2.4"));G.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(s),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var _w={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{da=al.inject(_w),De=al}catch{}}return rr.createRoot=function(e,s){if(!o(e))throw Error(a(299));var r=!1,c="",d=Hg,m=qg,b=Pg;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=_p(e,1,!1,null,null,r,c,null,d,m,b,Mp),e[ls]=s.current,th(e),new vh(s)},rr.hydrateRoot=function(e,s,r){if(!o(e))throw Error(a(299));var c=!1,d="",m=Hg,b=qg,w=Pg,C=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(C=r.formState)),s=_p(e,1,!0,s,r??null,c,d,C,m,b,w,Mp),s.context=wp(null),r=s.current,c=qe(),c=cc(c),d=ei(c),d.callback=null,ni(r,d,c),r=c,s.current.lanes=r,ma(s,r),pn(s),e[ls]=s.current,th(e),new sl(s)},rr.version="19.2.4",rr}var $p;function kw(){if($p)return xh.exports;$p=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),xh.exports=Cw(),xh.exports}var Rw=kw();function Nb({value:i,width:t="fit",height:n="fit",bgClass:a="bg-card-bg",borderClass:o="border-2 border-card-border",className:l,open:u=!0}){const[h,f]=K.useState(u),[g,p]=K.useState(!1);return K.useEffect(()=>{if(u){f(!0),p(!1);return}h&&p(!0)},[u,h]),h?E.jsx("div",{className:`fixed inset-0 z-30 bg-black/20 backdrop-blur-sm flex items-center justify-center ${g?"animate-fade-out":"animate-fade-in"}`,onAnimationEnd:()=>{g&&(p(!1),f(!1))},children:E.jsx("div",{style:{width:`${typeof t=="string"?t:`${t}%`}`,height:`${typeof n=="string"?n:`${n}%`}`,maxWidth:"92vw",maxHeight:"92vh"},className:`relative z-10 w-fit h-fit overflow-y-auto p-6 md:p-10 rounded-lg ${a} ${o} ${l??""} ${g?"animate-blur-down":""}`,children:i})}):null}function me({text:i,onClickFunction:t,pressed:n=!1,index:a,tooltip:o,disabled:l=!1,className:u}){const h=()=>{l||t?.(a)},f=n?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light";return E.jsxs("div",{className:"relative group/button",children:[E.jsx("button",{disabled:l,"aria-pressed":n,onClick:h,className:`w-fit h-9 px-3 bg-card-bg rounded-lg border-2 font-display font-semibold transition-all duration-200 whitespace-nowrap ${u} 
        ${l?"opacity-50 cursor-not-allowed border-card-border text-text-secondary bg-game-bg-dark":`active:scale-95 ${f}`}`,children:i}),o&&!l&&E.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/button:opacity-100 group-hover/button:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[E.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:o}),E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:E.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]})]})}var zb=jb();function Cl({children:i,defaultSelect:t,itemsPerRow:n}){const[a,o]=K.useState(t),l=typeof n=="number"&&n>0?Math.floor(n):void 0,u=f=>{f!==void 0&&o(f)},h=K.Children.toArray(i).map((f,g)=>K.isValidElement(f)?K.cloneElement(f,{index:g,pressed:g===a,onClickFunction:p=>{f.props.onClickFunction?.(p),u(p)}}):f);if(l){const f=[];for(let g=0;g<h.length;g+=l)f.push(h.slice(g,g+l));return E.jsx("div",{className:"flex flex-col gap-2 items-start",children:f.map((g,p)=>E.jsx("div",{className:"flex flex-row items-center gap-2",children:g},p))})}return E.jsx("div",{className:"flex flex-row items-center gap-2",children:h})}const Mw=()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body;function Fi({content:i,children:t,disabled:n=!1,offset:a=10}){const[o,l]=K.useState(!1),[u,h]=K.useState(!1),[f,g]=K.useState({top:0,left:0}),p=K.useRef(null),y=K.useRef(null);K.useLayoutEffect(()=>{if(!o){h(!1);return}const _=p.current,S=y.current;if(!_||!S)return;const x=_.getBoundingClientRect(),T=S.getBoundingClientRect();let O=x.top-T.height-a,D=x.left+x.width/2-T.width/2;O<8&&(O=x.bottom+a),D=Math.max(8,Math.min(D,window.innerWidth-T.width-8)),g({top:O,left:D}),h(!0)},[o,a]);const v=K.useMemo(Mw,[]);return E.jsxs("span",{ref:p,className:"inline-flex",onMouseEnter:()=>!n&&l(!0),onMouseLeave:()=>l(!1),children:[t,o&&v&&zb.createPortal(E.jsxs("div",{ref:y,style:{position:"fixed",top:f.top,left:f.left},className:`z-[9999] px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple transition-[opacity,transform] duration-200 ease-out will-change-transform ${u?"opacity-100 translate-y-0 scale-100":"opacity-0 -translate-y-2 scale-95"}`,"aria-hidden":"true",children:[E.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:i}),E.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:E.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]}),v)]})}function Dw({children:i,setIsOpen:t,target:n,ignore:a=[]}){return K.useEffect(()=>{const o=l=>{const u=n.current;if(!u)return;const h=u.contains(l.target),f=a.some(g=>g.current?.contains(l.target));!h&&!f&&t(!1)};return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[t,n,a]),E.jsx(E.Fragment,{children:i})}function kl({text:i,onClickFunction:t,optionsValue:n,tooltip:a,itemsPerRow:o}){const[l,u]=K.useState(!1),[h,f]=K.useState(!1),[g,p]=K.useState({top:0,left:0}),y=K.useRef(null),v=K.useRef(null),_=K.useRef(null),S=()=>{u(!l),t?.()},x=typeof o=="number"&&o>0?Math.floor(o):void 0,T=D=>K.isValidElement(D)&&D.type===Cl;K.useLayoutEffect(()=>{if(!l){f(!1);return}const D=y.current,R=v.current;if(!D||!R)return;const q=D.getBoundingClientRect(),H=R.getBoundingClientRect();let $=q.top-H.height-12,P=q.left+q.width/2-H.width/2;$<8&&($=q.bottom+12),P=Math.max(8,Math.min(P,window.innerWidth-H.width-8)),p({top:$,left:P}),f(!0)},[l,x,n?.length]);const O=K.useMemo(()=>typeof document>"u"?null:document.getElementById("portal-root")??document.body,[]);return E.jsx(Dw,{setIsOpen:u,target:_,ignore:[v],children:E.jsxs("div",{ref:_,className:"relative z-50 flex flex-col items-center group/options",children:[l&&O&&zb.createPortal(E.jsx("div",{ref:v,style:{position:"fixed",top:g.top,left:g.left},className:`z-[5000] w-fit h-fit p-2 bg-card-bg border-2 border-card-border rounded-xl shadow-card backdrop-blur-sm transition-[opacity,transform] duration-200 ease-out origin-bottom ${h?"opacity-100 translate-y-0 scale-100 pointer-events-auto":"opacity-0 translate-y-2 scale-95 pointer-events-none"}`,children:E.jsx("div",{className:"flex flex-col gap-2",children:n?.map((D,R)=>T(D)&&x?K.cloneElement(D,{key:R,itemsPerRow:x}):E.jsx("div",{children:D},R))})}),O),E.jsx(Fi,{content:a??"",disabled:!a||l,children:E.jsx("button",{ref:y,onClick:S,className:`w-9 h-9 bg-card-bg rounded-lg border-2 transition-all duration-200 font-display font-semibold active:scale-95 ${l?"border-accent-primary text-accent-primary shadow-glow-purple":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple"} ${l?"bg-game-bg-light":"hover:bg-game-bg-light"}`,children:i})})]})})}function Rl({label:i,placeholder:t,value:n,onChange:a,onSubmit:o,defaultValue:l,type:u="text",disabled:h=!1,className:f}){const g=y=>{a?.(y.target.value)},p=y=>{y.key==="Enter"&&(y.preventDefault(),y.currentTarget.blur(),o?.())};return E.jsxs("label",{className:"flex flex-col gap-1 w-full",children:[i&&E.jsx("span",{className:"text-text-secondary text-xs font-display font-semibold uppercase tracking-wide",children:i}),E.jsx("input",{type:u,value:n,defaultValue:l,onChange:g,onKeyDown:p,placeholder:t,disabled:h,className:`bg-card-bg border-2 border-card-border rounded-lg h-10 px-4 transition-all duration-200 hover:border-accent-warning focus:border-accent-primary focus:shadow-glow-purple text-text-primary font-display font-semibold placeholder:text-text-secondary placeholder:opacity-50 outline-none disabled:opacity-50 disabled:cursor-not-allowed ${f??""}`})]})}function Br(i){return i+.5|0}const _i=(i,t,n)=>Math.max(Math.min(i,n),t);function dr(i){return _i(Br(i*2.55),0,255)}function xi(i){return _i(Br(i*255),0,255)}function In(i){return _i(Br(i/2.55)/100,0,1)}function Ip(i){return _i(Br(i*100),0,100)}const Ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Gh=[..."0123456789ABCDEF"],jw=i=>Gh[i&15],Nw=i=>Gh[(i&240)>>4]+Gh[i&15],rl=i=>(i&240)>>4===(i&15),zw=i=>rl(i.r)&&rl(i.g)&&rl(i.b)&&rl(i.a);function Uw(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&Ze[i[1]]*17,g:255&Ze[i[2]]*17,b:255&Ze[i[3]]*17,a:t===5?Ze[i[4]]*17:255}:(t===7||t===9)&&(n={r:Ze[i[1]]<<4|Ze[i[2]],g:Ze[i[3]]<<4|Ze[i[4]],b:Ze[i[5]]<<4|Ze[i[6]],a:t===9?Ze[i[7]]<<4|Ze[i[8]]:255})),n}const Lw=(i,t)=>i<255?t(i):"";function Bw(i){var t=zw(i)?jw:Nw;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Lw(i.a,t):void 0}const Hw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ub(i,t,n){const a=t*Math.min(n,1-n),o=(l,u=(l+i/30)%12)=>n-a*Math.max(Math.min(u-3,9-u,1),-1);return[o(0),o(8),o(4)]}function qw(i,t,n){const a=(o,l=(o+i/60)%6)=>n-n*t*Math.max(Math.min(l,4-l,1),0);return[a(5),a(3),a(1)]}function Pw(i,t,n){const a=Ub(i,1,.5);let o;for(t+n>1&&(o=1/(t+n),t*=o,n*=o),o=0;o<3;o++)a[o]*=1-t-n,a[o]+=t;return a}function $w(i,t,n,a,o){return i===o?(t-n)/a+(t<n?6:0):t===o?(n-i)/a+2:(i-t)/a+4}function pf(i){const n=i.r/255,a=i.g/255,o=i.b/255,l=Math.max(n,a,o),u=Math.min(n,a,o),h=(l+u)/2;let f,g,p;return l!==u&&(p=l-u,g=h>.5?p/(2-l-u):p/(l+u),f=$w(n,a,o,p,l),f=f*60+.5),[f|0,g||0,h]}function yf(i,t,n,a){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,a)).map(xi)}function bf(i,t,n){return yf(Ub,i,t,n)}function Iw(i,t,n){return yf(Pw,i,t,n)}function Vw(i,t,n){return yf(qw,i,t,n)}function Lb(i){return(i%360+360)%360}function Gw(i){const t=Hw.exec(i);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?dr(+t[5]):xi(+t[5]));const o=Lb(+t[2]),l=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?a=Iw(o,l,u):t[1]==="hsv"?a=Vw(o,l,u):a=bf(o,l,u),{r:a[0],g:a[1],b:a[2],a:n}}function Yw(i,t){var n=pf(i);n[0]=Lb(n[0]+t),n=bf(n),i.r=n[0],i.g=n[1],i.b=n[2]}function Kw(i){if(!i)return;const t=pf(i),n=t[0],a=Ip(t[1]),o=Ip(t[2]);return i.a<255?`hsla(${n}, ${a}%, ${o}%, ${In(i.a)})`:`hsl(${n}, ${a}%, ${o}%)`}const Vp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Gp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Fw(){const i={},t=Object.keys(Gp),n=Object.keys(Vp);let a,o,l,u,h;for(a=0;a<t.length;a++){for(u=h=t[a],o=0;o<n.length;o++)l=n[o],h=h.replace(l,Vp[l]);l=parseInt(Gp[u],16),i[h]=[l>>16&255,l>>8&255,l&255]}return i}let ol;function Ww(i){ol||(ol=Fw(),ol.transparent=[0,0,0,0]);const t=ol[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Xw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Qw(i){const t=Xw.exec(i);let n=255,a,o,l;if(t){if(t[7]!==a){const u=+t[7];n=t[8]?dr(u):_i(u*255,0,255)}return a=+t[1],o=+t[3],l=+t[5],a=255&(t[2]?dr(a):_i(a,0,255)),o=255&(t[4]?dr(o):_i(o,0,255)),l=255&(t[6]?dr(l):_i(l,0,255)),{r:a,g:o,b:l,a:n}}}function Jw(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${In(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Ah=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Ys=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Zw(i,t,n){const a=Ys(In(i.r)),o=Ys(In(i.g)),l=Ys(In(i.b));return{r:xi(Ah(a+n*(Ys(In(t.r))-a))),g:xi(Ah(o+n*(Ys(In(t.g))-o))),b:xi(Ah(l+n*(Ys(In(t.b))-l))),a:i.a+n*(t.a-i.a)}}function ll(i,t,n){if(i){let a=pf(i);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=bf(a),i.r=a[0],i.g=a[1],i.b=a[2]}}function Bb(i,t){return i&&Object.assign(t||{},i)}function Yp(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=xi(i[3]))):(t=Bb(i,{r:0,g:0,b:0,a:1}),t.a=xi(t.a)),t}function tx(i){return i.charAt(0)==="r"?Qw(i):Gw(i)}class Er{constructor(t){if(t instanceof Er)return t;const n=typeof t;let a;n==="object"?a=Yp(t):n==="string"&&(a=Uw(t)||Ww(t)||tx(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=Bb(this._rgb);return t&&(t.a=In(t.a)),t}set rgb(t){this._rgb=Yp(t)}rgbString(){return this._valid?Jw(this._rgb):void 0}hexString(){return this._valid?Bw(this._rgb):void 0}hslString(){return this._valid?Kw(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,o=t.rgb;let l;const u=n===l?.5:n,h=2*u-1,f=a.a-o.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;l=1-g,a.r=255&g*a.r+l*o.r+.5,a.g=255&g*a.g+l*o.g+.5,a.b=255&g*a.b+l*o.b+.5,a.a=u*a.a+(1-u)*o.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=Zw(this._rgb,t._rgb,n)),this}clone(){return new Er(this.rgb)}alpha(t){return this._rgb.a=xi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Br(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ll(this._rgb,2,t),this}darken(t){return ll(this._rgb,2,-t),this}saturate(t){return ll(this._rgb,1,t),this}desaturate(t){return ll(this._rgb,1,-t),this}rotate(t){return Yw(this._rgb,t),this}}function Hn(){}const ex=(()=>{let i=0;return()=>i++})();function Bt(i){return i==null}function ie(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function St(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function ve(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function yn(i,t){return ve(i)?i:t}function xt(i,t){return typeof i>"u"?t:i}const nx=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Pt(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function Mt(i,t,n,a){let o,l,u;if(ie(i))for(l=i.length,o=0;o<l;o++)t.call(n,i[o],o);else if(St(i))for(u=Object.keys(i),l=u.length,o=0;o<l;o++)t.call(n,i[u[o]],u[o])}function jl(i,t){let n,a,o,l;if(!i||!t||i.length!==t.length)return!1;for(n=0,a=i.length;n<a;++n)if(o=i[n],l=t[n],o.datasetIndex!==l.datasetIndex||o.index!==l.index)return!1;return!0}function Nl(i){if(ie(i))return i.map(Nl);if(St(i)){const t=Object.create(null),n=Object.keys(i),a=n.length;let o=0;for(;o<a;++o)t[n[o]]=Nl(i[n[o]]);return t}return i}function Hb(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function ix(i,t,n,a){if(!Hb(i))return;const o=t[i],l=n[i];St(o)&&St(l)?Ar(o,l,a):t[i]=Nl(l)}function Ar(i,t,n){const a=ie(t)?t:[t],o=a.length;if(!St(i))return i;n=n||{};const l=n.merger||ix;let u;for(let h=0;h<o;++h){if(u=a[h],!St(u))continue;const f=Object.keys(u);for(let g=0,p=f.length;g<p;++g)l(f[g],i,u,n)}return i}function br(i,t){return Ar(i,t,{merger:sx})}function sx(i,t,n){if(!Hb(i))return;const a=t[i],o=n[i];St(a)&&St(o)?br(a,o):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Nl(o))}const Kp={"":i=>i,x:i=>i.x,y:i=>i.y};function ax(i){const t=i.split("."),n=[];let a="";for(const o of t)a+=o,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function rx(i){const t=ax(i);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function zl(i,t){return(Kp[t]||(Kp[t]=rx(t)))(i)}function vf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Ul=i=>typeof i<"u",Si=i=>typeof i=="function",Fp=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function ox(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const oe=Math.PI,fn=2*oe,lx=fn+oe,Ll=Number.POSITIVE_INFINITY,cx=oe/180,hn=oe/2,Ii=oe/4,Wp=oe*2/3,qb=Math.log10,oa=Math.sign;function vr(i,t,n){return Math.abs(i-t)<n}function Xp(i){const t=Math.round(i);i=vr(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(qb(i))),a=i/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function ux(i){const t=[],n=Math.sqrt(i);let a;for(a=1;a<n;a++)i%a===0&&(t.push(a),t.push(i/a));return n===(n|0)&&t.push(n),t.sort((o,l)=>o-l).pop(),t}function hx(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Or(i){return!hx(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function fx(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function dx(i,t,n){let a,o,l;for(a=0,o=i.length;a<o;a++)l=i[a][n],isNaN(l)||(t.min=Math.min(t.min,l),t.max=Math.max(t.max,l))}function ts(i){return i*(oe/180)}function gx(i){return i*(180/oe)}function Qp(i){if(!ve(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function mx(i,t){const n=t.x-i.x,a=t.y-i.y,o=Math.sqrt(n*n+a*a);let l=Math.atan2(a,n);return l<-.5*oe&&(l+=fn),{angle:l,distance:o}}function Yh(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function px(i,t){return(i-t+lx)%fn-oe}function _n(i){return(i%fn+fn)%fn}function Pb(i,t,n,a){const o=_n(i),l=_n(t),u=_n(n),h=_n(l-o),f=_n(u-o),g=_n(o-l),p=_n(o-u);return o===l||o===u||a&&l===u||h>f&&g<p}function en(i,t,n){return Math.max(t,Math.min(n,i))}function yx(i){return en(i,-32768,32767)}function ia(i,t,n,a=1e-6){return i>=Math.min(t,n)-a&&i<=Math.max(t,n)+a}function _f(i,t,n){n=n||(u=>i[u]<t);let a=i.length-1,o=0,l;for(;a-o>1;)l=o+a>>1,n(l)?o=l:a=l;return{lo:o,hi:a}}const es=(i,t,n,a)=>_f(i,n,a?o=>{const l=i[o][t];return l<n||l===n&&i[o+1][t]===n}:o=>i[o][t]<n),bx=(i,t,n)=>_f(i,n,a=>i[a][t]>=n);function vx(i,t,n){let a=0,o=i.length;for(;a<o&&i[a]<t;)a++;for(;o>a&&i[o-1]>n;)o--;return a>0||o<i.length?i.slice(a,o):i}const $b=["push","pop","shift","splice","unshift"];function _x(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$b.forEach(n=>{const a="_onData"+vf(n),o=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...l){const u=o.apply(this,l);return i._chartjs.listeners.forEach(h=>{typeof h[a]=="function"&&h[a](...l)}),u}})})}function Jp(i,t){const n=i._chartjs;if(!n)return;const a=n.listeners,o=a.indexOf(t);o!==-1&&a.splice(o,1),!(a.length>0)&&($b.forEach(l=>{delete i[l]}),delete i._chartjs)}function wx(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const Ib=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function Vb(i,t){let n=[],a=!1;return function(...o){n=o,a||(a=!0,Ib.call(window,()=>{a=!1,i.apply(t,n)}))}}function xx(i,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(i,t,a)):i.apply(this,a),t}}const wf=i=>i==="start"?"left":i==="end"?"right":"center",ye=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,Sx=(i,t,n,a)=>i===(a?"left":"right")?n:i==="center"?(t+n)/2:t;function Tx(i,t,n){const a=t.length;let o=0,l=a;if(i._sorted){const{iScale:u,vScale:h,_parsed:f}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,p=u.axis,{min:y,max:v,minDefined:_,maxDefined:S}=u.getUserBounds();if(_){if(o=Math.min(es(f,p,y).lo,n?a:es(t,p,u.getPixelForValue(y)).lo),g){const x=f.slice(0,o+1).reverse().findIndex(T=>!Bt(T[h.axis]));o-=Math.max(0,x)}o=en(o,0,a-1)}if(S){let x=Math.max(es(f,u.axis,v,!0).hi+1,n?0:es(t,p,u.getPixelForValue(v),!0).hi+1);if(g){const T=f.slice(x-1).findIndex(O=>!Bt(O[h.axis]));x+=Math.max(0,T)}l=en(x,o,a)-o}else l=a-o}return{start:o,count:l}}function Ex(i){const{xScale:t,yScale:n,_scaleRanges:a}=i,o={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return i._scaleRanges=o,!0;const l=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,o),l}const cl=i=>i===0||i===1,Zp=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*fn/n)),ty=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*fn/n)+1,_r={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*hn)+1,easeOutSine:i=>Math.sin(i*hn),easeInOutSine:i=>-.5*(Math.cos(oe*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>cl(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>cl(i)?i:Zp(i,.075,.3),easeOutElastic:i=>cl(i)?i:ty(i,.075,.3),easeInOutElastic(i){return cl(i)?i:i<.5?.5*Zp(i*2,.1125,.45):.5+.5*ty(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-_r.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?_r.easeInBounce(i*2)*.5:_r.easeOutBounce(i*2-1)*.5+.5};function xf(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function ey(i){return xf(i)?i:new Er(i)}function Oh(i){return xf(i)?i:new Er(i).saturate(.5).darken(.1).hexString()}const Ax=["x","y","borderWidth","radius","tension"],Ox=["color","borderColor","backgroundColor"];function Cx(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:Ox},numbers:{type:"number",properties:Ax}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function kx(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ny=new Map;function Rx(i,t){t=t||{};const n=i+JSON.stringify(t);let a=ny.get(n);return a||(a=new Intl.NumberFormat(i,t),ny.set(n,a)),a}function Gb(i,t,n){return Rx(t,n).format(i)}const Mx={values(i){return ie(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const a=this.chart.options.locale;let o,l=i;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(o="scientific"),l=Dx(i,n)}const u=qb(Math.abs(l)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:o,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Gb(i,a,f)}};function Dx(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var Yb={formatters:Mx};function jx(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Yb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const as=Object.create(null),Kh=Object.create(null);function wr(i,t){if(!t)return i;const n=t.split(".");for(let a=0,o=n.length;a<o;++a){const l=n[a];i=i[l]||(i[l]=Object.create(null))}return i}function Ch(i,t,n){return typeof t=="string"?Ar(wr(i,t),n):Ar(wr(i,""),t)}class Nx{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,o)=>Oh(o.backgroundColor),this.hoverBorderColor=(a,o)=>Oh(o.borderColor),this.hoverColor=(a,o)=>Oh(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ch(this,t,n)}get(t){return wr(this,t)}describe(t,n){return Ch(Kh,t,n)}override(t,n){return Ch(as,t,n)}route(t,n,a,o){const l=wr(this,t),u=wr(this,a),h="_"+n;Object.defineProperties(l,{[h]:{value:l[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[h],g=u[o];return St(f)?Object.assign({},g,f):xt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(n=>n(this))}}var Wt=new Nx({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Cx,kx,jx]);function zx(i){return!i||Bt(i.size)||Bt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function iy(i,t,n,a,o){let l=t[o];return l||(l=t[o]=i.measureText(o).width,n.push(o)),l>a&&(a=l),a}function Vi(i,t,n){const a=i.currentDevicePixelRatio,o=n!==0?Math.max(n/2,.5):0;return Math.round((t-o)*a)/a+o}function sy(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Fh(i,t,n,a){Kb(i,t,n,a,null)}function Kb(i,t,n,a,o){let l,u,h,f,g,p,y,v;const _=t.pointStyle,S=t.rotation,x=t.radius;let T=(S||0)*cx;if(_&&typeof _=="object"&&(l=_.toString(),l==="[object HTMLImageElement]"||l==="[object HTMLCanvasElement]")){i.save(),i.translate(n,a),i.rotate(T),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),_){default:o?i.ellipse(n,a,o/2,x,0,0,fn):i.arc(n,a,x,0,fn),i.closePath();break;case"triangle":p=o?o/2:x,i.moveTo(n+Math.sin(T)*p,a-Math.cos(T)*x),T+=Wp,i.lineTo(n+Math.sin(T)*p,a-Math.cos(T)*x),T+=Wp,i.lineTo(n+Math.sin(T)*p,a-Math.cos(T)*x),i.closePath();break;case"rectRounded":g=x*.516,f=x-g,u=Math.cos(T+Ii)*f,y=Math.cos(T+Ii)*(o?o/2-g:f),h=Math.sin(T+Ii)*f,v=Math.sin(T+Ii)*(o?o/2-g:f),i.arc(n-y,a-h,g,T-oe,T-hn),i.arc(n+v,a-u,g,T-hn,T),i.arc(n+y,a+h,g,T,T+hn),i.arc(n-v,a+u,g,T+hn,T+oe),i.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*x,p=o?o/2:f,i.rect(n-p,a-f,2*p,2*f);break}T+=Ii;case"rectRot":y=Math.cos(T)*(o?o/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(o?o/2:x),i.moveTo(n-y,a-h),i.lineTo(n+v,a-u),i.lineTo(n+y,a+h),i.lineTo(n-v,a+u),i.closePath();break;case"crossRot":T+=Ii;case"cross":y=Math.cos(T)*(o?o/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(o?o/2:x),i.moveTo(n-y,a-h),i.lineTo(n+y,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"star":y=Math.cos(T)*(o?o/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(o?o/2:x),i.moveTo(n-y,a-h),i.lineTo(n+y,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u),T+=Ii,y=Math.cos(T)*(o?o/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(o?o/2:x),i.moveTo(n-y,a-h),i.lineTo(n+y,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"line":u=o?o/2:Math.cos(T)*x,h=Math.sin(T)*x,i.moveTo(n-u,a-h),i.lineTo(n+u,a+h);break;case"dash":i.moveTo(n,a),i.lineTo(n+Math.cos(T)*(o?o/2:x),a+Math.sin(T)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Cr(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Vl(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function Gl(i){i.restore()}function Ux(i,t,n,a,o){if(!t)return i.lineTo(n.x,n.y);if(o==="middle"){const l=(t.x+n.x)/2;i.lineTo(l,t.y),i.lineTo(l,n.y)}else o==="after"!=!!a?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function Lx(i,t,n,a){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function Bx(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function Hx(i,t,n,a,o){if(o.strikethrough||o.underline){const l=i.measureText(a),u=t-l.actualBoundingBoxLeft,h=t+l.actualBoundingBoxRight,f=n-l.actualBoundingBoxAscent,g=n+l.actualBoundingBoxDescent,p=o.strikethrough?(f+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=o.decorationWidth||2,i.moveTo(u,p),i.lineTo(h,p),i.stroke()}}function qx(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function kr(i,t,n,a,o,l={}){const u=ie(t)?t:[t],h=l.strokeWidth>0&&l.strokeColor!=="";let f,g;for(i.save(),i.font=o.string,Bx(i,l),f=0;f<u.length;++f)g=u[f],l.backdrop&&qx(i,l.backdrop),h&&(l.strokeColor&&(i.strokeStyle=l.strokeColor),Bt(l.strokeWidth)||(i.lineWidth=l.strokeWidth),i.strokeText(g,n,a,l.maxWidth)),i.fillText(g,n,a,l.maxWidth),Hx(i,n,a,g,l),a+=Number(o.lineHeight);i.restore()}function Wh(i,t){const{x:n,y:a,w:o,h:l,radius:u}=t;i.arc(n+u.topLeft,a+u.topLeft,u.topLeft,1.5*oe,oe,!0),i.lineTo(n,a+l-u.bottomLeft),i.arc(n+u.bottomLeft,a+l-u.bottomLeft,u.bottomLeft,oe,hn,!0),i.lineTo(n+o-u.bottomRight,a+l),i.arc(n+o-u.bottomRight,a+l-u.bottomRight,u.bottomRight,hn,0,!0),i.lineTo(n+o,a+u.topRight),i.arc(n+o-u.topRight,a+u.topRight,u.topRight,0,-hn,!0),i.lineTo(n+u.topLeft,a)}const Px=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$x=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Ix(i,t){const n=(""+i).match(Px);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const Vx=i=>+i||0;function Fb(i,t){const n={},a=St(t),o=a?Object.keys(t):t,l=St(i)?a?u=>xt(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of o)n[u]=Vx(l(u));return n}function Gx(i){return Fb(i,{top:"y",right:"x",bottom:"y",left:"x"})}function xr(i){return Fb(i,["topLeft","topRight","bottomLeft","bottomRight"])}function sn(i){const t=Gx(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function be(i,t){i=i||{},t=t||Wt.font;let n=xt(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=xt(i.style,t.style);a&&!(""+a).match($x)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const o={family:xt(i.family,t.family),lineHeight:Ix(xt(i.lineHeight,t.lineHeight),n),size:n,style:a,weight:xt(i.weight,t.weight),string:""};return o.string=zx(o),o}function ul(i,t,n,a){let o,l,u;for(o=0,l=i.length;o<l;++o)if(u=i[o],u!==void 0&&u!==void 0)return u}function Yx(i,t,n){const{min:a,max:o}=i,l=nx(t,(o-a)/2),u=(h,f)=>n&&h===0?0:h+f;return{min:u(a,-Math.abs(l)),max:u(o,l)}}function rs(i,t){return Object.assign(Object.create(i),t)}function Sf(i,t=[""],n,a,o=()=>i[0]){const l=n||i;typeof a>"u"&&(a=Jb("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:l,_fallback:a,_getTarget:o,override:h=>Sf([h,...i],t,l,a)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete i[0][f],!0},get(h,f){return Xb(h,f,()=>tS(f,t,i,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,f){return ry(h).includes(f)},ownKeys(h){return ry(h)},set(h,f,g){const p=h._storage||(h._storage=o());return h[f]=p[f]=g,delete h._keys,!0}})}function la(i,t,n,a){const o={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:Wb(i,a),setContext:l=>la(i,l,n,a),override:l=>la(i.override(l),t,n,a)};return new Proxy(o,{deleteProperty(l,u){return delete l[u],delete i[u],!0},get(l,u,h){return Xb(l,u,()=>Fx(l,u,h))},getOwnPropertyDescriptor(l,u){return l._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(l,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(l,u,h){return i[u]=h,delete l[u],!0}})}function Wb(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:o=t.allKeys}=i;return{allKeys:o,scriptable:n,indexable:a,isScriptable:Si(n)?n:()=>n,isIndexable:Si(a)?a:()=>a}}const Kx=(i,t)=>i?i+vf(t):t,Tf=(i,t)=>St(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Xb(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const a=n();return i[t]=a,a}function Fx(i,t,n){const{_proxy:a,_context:o,_subProxy:l,_descriptors:u}=i;let h=a[t];return Si(h)&&u.isScriptable(t)&&(h=Wx(t,h,i,n)),ie(h)&&h.length&&(h=Xx(t,h,i,u.isIndexable)),Tf(t,h)&&(h=la(h,o,l&&l[t],u)),h}function Wx(i,t,n,a){const{_proxy:o,_context:l,_subProxy:u,_stack:h}=n;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let f=t(l,u||a);return h.delete(i),Tf(i,f)&&(f=Ef(o._scopes,o,i,f)),f}function Xx(i,t,n,a){const{_proxy:o,_context:l,_subProxy:u,_descriptors:h}=n;if(typeof l.index<"u"&&a(i))return t[l.index%t.length];if(St(t[0])){const f=t,g=o._scopes.filter(p=>p!==f);t=[];for(const p of f){const y=Ef(g,o,i,p);t.push(la(y,l,u&&u[i],h))}}return t}function Qb(i,t,n){return Si(i)?i(t,n):i}const Qx=(i,t)=>i===!0?t:typeof i=="string"?zl(t,i):void 0;function Jx(i,t,n,a,o){for(const l of t){const u=Qx(n,l);if(u){i.add(u);const h=Qb(u._fallback,n,o);if(typeof h<"u"&&h!==n&&h!==a)return h}else if(u===!1&&typeof a<"u"&&n!==a)return null}return!1}function Ef(i,t,n,a){const o=t._rootScopes,l=Qb(t._fallback,n,a),u=[...i,...o],h=new Set;h.add(a);let f=ay(h,u,n,l||n,a);return f===null||typeof l<"u"&&l!==n&&(f=ay(h,u,l,f,a),f===null)?!1:Sf(Array.from(h),[""],o,l,()=>Zx(t,n,a))}function ay(i,t,n,a,o){for(;n;)n=Jx(i,t,n,a,o);return n}function Zx(i,t,n){const a=i._getTarget();t in a||(a[t]={});const o=a[t];return ie(o)&&St(n)?n:o||{}}function tS(i,t,n,a){let o;for(const l of t)if(o=Jb(Kx(l,i),n),typeof o<"u")return Tf(i,o)?Ef(n,a,i,o):o}function Jb(i,t){for(const n of t){if(!n)continue;const a=n[i];if(typeof a<"u")return a}}function ry(i){let t=i._keys;return t||(t=i._keys=eS(i._scopes)),t}function eS(i){const t=new Set;for(const n of i)for(const a of Object.keys(n).filter(o=>!o.startsWith("_")))t.add(a);return Array.from(t)}const nS=Number.EPSILON||1e-14,ca=(i,t)=>t<i.length&&!i[t].skip&&i[t],Zb=i=>i==="x"?"y":"x";function iS(i,t,n,a){const o=i.skip?t:i,l=t,u=n.skip?t:n,h=Yh(l,o),f=Yh(u,l);let g=h/(h+f),p=f/(h+f);g=isNaN(g)?0:g,p=isNaN(p)?0:p;const y=a*g,v=a*p;return{previous:{x:l.x-y*(u.x-o.x),y:l.y-y*(u.y-o.y)},next:{x:l.x+v*(u.x-o.x),y:l.y+v*(u.y-o.y)}}}function sS(i,t,n){const a=i.length;let o,l,u,h,f,g=ca(i,0);for(let p=0;p<a-1;++p)if(f=g,g=ca(i,p+1),!(!f||!g)){if(vr(t[p],0,nS)){n[p]=n[p+1]=0;continue}o=n[p]/t[p],l=n[p+1]/t[p],h=Math.pow(o,2)+Math.pow(l,2),!(h<=9)&&(u=3/Math.sqrt(h),n[p]=o*u*t[p],n[p+1]=l*u*t[p])}}function aS(i,t,n="x"){const a=Zb(n),o=i.length;let l,u,h,f=ca(i,0);for(let g=0;g<o;++g){if(u=h,h=f,f=ca(i,g+1),!h)continue;const p=h[n],y=h[a];u&&(l=(p-u[n])/3,h[`cp1${n}`]=p-l,h[`cp1${a}`]=y-l*t[g]),f&&(l=(f[n]-p)/3,h[`cp2${n}`]=p+l,h[`cp2${a}`]=y+l*t[g])}}function rS(i,t="x"){const n=Zb(t),a=i.length,o=Array(a).fill(0),l=Array(a);let u,h,f,g=ca(i,0);for(u=0;u<a;++u)if(h=f,f=g,g=ca(i,u+1),!!f){if(g){const p=g[t]-f[t];o[u]=p!==0?(g[n]-f[n])/p:0}l[u]=h?g?oa(o[u-1])!==oa(o[u])?0:(o[u-1]+o[u])/2:o[u-1]:o[u]}sS(i,o,l),aS(i,l,t)}function hl(i,t,n){return Math.max(Math.min(i,n),t)}function oS(i,t){let n,a,o,l,u,h=Cr(i[0],t);for(n=0,a=i.length;n<a;++n)u=l,l=h,h=n<a-1&&Cr(i[n+1],t),l&&(o=i[n],u&&(o.cp1x=hl(o.cp1x,t.left,t.right),o.cp1y=hl(o.cp1y,t.top,t.bottom)),h&&(o.cp2x=hl(o.cp2x,t.left,t.right),o.cp2y=hl(o.cp2y,t.top,t.bottom)))}function lS(i,t,n,a,o){let l,u,h,f;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")rS(i,o);else{let g=a?i[i.length-1]:i[0];for(l=0,u=i.length;l<u;++l)h=i[l],f=iS(g,h,i[Math.min(l+1,u-(a?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&oS(i,n)}function Af(){return typeof window<"u"&&typeof document<"u"}function Of(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Bl(i,t,n){let a;return typeof i=="string"?(a=parseInt(i,10),i.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=i,a}const Yl=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function cS(i,t){return Yl(i).getPropertyValue(t)}const uS=["top","right","bottom","left"];function ss(i,t,n){const a={};n=n?"-"+n:"";for(let o=0;o<4;o++){const l=uS[o];a[l]=parseFloat(i[t+"-"+l+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const hS=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function fS(i,t){const n=i.touches,a=n&&n.length?n[0]:i,{offsetX:o,offsetY:l}=a;let u=!1,h,f;if(hS(o,l,i.target))h=o,f=l;else{const g=t.getBoundingClientRect();h=a.clientX-g.left,f=a.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function Wi(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:a}=t,o=Yl(n),l=o.boxSizing==="border-box",u=ss(o,"padding"),h=ss(o,"border","width"),{x:f,y:g,box:p}=fS(i,n),y=u.left+(p&&h.left),v=u.top+(p&&h.top);let{width:_,height:S}=t;return l&&(_-=u.width+h.width,S-=u.height+h.height),{x:Math.round((f-y)/_*n.width/a),y:Math.round((g-v)/S*n.height/a)}}function dS(i,t,n){let a,o;if(t===void 0||n===void 0){const l=i&&Of(i);if(!l)t=i.clientWidth,n=i.clientHeight;else{const u=l.getBoundingClientRect(),h=Yl(l),f=ss(h,"border","width"),g=ss(h,"padding");t=u.width-g.width-f.width,n=u.height-g.height-f.height,a=Bl(h.maxWidth,l,"clientWidth"),o=Bl(h.maxHeight,l,"clientHeight")}}return{width:t,height:n,maxWidth:a||Ll,maxHeight:o||Ll}}const wi=i=>Math.round(i*10)/10;function gS(i,t,n,a){const o=Yl(i),l=ss(o,"margin"),u=Bl(o.maxWidth,i,"clientWidth")||Ll,h=Bl(o.maxHeight,i,"clientHeight")||Ll,f=dS(i,t,n);let{width:g,height:p}=f;if(o.boxSizing==="content-box"){const v=ss(o,"border","width"),_=ss(o,"padding");g-=_.width+v.width,p-=_.height+v.height}return g=Math.max(0,g-l.width),p=Math.max(0,a?g/a:p-l.height),g=wi(Math.min(g,u,f.maxWidth)),p=wi(Math.min(p,h,f.maxHeight)),g&&!p&&(p=wi(g/2)),(t!==void 0||n!==void 0)&&a&&f.height&&p>f.height&&(p=f.height,g=wi(Math.floor(p*a))),{width:g,height:p}}function oy(i,t,n){const a=t||1,o=wi(i.height*a),l=wi(i.width*a);i.height=wi(i.height),i.width=wi(i.width);const u=i.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==a||u.height!==o||u.width!==l?(i.currentDevicePixelRatio=a,u.height=o,u.width=l,i.ctx.setTransform(a,0,0,a,0,0),!0):!1}const mS=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};Af()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function ly(i,t){const n=cS(i,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Xi(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function pS(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:a==="middle"?n<.5?i.y:t.y:a==="after"?n<1?i.y:t.y:n>0?t.y:i.y}}function yS(i,t,n,a){const o={x:i.cp2x,y:i.cp2y},l={x:t.cp1x,y:t.cp1y},u=Xi(i,o,n),h=Xi(o,l,n),f=Xi(l,t,n),g=Xi(u,h,n),p=Xi(h,f,n);return Xi(g,p,n)}const bS=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},vS=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function aa(i,t,n){return i?bS(t,n):vS()}function tv(i,t){let n,a;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=a)}function ev(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function nv(i){return i==="angle"?{between:Pb,compare:px,normalize:_n}:{between:ia,compare:(t,n)=>t-n,normalize:t=>t}}function cy({start:i,end:t,count:n,loop:a,style:o}){return{start:i%n,end:t%n,loop:a&&(t-i+1)%n===0,style:o}}function _S(i,t,n){const{property:a,start:o,end:l}=n,{between:u,normalize:h}=nv(a),f=t.length;let{start:g,end:p,loop:y}=i,v,_;if(y){for(g+=f,p+=f,v=0,_=f;v<_&&u(h(t[g%f][a]),o,l);++v)g--,p--;g%=f,p%=f}return p<g&&(p+=f),{start:g,end:p,loop:y,style:i.style}}function iv(i,t,n){if(!n)return[i];const{property:a,start:o,end:l}=n,u=t.length,{compare:h,between:f,normalize:g}=nv(a),{start:p,end:y,loop:v,style:_}=_S(i,t,n),S=[];let x=!1,T=null,O,D,R;const q=()=>f(o,R,O)&&h(o,R)!==0,H=()=>h(l,O)===0||f(l,R,O),$=()=>x||q(),P=()=>!x||H();for(let X=p,Q=p;X<=y;++X)D=t[X%u],!D.skip&&(O=g(D[a]),O!==R&&(x=f(O,o,l),T===null&&$()&&(T=h(O,o)===0?X:Q),T!==null&&P()&&(S.push(cy({start:T,end:X,loop:v,count:u,style:_})),T=null),Q=X,R=O));return T!==null&&S.push(cy({start:T,end:y,loop:v,count:u,style:_})),S}function sv(i,t){const n=[],a=i.segments;for(let o=0;o<a.length;o++){const l=iv(a[o],i.points,t);l.length&&n.push(...l)}return n}function wS(i,t,n,a){let o=0,l=t-1;if(n&&!a)for(;o<t&&!i[o].skip;)o++;for(;o<t&&i[o].skip;)o++;for(o%=t,n&&(l+=o);l>o&&i[l%t].skip;)l--;return l%=t,{start:o,end:l}}function xS(i,t,n,a){const o=i.length,l=[];let u=t,h=i[t],f;for(f=t+1;f<=n;++f){const g=i[f%o];g.skip||g.stop?h.skip||(a=!1,l.push({start:t%o,end:(f-1)%o,loop:a}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&l.push({start:t%o,end:u%o,loop:a}),l}function SS(i,t){const n=i.points,a=i.options.spanGaps,o=n.length;if(!o)return[];const l=!!i._loop,{start:u,end:h}=wS(n,o,l,a);if(a===!0)return uy(i,[{start:u,end:h,loop:l}],n,t);const f=h<u?h+o:h,g=!!i._fullLoop&&u===0&&h===o-1;return uy(i,xS(n,u,f,g),n,t)}function uy(i,t,n,a){return!a||!a.setContext||!n?t:TS(i,t,n,a)}function TS(i,t,n,a){const o=i._chart.getContext(),l=hy(i.options),{_datasetIndex:u,options:{spanGaps:h}}=i,f=n.length,g=[];let p=l,y=t[0].start,v=y;function _(S,x,T,O){const D=h?-1:1;if(S!==x){for(S+=f;n[S%f].skip;)S-=D;for(;n[x%f].skip;)x+=D;S%f!==x%f&&(g.push({start:S%f,end:x%f,loop:T,style:O}),p=O,y=x%f)}}for(const S of t){y=h?y:S.start;let x=n[y%f],T;for(v=y+1;v<=S.end;v++){const O=n[v%f];T=hy(a.setContext(rs(o,{type:"segment",p0:x,p1:O,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:u}))),ES(T,p)&&_(y,v-1,S.loop,p),x=O,p=T}y<v-1&&_(y,v-1,S.loop,p)}return g}function hy(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function ES(i,t){if(!t)return!1;const n=[],a=function(o,l){return xf(l)?(n.includes(l)||n.push(l),n.indexOf(l)):l};return JSON.stringify(i,a)!==JSON.stringify(t,a)}function fl(i,t,n){return i.options.clip?i[n]:t[n]}function AS(i,t){const{xScale:n,yScale:a}=i;return n&&a?{left:fl(n,t,"left"),right:fl(n,t,"right"),top:fl(a,t,"top"),bottom:fl(a,t,"bottom")}:t}function av(i,t){const n=t._clip;if(n.disabled)return!1;const a=AS(t,i.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:a.bottom+(n.bottom===!0?0:n.bottom)}}class OS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,o){const l=n.listeners[o],u=n.duration;l.forEach(h=>h({chart:t,initial:n.initial,numSteps:u,currentStep:Math.min(a-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Ib.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,o)=>{if(!a.running||!a.items.length)return;const l=a.items;let u=l.length-1,h=!1,f;for(;u>=0;--u)f=l[u],f._active?(f._total>a.duration&&(a.duration=f._total),f.tick(t),h=!0):(l[u]=l[l.length-1],l.pop());h&&(o.draw(),this._notify(o,a,t,"progress")),l.length||(a.running=!1,this._notify(o,a,t,"complete"),a.initial=!1),n+=l.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,o)=>Math.max(a,o._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let o=a.length-1;for(;o>=0;--o)a[o].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qn=new OS;const fy="transparent",CS={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const a=ey(i||fy),o=a.valid&&ey(t||fy);return o&&o.valid?o.mix(a,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class kS{constructor(t,n,a,o){const l=n[a];o=ul([t.to,o,l,t.from]);const u=ul([t.from,l,o]);this._active=!0,this._fn=t.fn||CS[t.type||typeof u],this._easing=_r[t.easing]||_r.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=u,this._to=o,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const o=this._target[this._prop],l=a-this._start,u=this._duration-l;this._start=a,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=l,this._loop=!!t.loop,this._to=ul([t.to,n,o,t.from]),this._from=ul([t.from,o,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,o=this._prop,l=this._from,u=this._loop,h=this._to;let f;if(this._active=l!==h&&(u||n<a),!this._active){this._target[o]=h,this._notify(!0);return}if(n<0){this._target[o]=l;return}f=n/a%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[o]=this._fn(l,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let o=0;o<a.length;o++)a[o][n]()}}class rv{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!St(t))return;const n=Object.keys(Wt.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(o=>{const l=t[o];if(!St(l))return;const u={};for(const h of n)u[h]=l[h];(ie(l.properties)&&l.properties||[o]).forEach(h=>{(h===o||!a.has(h))&&a.set(h,u)})})}_animateOptions(t,n){const a=n.options,o=MS(t,a);if(!o)return[];const l=this._createAnimations(o,a);return a.$shared&&RS(t.options.$animations,a).then(()=>{t.options=a},()=>{}),l}_createAnimations(t,n){const a=this._properties,o=[],l=t.$animations||(t.$animations={}),u=Object.keys(n),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){o.push(...this._animateOptions(t,n));continue}const p=n[g];let y=l[g];const v=a.get(g);if(y)if(v&&y.active()){y.update(v,p,h);continue}else y.cancel();if(!v||!v.duration){t[g]=p;continue}l[g]=y=new kS(v,t,g,p),o.push(y)}return o}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return qn.add(this._chart,a),!0}}function RS(i,t){const n=[],a=Object.keys(t);for(let o=0;o<a.length;o++){const l=i[a[o]];l&&l.active()&&n.push(l.wait())}return Promise.all(n)}function MS(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function dy(i,t){const n=i&&i.options||{},a=n.reverse,o=n.min===void 0?t:0,l=n.max===void 0?t:0;return{start:a?l:o,end:a?o:l}}function DS(i,t,n){if(n===!1)return!1;const a=dy(i,n),o=dy(t,n);return{top:o.end,right:a.end,bottom:o.start,left:a.start}}function jS(i){let t,n,a,o;return St(i)?(t=i.top,n=i.right,a=i.bottom,o=i.left):t=n=a=o=i,{top:t,right:n,bottom:a,left:o,disabled:i===!1}}function ov(i,t){const n=[],a=i._getSortedDatasetMetas(t);let o,l;for(o=0,l=a.length;o<l;++o)n.push(a[o].index);return n}function gy(i,t,n,a={}){const o=i.keys,l=a.mode==="single";let u,h,f,g;if(t===null)return;let p=!1;for(u=0,h=o.length;u<h;++u){if(f=+o[u],f===n){if(p=!0,a.all)continue;break}g=i.values[f],ve(g)&&(l||t===0||oa(t)===oa(g))&&(t+=g)}return!p&&!a.all?0:t}function NS(i,t){const{iScale:n,vScale:a}=t,o=n.axis==="x"?"x":"y",l=a.axis==="x"?"x":"y",u=Object.keys(i),h=new Array(u.length);let f,g,p;for(f=0,g=u.length;f<g;++f)p=u[f],h[f]={[o]:p,[l]:i[p]};return h}function kh(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function zS(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function US(i){const{min:t,max:n,minDefined:a,maxDefined:o}=i.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:o?n:Number.POSITIVE_INFINITY}}function LS(i,t,n){const a=i[t]||(i[t]={});return a[n]||(a[n]={})}function my(i,t,n,a){for(const o of t.getMatchingVisibleMetas(a).reverse()){const l=i[o.index];if(n&&l>0||!n&&l<0)return o.index}return null}function py(i,t){const{chart:n,_cachedMeta:a}=i,o=n._stacks||(n._stacks={}),{iScale:l,vScale:u,index:h}=a,f=l.axis,g=u.axis,p=zS(l,u,a),y=t.length;let v;for(let _=0;_<y;++_){const S=t[_],{[f]:x,[g]:T}=S,O=S._stacks||(S._stacks={});v=O[g]=LS(o,p,x),v[h]=T,v._top=my(v,u,!0,a.type),v._bottom=my(v,u,!1,a.type);const D=v._visualValues||(v._visualValues={});D[h]=T}}function Rh(i,t){const n=i.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function BS(i,t){return rs(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function HS(i,t,n){return rs(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function or(i,t){const n=i.controller.index,a=i.vScale&&i.vScale.axis;if(a){t=t||i._parsed;for(const o of t){const l=o._stacks;if(!l||l[a]===void 0||l[a][n]===void 0)return;delete l[a][n],l[a]._visualValues!==void 0&&l[a]._visualValues[n]!==void 0&&delete l[a]._visualValues[n]}}}const Mh=i=>i==="reset"||i==="none",yy=(i,t)=>t?i:Object.assign({},i),qS=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:ov(n,!0),values:null};class lv{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kh(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&or(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),o=(y,v,_,S)=>y==="x"?v:y==="r"?S:_,l=n.xAxisID=xt(a.xAxisID,Rh(t,"x")),u=n.yAxisID=xt(a.yAxisID,Rh(t,"y")),h=n.rAxisID=xt(a.rAxisID,Rh(t,"r")),f=n.indexAxis,g=n.iAxisID=o(f,l,u,h),p=n.vAxisID=o(f,u,l,h);n.xScale=this.getScaleForId(l),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Jp(this._data,this),t._stacked&&or(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(St(n)){const o=this._cachedMeta;this._data=NS(n,o)}else if(a!==n){if(a){Jp(a,this);const o=this._cachedMeta;or(o),o._parsed=[]}n&&Object.isExtensible(n)&&_x(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let o=!1;this._dataCheck();const l=n._stacked;n._stacked=kh(n.vScale,n),n.stack!==a.stack&&(o=!0,or(n),n.stack=a.stack),this._resyncElements(t),(o||l!==n._stacked)&&(py(this,n._parsed),n._stacked=kh(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:o}=this,{iScale:l,_stacked:u}=a,h=l.axis;let f=t===0&&n===o.length?!0:a._sorted,g=t>0&&a._parsed[t-1],p,y,v;if(this._parsing===!1)a._parsed=o,a._sorted=!0,v=o;else{ie(o[t])?v=this.parseArrayData(a,o,t,n):St(o[t])?v=this.parseObjectData(a,o,t,n):v=this.parsePrimitiveData(a,o,t,n);const _=()=>y[h]===null||g&&y[h]<g[h];for(p=0;p<n;++p)a._parsed[p+t]=y=v[p],f&&(_()&&(f=!1),g=y);a._sorted=f}u&&py(this,v)}parsePrimitiveData(t,n,a,o){const{iScale:l,vScale:u}=t,h=l.axis,f=u.axis,g=l.getLabels(),p=l===u,y=new Array(o);let v,_,S;for(v=0,_=o;v<_;++v)S=v+a,y[v]={[h]:p||l.parse(g[S],S),[f]:u.parse(n[S],S)};return y}parseArrayData(t,n,a,o){const{xScale:l,yScale:u}=t,h=new Array(o);let f,g,p,y;for(f=0,g=o;f<g;++f)p=f+a,y=n[p],h[f]={x:l.parse(y[0],p),y:u.parse(y[1],p)};return h}parseObjectData(t,n,a,o){const{xScale:l,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(o);let p,y,v,_;for(p=0,y=o;p<y;++p)v=p+a,_=n[v],g[p]={x:l.parse(zl(_,h),v),y:u.parse(zl(_,f),v)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const o=this.chart,l=this._cachedMeta,u=n[t.axis],h={keys:ov(o,!0),values:n._stacks[t.axis]._visualValues};return gy(h,u,l.index,{mode:a})}updateRangeFromParsed(t,n,a,o){const l=a[n.axis];let u=l===null?NaN:l;const h=o&&a._stacks[n.axis];o&&h&&(o.values=h,u=gy(o,l,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,n){const a=this._cachedMeta,o=a._parsed,l=a._sorted&&t===a.iScale,u=o.length,h=this._getOtherScale(t),f=qS(n,a,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=US(h);let v,_;function S(){_=o[v];const x=_[h.axis];return!ve(_[t.axis])||p>x||y<x}for(v=0;v<u&&!(!S()&&(this.updateRangeFromParsed(g,t,_,f),l));++v);if(l){for(v=u-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(g,t,_,f);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let o,l,u;for(o=0,l=n.length;o<l;++o)u=n[o][t.axis],ve(u)&&a.push(u);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,o=n.vScale,l=this.getParsed(t);return{label:a?""+a.getLabelForValue(l[a.axis]):"",value:o?""+o.getLabelForValue(l[o.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=jS(xt(this.options.clip,DS(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,o=a.data||[],l=n.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||o.length-h,g=this.options.drawActiveElementsOnTop;let p;for(a.dataset&&a.dataset.draw(t,l,h,f),p=h;p<h+f;++p){const y=o[p];y.hidden||(y.active&&g?u.push(y):y.draw(t,l))}for(p=0;p<u.length;++p)u[p].draw(t,l)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const o=this.getDataset();let l;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];l=u.$context||(u.$context=HS(this.getContext(),t,u)),l.parsed=this.getParsed(t),l.raw=o.data[t],l.index=l.dataIndex=t}else l=this.$context||(this.$context=BS(this.chart.getContext(),this.index)),l.dataset=o,l.index=l.datasetIndex=this.index;return l.active=!!n,l.mode=a,l}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const o=n==="active",l=this._cachedDataOpts,u=t+"-"+n,h=l[u],f=this.enableOptionSharing&&Ul(a);if(h)return yy(h,f);const g=this.chart.config,p=g.datasetElementScopeKeys(this._type,t),y=o?[`${t}Hover`,"hover",t,""]:[t,""],v=g.getOptionScopes(this.getDataset(),p),_=Object.keys(Wt.elements[t]),S=()=>this.getContext(a,o,n),x=g.resolveNamedOptions(v,_,S,y);return x.$shared&&(x.$shared=f,l[u]=Object.freeze(yy(x,f))),x}_resolveAnimations(t,n,a){const o=this.chart,l=this._cachedDataOpts,u=`animation-${n}`,h=l[u];if(h)return h;let f;if(o.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,n),v=p.getOptionScopes(this.getDataset(),y);f=p.createResolver(v,this.getContext(t,a,n))}const g=new rv(o,f&&f.animations);return f&&f._cacheable&&(l[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Mh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),o=this._sharedOptions,l=this.getSharedOptions(a),u=this.includeOptions(n,l)||l!==o;return this.updateSharedOptions(l,n,a),{sharedOptions:l,includeOptions:u}}updateElement(t,n,a,o){Mh(o)?Object.assign(t,a):this._resolveAnimations(n,o).update(t,a)}updateSharedOptions(t,n,a){t&&!Mh(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,o){t.active=o;const l=this.getStyle(n,o);this._resolveAnimations(n,a,o).update(t,{options:!o&&this.getSharedOptions(l)||l})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const o=a.length,l=n.length,u=Math.min(l,o);u&&this.parse(0,u),l>o?this._insertElements(o,l-o,t):l<o&&this._removeElements(l,o-l)}_insertElements(t,n,a=!0){const o=this._cachedMeta,l=o.data,u=t+n;let h;const f=g=>{for(g.length+=n,h=g.length-1;h>=u;h--)g[h]=g[h-n]};for(f(l),h=t;h<u;++h)l[h]=new this.dataElementType;this._parsing&&f(o._parsed),this.parse(t,n),a&&this.updateElements(l,t,n,"reset")}updateElements(t,n,a,o){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const o=a._parsed.splice(t,n);a._stacked&&or(a,o)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,o]=t;this[n](a,o)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class PS extends lv{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:a,data:o=[],_dataset:l}=n,u=this.chart._animationsDisabled;let{start:h,count:f}=Tx(n,o,u);this._drawStart=h,this._drawCount=f,Ex(n)&&(h=0,f=o.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=o;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(a,void 0,{animated:!u,options:g},t),this.updateElements(o,h,f,t)}updateElements(t,n,a,o){const l=o==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(n,o),v=u.axis,_=h.axis,{spanGaps:S,segment:x}=this.options,T=Or(S)?S:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||l||o==="none",D=n+a,R=t.length;let q=n>0&&this.getParsed(n-1);for(let H=0;H<R;++H){const $=t[H],P=O?$:{};if(H<n||H>=D){P.skip=!0;continue}const X=this.getParsed(H),Q=Bt(X[_]),at=P[v]=u.getPixelForValue(X[v],H),it=P[_]=l||Q?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,X,f):X[_],H);P.skip=isNaN(at)||isNaN(it)||Q,P.stop=H>0&&Math.abs(X[v]-q[v])>T,x&&(P.parsed=X,P.raw=g.data[H]),y&&(P.options=p||this.resolveDataElementOptions(H,$.active?"active":o)),O||this.updateElement($,H,P,o),q=X}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,o=t.data||[];if(!o.length)return a;const l=o[0].size(this.resolveDataElementOptions(0)),u=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(a,l,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Gi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Cf{static override(t){Object.assign(Cf.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Gi()}parse(){return Gi()}format(){return Gi()}add(){return Gi()}diff(){return Gi()}startOf(){return Gi()}endOf(){return Gi()}}var $S={_date:Cf};function IS(i,t,n,a){const{controller:o,data:l,_sorted:u}=i,h=o._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&l.length){const g=h._reversePixels?bx:es;if(a){if(o._sharedOptions){const p=l[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const v=g(l,t,n-y),_=g(l,t,n+y);return{lo:v.lo,hi:_.hi}}}}else{const p=g(l,t,n);if(f){const{vScale:y}=o._cachedMeta,{_parsed:v}=i,_=v.slice(0,p.lo+1).reverse().findIndex(x=>!Bt(x[y.axis]));p.lo-=Math.max(0,_);const S=v.slice(p.hi).findIndex(x=>!Bt(x[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:l.length-1}}function Kl(i,t,n,a,o){const l=i.getSortedVisibleDatasetMetas(),u=n[t];for(let h=0,f=l.length;h<f;++h){const{index:g,data:p}=l[h],{lo:y,hi:v}=IS(l[h],t,u,o);for(let _=y;_<=v;++_){const S=p[_];S.skip||a(S,g,_)}}}function VS(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(a,o){const l=t?Math.abs(a.x-o.x):0,u=n?Math.abs(a.y-o.y):0;return Math.sqrt(Math.pow(l,2)+Math.pow(u,2))}}function Dh(i,t,n,a,o){const l=[];return!o&&!i.isPointInArea(t)||Kl(i,n,t,function(h,f,g){!o&&!Cr(h,i.chartArea,0)||h.inRange(t.x,t.y,a)&&l.push({element:h,datasetIndex:f,index:g})},!0),l}function GS(i,t,n,a){let o=[];function l(u,h,f){const{startAngle:g,endAngle:p}=u.getProps(["startAngle","endAngle"],a),{angle:y}=mx(u,{x:t.x,y:t.y});Pb(y,g,p)&&o.push({element:u,datasetIndex:h,index:f})}return Kl(i,n,t,l),o}function YS(i,t,n,a,o,l){let u=[];const h=VS(n);let f=Number.POSITIVE_INFINITY;function g(p,y,v){const _=p.inRange(t.x,t.y,o);if(a&&!_)return;const S=p.getCenterPoint(o);if(!(!!l||i.isPointInArea(S))&&!_)return;const T=h(t,S);T<f?(u=[{element:p,datasetIndex:y,index:v}],f=T):T===f&&u.push({element:p,datasetIndex:y,index:v})}return Kl(i,n,t,g),u}function jh(i,t,n,a,o,l){return!l&&!i.isPointInArea(t)?[]:n==="r"&&!a?GS(i,t,n,o):YS(i,t,n,a,o,l)}function by(i,t,n,a,o){const l=[],u=n==="x"?"inXRange":"inYRange";let h=!1;return Kl(i,n,t,(f,g,p)=>{f[u]&&f[u](t[n],o)&&(l.push({element:f,datasetIndex:g,index:p}),h=h||f.inRange(t.x,t.y,o))}),a&&!h?[]:l}var KS={modes:{index(i,t,n,a){const o=Wi(t,i),l=n.axis||"x",u=n.includeInvisible||!1,h=n.intersect?Dh(i,o,l,a,u):jh(i,o,l,!1,a,u),f=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const p=h[0].index,y=g.data[p];y&&!y.skip&&f.push({element:y,datasetIndex:g.index,index:p})}),f):[]},dataset(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;let h=n.intersect?Dh(i,o,l,a,u):jh(i,o,l,!1,a,u);if(h.length>0){const f=h[0].datasetIndex,g=i.getDatasetMeta(f).data;h=[];for(let p=0;p<g.length;++p)h.push({element:g[p],datasetIndex:f,index:p})}return h},point(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return Dh(i,o,l,a,u)},nearest(i,t,n,a){const o=Wi(t,i),l=n.axis||"xy",u=n.includeInvisible||!1;return jh(i,o,l,n.intersect,a,u)},x(i,t,n,a){const o=Wi(t,i);return by(i,o,"x",n.intersect,a)},y(i,t,n,a){const o=Wi(t,i);return by(i,o,"y",n.intersect,a)}}};const cv=["left","top","right","bottom"];function lr(i,t){return i.filter(n=>n.pos===t)}function vy(i,t){return i.filter(n=>cv.indexOf(n.pos)===-1&&n.box.axis===t)}function cr(i,t){return i.sort((n,a)=>{const o=t?a:n,l=t?n:a;return o.weight===l.weight?o.index-l.index:o.weight-l.weight})}function FS(i){const t=[];let n,a,o,l,u,h;for(n=0,a=(i||[]).length;n<a;++n)o=i[n],{position:l,options:{stack:u,stackWeight:h=1}}=o,t.push({index:n,box:o,pos:l,horizontal:o.isHorizontal(),weight:o.weight,stack:u&&l+u,stackWeight:h});return t}function WS(i){const t={};for(const n of i){const{stack:a,pos:o,stackWeight:l}=n;if(!a||!cv.includes(o))continue;const u=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}return t}function XS(i,t){const n=WS(i),{vBoxMaxWidth:a,hBoxMaxHeight:o}=t;let l,u,h;for(l=0,u=i.length;l<u;++l){h=i[l];const{fullSize:f}=h.box,g=n[h.stack],p=g&&h.stackWeight/g.weight;h.horizontal?(h.width=p?p*a:f&&t.availableWidth,h.height=o):(h.width=a,h.height=p?p*o:f&&t.availableHeight)}return n}function QS(i){const t=FS(i),n=cr(t.filter(g=>g.box.fullSize),!0),a=cr(lr(t,"left"),!0),o=cr(lr(t,"right")),l=cr(lr(t,"top"),!0),u=cr(lr(t,"bottom")),h=vy(t,"x"),f=vy(t,"y");return{fullSize:n,leftAndTop:a.concat(l),rightAndBottom:o.concat(f).concat(u).concat(h),chartArea:lr(t,"chartArea"),vertical:a.concat(o).concat(f),horizontal:l.concat(u).concat(h)}}function _y(i,t,n,a){return Math.max(i[n],t[n])+Math.max(i[a],t[a])}function uv(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function JS(i,t,n,a){const{pos:o,box:l}=n,u=i.maxPadding;if(!St(o)){n.size&&(i[o]-=n.size);const y=a[n.stack]||{size:0,count:1};y.size=Math.max(y.size,n.horizontal?l.height:l.width),n.size=y.size/y.count,i[o]+=n.size}l.getPadding&&uv(u,l.getPadding());const h=Math.max(0,t.outerWidth-_y(u,i,"left","right")),f=Math.max(0,t.outerHeight-_y(u,i,"top","bottom")),g=h!==i.w,p=f!==i.h;return i.w=h,i.h=f,n.horizontal?{same:g,other:p}:{same:p,other:g}}function ZS(i){const t=i.maxPadding;function n(a){const o=Math.max(t[a]-i[a],0);return i[a]+=o,o}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function tT(i,t){const n=t.maxPadding;function a(o){const l={left:0,top:0,right:0,bottom:0};return o.forEach(u=>{l[u]=Math.max(t[u],n[u])}),l}return a(i?["left","right"]:["top","bottom"])}function gr(i,t,n,a){const o=[];let l,u,h,f,g,p;for(l=0,u=i.length,g=0;l<u;++l){h=i[l],f=h.box,f.update(h.width||t.w,h.height||t.h,tT(h.horizontal,t));const{same:y,other:v}=JS(t,n,h,a);g|=y&&o.length,p=p||v,f.fullSize||o.push(h)}return g&&gr(o,t,n,a)||p}function dl(i,t,n,a,o){i.top=n,i.left=t,i.right=t+a,i.bottom=n+o,i.width=a,i.height=o}function wy(i,t,n,a){const o=n.padding;let{x:l,y:u}=t;for(const h of i){const f=h.box,g=a[h.stack]||{placed:0,weight:1},p=h.stackWeight/g.weight||1;if(h.horizontal){const y=t.w*p,v=g.size||f.height;Ul(g.start)&&(u=g.start),f.fullSize?dl(f,o.left,u,n.outerWidth-o.right-o.left,v):dl(f,t.left+g.placed,u,y,v),g.start=u,g.placed+=y,u=f.bottom}else{const y=t.h*p,v=g.size||f.width;Ul(g.start)&&(l=g.start),f.fullSize?dl(f,l,o.top,v,n.outerHeight-o.bottom-o.top):dl(f,l,t.top+g.placed,v,y),g.start=l,g.placed+=y,l=f.right}}t.x=l,t.y=u}var nn={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,a){if(!i)return;const o=sn(i.options.layout.padding),l=Math.max(t-o.width,0),u=Math.max(n-o.height,0),h=QS(i.boxes),f=h.vertical,g=h.horizontal;Mt(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const p=f.reduce((x,T)=>T.box.options&&T.box.options.display===!1?x:x+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:n,padding:o,availableWidth:l,availableHeight:u,vBoxMaxWidth:l/2/p,hBoxMaxHeight:u/2}),v=Object.assign({},o);uv(v,sn(a));const _=Object.assign({maxPadding:v,w:l,h:u,x:o.left,y:o.top},o),S=XS(f.concat(g),y);gr(h.fullSize,_,y,S),gr(f,_,y,S),gr(g,_,y,S)&&gr(f,_,y,S),ZS(_),wy(h.leftAndTop,_,y,S),_.x+=_.w,_.y+=_.h,wy(h.rightAndBottom,_,y,S),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Mt(h.chartArea,x=>{const T=x.box;Object.assign(T,i.chartArea),T.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class hv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,o){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,o?Math.floor(n/o):a)}}isAttached(t){return!0}updateConfig(t){}}class eT extends hv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Ml="$chartjs",nT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xy=i=>i===null||i==="";function iT(i,t){const n=i.style,a=i.getAttribute("height"),o=i.getAttribute("width");if(i[Ml]={initial:{height:a,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",xy(o)){const l=ly(i,"width");l!==void 0&&(i.width=l)}if(xy(a))if(i.style.height==="")i.height=i.width/(t||2);else{const l=ly(i,"height");l!==void 0&&(i.height=l)}return i}const fv=mS?{passive:!0}:!1;function sT(i,t,n){i&&i.addEventListener(t,n,fv)}function aT(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,fv)}function rT(i,t){const n=nT[i.type]||i.type,{x:a,y:o}=Wi(i,t);return{type:n,chart:t,native:i,x:a!==void 0?a:null,y:o!==void 0?o:null}}function Hl(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function oT(i,t,n){const a=i.canvas,o=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||Hl(h.addedNodes,a),u=u&&!Hl(h.removedNodes,a);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}function lT(i,t,n){const a=i.canvas,o=new MutationObserver(l=>{let u=!1;for(const h of l)u=u||Hl(h.removedNodes,a),u=u&&!Hl(h.addedNodes,a);u&&n()});return o.observe(document,{childList:!0,subtree:!0}),o}const Rr=new Map;let Sy=0;function dv(){const i=window.devicePixelRatio;i!==Sy&&(Sy=i,Rr.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function cT(i,t){Rr.size||window.addEventListener("resize",dv),Rr.set(i,t)}function uT(i){Rr.delete(i),Rr.size||window.removeEventListener("resize",dv)}function hT(i,t,n){const a=i.canvas,o=a&&Of(a);if(!o)return;const l=Vb((h,f)=>{const g=o.clientWidth;n(h,f),g<o.clientWidth&&n()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,p=f.contentRect.height;g===0&&p===0||l(g,p)});return u.observe(o),cT(i,l),u}function Nh(i,t,n){n&&n.disconnect(),t==="resize"&&uT(i)}function fT(i,t,n){const a=i.canvas,o=Vb(l=>{i.ctx!==null&&n(rT(l,i))},i);return sT(a,t,o),o}class dT extends hv{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(iT(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[Ml])return!1;const a=n[Ml].initial;["height","width"].forEach(l=>{const u=a[l];Bt(u)?n.removeAttribute(l):n.setAttribute(l,u)});const o=a.style||{};return Object.keys(o).forEach(l=>{n.style[l]=o[l]}),n.width=n.width,delete n[Ml],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const o=t.$proxies||(t.$proxies={}),u={attach:oT,detach:lT,resize:hT}[n]||fT;o[n]=u(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),o=a[n];if(!o)return;({attach:Nh,detach:Nh,resize:Nh}[n]||aT)(t,n,o),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,o){return gS(t,n,a,o)}isAttached(t){const n=t&&Of(t);return!!(n&&n.isConnected)}}function gT(i){return!Af()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?eT:dT}class os{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return Or(this.x)&&Or(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const o={};return t.forEach(l=>{o[l]=a[l]&&a[l].active()?a[l]._to:this[l]}),o}}function mT(i,t){const n=i.options.ticks,a=pT(i),o=Math.min(n.maxTicksLimit||a,a),l=n.major.enabled?bT(t):[],u=l.length,h=l[0],f=l[u-1],g=[];if(u>o)return vT(t,g,l,u/o),g;const p=yT(l,t,o);if(u>0){let y,v;const _=u>1?Math.round((f-h)/(u-1)):null;for(gl(t,g,p,Bt(_)?0:h-_,h),y=0,v=u-1;y<v;y++)gl(t,g,p,l[y],l[y+1]);return gl(t,g,p,f,Bt(_)?t.length:f+_),g}return gl(t,g,p),g}function pT(i){const t=i.options.offset,n=i._tickSize(),a=i._length/n+(t?0:1),o=i._maxLength/n;return Math.floor(Math.min(a,o))}function yT(i,t,n){const a=_T(i),o=t.length/n;if(!a)return Math.max(o,1);const l=ux(a);for(let u=0,h=l.length-1;u<h;u++){const f=l[u];if(f>o)return f}return Math.max(o,1)}function bT(i){const t=[];let n,a;for(n=0,a=i.length;n<a;n++)i[n].major&&t.push(n);return t}function vT(i,t,n,a){let o=0,l=n[0],u;for(a=Math.ceil(a),u=0;u<i.length;u++)u===l&&(t.push(i[u]),o++,l=n[o*a])}function gl(i,t,n,a,o){const l=xt(a,0),u=Math.min(xt(o,i.length),i.length);let h=0,f,g,p;for(n=Math.ceil(n),o&&(f=o-a,n=f/Math.floor(f/n)),p=l;p<0;)h++,p=Math.round(l+h*n);for(g=Math.max(l,0);g<u;g++)g===p&&(t.push(i[g]),h++,p=Math.round(l+h*n))}function _T(i){const t=i.length;let n,a;if(t<2)return!1;for(a=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==a)return!1;return a}const wT=i=>i==="left"?"right":i==="right"?"left":i,Ty=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,Ey=(i,t)=>Math.min(t||i,i);function Ay(i,t){const n=[],a=i.length/t,o=i.length;let l=0;for(;l<o;l+=a)n.push(i[Math.floor(l)]);return n}function xT(i,t,n){const a=i.ticks.length,o=Math.min(t,a-1),l=i._startPixel,u=i._endPixel,h=1e-6;let f=i.getPixelForTick(o),g;if(!(n&&(a===1?g=Math.max(f-l,u-f):t===0?g=(i.getPixelForTick(1)-f)/2:g=(f-i.getPixelForTick(o-1))/2,f+=o<t?g:-g,f<l-h||f>u+h)))return f}function ST(i,t){Mt(i,n=>{const a=n.gc,o=a.length/2;let l;if(o>t){for(l=0;l<o;++l)delete n.data[a[l]];a.splice(0,o)}})}function ur(i){return i.drawTicks?i.tickLength:0}function Oy(i,t){if(!i.display)return 0;const n=be(i.font,t),a=sn(i.padding);return(ie(i.text)?i.text.length:1)*n.lineHeight+a.height}function TT(i,t){return rs(i,{scale:t,type:"scale"})}function ET(i,t,n){return rs(i,{tick:n,index:t,type:"tick"})}function AT(i,t,n){let a=wf(i);return(n&&t!=="right"||!n&&t==="right")&&(a=wT(a)),a}function OT(i,t,n,a){const{top:o,left:l,bottom:u,right:h,chart:f}=i,{chartArea:g,scales:p}=f;let y=0,v,_,S;const x=u-o,T=h-l;if(i.isHorizontal()){if(_=ye(a,l,h),St(n)){const O=Object.keys(n)[0],D=n[O];S=p[O].getPixelForValue(D)+x-t}else n==="center"?S=(g.bottom+g.top)/2+x-t:S=Ty(i,n,t);v=h-l}else{if(St(n)){const O=Object.keys(n)[0],D=n[O];_=p[O].getPixelForValue(D)-T+t}else n==="center"?_=(g.left+g.right)/2-T+t:_=Ty(i,n,t);S=ye(a,u,o),y=n==="left"?-hn:hn}return{titleX:_,titleY:S,maxWidth:v,rotation:y}}class ua extends os{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:o}=this;return t=yn(t,Number.POSITIVE_INFINITY),n=yn(n,Number.NEGATIVE_INFINITY),a=yn(a,Number.POSITIVE_INFINITY),o=yn(o,Number.NEGATIVE_INFINITY),{min:yn(t,a),max:yn(n,o),minDefined:ve(t),maxDefined:ve(n)}}getMinMax(t){let{min:n,max:a,minDefined:o,maxDefined:l}=this.getUserBounds(),u;if(o&&l)return{min:n,max:a};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),o||(n=Math.min(n,u.min)),l||(a=Math.max(a,u.max));return n=l&&n>a?a:n,a=o&&n>a?n:a,{min:yn(n,yn(a,n)),max:yn(a,yn(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pt(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:o,grace:l,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Yx(this,l,o),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Ay(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=mT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pt(this.options.afterUpdate,[this])}beforeSetDimensions(){Pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,o,l;for(a=0,o=t.length;a<o;a++)l=t[a],l.label=Pt(n.callback,[l.value,a,t],this)}afterTickToLabelConversion(){Pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=Ey(this.ticks.length,t.ticks.maxTicksLimit),o=n.minRotation||0,l=n.maxRotation;let u=o,h,f,g;if(!this._isVisible()||!n.display||o>=l||a<=1||!this.isHorizontal()){this.labelRotation=o;return}const p=this._getLabelSizes(),y=p.widest.width,v=p.highest.height,_=en(this.chart.width-y,0,this.maxWidth);h=t.offset?this.maxWidth/a:_/(a-1),y+6>h&&(h=_/(a-(t.offset?.5:1)),f=this.maxHeight-ur(t.grid)-n.padding-Oy(t.title,this.chart.options.font),g=Math.sqrt(y*y+v*v),u=gx(Math.min(Math.asin(en((p.highest.height+6)/h,-1,1)),Math.asin(en(f/g,-1,1))-Math.asin(en(v/g,-1,1)))),u=Math.max(o,Math.min(l,u))),this.labelRotation=u}afterCalculateLabelRotation(){Pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:o,grid:l}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=Oy(o,n.options.font);if(h?(t.width=this.maxWidth,t.height=ur(l)+f):(t.height=this.maxHeight,t.width=ur(l)+f),a.display&&this.ticks.length){const{first:g,last:p,widest:y,highest:v}=this._getLabelSizes(),_=a.padding*2,S=ts(this.labelRotation),x=Math.cos(S),T=Math.sin(S);if(h){const O=a.mirror?0:T*y.width+x*v.height;t.height=Math.min(this.maxHeight,t.height+O+_)}else{const O=a.mirror?0:x*y.width+T*v.height;t.width=Math.min(this.maxWidth,t.width+O+_)}this._calculatePadding(g,p,T,x)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,o){const{ticks:{align:l,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;f?g?(v=o*t.width,_=a*n.height):(v=a*t.height,_=o*n.width):l==="start"?_=n.width:l==="end"?v=t.width:l!=="inner"&&(v=t.width/2,_=n.width/2),this.paddingLeft=Math.max((v-p+u)*this.width/(this.width-p),0),this.paddingRight=Math.max((_-y+u)*this.width/(this.width-y),0)}else{let p=n.height/2,y=t.height/2;l==="start"?(p=0,y=t.height):l==="end"&&(p=n.height,y=0),this.paddingTop=p+u,this.paddingBottom=y+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)Bt(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=Ay(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:o,_longestTextCache:l}=this,u=[],h=[],f=Math.floor(n/Ey(n,a));let g=0,p=0,y,v,_,S,x,T,O,D,R,q,H;for(y=0;y<n;y+=f){if(S=t[y].label,x=this._resolveTickFontOptions(y),o.font=T=x.string,O=l[T]=l[T]||{data:{},gc:[]},D=x.lineHeight,R=q=0,!Bt(S)&&!ie(S))R=iy(o,O.data,O.gc,R,S),q=D;else if(ie(S))for(v=0,_=S.length;v<_;++v)H=S[v],!Bt(H)&&!ie(H)&&(R=iy(o,O.data,O.gc,R,H),q+=D);u.push(R),h.push(q),g=Math.max(R,g),p=Math.max(q,p)}ST(l,n);const $=u.indexOf(g),P=h.indexOf(p),X=Q=>({width:u[Q]||0,height:h[Q]||0});return{first:X(0),last:X(n-1),widest:X($),highest:X(P),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return yx(this._alignToPixels?Vi(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=ET(this.getContext(),t,a))}return this.$context||(this.$context=TT(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=ts(this.labelRotation),a=Math.abs(Math.cos(n)),o=Math.abs(Math.sin(n)),l=this._getLabelSizes(),u=t.autoSkipPadding||0,h=l?l.widest.width+u:0,f=l?l.highest.height+u:0;return this.isHorizontal()?f*a>h*o?h/a:f/o:f*o<h*a?f/a:h/o}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,o=this.options,{grid:l,position:u,border:h}=o,f=l.offset,g=this.isHorizontal(),y=this.ticks.length+(f?1:0),v=ur(l),_=[],S=h.setContext(this.getContext()),x=S.display?S.width:0,T=x/2,O=function(U){return Vi(a,U,x)};let D,R,q,H,$,P,X,Q,at,it,rt,Ct;if(u==="top")D=O(this.bottom),P=this.bottom-v,Q=D-T,it=O(t.top)+T,Ct=t.bottom;else if(u==="bottom")D=O(this.top),it=t.top,Ct=O(t.bottom)-T,P=D+T,Q=this.top+v;else if(u==="left")D=O(this.right),$=this.right-v,X=D-T,at=O(t.left)+T,rt=t.right;else if(u==="right")D=O(this.left),at=t.left,rt=O(t.right)-T,$=D+T,X=this.left+v;else if(n==="x"){if(u==="center")D=O((t.top+t.bottom)/2+.5);else if(St(u)){const U=Object.keys(u)[0],G=u[U];D=O(this.chart.scales[U].getPixelForValue(G))}it=t.top,Ct=t.bottom,P=D+T,Q=P+v}else if(n==="y"){if(u==="center")D=O((t.left+t.right)/2);else if(St(u)){const U=Object.keys(u)[0],G=u[U];D=O(this.chart.scales[U].getPixelForValue(G))}$=D-T,X=$-v,at=t.left,rt=t.right}const Dt=xt(o.ticks.maxTicksLimit,y),pt=Math.max(1,Math.ceil(y/Dt));for(R=0;R<y;R+=pt){const U=this.getContext(R),G=l.setContext(U),F=h.setContext(U),tt=G.lineWidth,ot=G.color,A=F.dash||[],L=F.dashOffset,W=G.tickWidth,J=G.tickColor,lt=G.tickBorderDash||[],ft=G.tickBorderDashOffset;q=xT(this,R,f),q!==void 0&&(H=Vi(a,q,tt),g?$=X=at=rt=H:P=Q=it=Ct=H,_.push({tx1:$,ty1:P,tx2:X,ty2:Q,x1:at,y1:it,x2:rt,y2:Ct,width:tt,color:ot,borderDash:A,borderDashOffset:L,tickWidth:W,tickColor:J,tickBorderDash:lt,tickBorderDashOffset:ft}))}return this._ticksLength=y,this._borderValue=D,_}_computeLabelItems(t){const n=this.axis,a=this.options,{position:o,ticks:l}=a,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:p,mirror:y}=l,v=ur(a.grid),_=v+p,S=y?-p:_,x=-ts(this.labelRotation),T=[];let O,D,R,q,H,$,P,X,Q,at,it,rt,Ct="middle";if(o==="top")$=this.bottom-S,P=this._getXAxisLabelAlignment();else if(o==="bottom")$=this.top+S,P=this._getXAxisLabelAlignment();else if(o==="left"){const pt=this._getYAxisLabelAlignment(v);P=pt.textAlign,H=pt.x}else if(o==="right"){const pt=this._getYAxisLabelAlignment(v);P=pt.textAlign,H=pt.x}else if(n==="x"){if(o==="center")$=(t.top+t.bottom)/2+_;else if(St(o)){const pt=Object.keys(o)[0],U=o[pt];$=this.chart.scales[pt].getPixelForValue(U)+_}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(o==="center")H=(t.left+t.right)/2-_;else if(St(o)){const pt=Object.keys(o)[0],U=o[pt];H=this.chart.scales[pt].getPixelForValue(U)}P=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(f==="start"?Ct="top":f==="end"&&(Ct="bottom"));const Dt=this._getLabelSizes();for(O=0,D=h.length;O<D;++O){R=h[O],q=R.label;const pt=l.setContext(this.getContext(O));X=this.getPixelForTick(O)+l.labelOffset,Q=this._resolveTickFontOptions(O),at=Q.lineHeight,it=ie(q)?q.length:1;const U=it/2,G=pt.color,F=pt.textStrokeColor,tt=pt.textStrokeWidth;let ot=P;u?(H=X,P==="inner"&&(O===D-1?ot=this.options.reverse?"left":"right":O===0?ot=this.options.reverse?"right":"left":ot="center"),o==="top"?g==="near"||x!==0?rt=-it*at+at/2:g==="center"?rt=-Dt.highest.height/2-U*at+at:rt=-Dt.highest.height+at/2:g==="near"||x!==0?rt=at/2:g==="center"?rt=Dt.highest.height/2-U*at:rt=Dt.highest.height-it*at,y&&(rt*=-1),x!==0&&!pt.showLabelBackdrop&&(H+=at/2*Math.sin(x))):($=X,rt=(1-it)*at/2);let A;if(pt.showLabelBackdrop){const L=sn(pt.backdropPadding),W=Dt.heights[O],J=Dt.widths[O];let lt=rt-L.top,ft=0-L.left;switch(Ct){case"middle":lt-=W/2;break;case"bottom":lt-=W;break}switch(P){case"center":ft-=J/2;break;case"right":ft-=J;break;case"inner":O===D-1?ft-=J:O>0&&(ft-=J/2);break}A={left:ft,top:lt,width:J+L.width,height:W+L.height,color:pt.backdropColor}}T.push({label:q,font:Q,textOffset:rt,options:{rotation:x,color:G,strokeColor:F,strokeWidth:tt,textAlign:ot,textBaseline:Ct,translation:[H,$],backdrop:A}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-ts(this.labelRotation))return t==="top"?"left":"right";let o="center";return n.align==="start"?o="left":n.align==="end"?o="right":n.align==="inner"&&(o="inner"),o}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:o,padding:l}}=this.options,u=this._getLabelSizes(),h=t+l,f=u.widest.width;let g,p;return n==="left"?o?(p=this.right+l,a==="near"?g="left":a==="center"?(g="center",p+=f/2):(g="right",p+=f)):(p=this.right-h,a==="near"?g="right":a==="center"?(g="center",p-=f/2):(g="left",p=this.left)):n==="right"?o?(p=this.left+l,a==="near"?g="right":a==="center"?(g="center",p-=f/2):(g="left",p-=f)):(p=this.left+h,a==="near"?g="left":a==="center"?(g="center",p+=f/2):(g="right",p=this.right)):g="right",{textAlign:g,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:o,width:l,height:u}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,o,l,u),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const o=this.ticks.findIndex(l=>l.value===t);return o>=0?n.setContext(this.getContext(o)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let l,u;const h=(f,g,p)=>{!p.width||!p.color||(a.save(),a.lineWidth=p.width,a.strokeStyle=p.color,a.setLineDash(p.borderDash||[]),a.lineDashOffset=p.borderDashOffset,a.beginPath(),a.moveTo(f.x,f.y),a.lineTo(g.x,g.y),a.stroke(),a.restore())};if(n.display)for(l=0,u=o.length;l<u;++l){const f=o[l];n.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:o}}=this,l=a.setContext(this.getContext()),u=a.display?l.width:0;if(!u)return;const h=o.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,p,y,v;this.isHorizontal()?(g=Vi(t,this.left,u)-u/2,p=Vi(t,this.right,h)+h/2,y=v=f):(y=Vi(t,this.top,u)-u/2,v=Vi(t,this.bottom,h)+h/2,g=p=f),n.save(),n.lineWidth=l.width,n.strokeStyle=l.color,n.beginPath(),n.moveTo(g,y),n.lineTo(p,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,o=this._computeLabelArea();o&&Vl(a,o);const l=this.getLabelItems(t);for(const u of l){const h=u.options,f=u.font,g=u.label,p=u.textOffset;kr(a,g,0,p,f,h)}o&&Gl(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:o}}=this;if(!a.display)return;const l=be(a.font),u=sn(a.padding),h=a.align;let f=l.lineHeight/2;n==="bottom"||n==="center"||St(n)?(f+=u.bottom,ie(a.text)&&(f+=l.lineHeight*(a.text.length-1))):f+=u.top;const{titleX:g,titleY:p,maxWidth:y,rotation:v}=OT(this,f,n,h);kr(t,a.text,0,0,l,{color:a.color,maxWidth:y,rotation:v,textAlign:AT(h,n,o),textBaseline:"middle",translation:[g,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=xt(t.grid&&t.grid.z,-1),o=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ua.prototype.draw?[{z:n,draw:l=>{this.draw(l)}}]:[{z:a,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o,draw:()=>{this.drawBorder()}},{z:n,draw:l=>{this.drawLabels(l)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",o=[];let l,u;for(l=0,u=n.length;l<u;++l){const h=n[l];h[a]===this.id&&(!t||h.type===t)&&o.push(h)}return o}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return be(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ml{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;RT(n)&&(a=this.register(n));const o=this.items,l=t.id,u=this.scope+"."+l;if(!l)throw new Error("class does not have id: "+t);return l in o||(o[l]=t,CT(t,u,a),this.override&&Wt.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,o=this.scope;a in n&&delete n[a],o&&a in Wt[o]&&(delete Wt[o][a],this.override&&delete as[a])}}function CT(i,t,n){const a=Ar(Object.create(null),[n?Wt.get(n):{},Wt.get(t),i.defaults]);Wt.set(t,a),i.defaultRoutes&&kT(t,i.defaultRoutes),i.descriptors&&Wt.describe(t,i.descriptors)}function kT(i,t){Object.keys(t).forEach(n=>{const a=n.split("."),o=a.pop(),l=[i].concat(a).join("."),u=t[n].split("."),h=u.pop(),f=u.join(".");Wt.route(l,o,f,h)})}function RT(i){return"id"in i&&"defaults"in i}class MT{constructor(){this.controllers=new ml(lv,"datasets",!0),this.elements=new ml(os,"elements"),this.plugins=new ml(Object,"plugins"),this.scales=new ml(ua,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(o=>{const l=a||this._getRegistryForType(o);a||l.isForType(o)||l===this.plugins&&o.id?this._exec(t,l,o):Mt(o,u=>{const h=a||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,n,a){const o=vf(t);Pt(a["before"+o],[],a),n[t](a),Pt(a["after"+o],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const o=n.get(t);if(o===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return o}}var vn=new MT;class DT{constructor(){this._init=void 0}notify(t,n,a,o){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const l=o?this._descriptors(t).filter(o):this._descriptors(t),u=this._notify(l,t,n,a);return n==="afterDestroy"&&(this._notify(l,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,n,a,o){o=o||{};for(const l of t){const u=l.plugin,h=u[a],f=[n,o,l.options];if(Pt(h,f,u)===!1&&o.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,o=xt(a.options&&a.options.plugins,{}),l=jT(a);return o===!1&&!n?[]:zT(t,l,o,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,o=(l,u)=>l.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(o(n,a),t,"stop"),this._notify(o(a,n),t,"start")}}function jT(i){const t={},n=[],a=Object.keys(vn.plugins.items);for(let l=0;l<a.length;l++)n.push(vn.getPlugin(a[l]));const o=i.plugins||[];for(let l=0;l<o.length;l++){const u=o[l];n.indexOf(u)===-1&&(n.push(u),t[u.id]=!0)}return{plugins:n,localIds:t}}function NT(i,t){return!t&&i===!1?null:i===!0?{}:i}function zT(i,{plugins:t,localIds:n},a,o){const l=[],u=i.getContext();for(const h of t){const f=h.id,g=NT(a[f],o);g!==null&&l.push({plugin:h,options:UT(i.config,{plugin:h,local:n[f]},g,u)})}return l}function UT(i,{plugin:t,local:n},a,o){const l=i.pluginScopeKeys(t),u=i.getOptionScopes(a,l);return n&&t.defaults&&u.push(t.defaults),i.createResolver(u,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xh(i,t){const n=Wt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function LT(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function BT(i,t){return i===t?"_index_":"_value_"}function Cy(i){if(i==="x"||i==="y"||i==="r")return i}function HT(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Qh(i,...t){if(Cy(i))return i;for(const n of t){const a=n.axis||HT(n.position)||i.length>1&&Cy(i[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function ky(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function qT(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===i||a.yAxisID===i);if(n.length)return ky(i,"x",n[0])||ky(i,"y",n[0])}return{}}function PT(i,t){const n=as[i.type]||{scales:{}},a=t.scales||{},o=Xh(i.type,t),l=Object.create(null);return Object.keys(a).forEach(u=>{const h=a[u];if(!St(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Qh(u,h,qT(u,i),Wt.scales[h.type]),g=BT(f,o),p=n.scales||{};l[u]=br(Object.create(null),[{axis:f},h,p[f],p[g]])}),i.data.datasets.forEach(u=>{const h=u.type||i.type,f=u.indexAxis||Xh(h,t),p=(as[h]||{}).scales||{};Object.keys(p).forEach(y=>{const v=LT(y,f),_=u[v+"AxisID"]||v;l[_]=l[_]||Object.create(null),br(l[_],[{axis:v},a[_],p[y]])})}),Object.keys(l).forEach(u=>{const h=l[u];br(h,[Wt.scales[h.type],Wt.scale])}),l}function gv(i){const t=i.options||(i.options={});t.plugins=xt(t.plugins,{}),t.scales=PT(i,t)}function mv(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function $T(i){return i=i||{},i.data=mv(i.data),gv(i),i}const Ry=new Map,pv=new Set;function pl(i,t){let n=Ry.get(i);return n||(n=t(),Ry.set(i,n),pv.add(n)),n}const hr=(i,t,n)=>{const a=zl(t,n);a!==void 0&&i.add(a)};class IT{constructor(t){this._config=$T(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=mv(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),gv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return pl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return pl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return pl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return pl(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let o=a.get(t);return(!o||n)&&(o=new Map,a.set(t,o)),o}getOptionScopes(t,n,a){const{options:o,type:l}=this,u=this._cachedScopes(t,a),h=u.get(n);if(h)return h;const f=new Set;n.forEach(p=>{t&&(f.add(t),p.forEach(y=>hr(f,t,y))),p.forEach(y=>hr(f,o,y)),p.forEach(y=>hr(f,as[l]||{},y)),p.forEach(y=>hr(f,Wt,y)),p.forEach(y=>hr(f,Kh,y))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),pv.has(n)&&u.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,as[n]||{},Wt.datasets[n]||{},{type:n},Wt,Kh]}resolveNamedOptions(t,n,a,o=[""]){const l={$shared:!0},{resolver:u,subPrefixes:h}=My(this._resolverCache,t,o);let f=u;if(GT(u,n)){l.$shared=!1,a=Si(a)?a():a;const g=this.createResolver(t,a,h);f=la(u,a,g)}for(const g of n)l[g]=f[g];return l}createResolver(t,n,a=[""],o){const{resolver:l}=My(this._resolverCache,t,a);return St(n)?la(l,n,void 0,o):l}}function My(i,t,n){let a=i.get(t);a||(a=new Map,i.set(t,a));const o=n.join();let l=a.get(o);return l||(l={resolver:Sf(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},a.set(o,l)),l}const VT=i=>St(i)&&Object.getOwnPropertyNames(i).some(t=>Si(i[t]));function GT(i,t){const{isScriptable:n,isIndexable:a}=Wb(i);for(const o of t){const l=n(o),u=a(o),h=(u||l)&&i[o];if(l&&(Si(h)||VT(h))||u&&ie(h))return!0}return!1}var YT="4.5.1";const KT=["top","bottom","left","right","chartArea"];function Dy(i,t){return i==="top"||i==="bottom"||KT.indexOf(i)===-1&&t==="x"}function jy(i,t){return function(n,a){return n[i]===a[i]?n[t]-a[t]:n[i]-a[i]}}function Ny(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Pt(n&&n.onComplete,[i],t)}function FT(i){const t=i.chart,n=t.options.animation;Pt(n&&n.onProgress,[i],t)}function yv(i){return Af()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Dl={},zy=i=>{const t=yv(i);return Object.values(Dl).filter(n=>n.canvas===t).pop()};function WT(i,t,n){const a=Object.keys(i);for(const o of a){const l=+o;if(l>=t){const u=i[o];delete i[o],(n>0||l>t)&&(i[l+n]=u)}}}function XT(i,t,n,a){return!n||i.type==="mouseout"?null:a?t:i}let Fl=class{static defaults=Wt;static instances=Dl;static overrides=as;static registry=vn;static version=YT;static getChart=zy;static register(...t){vn.add(...t),Uy()}static unregister(...t){vn.remove(...t),Uy()}constructor(t,n){const a=this.config=new IT(n),o=yv(t),l=zy(o);if(l)throw new Error("Canvas is already in use. Chart with ID '"+l.id+"' must be destroyed before the canvas with ID '"+l.canvas.id+"' can be reused.");const u=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||gT(o)),this.platform.updateConfig(a);const h=this.platform.acquireContext(o,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,p=f&&f.width;if(this.id=ex(),this.ctx=h,this.canvas=f,this.width=p,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=xx(y=>this.update(y),u.resizeDelay||0),this._dataChanges=[],Dl[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}qn.listen(this,"complete",Ny),qn.listen(this,"progress",FT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:o,_aspectRatio:l}=this;return Bt(t)?n&&l?l:o?a/o:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return vn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return sy(this.canvas,this.ctx),this}stop(){return qn.stop(this),this}resize(t,n){qn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,o=this.canvas,l=a.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(o,t,n,l),h=a.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,oy(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Pt(a.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Mt(n,(a,o)=>{a.id=o})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,o=Object.keys(a).reduce((u,h)=>(u[h]=!1,u),{});let l=[];n&&(l=l.concat(Object.keys(n).map(u=>{const h=n[u],f=Qh(u,h),g=f==="r",p=f==="x";return{options:h,dposition:g?"chartArea":p?"bottom":"left",dtype:g?"radialLinear":p?"category":"linear"}}))),Mt(l,u=>{const h=u.options,f=h.id,g=Qh(f,h),p=xt(h.type,u.dtype);(h.position===void 0||Dy(h.position,g)!==Dy(u.dposition))&&(h.position=u.dposition),o[f]=!0;let y=null;if(f in a&&a[f].type===p)y=a[f];else{const v=vn.getScale(p);y=new v({id:f,type:p,ctx:this.ctx,chart:this}),a[y.id]=y}y.init(h,t)}),Mt(o,(u,h)=>{u||delete a[h]}),Mt(a,u=>{nn.configure(this,u,u.options),nn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((o,l)=>o.index-l.index),a>n){for(let o=n;o<a;++o)this._destroyDatasetMeta(o);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(jy("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,o)=>{n.filter(l=>l===a._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,o;for(this._removeUnreferencedMetasets(),a=0,o=n.length;a<o;a++){const l=n[a];let u=this.getDatasetMeta(a);const h=l.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(a),u=this.getDatasetMeta(a)),u.type=h,u.indexAxis=l.indexAxis||Xh(h,this.options),u.order=l.order||0,u.index=a,u.label=""+l.label,u.visible=this.isDatasetVisible(a),u.controller)u.controller.updateIndex(a),u.controller.linkScales();else{const f=vn.getController(h),{datasetElementType:g,dataElementType:p}=Wt.datasets[h];Object.assign(f,{dataElementType:vn.getElement(p),datasetElementType:g&&vn.getElement(g)}),u.controller=new f(this,a),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Mt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const l=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,p=this.data.datasets.length;g<p;g++){const{controller:y}=this.getDatasetMeta(g),v=!o&&l.indexOf(y)===-1;y.buildOrUpdateElements(v),u=Math.max(+y.getMaxOverflow(),u)}u=this._minPadding=a.layout.autoPadding?u:0,this._updateLayout(u),o||Mt(l,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(jy("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Mt(this.scales,t=>{nn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!Fp(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:o,count:l}of n){const u=a==="_removeElements"?-l:l;WT(t,o,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=l=>new Set(t.filter(u=>u[0]===l).map((u,h)=>h+","+u.splice(1).join(","))),o=a(0);for(let l=1;l<n;l++)if(!Fp(o,a(l)))return;return Array.from(o).map(l=>l.split(",")).map(l=>({method:l[1],start:+l[2],count:+l[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],Mt(this.boxes,o=>{a&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,l)=>{o._idx=l}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Si(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),o={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(a.controller._update(n),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qn.has(this)?this.attached&&!qn.running(this)&&qn.start(this):(this.draw(),Ny({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:o}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,o)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let o,l;for(o=0,l=n.length;o<l;++o){const u=n[o];(!t||u.visible)&&a.push(u)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},o=av(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Vl(n,o),t.controller.draw(),o&&Gl(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Cr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,o){const l=KS.modes[n];return typeof l=="function"?l(this,t,a,o):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let o=a.filter(l=>l&&l._dataset===n).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(o)),o}getContext(){return this.$context||(this.$context=rs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const o=a?"show":"hide",l=this.getDatasetMeta(t),u=l.controller._resolveAnimations(void 0,o);Ul(n)?(l.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),u.update(l,{visible:a}),this.update(h=>h.datasetIndex===t?o:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),qn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),sy(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Dl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(l,u)=>{n.addEventListener(this,l,u),t[l]=u},o=(l,u,h)=>{l.offsetX=u,l.offsetY=h,this._eventHandler(l)};Mt(this.options.events,l=>a(l,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(f,g)=>{n.addEventListener(this,f,g),t[f]=g},o=(f,g)=>{t[f]&&(n.removeEventListener(this,f,g),delete t[f])},l=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{o("attach",h),this.attached=!0,this.resize(),a("resize",l),a("detach",u)};u=()=>{this.attached=!1,o("resize",l),this._stop(),this._resize(0,0),a("attach",h)},n.isAttached(this.canvas)?h():u()}unbindEvents(){Mt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Mt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const o=a?"set":"remove";let l,u,h,f;for(n==="dataset"&&(l=this.getDatasetMeta(t[0].datasetIndex),l.controller["_"+o+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[o+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:l,index:u})=>{const h=this.getDatasetMeta(l);if(!h)throw new Error("No dataset found at index "+l);return{datasetIndex:l,element:h.data[u],index:u}});!jl(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const o=this.options.hover,l=(f,g)=>f.filter(p=>!g.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),u=l(n,t),h=a?t:l(t,n);u.length&&this.updateHoverStyle(u,o.mode,!1),h.length&&o.mode&&this.updateHoverStyle(h,o.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},o=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,o)===!1)return;const l=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,o),(l||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:o=[],options:l}=this,u=n,h=this._getActiveElements(t,o,a,u),f=ox(t),g=XT(t,this._lastEvent,a,f);a&&(this._lastEvent=null,Pt(l.onHover,[t,h,this],this),f&&Pt(l.onClick,[t,h,this],this));const p=!jl(h,o);return(p||n)&&(this._active=h,this._updateHoverStyles(h,o,n)),this._lastEvent=g,p}_getActiveElements(t,n,a,o){if(t.type==="mouseout")return[];if(!a)return n;const l=this.options.hover;return this.getElementsAtEventForMode(t,l.mode,l,o)}};function Uy(){return Mt(Fl.instances,i=>i._plugins.invalidate())}function bv(i,t,n=t){i.lineCap=xt(n.borderCapStyle,t.borderCapStyle),i.setLineDash(xt(n.borderDash,t.borderDash)),i.lineDashOffset=xt(n.borderDashOffset,t.borderDashOffset),i.lineJoin=xt(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=xt(n.borderWidth,t.borderWidth),i.strokeStyle=xt(n.borderColor,t.borderColor)}function QT(i,t,n){i.lineTo(n.x,n.y)}function JT(i){return i.stepped?Ux:i.tension||i.cubicInterpolationMode==="monotone"?Lx:QT}function vv(i,t,n={}){const a=i.length,{start:o=0,end:l=a-1}=n,{start:u,end:h}=t,f=Math.max(o,u),g=Math.min(l,h),p=o<u&&l<u||o>h&&l>h;return{count:a,start:f,loop:t.loop,ilen:g<f&&!p?a+g-f:g-f}}function ZT(i,t,n,a){const{points:o,options:l}=t,{count:u,start:h,loop:f,ilen:g}=vv(o,n,a),p=JT(l);let{move:y=!0,reverse:v}=a||{},_,S,x;for(_=0;_<=g;++_)S=o[(h+(v?g-_:_))%u],!S.skip&&(y?(i.moveTo(S.x,S.y),y=!1):p(i,x,S,v,l.stepped),x=S);return f&&(S=o[(h+(v?g:0))%u],p(i,x,S,v,l.stepped)),!!f}function t1(i,t,n,a){const o=t.points,{count:l,start:u,ilen:h}=vv(o,n,a),{move:f=!0,reverse:g}=a||{};let p=0,y=0,v,_,S,x,T,O;const D=q=>(u+(g?h-q:q))%l,R=()=>{x!==T&&(i.lineTo(p,T),i.lineTo(p,x),i.lineTo(p,O))};for(f&&(_=o[D(0)],i.moveTo(_.x,_.y)),v=0;v<=h;++v){if(_=o[D(v)],_.skip)continue;const q=_.x,H=_.y,$=q|0;$===S?(H<x?x=H:H>T&&(T=H),p=(y*p+q)/++y):(R(),i.lineTo(q,H),S=$,y=0,x=T=H),O=H}R()}function Jh(i){const t=i.options,n=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?t1:ZT}function e1(i){return i.stepped?pS:i.tension||i.cubicInterpolationMode==="monotone"?yS:Xi}function n1(i,t,n,a){let o=t._path;o||(o=t._path=new Path2D,t.path(o,n,a)&&o.closePath()),bv(i,t.options),i.stroke(o)}function i1(i,t,n,a){const{segments:o,options:l}=t,u=Jh(t);for(const h of o)bv(i,l,h.style),i.beginPath(),u(i,t,h,{start:n,end:n+a-1})&&i.closePath(),i.stroke()}const s1=typeof Path2D=="function";function a1(i,t,n,a){s1&&!t.options.segment?n1(i,t,n,a):i1(i,t,n,a)}class Wl extends os{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const o=a.spanGaps?this._loop:this._fullLoop;lS(this._points,a,t,o,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=SS(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){const a=this.options,o=t[n],l=this.points,u=sv(this,{property:n,start:o,end:o});if(!u.length)return;const h=[],f=e1(a);let g,p;for(g=0,p=u.length;g<p;++g){const{start:y,end:v}=u[g],_=l[y],S=l[v];if(_===S){h.push(_);continue}const x=Math.abs((o-_[n])/(S[n]-_[n])),T=f(_,S,x,a.stepped);T[n]=t[n],h.push(T)}return h.length===1?h[0]:h}pathSegment(t,n,a){return Jh(this)(t,this,n,a)}path(t,n,a){const o=this.segments,l=Jh(this);let u=this._loop;n=n||0,a=a||this.points.length-n;for(const h of o)u&=l(t,this,h,{start:n,end:n+a-1});return!!u}draw(t,n,a,o){const l=this.options||{};(this.points||[]).length&&l.borderWidth&&(t.save(),a1(t,this,a,o),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Ly(i,t,n,a){const o=i.options,{[n]:l}=i.getProps([n],a);return Math.abs(t-l)<o.radius+o.hitRadius}class r1 extends os{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,a){const o=this.options,{x:l,y:u}=this.getProps(["x","y"],a);return Math.pow(t-l,2)+Math.pow(n-u,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(t,n){return Ly(this,t,"x",n)}inYRange(t,n){return Ly(this,t,"y",n)}getCenterPoint(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const a=n&&t.borderWidth||0;return(n+a)*2}draw(t,n){const a=this.options;this.skip||a.radius<.1||!Cr(this,n,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,Fh(t,a,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function o1(i,t,n){const a=i.segments,o=i.points,l=t.points,u=[];for(const h of a){let{start:f,end:g}=h;g=Xl(f,g,o);const p=Zh(n,o[f],o[g],h.loop);if(!t.segments){u.push({source:h,target:p,start:o[f],end:o[g]});continue}const y=sv(t,p);for(const v of y){const _=Zh(n,l[v.start],l[v.end],v.loop),S=iv(h,o,_);for(const x of S)u.push({source:x,target:v,start:{[n]:By(p,_,"start",Math.max)},end:{[n]:By(p,_,"end",Math.min)}})}}return u}function Zh(i,t,n,a){if(a)return;let o=t[i],l=n[i];return i==="angle"&&(o=_n(o),l=_n(l)),{property:i,start:o,end:l}}function l1(i,t){const{x:n=null,y:a=null}=i||{},o=t.points,l=[];return t.segments.forEach(({start:u,end:h})=>{h=Xl(u,h,o);const f=o[u],g=o[h];a!==null?(l.push({x:f.x,y:a}),l.push({x:g.x,y:a})):n!==null&&(l.push({x:n,y:f.y}),l.push({x:n,y:g.y}))}),l}function Xl(i,t,n){for(;t>i;t--){const a=n[t];if(!isNaN(a.x)&&!isNaN(a.y))break}return t}function By(i,t,n,a){return i&&t?a(i[n],t[n]):i?i[n]:t?t[n]:0}function _v(i,t){let n=[],a=!1;return ie(i)?(a=!0,n=i):n=l1(i,t),n.length?new Wl({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function Hy(i){return i&&i.fill!==!1}function c1(i,t,n){let o=i[t].fill;const l=[t];let u;if(!n)return o;for(;o!==!1&&l.indexOf(o)===-1;){if(!ve(o))return o;if(u=i[o],!u)return!1;if(u.visible)return o;l.push(o),o=u.fill}return!1}function u1(i,t,n){const a=g1(i);if(St(a))return isNaN(a.value)?!1:a;let o=parseFloat(a);return ve(o)&&Math.floor(o)===o?h1(a[0],t,o,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function h1(i,t,n,a){return(i==="-"||i==="+")&&(n=t+n),n===t||n<0||n>=a?!1:n}function f1(i,t){let n=null;return i==="start"?n=t.bottom:i==="end"?n=t.top:St(i)?n=t.getPixelForValue(i.value):t.getBasePixel&&(n=t.getBasePixel()),n}function d1(i,t,n){let a;return i==="start"?a=n:i==="end"?a=t.options.reverse?t.min:t.max:St(i)?a=i.value:a=t.getBaseValue(),a}function g1(i){const t=i.options,n=t.fill;let a=xt(n&&n.target,n);return a===void 0&&(a=!!t.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function m1(i){const{scale:t,index:n,line:a}=i,o=[],l=a.segments,u=a.points,h=p1(t,n);h.push(_v({x:null,y:t.bottom},a));for(let f=0;f<l.length;f++){const g=l[f];for(let p=g.start;p<=g.end;p++)y1(o,u[p],h)}return new Wl({points:o,options:{}})}function p1(i,t){const n=[],a=i.getMatchingVisibleMetas("line");for(let o=0;o<a.length;o++){const l=a[o];if(l.index===t)break;l.hidden||n.unshift(l.dataset)}return n}function y1(i,t,n){const a=[];for(let o=0;o<n.length;o++){const l=n[o],{first:u,last:h,point:f}=b1(l,t,"x");if(!(!f||u&&h)){if(u)a.unshift(f);else if(i.push(f),!h)break}}i.push(...a)}function b1(i,t,n){const a=i.interpolate(t,n);if(!a)return{};const o=a[n],l=i.segments,u=i.points;let h=!1,f=!1;for(let g=0;g<l.length;g++){const p=l[g],y=u[p.start][n],v=u[p.end][n];if(ia(o,y,v)){h=o===y,f=o===v;break}}return{first:h,last:f,point:a}}class wv{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,a){const{x:o,y:l,radius:u}=this;return n=n||{start:0,end:fn},t.arc(o,l,u,n.end,n.start,!0),!a.bounds}interpolate(t){const{x:n,y:a,radius:o}=this,l=t.angle;return{x:n+Math.cos(l)*o,y:a+Math.sin(l)*o,angle:l}}}function v1(i){const{chart:t,fill:n,line:a}=i;if(ve(n))return _1(t,n);if(n==="stack")return m1(i);if(n==="shape")return!0;const o=w1(i);return o instanceof wv?o:_v(o,a)}function _1(i,t){const n=i.getDatasetMeta(t);return n&&i.isDatasetVisible(t)?n.dataset:null}function w1(i){return(i.scale||{}).getPointPositionForValue?S1(i):x1(i)}function x1(i){const{scale:t={},fill:n}=i,a=f1(n,t);if(ve(a)){const o=t.isHorizontal();return{x:o?a:null,y:o?null:a}}return null}function S1(i){const{scale:t,fill:n}=i,a=t.options,o=t.getLabels().length,l=a.reverse?t.max:t.min,u=d1(n,t,l),h=[];if(a.grid.circular){const f=t.getPointPositionForValue(0,l);return new wv({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<o;++f)h.push(t.getPointPositionForValue(f,u));return h}function zh(i,t,n){const a=v1(t),{chart:o,index:l,line:u,scale:h,axis:f}=t,g=u.options,p=g.fill,y=g.backgroundColor,{above:v=y,below:_=y}=p||{},S=o.getDatasetMeta(l),x=av(o,S);a&&u.points.length&&(Vl(i,n),T1(i,{line:u,target:a,above:v,below:_,area:n,scale:h,axis:f,clip:x}),Gl(i))}function T1(i,t){const{line:n,target:a,above:o,below:l,area:u,scale:h,clip:f}=t,g=n._loop?"angle":t.axis;i.save();let p=l;l!==o&&(g==="x"?(qy(i,a,u.top),Uh(i,{line:n,target:a,color:o,scale:h,property:g,clip:f}),i.restore(),i.save(),qy(i,a,u.bottom)):g==="y"&&(Py(i,a,u.left),Uh(i,{line:n,target:a,color:l,scale:h,property:g,clip:f}),i.restore(),i.save(),Py(i,a,u.right),p=o)),Uh(i,{line:n,target:a,color:p,scale:h,property:g,clip:f}),i.restore()}function qy(i,t,n){const{segments:a,points:o}=t;let l=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,p=o[f],y=o[Xl(f,g,o)];l?(i.moveTo(p.x,p.y),l=!1):(i.lineTo(p.x,n),i.lineTo(p.x,p.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(y.x,n)}i.lineTo(t.first().x,n),i.closePath(),i.clip()}function Py(i,t,n){const{segments:a,points:o}=t;let l=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,p=o[f],y=o[Xl(f,g,o)];l?(i.moveTo(p.x,p.y),l=!1):(i.lineTo(n,p.y),i.lineTo(p.x,p.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(n,y.y)}i.lineTo(n,t.first().y),i.closePath(),i.clip()}function Uh(i,t){const{line:n,target:a,property:o,color:l,scale:u,clip:h}=t,f=o1(n,a,o);for(const{source:g,target:p,start:y,end:v}of f){const{style:{backgroundColor:_=l}={}}=g,S=a!==!0;i.save(),i.fillStyle=_,E1(i,u,h,S&&Zh(o,y,v)),i.beginPath();const x=!!n.pathSegment(i,g);let T;if(S){x?i.closePath():$y(i,a,v,o);const O=!!a.pathSegment(i,p,{move:x,reverse:!0});T=x&&O,T||$y(i,a,y,o)}i.closePath(),i.fill(T?"evenodd":"nonzero"),i.restore()}}function E1(i,t,n,a){const o=t.chart.chartArea,{property:l,start:u,end:h}=a||{};if(l==="x"||l==="y"){let f,g,p,y;l==="x"?(f=u,g=o.top,p=h,y=o.bottom):(f=o.left,g=u,p=o.right,y=h),i.beginPath(),n&&(f=Math.max(f,n.left),p=Math.min(p,n.right),g=Math.max(g,n.top),y=Math.min(y,n.bottom)),i.rect(f,g,p-f,y-g),i.clip()}}function $y(i,t,n,a){const o=t.interpolate(n,a);o&&i.lineTo(o.x,o.y)}var A1={id:"filler",afterDatasetsUpdate(i,t,n){const a=(i.data.datasets||[]).length,o=[];let l,u,h,f;for(u=0;u<a;++u)l=i.getDatasetMeta(u),h=l.dataset,f=null,h&&h.options&&h instanceof Wl&&(f={visible:i.isDatasetVisible(u),index:u,fill:u1(h,u,a),chart:i,axis:l.controller.options.indexAxis,scale:l.vScale,line:h}),l.$filler=f,o.push(f);for(u=0;u<a;++u)f=o[u],!(!f||f.fill===!1)&&(f.fill=c1(o,u,n.propagate))},beforeDraw(i,t,n){const a=n.drawTime==="beforeDraw",o=i.getSortedVisibleDatasetMetas(),l=i.chartArea;for(let u=o.length-1;u>=0;--u){const h=o[u].$filler;h&&(h.line.updateControlPoints(l,h.axis),a&&h.fill&&zh(i.ctx,h,l))}},beforeDatasetsDraw(i,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const a=i.getSortedVisibleDatasetMetas();for(let o=a.length-1;o>=0;--o){const l=a[o].$filler;Hy(l)&&zh(i.ctx,l,i.chartArea)}},beforeDatasetDraw(i,t,n){const a=t.meta.$filler;!Hy(a)||n.drawTime!=="beforeDatasetDraw"||zh(i.ctx,a,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Iy=(i,t)=>{let{boxHeight:n=t,boxWidth:a=t}=i;return i.usePointStyle&&(n=Math.min(n,t),a=i.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},O1=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class Vy extends os{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Pt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,o)=>t.sort(a,o,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,o=be(a.font),l=o.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Iy(a,l);let g,p;n.font=o.string,this.isHorizontal()?(g=this.maxWidth,p=this._fitRows(u,l,h,f)+10):(p=this.maxHeight,g=this._fitCols(u,o,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,o){const{ctx:l,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],p=o+h;let y=t;l.textAlign="left",l.textBaseline="middle";let v=-1,_=-p;return this.legendItems.forEach((S,x)=>{const T=a+n/2+l.measureText(S.text).width;(x===0||g[g.length-1]+T+2*h>u)&&(y+=p,g[g.length-(x>0?0:1)]=0,_+=p,v++),f[x]={left:0,top:_,row:v,width:T,height:o},g[g.length-1]+=T+h}),y}_fitCols(t,n,a,o){const{ctx:l,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],p=u-t;let y=h,v=0,_=0,S=0,x=0;return this.legendItems.forEach((T,O)=>{const{itemWidth:D,itemHeight:R}=C1(a,n,l,T,o);O>0&&_+R+2*h>p&&(y+=v+h,g.push({width:v,height:_}),S+=v+h,x++,v=_=0),f[O]={left:S,top:_,col:x,width:D,height:R},v=Math.max(v,D),_+=R+h}),y+=v,g.push({width:v,height:_}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:o},rtl:l}}=this,u=aa(l,this.left,this.width);if(this.isHorizontal()){let h=0,f=ye(a,this.left+o,this.right-this.lineWidths[h]);for(const g of n)h!==g.row&&(h=g.row,f=ye(a,this.left+o,this.right-this.lineWidths[h])),g.top+=this.top+t+o,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+o}else{let h=0,f=ye(a,this.top+t+o,this.bottom-this.columnSizes[h].height);for(const g of n)g.col!==h&&(h=g.col,f=ye(a,this.top+t+o,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+o,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+o}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Vl(t,this),this._draw(),Gl(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:o}=this,{align:l,labels:u}=t,h=Wt.color,f=aa(t.rtl,this.left,this.width),g=be(u.font),{padding:p}=u,y=g.size,v=y/2;let _;this.drawTitle(),o.textAlign=f.textAlign("left"),o.textBaseline="middle",o.lineWidth=.5,o.font=g.string;const{boxWidth:S,boxHeight:x,itemHeight:T}=Iy(u,y),O=function($,P,X){if(isNaN(S)||S<=0||isNaN(x)||x<0)return;o.save();const Q=xt(X.lineWidth,1);if(o.fillStyle=xt(X.fillStyle,h),o.lineCap=xt(X.lineCap,"butt"),o.lineDashOffset=xt(X.lineDashOffset,0),o.lineJoin=xt(X.lineJoin,"miter"),o.lineWidth=Q,o.strokeStyle=xt(X.strokeStyle,h),o.setLineDash(xt(X.lineDash,[])),u.usePointStyle){const at={radius:x*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:Q},it=f.xPlus($,S/2),rt=P+v;Kb(o,at,it,rt,u.pointStyleWidth&&S)}else{const at=P+Math.max((y-x)/2,0),it=f.leftForLtr($,S),rt=xr(X.borderRadius);o.beginPath(),Object.values(rt).some(Ct=>Ct!==0)?Wh(o,{x:it,y:at,w:S,h:x,radius:rt}):o.rect(it,at,S,x),o.fill(),Q!==0&&o.stroke()}o.restore()},D=function($,P,X){kr(o,X.text,$,P+T/2,g,{strikethrough:X.hidden,textAlign:f.textAlign(X.textAlign)})},R=this.isHorizontal(),q=this._computeTitleHeight();R?_={x:ye(l,this.left+p,this.right-a[0]),y:this.top+p+q,line:0}:_={x:this.left+p,y:ye(l,this.top+q+p,this.bottom-n[0].height),line:0},tv(this.ctx,t.textDirection);const H=T+p;this.legendItems.forEach(($,P)=>{o.strokeStyle=$.fontColor,o.fillStyle=$.fontColor;const X=o.measureText($.text).width,Q=f.textAlign($.textAlign||($.textAlign=u.textAlign)),at=S+v+X;let it=_.x,rt=_.y;f.setWidth(this.width),R?P>0&&it+at+p>this.right&&(rt=_.y+=H,_.line++,it=_.x=ye(l,this.left+p,this.right-a[_.line])):P>0&&rt+H>this.bottom&&(it=_.x=it+n[_.line].width+p,_.line++,rt=_.y=ye(l,this.top+q+p,this.bottom-n[_.line].height));const Ct=f.x(it);if(O(Ct,rt,$),it=Sx(Q,it+S+v,R?it+at:this.right,t.rtl),D(f.x(it),rt,$),R)_.x+=at+p;else if(typeof $.text!="string"){const Dt=g.lineHeight;_.y+=xv($,Dt)+p}else _.y+=H}),ev(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=be(n.font),o=sn(n.padding);if(!n.display)return;const l=aa(t.rtl,this.left,this.width),u=this.ctx,h=n.position,f=a.size/2,g=o.top+f;let p,y=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+g,y=ye(t.align,y,this.right-v);else{const S=this.columnSizes.reduce((x,T)=>Math.max(x,T.height),0);p=g+ye(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const _=ye(h,y,y+v);u.textAlign=l.textAlign(wf(h)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=a.string,kr(u,n.text,_,p,a)}_computeTitleHeight(){const t=this.options.title,n=be(t.font),a=sn(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,o,l;if(ia(t,this.left,this.right)&&ia(n,this.top,this.bottom)){for(l=this.legendHitBoxes,a=0;a<l.length;++a)if(o=l[a],ia(t,o.left,o.left+o.width)&&ia(n,o.top,o.top+o.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!M1(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const o=this._hoveredItem,l=O1(o,a);o&&!l&&Pt(n.onLeave,[t,o,this],this),this._hoveredItem=a,a&&!l&&Pt(n.onHover,[t,a,this],this)}else a&&Pt(n.onClick,[t,a,this],this)}}function C1(i,t,n,a,o){const l=k1(a,i,t,n),u=R1(o,a,t.lineHeight);return{itemWidth:l,itemHeight:u}}function k1(i,t,n,a){let o=i.text;return o&&typeof o!="string"&&(o=o.reduce((l,u)=>l.length>u.length?l:u)),t+n.size/2+a.measureText(o).width}function R1(i,t,n){let a=i;return typeof t.text!="string"&&(a=xv(t,n)),a}function xv(i,t){const n=i.text?i.text.length:0;return t*n}function M1(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var D1={id:"legend",_element:Vy,start(i,t,n){const a=i.legend=new Vy({ctx:i.ctx,options:n,chart:i});nn.configure(i,a,n),nn.addBox(i,a)},stop(i){nn.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const a=i.legend;nn.configure(i,a,n),a.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const a=t.datasetIndex,o=n.chart;o.isDatasetVisible(a)?(o.hide(a),t.hidden=!0):(o.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:o,color:l,useBorderRadius:u,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(n?0:void 0),p=sn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:l,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:g.borderColor,pointStyle:a||g.pointStyle,rotation:g.rotation,textAlign:o||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};let Sv=class extends os{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const o=ie(a.text)?a.text.length:1;this._padding=sn(a.padding);const l=o*be(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=l:this.width=l}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:o,right:l,options:u}=this,h=u.align;let f=0,g,p,y;return this.isHorizontal()?(p=ye(h,a,l),y=n+t,g=l-a):(u.position==="left"?(p=a+t,y=ye(h,o,n),f=oe*-.5):(p=l-t,y=ye(h,n,o),f=oe*.5),g=o-n),{titleX:p,titleY:y,maxWidth:g,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=be(n.font),l=a.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(l);kr(t,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:g,textAlign:wf(n.align),textBaseline:"middle",translation:[u,h]})}};function j1(i,t){const n=new Sv({ctx:i.ctx,options:t,chart:i});nn.configure(i,n,t),nn.addBox(i,n),i.titleBlock=n}var N1={id:"title",_element:Sv,start(i,t,n){j1(i,n)},stop(i){const t=i.titleBlock;nn.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,n){const a=i.titleBlock;nn.configure(i,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const mr={average(i){if(!i.length)return!1;let t,n,a=new Set,o=0,l=0;for(t=0,n=i.length;t<n;++t){const h=i[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();a.add(f.x),o+=f.y,++l}}return l===0||a.size===0?!1:{x:[...a].reduce((h,f)=>h+f)/a.size,y:o/l}},nearest(i,t){if(!i.length)return!1;let n=t.x,a=t.y,o=Number.POSITIVE_INFINITY,l,u,h;for(l=0,u=i.length;l<u;++l){const f=i[l].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),p=Yh(t,g);p<o&&(o=p,h=f)}}if(h){const f=h.tooltipPosition();n=f.x,a=f.y}return{x:n,y:a}}};function bn(i,t){return t&&(ie(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Pn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function z1(i,t){const{element:n,datasetIndex:a,index:o}=t,l=i.getDatasetMeta(a).controller,{label:u,value:h}=l.getLabelAndValue(o);return{chart:i,label:u,parsed:l.getParsed(o),raw:i.data.datasets[a].data[o],formattedValue:h,dataset:l.getDataset(),dataIndex:o,datasetIndex:a,element:n}}function Gy(i,t){const n=i.chart.ctx,{body:a,footer:o,title:l}=i,{boxWidth:u,boxHeight:h}=t,f=be(t.bodyFont),g=be(t.titleFont),p=be(t.footerFont),y=l.length,v=o.length,_=a.length,S=sn(t.padding);let x=S.height,T=0,O=a.reduce((q,H)=>q+H.before.length+H.lines.length+H.after.length,0);if(O+=i.beforeBody.length+i.afterBody.length,y&&(x+=y*g.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const q=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;x+=_*q+(O-_)*f.lineHeight+(O-1)*t.bodySpacing}v&&(x+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let D=0;const R=function(q){T=Math.max(T,n.measureText(q).width+D)};return n.save(),n.font=g.string,Mt(i.title,R),n.font=f.string,Mt(i.beforeBody.concat(i.afterBody),R),D=t.displayColors?u+2+t.boxPadding:0,Mt(a,q=>{Mt(q.before,R),Mt(q.lines,R),Mt(q.after,R)}),D=0,n.font=p.string,Mt(i.footer,R),n.restore(),T+=S.width,{width:T,height:x}}function U1(i,t){const{y:n,height:a}=t;return n<a/2?"top":n>i.height-a/2?"bottom":"center"}function L1(i,t,n,a){const{x:o,width:l}=a,u=n.caretSize+n.caretPadding;if(i==="left"&&o+l+u>t.width||i==="right"&&o-l-u<0)return!0}function B1(i,t,n,a){const{x:o,width:l}=n,{width:u,chartArea:{left:h,right:f}}=i;let g="center";return a==="center"?g=o<=(h+f)/2?"left":"right":o<=l/2?g="left":o>=u-l/2&&(g="right"),L1(g,i,t,n)&&(g="center"),g}function Yy(i,t,n){const a=n.yAlign||t.yAlign||U1(i,n);return{xAlign:n.xAlign||t.xAlign||B1(i,t,n,a),yAlign:a}}function H1(i,t){let{x:n,width:a}=i;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function q1(i,t,n){let{y:a,height:o}=i;return t==="top"?a+=n:t==="bottom"?a-=o+n:a-=o/2,a}function Ky(i,t,n,a){const{caretSize:o,caretPadding:l,cornerRadius:u}=i,{xAlign:h,yAlign:f}=n,g=o+l,{topLeft:p,topRight:y,bottomLeft:v,bottomRight:_}=xr(u);let S=H1(t,h);const x=q1(t,f,g);return f==="center"?h==="left"?S+=g:h==="right"&&(S-=g):h==="left"?S-=Math.max(p,v)+o:h==="right"&&(S+=Math.max(y,_)+o),{x:en(S,0,a.width-t.width),y:en(x,0,a.height-t.height)}}function yl(i,t,n){const a=sn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-a.right:i.x+a.left}function Fy(i){return bn([],Pn(i))}function P1(i,t,n){return rs(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Wy(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const Tv={beforeTitle:Hn,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:Hn,beforeBody:Hn,beforeLabel:Hn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return Bt(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Hn,afterBody:Hn,beforeFooter:Hn,footer:Hn,afterFooter:Hn};function ke(i,t,n,a){const o=i[t].call(n,a);return typeof o>"u"?Tv[t].call(n,a):o}class Xy extends os{static positioners=mr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),o=a.enabled&&n.options.animation&&a.animations,l=new rv(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(l)),l}getContext(){return this.$context||(this.$context=P1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,o=ke(a,"beforeTitle",this,t),l=ke(a,"title",this,t),u=ke(a,"afterTitle",this,t);let h=[];return h=bn(h,Pn(o)),h=bn(h,Pn(l)),h=bn(h,Pn(u)),h}getBeforeBody(t,n){return Fy(ke(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,o=[];return Mt(t,l=>{const u={before:[],lines:[],after:[]},h=Wy(a,l);bn(u.before,Pn(ke(h,"beforeLabel",this,l))),bn(u.lines,ke(h,"label",this,l)),bn(u.after,Pn(ke(h,"afterLabel",this,l))),o.push(u)}),o}getAfterBody(t,n){return Fy(ke(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,o=ke(a,"beforeFooter",this,t),l=ke(a,"footer",this,t),u=ke(a,"afterFooter",this,t);let h=[];return h=bn(h,Pn(o)),h=bn(h,Pn(l)),h=bn(h,Pn(u)),h}_createItems(t){const n=this._active,a=this.chart.data,o=[],l=[],u=[];let h=[],f,g;for(f=0,g=n.length;f<g;++f)h.push(z1(this.chart,n[f]));return t.filter&&(h=h.filter((p,y,v)=>t.filter(p,y,v,a))),t.itemSort&&(h=h.sort((p,y)=>t.itemSort(p,y,a))),Mt(h,p=>{const y=Wy(t.callbacks,p);o.push(ke(y,"labelColor",this,p)),l.push(ke(y,"labelPointStyle",this,p)),u.push(ke(y,"labelTextColor",this,p))}),this.labelColors=o,this.labelPointStyles=l,this.labelTextColors=u,this.dataPoints=h,h}update(t,n){const a=this.options.setContext(this.getContext()),o=this._active;let l,u=[];if(!o.length)this.opacity!==0&&(l={opacity:0});else{const h=mr[a.position].call(this,o,this._eventPosition);u=this._createItems(a),this.title=this.getTitle(u,a),this.beforeBody=this.getBeforeBody(u,a),this.body=this.getBody(u,a),this.afterBody=this.getAfterBody(u,a),this.footer=this.getFooter(u,a);const f=this._size=Gy(this,a),g=Object.assign({},h,f),p=Yy(this.chart,a,g),y=Ky(a,g,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,l={opacity:1,x:y.x,y:y.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,l&&this._resolveAnimations().update(this,l),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,o){const l=this.getCaretPosition(t,a,o);n.lineTo(l.x1,l.y1),n.lineTo(l.x2,l.y2),n.lineTo(l.x3,l.y3)}getCaretPosition(t,n,a){const{xAlign:o,yAlign:l}=this,{caretSize:u,cornerRadius:h}=a,{topLeft:f,topRight:g,bottomLeft:p,bottomRight:y}=xr(h),{x:v,y:_}=t,{width:S,height:x}=n;let T,O,D,R,q,H;return l==="center"?(q=_+x/2,o==="left"?(T=v,O=T-u,R=q+u,H=q-u):(T=v+S,O=T+u,R=q-u,H=q+u),D=T):(o==="left"?O=v+Math.max(f,p)+u:o==="right"?O=v+S-Math.max(g,y)-u:O=this.caretX,l==="top"?(R=_,q=R-u,T=O-u,D=O+u):(R=_+x,q=R+u,T=O+u,D=O-u),H=R),{x1:T,x2:O,x3:D,y1:R,y2:q,y3:H}}drawTitle(t,n,a){const o=this.title,l=o.length;let u,h,f;if(l){const g=aa(a.rtl,this.x,this.width);for(t.x=yl(this,a.titleAlign,a),n.textAlign=g.textAlign(a.titleAlign),n.textBaseline="middle",u=be(a.titleFont),h=a.titleSpacing,n.fillStyle=a.titleColor,n.font=u.string,f=0;f<l;++f)n.fillText(o[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===l&&(t.y+=a.titleMarginBottom-h)}}_drawColorBox(t,n,a,o,l){const u=this.labelColors[a],h=this.labelPointStyles[a],{boxHeight:f,boxWidth:g}=l,p=be(l.bodyFont),y=yl(this,"left",l),v=o.x(y),_=f<p.lineHeight?(p.lineHeight-f)/2:0,S=n.y+_;if(l.usePointStyle){const x={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=o.leftForLtr(v,g)+g/2,O=S+f/2;t.strokeStyle=l.multiKeyBackground,t.fillStyle=l.multiKeyBackground,Fh(t,x,T,O),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Fh(t,x,T,O)}else{t.lineWidth=St(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const x=o.leftForLtr(v,g),T=o.leftForLtr(o.xPlus(v,1),g-2),O=xr(u.borderRadius);Object.values(O).some(D=>D!==0)?(t.beginPath(),t.fillStyle=l.multiKeyBackground,Wh(t,{x,y:S,w:g,h:f,radius:O}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Wh(t,{x:T,y:S+1,w:g-2,h:f-2,radius:O}),t.fill()):(t.fillStyle=l.multiKeyBackground,t.fillRect(x,S,g,f),t.strokeRect(x,S,g,f),t.fillStyle=u.backgroundColor,t.fillRect(T,S+1,g-2,f-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:o}=this,{bodySpacing:l,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:p}=a,y=be(a.bodyFont);let v=y.lineHeight,_=0;const S=aa(a.rtl,this.x,this.width),x=function(X){n.fillText(X,S.x(t.x+_),t.y+v/2),t.y+=v+l},T=S.textAlign(u);let O,D,R,q,H,$,P;for(n.textAlign=u,n.textBaseline="middle",n.font=y.string,t.x=yl(this,T,a),n.fillStyle=a.bodyColor,Mt(this.beforeBody,x),_=h&&T!=="right"?u==="center"?g/2+p:g+2+p:0,q=0,$=o.length;q<$;++q){for(O=o[q],D=this.labelTextColors[q],n.fillStyle=D,Mt(O.before,x),R=O.lines,h&&R.length&&(this._drawColorBox(n,t,q,S,a),v=Math.max(y.lineHeight,f)),H=0,P=R.length;H<P;++H)x(R[H]),v=y.lineHeight;Mt(O.after,x)}_=0,v=y.lineHeight,Mt(this.afterBody,x),t.y-=l}drawFooter(t,n,a){const o=this.footer,l=o.length;let u,h;if(l){const f=aa(a.rtl,this.x,this.width);for(t.x=yl(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=f.textAlign(a.footerAlign),n.textBaseline="middle",u=be(a.footerFont),n.fillStyle=a.footerColor,n.font=u.string,h=0;h<l;++h)n.fillText(o[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+a.footerSpacing}}drawBackground(t,n,a,o){const{xAlign:l,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:p}=a,{topLeft:y,topRight:v,bottomLeft:_,bottomRight:S}=xr(o.cornerRadius);n.fillStyle=o.backgroundColor,n.strokeStyle=o.borderColor,n.lineWidth=o.borderWidth,n.beginPath(),n.moveTo(h+y,f),u==="top"&&this.drawCaret(t,n,a,o),n.lineTo(h+g-v,f),n.quadraticCurveTo(h+g,f,h+g,f+v),u==="center"&&l==="right"&&this.drawCaret(t,n,a,o),n.lineTo(h+g,f+p-S),n.quadraticCurveTo(h+g,f+p,h+g-S,f+p),u==="bottom"&&this.drawCaret(t,n,a,o),n.lineTo(h+_,f+p),n.quadraticCurveTo(h,f+p,h,f+p-_),u==="center"&&l==="left"&&this.drawCaret(t,n,a,o),n.lineTo(h,f+y),n.quadraticCurveTo(h,f,h+y,f),n.closePath(),n.fill(),o.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,o=a&&a.x,l=a&&a.y;if(o||l){const u=mr[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Gy(this,t),f=Object.assign({},u,this._size),g=Yy(n,t,f),p=Ky(t,f,g,n);(o._to!==p.x||l._to!==p.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const o={width:this.width,height:this.height},l={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const u=sn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=a,this.drawBackground(l,t,o,n),tv(t,n.textDirection),l.y+=u.top,this.drawTitle(l,t,n),this.drawBody(l,t,n),this.drawFooter(l,t,n),ev(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,o=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),l=!jl(a,o),u=this._positionChanged(o,n);(l||u)&&(this._active=o,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const o=this.options,l=this._active||[],u=this._getActiveElements(t,l,n,a),h=this._positionChanged(u,t),f=n||!jl(u,l)||h;return f&&(this._active=u,(o.enabled||o.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,a,o){const l=this.options;if(t.type==="mouseout")return[];if(!o)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,l.mode,l,a);return l.reverse&&u.reverse(),u}_positionChanged(t,n){const{caretX:a,caretY:o,options:l}=this,u=mr[l.position].call(this,t,n);return u!==!1&&(a!==u.x||o!==u.y)}}var $1={id:"tooltip",_element:Xy,positioners:mr,afterInit(i,t,n){n&&(i.tooltip=new Xy({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Tv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const I1=(i,t,n,a)=>(typeof t=="string"?(n=i.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function V1(i,t,n,a){const o=i.indexOf(t);if(o===-1)return I1(i,t,n,a);const l=i.lastIndexOf(t);return o!==l?n:o}const G1=(i,t)=>i===null?null:en(Math.round(i),0,t);function Qy(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class Y1 extends ua{static id="category";static defaults={ticks:{callback:Qy}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:o,label:l}of n)a[o]===l&&a.splice(o,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Bt(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:V1(a,t,xt(n,t),this._addedLabels),G1(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(o=this.getLabels().length-1)),this.min=a,this.max=o}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,o=[];let l=this.getLabels();l=t===0&&n===l.length-1?l:l.slice(t,n+1),this._valueRange=Math.max(l.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let u=t;u<=n;u++)o.push({value:u});return o}getLabelForValue(t){return Qy.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function K1(i,t){const n=[],{bounds:o,step:l,min:u,max:h,precision:f,count:g,maxTicks:p,maxDigits:y,includeBounds:v}=i,_=l||1,S=p-1,{min:x,max:T}=t,O=!Bt(u),D=!Bt(h),R=!Bt(g),q=(T-x)/(y+1);let H=Xp((T-x)/S/_)*_,$,P,X,Q;if(H<1e-14&&!O&&!D)return[{value:x},{value:T}];Q=Math.ceil(T/H)-Math.floor(x/H),Q>S&&(H=Xp(Q*H/S/_)*_),Bt(f)||($=Math.pow(10,f),H=Math.ceil(H*$)/$),o==="ticks"?(P=Math.floor(x/H)*H,X=Math.ceil(T/H)*H):(P=x,X=T),O&&D&&l&&fx((h-u)/l,H/1e3)?(Q=Math.round(Math.min((h-u)/H,p)),H=(h-u)/Q,P=u,X=h):R?(P=O?u:P,X=D?h:X,Q=g-1,H=(X-P)/Q):(Q=(X-P)/H,vr(Q,Math.round(Q),H/1e3)?Q=Math.round(Q):Q=Math.ceil(Q));const at=Math.max(Qp(H),Qp(P));$=Math.pow(10,Bt(f)?at:f),P=Math.round(P*$)/$,X=Math.round(X*$)/$;let it=0;for(O&&(v&&P!==u?(n.push({value:u}),P<u&&it++,vr(Math.round((P+it*H)*$)/$,u,Jy(u,q,i))&&it++):P<u&&it++);it<Q;++it){const rt=Math.round((P+it*H)*$)/$;if(D&&rt>h)break;n.push({value:rt})}return D&&v&&X!==h?n.length&&vr(n[n.length-1].value,h,Jy(h,q,i))?n[n.length-1].value=h:n.push({value:h}):(!D||X===h)&&n.push({value:X}),n}function Jy(i,t,{horizontal:n,minRotation:a}){const o=ts(a),l=(n?Math.sin(o):Math.cos(o))||.001,u=.75*t*(""+i).length;return Math.min(t/l,u)}class F1 extends ua{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:o,max:l}=this;const u=f=>o=n?o:f,h=f=>l=a?l:f;if(t){const f=oa(o),g=oa(l);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(o===l){let f=l===0?1:Math.abs(l*.05);h(l+f),t||u(o-f)}this.min=o,this.max=l}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,o;return a?(o=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,o>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${o} ticks. Limiting to 1000.`),o=1e3)):(o=this.computeTickLimit(),n=n||11),n&&(o=Math.min(n,o)),o}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const o={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},l=this._range||this,u=K1(o,l);return t.bounds==="ticks"&&dx(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const o=(a-n)/Math.max(t.length-1,1)/2;n-=o,a+=o}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return Gb(t,this.chart.options.locale,this.options.ticks.format)}}class W1 extends F1{static id="linear";static defaults={ticks:{callback:Yb.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=ve(t)?t:0,this.max=ve(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=ts(this.options.ticks.minRotation),o=(t?Math.sin(a):Math.cos(a))||.001,l=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,l.lineHeight/o))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Ql={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(Ql);function Zy(i,t){return i-t}function tb(i,t){if(Bt(t))return null;const n=i._adapter,{parser:a,round:o,isoWeekday:l}=i._parseOpts;let u=t;return typeof a=="function"&&(u=a(u)),ve(u)||(u=typeof a=="string"?n.parse(u,a):n.parse(u)),u===null?null:(o&&(u=o==="week"&&(Or(l)||l===!0)?n.startOf(u,"isoWeek",l):n.startOf(u,o)),+u)}function eb(i,t,n,a){const o=Re.length;for(let l=Re.indexOf(i);l<o-1;++l){const u=Ql[Re[l]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-t)/(h*u.size))<=a)return Re[l]}return Re[o-1]}function X1(i,t,n,a,o){for(let l=Re.length-1;l>=Re.indexOf(n);l--){const u=Re[l];if(Ql[u].common&&i._adapter.diff(o,a,u)>=t-1)return u}return Re[n?Re.indexOf(n):0]}function Q1(i){for(let t=Re.indexOf(i)+1,n=Re.length;t<n;++t)if(Ql[Re[t]].common)return Re[t]}function nb(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:a,hi:o}=_f(n,t),l=n[a]>=t?n[a]:n[o];i[l]=!0}}function J1(i,t,n,a){const o=i._adapter,l=+o.startOf(t[0].value,a),u=t[t.length-1].value;let h,f;for(h=l;h<=u;h=+o.add(h,1,a))f=n[h],f>=0&&(t[f].major=!0);return t}function ib(i,t,n){const a=[],o={},l=t.length;let u,h;for(u=0;u<l;++u)h=t[u],o[h]=u,a.push({value:h,major:!1});return l===0||!n?a:J1(i,a,o,n)}class sb extends ua{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),o=this._adapter=new $S._date(t.adapters.date);o.init(n),br(a.displayFormats,o.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:tb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:o,max:l,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(o=Math.min(o,g.min)),!h&&!isNaN(g.max)&&(l=Math.max(l,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),o=ve(o)&&!isNaN(o)?o:+n.startOf(Date.now(),a),l=ve(l)&&!isNaN(l)?l:+n.endOf(Date.now(),a)+1,this.min=Math.min(o,l-1),this.max=Math.max(o+1,l)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,o=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);const l=this.min,u=this.max,h=vx(o,l,u);return this._unit=n.unit||(a.autoSkip?eb(n.minUnit,this.min,this.max,this._getLabelCapacity(l)):X1(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:Q1(this._unit),this.initOffsets(o),t.reverse&&h.reverse(),ib(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,o,l;this.options.offset&&t.length&&(o=this.getDecimalForValue(t[0]),t.length===1?n=1-o:n=(this.getDecimalForValue(t[1])-o)/2,l=this.getDecimalForValue(t[t.length-1]),t.length===1?a=l:a=(l-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;n=en(n,0,u),a=en(a,0,u),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,o=this.options,l=o.time,u=l.unit||eb(l.minUnit,n,a,this._getLabelCapacity(n)),h=xt(o.ticks.stepSize,1),f=u==="week"?l.isoWeekday:!1,g=Or(f)||f===!0,p={};let y=n,v,_;if(g&&(y=+t.startOf(y,"isoWeek",f)),y=+t.startOf(y,g?"day":u),t.diff(a,n,u)>1e5*h)throw new Error(n+" and "+a+" are too far apart with stepSize of "+h+" "+u);const S=o.ticks.source==="data"&&this.getDataTimestamps();for(v=y,_=0;v<a;v=+t.add(v,h,u),_++)nb(p,v,S);return(v===a||o.bounds==="ticks"||_===1)&&nb(p,v,S),Object.keys(p).sort(Zy).map(x=>+x)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const o=this.options.time.displayFormats,l=this._unit,u=n||o[l];return this._adapter.format(t,u)}_tickFormatFunction(t,n,a,o){const l=this.options,u=l.ticks.callback;if(u)return Pt(u,[t,n,a],this);const h=l.time.displayFormats,f=this._unit,g=this._majorUnit,p=f&&h[f],y=g&&h[g],v=a[n],_=g&&y&&v&&v.major;return this._adapter.format(t,o||(_?y:p))}generateTickLabels(t){let n,a,o;for(n=0,a=t.length;n<a;++n)o=t[n],o.label=this._tickFormatFunction(o.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,o=ts(this.isHorizontal()?n.maxRotation:n.minRotation),l=Math.cos(o),u=Math.sin(o),h=this._resolveTickFontOptions(0).size;return{w:a*l+h*u,h:a*u+h*l}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,o=a[n.unit]||a.millisecond,l=this._tickFormatFunction(t,0,ib(this,[t],this._majorUnit),o),u=this._getLabelSize(l),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(n=0,a=o.length;n<a;++n)t=t.concat(o[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const o=this.getLabels();for(n=0,a=o.length;n<a;++n)t.push(tb(this,o[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return wx(t.sort(Zy))}}function bl(i,t,n){let a=0,o=i.length-1,l,u,h,f;n?(t>=i[a].pos&&t<=i[o].pos&&({lo:a,hi:o}=es(i,"pos",t)),{pos:l,time:h}=i[a],{pos:u,time:f}=i[o]):(t>=i[a].time&&t<=i[o].time&&({lo:a,hi:o}=es(i,"time",t)),{time:l,pos:h}=i[a],{time:u,pos:f}=i[o]);const g=u-l;return g?h+(f-h)*(t-l)/g:h}class x2 extends sb{static id="timeseries";static defaults=sb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=bl(n,this.min),this._tableRange=bl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,o=[],l=[];let u,h,f,g,p;for(u=0,h=t.length;u<h;++u)g=t[u],g>=n&&g<=a&&o.push(g);if(o.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(u=0,h=o.length;u<h;++u)p=o[u+1],f=o[u-1],g=o[u],Math.round((p+f)/2)!==g&&l.push({time:g,pos:u/(h-1)});return l}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((o,l)=>o-l)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(bl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return bl(this._table,a*this._tableRange+this._minPos,!0)}}const Ev="label";function ab(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function Z1(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function Av(i,t){i.labels=t}function Ov(i,t,n=Ev){const a=[];i.datasets=t.map(o=>{const l=i.datasets.find(u=>u[n]===o[n]);return!l||!o.data||a.includes(l)?{...o}:(a.push(l),Object.assign(l,o),l)})}function tE(i,t=Ev){const n={labels:[],datasets:[]};return Av(n,i.labels),Ov(n,i.datasets,t),n}function eE(i,t){const{height:n=150,width:a=300,redraw:o=!1,datasetIdKey:l,type:u,data:h,options:f,plugins:g=[],fallbackContent:p,updateMode:y,...v}=i,_=K.useRef(null),S=K.useRef(null),x=()=>{_.current&&(S.current=new Fl(_.current,{type:u,data:tE(h,l),options:f&&{...f},plugins:g}),ab(t,S.current))},T=()=>{ab(t,null),S.current&&(S.current.destroy(),S.current=null)};return K.useEffect(()=>{!o&&S.current&&f&&Z1(S.current,f)},[o,f]),K.useEffect(()=>{!o&&S.current&&Av(S.current.config.data,h.labels)},[o,h.labels]),K.useEffect(()=>{!o&&S.current&&h.datasets&&Ov(S.current.config.data,h.datasets,l)},[o,h.datasets]),K.useEffect(()=>{S.current&&(o?(T(),setTimeout(x)):S.current.update(y))},[o,f,h.labels,h.datasets,y]),K.useEffect(()=>{S.current&&(T(),setTimeout(x))},[u]),K.useEffect(()=>(x(),()=>T()),[]),E.jsx("canvas",{ref:_,role:"img",height:n,width:a,...v,children:p})}const nE=K.forwardRef(eE);function iE(i,t){return Fl.register(t),K.forwardRef((n,a)=>E.jsx(nE,{...n,ref:a,type:i}))}const sE=iE("line",PS);Fl.register(Y1,W1,r1,Wl,N1,$1,D1,A1);const Ks=i=>{if(typeof window>"u")return"";const t=document.querySelector("[class*='theme-']")??document.documentElement;return getComputedStyle(t).getPropertyValue(i).trim()},vl=(i,t)=>{const n=i.replace("#","").trim(),a=n.length===3?n.split("").map(h=>h+h).join(""):n;if(!/^[0-9a-fA-F]{6}$/.test(a))return`rgba(200, 155, 94, ${t})`;const o=parseInt(a.slice(0,2),16),l=parseInt(a.slice(2,4),16),u=parseInt(a.slice(4,6),16);return`rgba(${o}, ${l}, ${u}, ${t})`};function pr({data:i,xKey:t,series:n,xTitle:a="X",yTitle:o="Y",className:l,height:u,width:h,showLegend:f=!1,yBeginAtZero:g=!0,tooltipValueSuffix:p=""}){const y=K.useMemo(()=>{const x=Ks("--accent-primary")||"#c89b5e",T=Ks("--accent-secondary")||"#8b7355",O=Ks("--accent-warning")||"#e8c080",D=Ks("--card-bg")||"#1a1a1a",R=Ks("--text-primary")||"#e8ddd0",q=Ks("--text-secondary")||"#b8a896";return{line:x,lineHover:O,point:x,pointHover:O,grid:vl(T,.12),fill:vl(x,.18),axis:q,axisTitle:R,tooltipBg:vl(D,.98),tooltipBorder:x}},[]),v=K.useMemo(()=>{const x=i.map((O,D)=>typeof t=="function"?t(O,D):O[t]),T=x.some(O=>typeof O=="string");return{values:x.map(O=>O??""),isCategorical:T}},[i,t]),_=K.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:f},tooltip:{enabled:!0,backgroundColor:y.tooltipBg,titleColor:y.axisTitle,bodyColor:y.axis,borderColor:y.tooltipBorder,borderWidth:2,padding:14,titleFont:{size:15,weight:"bold",family:"'JetBrains Mono', monospace"},bodyFont:{size:14,family:"'JetBrains Mono', monospace"},displayColors:!1,callbacks:{title:x=>{const T=x[0]?.parsed?.x;return T==null?"":`${T}`},label:x=>{const T=x.parsed.y,O=p?` ${p}`:"";return`${Math.round(T??0)}${O}`}}}},scales:{x:{type:v.isCategorical?"category":"linear",grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:10},title:{display:!0,text:a,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{top:12}}},y:{beginAtZero:g,grid:{display:!0,color:y.grid,lineWidth:1.5},border:{display:!1},ticks:{color:y.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:8},title:{display:!0,text:o,color:y.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{bottom:12}}}},interaction:{intersect:!1,mode:"index"},animation:{duration:750,easing:"easeInOutQuart"}}),[y,f,p,a,g,o,v.isCategorical]),S=K.useMemo(()=>{const T=(n??[]).map(O=>{const D=O.color??y.line,R=O.fill??!1,q={label:O.label??String(O.key),borderColor:D,backgroundColor:R?vl(D,.18):"transparent",pointRadius:5,pointHoverRadius:9,pointBackgroundColor:D,pointBorderColor:y.tooltipBg,pointBorderWidth:2.5,pointHoverBackgroundColor:y.lineHover,pointHoverBorderColor:D,pointHoverBorderWidth:3,tension:O.tension??.4,fill:R,borderWidth:3,segment:{borderColor:D}};return v.isCategorical?{...q,data:i.map(H=>Number(H[O.key])||0)}:{...q,data:i.map((H,$)=>({x:Number(v.values[$])||0,y:Number(H[O.key])||0}))}});return v.isCategorical?{labels:v.values.map(O=>String(O)),datasets:T}:{datasets:T}},[i,n,y,v]);return E.jsx("div",{className:["w-full h-full p-4 bg-card-bg/40 backdrop-blur-sm rounded-2xl border border-card-border/50 shadow-2xl",l].filter(Boolean).join(" "),style:{height:u,width:h},children:E.jsx(sE,{options:_,data:S})})}function Cv({options:i,label:t,value:n,onChange:a}){const o=l=>{a(l.target.value)};return E.jsxs("label",{children:[t,E.jsx("select",{value:n,onChange:o,className:"bg-card-bg border-2 border-card-border rounded-lg h-9 w-fit px-3 transition-all duration-200 hover:border-accent-primary active:border-accent-primary active:scale-95 text-text-primary font-semibold",children:i.map((l,u)=>E.jsx("option",{value:l,children:l},u))})]})}function Jl(i,t){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(i);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(i,a[o])&&(n[a[o]]=i[a[o]]);return n}function aE(i,t,n,a){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(p){try{g(a.next(p))}catch(y){u(y)}}function f(p){try{g(a.throw(p))}catch(y){u(y)}}function g(p){p.done?l(p.value):o(p.value).then(h,f)}g((a=a.apply(i,t||[])).next())})}const rE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class kf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class oE extends kf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rb extends kf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ob extends kf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tf;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(tf||(tf={}));class lE{constructor(t,{headers:n={},customFetch:a,region:o=tf.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=rE(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return aE(this,arguments,void 0,function*(n,a={}){var o;let l,u;try{const{headers:h,method:f,body:g,signal:p,timeout:y}=a;let v={},{region:_}=a;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let x;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=g):typeof g=="string"?(v["Content-Type"]="text/plain",x=g):typeof FormData<"u"&&g instanceof FormData?x=g:(v["Content-Type"]="application/json",x=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?x=JSON.stringify(g):x=g;let T=p;y&&(u=new AbortController,l=setTimeout(()=>u.abort(),y),p?(T=u.signal,p.addEventListener("abort",()=>u.abort())):T=u.signal);const O=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:x,signal:T}).catch(H=>{throw new oE(H)}),D=O.headers.get("x-relay-error");if(D&&D==="true")throw new rb(O);if(!O.ok)throw new ob(O);let R=((o=O.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),q;return R==="application/json"?q=yield O.json():R==="application/octet-stream"||R==="application/pdf"?q=yield O.blob():R==="text/event-stream"?q=O:R==="multipart/form-data"?q=yield O.formData():q=yield O.text(),{data:q,error:null,response:O}}catch(h){return{data:null,error:h,response:h instanceof ob||h instanceof rb?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var cE=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},uE=class{constructor(i){var t,n,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=i.urlLengthLimit)!==null&&a!==void 0?a:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{let u=null,h=null,f=null,g=l.status,p=l.statusText;if(l.ok){var y,v;if(n.method!=="HEAD"){var _;const O=await l.text();O===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=O:h=JSON.parse(O))}const x=(y=n.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),T=(v=l.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");x&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var S;const x=await l.text();try{u=JSON.parse(x),Array.isArray(u)&&l.status===404&&(h=[],u=null,g=200,p="OK")}catch{l.status===404&&x===""?(g=204,p="No Content"):u={message:x}}if(u&&n.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,g=200,p="OK"),u&&n.shouldThrowOnError)throw new cE(u)}return{error:u,data:h,count:f,status:g,statusText:p}});return this.shouldThrowOnError||(o=o.catch(l=>{var u;let h="",f="",g="";const p=l?.cause;if(p){var y,v,_,S;const O=(y=p?.message)!==null&&y!==void 0?y:"",D=(v=p?.code)!==null&&v!==void 0?v:"";h=`${(_=l?.name)!==null&&_!==void 0?_:"FetchError"}: ${l?.message}`,h+=`

Caused by: ${(S=p?.name)!==null&&S!==void 0?S:"Error"}: ${O}`,D&&(h+=` (${D})`),p?.stack&&(h+=`
${p.stack}`)}else{var x;h=(x=l?.stack)!==null&&x!==void 0?x:""}const T=this.url.toString().length;return l?.name==="AbortError"||l?.code==="ABORT_ERR"?(g="",f="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(p?.name==="HeadersOverflowError"||p?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",f="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(f+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=l?.name)!==null&&u!==void 0?u:"FetchError"}: ${l?.message}`,details:h,hint:f,code:g},data:null,count:null,status:0,statusText:""}})),o.then(i,t)}returns(){return this}overrideTypes(){return this}},hE=class extends uE{select(i){let t=!1;const n=(i??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${i}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,t,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"offset":`${a}.offset`,l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(l,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:o=!1,format:l="text"}={}){var u;const h=[i?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${l}; for="${f}"; options=${h};`),l==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const lb=new RegExp("[,()]");var ta=class extends hE{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&lb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&lb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:n,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${o}fts${l}.${t}`),this}match(i){return Object.entries(i).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(i,t,n){return this.url.searchParams.append(i,`not.${t}.${n}`),this}or(i,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,t,n){return this.url.searchParams.append(i,`${t}.${n}`),this}},fE=class{constructor(i,{headers:t={},schema:n,fetch:a,urlLengthLimit:o=8e3}){this.url=i,this.headers=new Headers(t),this.schema=n,this.fetch=a,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:n=!1,count:a}=t??{},o=n?"HEAD":"GET";let l=!1;const u=(i??"*").split("").map(g=>/\s/.test(g)&&!l?"":(g==='"'&&(l=!l),g)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new ta({method:o,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:n=!0}={}){var a;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);l.searchParams.set("columns",f.join(","))}}return new ta({method:o,url:l,headers:u,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:o=!0}={}){var l;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),a&&f.append("Prefer",`count=${a}`),o||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);h.searchParams.set("columns",p.join(","))}}return new ta({method:u,url:h,headers:f,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var n;const a="PATCH",{url:o,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new ta({method:a,url:o,headers:l,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const n="DELETE",{url:a,headers:o}=this.cloneRequestState();return i&&o.append("Prefer",`count=${i}`),new ta({method:n,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function Mr(i){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(i)}function dE(i,t){if(Mr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Mr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function gE(i){var t=dE(i,"string");return Mr(t)=="symbol"?t:t+""}function mE(i,t,n){return(t=gE(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function cb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function _l(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cb(Object(n),!0).forEach(function(a){mE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):cb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}var pE=class kv{constructor(t,{headers:n={},schema:a,fetch:o,timeout:l,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=u;const h=o??globalThis.fetch;l!==void 0&&l>0?this.fetch=(f,g)=>{const p=new AbortController,y=setTimeout(()=>p.abort(),l),v=g?.signal;if(v){if(v.aborted)return clearTimeout(y),h(f,g);const _=()=>{clearTimeout(y),p.abort()};return v.addEventListener("abort",_,{once:!0}),h(f,_l(_l({},g),{},{signal:p.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",_)})}return h(f,_l(_l({},g),{},{signal:p.signal})).finally(()=>clearTimeout(y))}:this.fetch=h}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new fE(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new kv(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:a=!1,get:o=!1,count:l}={}){var u;let h;const f=new URL(`${this.url}/rpc/${t}`);let g;const p=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(p)),y=a&&Object.values(n).some(p);y?(h="POST",g=n):a||o?(h=a?"HEAD":"GET",Object.entries(n).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{f.searchParams.append(_,S)})):(h="POST",g=n);const v=new Headers(this.headers);return y?v.set("Prefer",l?`count=${l},return=minimal`:"return=minimal"):l&&v.set("Prefer",`count=${l}`),new ta({method:h,url:f,headers:v,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class yE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const o=a.node,l=parseInt(o.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bE="2.95.3",vE=`realtime-js/${bE}`,_E="1.0.0",Rv="2.0.0",ub=Rv,ef=1e4,wE=1e3,xE=100;var bi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(bi||(bi={}));var ne;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ne||(ne={}));var un;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(un||(un={}));var nf;(function(i){i.websocket="websocket"})(nf||(nf={}));var Ji;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Ji||(Ji={}));class SE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var n,a;const o=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,a){var o,l;const u=t.topic,h=(o=t.ref)!==null&&o!==void 0?o:"",f=(l=t.join_ref)!==null&&l!==void 0?l:"",g=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(p).length===0?"":JSON.stringify(p);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+g.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),x=0;S.setUint8(x++,this.KINDS.userBroadcastPush),S.setUint8(x++,f.length),S.setUint8(x++,h.length),S.setUint8(x++,u.length),S.setUint8(x++,g.length),S.setUint8(x++,y.length),S.setUint8(x++,n),Array.from(f,O=>S.setUint8(x++,O.charCodeAt(0))),Array.from(h,O=>S.setUint8(x++,O.charCodeAt(0))),Array.from(u,O=>S.setUint8(x++,O.charCodeAt(0))),Array.from(g,O=>S.setUint8(x++,O.charCodeAt(0))),Array.from(y,O=>S.setUint8(x++,O.charCodeAt(0)));var T=new Uint8Array(_.byteLength+a.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(a),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,l,u,h,f]=a;return n({join_ref:o,ref:l,topic:u,event:h,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,o)}_decodeUserBroadcast(t,n,a){const o=n.getUint8(1),l=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const g=a.decode(t.slice(f,f+o));f=f+o;const p=a.decode(t.slice(f,f+l));f=f+l;const y=a.decode(t.slice(f,f+u));f=f+u;const v=t.slice(f,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,S={type:this.BROADCAST_EVENT,event:p,payload:_};return u>0&&(S.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Mv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Lt||(Lt={}));const hb=(i,t,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((l,u)=>(l[u]=TE(u,i,t,o),l),{}):{}},TE=(i,t,n,a)=>{const o=t.find(h=>h.name===i),l=o?.type,u=n[i];return l&&!a.includes(l)?Dv(l,u):sf(u)},Dv=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return CE(t,n)}switch(i){case Lt.bool:return EE(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return AE(t);case Lt.json:case Lt.jsonb:return OE(t);case Lt.timestamp:return kE(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return sf(t);default:return sf(t)}},sf=i=>i,EE=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},AE=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},OE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},CE=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,a=i[n];if(i[0]==="{"&&a==="}"){let l;const u=i.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(h=>Dv(t,h))}return i},kE=i=>typeof i=="string"?i.replace(" ","T"):i,jv=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Lh{constructor(t,n,a={},o=ef){this.channel=t,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fb;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(fb||(fb={}));class Sr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sr.syncState(this.state,o,l,u),this.pendingDiffs.forEach(f=>{this.state=Sr.syncDiff(this.state,f,l,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Sr.syncDiff(this.state,o,l,u),h())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,o){const l=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(l,(g,p)=>{u[g]||(f[g]=p)}),this.map(u,(g,p)=>{const y=l[g];if(y){const v=p.map(T=>T.presence_ref),_=y.map(T=>T.presence_ref),S=p.filter(T=>_.indexOf(T.presence_ref)<0),x=y.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(h[g]=S),x.length>0&&(f[g]=x)}else h[g]=p}),this.syncDiff(l,{joins:h,leaves:f},a,o)}static syncDiff(t,n,a,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(l,(h,f)=>{var g;const p=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(f),p.length>0){const y=t[h].map(_=>_.presence_ref),v=p.filter(_=>y.indexOf(_.presence_ref)<0);t[h].unshift(...v)}a(h,p,f)}),this.map(u,(h,f)=>{let g=t[h];if(!g)return;const p=f.map(y=>y.presence_ref);g=g.filter(y=>p.indexOf(y.presence_ref)<0),t[h]=g,o(h,g,f),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const o=t[a];return"metas"in o?n[a]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[a]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var db;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(db||(db={}));var Tr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Tr||(Tr={}));var $n;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class sa{constructor(t,n={config:{}},a){var o,l;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Lh(this,un.join,this.params,this.timeout),this.rejoinTimer=new Mv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(un.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new Sr(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,g=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Tr.PRESENCE]&&this.bindings[Tr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>t?.($n.CHANNEL_ERROR,_)),this._onClose(()=>t?.($n.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.($n.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,T=(S=x?.length)!==null&&S!==void 0?S:0,O=[];for(let D=0;D<T;D++){const R=x[D],{filter:{event:q,schema:H,table:$,filter:P}}=R,X=_&&_[D];if(X&&X.event===q&&sa.isFilterValueEqual(X.schema,H)&&sa.isFilterValueEqual(X.table,$)&&sa.isFilterValueEqual(X.filter,P))O.push(Object.assign(Object.assign({},R),{id:X.id}));else{this.unsubscribe(),this.state=ne.errored,t?.($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t($n.SUBSCRIBED);return}}).receive("error",_=>{this.state=ne.errored,t?.($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ne.joined&&t===Tr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var o;if(n==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const g=await h.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:u}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,h,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(un.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Lh(this,un.leave,{},t),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const o=new AbortController,l=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),u}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Lh(this,t,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var o,l;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:g,join:p}=un;if(a&&[h,f,g,p].indexOf(u)>=0&&a!==this._joinRef())return;let v=this._onMessage(u,n,a);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var S,x,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(x=_.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(v,a)):(l=this.bindings[u])===null||l===void 0||l.filter(_=>{var S,x,T,O,D,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const q=_.id,H=(S=_.filter)===null||S===void 0?void 0:S.event;return q&&((x=n.ids)===null||x===void 0?void 0:x.includes(q))&&(H==="*"||H?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const q=(D=(O=_?.filter)===null||O===void 0?void 0:O.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return q==="*"||q===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:x,table:T,commit_timestamp:O,type:D,errors:R}=S;v=Object.assign(Object.assign({},{schema:x,table:T,commit_timestamp:O,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(S))}_.callback(v,a)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===a&&sa.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(un.close,{},t)}_onError(t){this._on(un.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hb(t.columns,t.old_record)),n}}const Bh=()=>{},wl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},RE=[1e3,2e3,5e3,1e4],ME=1e4,DE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jE{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ef,this.transport=null,this.heartbeatIntervalMs=wl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bh,this.ref=0,this.reconnectTimer=null,this.vsn=ub,this.logger=Bh,this.conn=null,this.sendBuffer=[],this.serializer=new SE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...l)=>o(...l):(...l)=>fetch(...l),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${nf.websocket}`,this.httpEndpoint=jv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=yE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case bi.connecting:return Ji.Connecting;case bi.open:return Ji.Open;case bi.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(l=>l.topic===a);if(o)return o;{const l=new sa(`realtime:${t}`,n,this);return this.channels.push(l),l}}push(t){const{topic:n,event:a,payload:o,ref:l}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${l})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(wE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",g)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:l,ref:u}=n,h=u?`(${u})`:"",f=l.status||"";this.log("receive",`${f} ${a} ${o} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(o,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bi.open||this.conn.readyState===bi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(un.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${a}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([DE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(o=>{const l={access_token:n,version:vE};n&&o.updateJoinPayload(l),o.joinedOnce&&o._isJoined()&&o._push(un.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Mv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,o,l,u,h,f,g,p,y,v,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:ef,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:wl.HEARTBEAT_INTERVAL,this.worker=(l=t?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:Bh,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:ub,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>RE[S-1]||ME),this.vsn){case _E:this.encode=(p=t?.encode)!==null&&p!==void 0?p:((S,x)=>x(JSON.stringify(S))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((S,x)=>x(JSON.parse(S)));break;case Rv:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Dr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NE(i,t,n){const a=new URL(t,i);if(n)for(const[o,l]of Object.entries(n))l!==void 0&&a.searchParams.set(o,l);return a.toString()}async function zE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function UE(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:o,body:l,headers:u}){const h=NE(i.baseUrl,a,o),f=await zE(i.auth),g=await t(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...f,...u},body:l?JSON.stringify(l):void 0}),p=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),v=y&&p?JSON.parse(p):p;if(!g.ok){const _=y?v:void 0,S=_?.error;throw new Dr(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:g.status,headers:g.headers,data:v}}}}function xl(i){return i.join("")}var LE=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:xl(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,t){const n={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xl(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xl(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xl(i.namespace)}`}),!0}catch(t){if(t instanceof Dr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(n){if(n instanceof Dr&&n.status===409)return;throw n}}};function Fs(i){return i.join("")}var BE=class{constructor(i,t="",n){this.client=i,this.prefix=t,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(i,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Fs(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(n){if(n instanceof Dr&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(n){if(n instanceof Dr&&n.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw n}}},HE=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=UE({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new LE(this.client,t),this.tableOps=new BE(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},Zl=class extends Error{constructor(i,t="storage",n,a){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function tc(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Sl=class extends Zl{constructor(i,t,n,a="storage"){super(i,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Nv=class extends Zl{constructor(i,t,n="storage"){super(i,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const qE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),PE=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},af=i=>{if(Array.isArray(i))return i.map(n=>af(n));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[o]=af(a)}),t},$E=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function jr(i){"@babel/helpers - typeof";return jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jr(i)}function IE(i,t){if(jr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(jr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function VE(i){var t=IE(i,"string");return jr(t)=="symbol"?t:t+""}function GE(i,t,n){return(t=VE(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function gb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function ht(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gb(Object(n),!0).forEach(function(a){GE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):gb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const mb=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},YE=async(i,t,n,a)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const o=i,l=o.status||500;if(typeof o.json=="function")o.json().then(u=>{const h=u?.statusCode||u?.code||l+"";t(new Sl(mb(u),l,h,a))}).catch(()=>{if(a==="vectors"){const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}else{const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}});else{const u=l+"";t(new Sl(o.statusText||`HTTP ${l} error`,l,u,a))}}else t(new Nv(mb(i),i,a))},KE=(i,t,n,a)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"||i==="HEAD"||!a?ht(ht({},o),n):(PE(a)?(o.headers=ht({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),ht(ht({},o),n))};async function fr(i,t,n,a,o,l,u){return new Promise((h,f)=>{i(n,KE(t,a,o,l)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;if(u==="vectors"){const p=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!p||!p.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>YE(g,f,a,u))})}function zv(i="storage"){return{get:async(t,n,a,o)=>fr(t,"GET",n,a,o,void 0,i),post:async(t,n,a,o,l)=>fr(t,"POST",n,o,l,a,i),put:async(t,n,a,o,l)=>fr(t,"PUT",n,o,l,a,i),head:async(t,n,a,o)=>fr(t,"HEAD",n,ht(ht({},a),{},{noResolveJson:!0}),o,void 0,i),remove:async(t,n,a,o,l)=>fr(t,"DELETE",n,o,l,a,i)}}const FE=zv("storage"),{get:Nr,post:cn,put:rf,head:WE,remove:Rf}=FE,$e=zv("vectors");var ha=class{constructor(i,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=qE(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(tc(n))return{data:null,error:n};throw n}}},XE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};let Uv;Uv=Symbol.toStringTag;var QE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[Uv]="BlobDownloadBuilder",this.promise=null}asStream(){return new XE(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(tc(t))return{data:null,error:t};throw t}}};const JE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ZE=class extends ha{constructor(i,t={},n,a){super(i,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(i,t,n,a){var o=this;return o.handleOperation(async()=>{let l;const u=ht(ht({},pb),a);let h=ht(ht({},o.headers),i==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),f&&l.append("metadata",o.encodeMetadata(f)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.has("cacheControl")||l.append("cacheControl",u.cacheControl),f&&!l.has("metadata")&&l.append("metadata",o.encodeMetadata(f))):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(f))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(h=ht(ht({},h),a.headers));const g=o._removeEmptyFolders(t),p=o._getFinalPath(g),y=await(i=="PUT"?rf:cn)(o.fetch,`${o.url}/object/${p}`,l,ht({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:g,id:y.Id,fullPath:y.Key}})}async upload(i,t,n){return this.uploadOrUpdate("POST",i,t,n)}async uploadToSignedUrl(i,t,n,a){var o=this;const l=o._removeEmptyFolders(i),u=o._getFinalPath(l),h=new URL(o.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",t),o.handleOperation(async()=>{let f;const g=ht({upsert:pb.upsert},a),p=ht(ht({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",g.cacheControl)):(f=n,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType),{path:l,fullPath:(await rf(o.fetch,h.toString(),f,{headers:p})).Key}})}async createSignedUploadUrl(i,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(i);const o=ht({},n.headers);t?.upsert&&(o["x-upsert"]="true");const l=await cn(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(n.url+l.url),h=u.searchParams.get("token");if(!h)throw new Zl("No token returned by API");return{signedUrl:u.toString(),path:i,token:h}})}async update(i,t,n){return this.uploadOrUpdate("PUT",i,t,n)}async move(i,t,n){var a=this;return a.handleOperation(async()=>await cn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(i,t,n){var a=this;return a.handleOperation(async()=>({path:(await cn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(i,t,n){var a=this;return a.handleOperation(async()=>{let o=a._getFinalPath(i),l=await cn(a.fetch,`${a.url}/object/sign/${o}`,ht({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${l.signedURL}${u}`)}})}async createSignedUrls(i,t,n){var a=this;return a.handleOperation(async()=>{const o=await cn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:i},{headers:a.headers}),l=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o.map(u=>ht(ht({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${l}`):null}))})}download(i,t,n){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),l=o?`?${o}`:"",u=this._getFinalPath(i),h=()=>Nr(this.fetch,`${this.url}/${a}/${u}${l}`,{headers:this.headers,noResolveJson:!0},n);return new QE(h,this.shouldThrowOnError)}async info(i){var t=this;const n=t._getFinalPath(i);return t.handleOperation(async()=>af(await Nr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(i){var t=this;const n=t._getFinalPath(i);try{return await WE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tc(a)&&a instanceof Nv){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,t){const n=this._getFinalPath(i),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const l=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${h}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await Rf(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,n){var a=this;return a.handleOperation(async()=>{const o=ht(ht(ht({},JE),t),{},{prefix:i||""});return await cn(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},n)})}async listV2(i,t){var n=this;return n.handleOperation(async()=>{const a=ht({},i);return await cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const tA="2.95.3",Hr={"X-Client-Info":`storage-js/${tA}`};var eA=class extends ha{constructor(i,t={},n,a){const o=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const l=o.href.replace(/\/$/,""),u=ht(ht({},Hr),t);super(l,u,n,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(i);return await Nr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Nr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var n=this;return n.handleOperation(async()=>await cn(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(i,t){var n=this;return n.handleOperation(async()=>await rf(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Rf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},nA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ht(ht({},Hr),t);super(a,o,n,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await cn(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const a=n.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Nr(t.fetch,o,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Rf(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!$E(i))throw new Zl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new HE({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(o,l){const u=o[l];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(o,h),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}},iA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ht(ht({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers})||{})}},sA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ht(ht({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},aA=class extends ha{constructor(i,t={},n){const a=i.replace(/\/$/,""),o=ht(ht({},Hr),{},{"Content-Type":"application/json"},t);super(a,o,n,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},rA=class extends aA{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new oA(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,n=this;return t().call(n,i)}async getBucket(i){var t=()=>super.getBucket,n=this;return t().call(n,i)}async listBuckets(i={}){var t=()=>super.listBuckets,n=this;return t().call(n,i)}async deleteBucket(i){var t=()=>super.deleteBucket,n=this;return t().call(n,i)}},oA=class extends iA{constructor(i,t,n,a){super(i,t,a),this.vectorBucketName=n}async createIndex(i){var t=()=>super.createIndex,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,i)}index(i){return new lA(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},lA=class extends sA{constructor(i,t,n,a,o){super(i,t,o),this.vectorBucketName=n,this.indexName=a}async putVectors(i){var t=()=>super.putVectors,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var t=()=>super.getVectors,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,n=this;return t().call(n,ht(ht({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},cA=class extends eA{constructor(i,t={},n,a){super(i,t,n,a)}from(i){return new ZE(this.url,this.headers,i,this.fetch)}get vectors(){return new rA(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nA(this.url+"/iceberg",this.headers,this.fetch)}};const Lv="2.95.3",ea=30*1e3,of=3,Hh=of*ea,uA="http://localhost:9999",hA="supabase.auth.token",fA={"X-Client-Info":`gotrue-js/${Lv}`},lf="X-Supabase-Api-Version",Bv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,gA=600*1e3;class zr extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function nt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class mA extends zr{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function pA(i){return nt(i)&&i.name==="AuthApiError"}class Zi extends zr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Yn extends zr{constructor(t,n,a,o){super(t,a,o),this.name=n,this.status=a}}class Pe extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qh(i){return nt(i)&&i.name==="AuthSessionMissingError"}class Ws extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class El extends Yn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yA(i){return nt(i)&&i.name==="AuthImplicitGrantRedirectError"}class yb extends Yn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bA extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cf extends Yn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Ph(i){return nt(i)&&i.name==="AuthRetryableFetchError"}class bb extends Yn{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class uf extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ql="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vb=` 	
\r=`.split(""),vA=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<vb.length;t+=1)i[vb[t].charCodeAt(0)]=-2;for(let t=0;t<ql.length;t+=1)i[ql[t].charCodeAt(0)]=t;return i})();function _b(i,t,n){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ql[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(ql[a]),t.queuedBits-=6}}function Hv(i,t,n){const a=vA[i];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function wb(i){const t=[],n=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=u=>{xA(u,a,n)};for(let u=0;u<i.length;u+=1)Hv(i.charCodeAt(u),o,l);return t.join("")}function _A(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function wA(i,t){for(let n=0;n<i.length;n+=1){let a=i.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(i.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}_A(a,t)}}function xA(i,t,n){if(t.utf8seq===0){if(i<=127){n(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ra(i){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<i.length;o+=1)Hv(i.charCodeAt(o),n,a);return new Uint8Array(t)}function SA(i){const t=[];return wA(i,n=>t.push(n)),new Uint8Array(t)}function ns(i){const t=[],n={queue:0,queuedBits:0},a=o=>{t.push(o)};return i.forEach(o=>_b(o,n,a)),_b(null,n,a),t.join("")}function TA(i){return Math.round(Date.now()/1e3)+i}function EA(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",Yi={tested:!1,writable:!1},qv=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yi.tested)return Yi.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Yi.tested=!0,Yi.writable=!0}catch{Yi.tested=!0,Yi.writable=!1}return Yi.writable};function AA(i){const t={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{t[l]=o})}catch{}return n.searchParams.forEach((a,o)=>{t[o]=a}),t}const Pv=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),OA=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",na=async(i,t,n)=>{await i.setItem(t,JSON.stringify(n))},Ki=async(i,t)=>{const n=await i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},de=async(i,t)=>{await i.removeItem(t)};class ec{constructor(){this.promise=new ec.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ec.promiseConstructor=Promise;function Al(i){const t=i.split(".");if(t.length!==3)throw new uf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!dA.test(t[a]))throw new uf("JWT not in base64url format");return{header:JSON.parse(wb(t[0])),payload:JSON.parse(wb(t[1])),signature:ra(t[2]),raw:{header:t[0],payload:t[1]}}}async function CA(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function kA(i,t){return new Promise((a,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await i(l);if(!t(l,null,u)){a(u);return}}catch(u){if(!t(l,u)){o(u);return}}})()})}function RA(i){return("0"+i.toString(16)).substr(-2)}function MA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,RA).join("")}async function DA(i){const n=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function jA(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await DA(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xs(i,t,n=!1){const a=MA();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await na(i,`${t}-code-verifier`,o);const l=await jA(a);return[l,a===l?"plain":"s256"]}const NA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zA(i){const t=i.headers.get(lf);if(!t||!t.match(NA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function UA(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function LA(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qs(i){if(!BA.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function $h(){const i={};return new Proxy(i,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function HA(i,t){return new Proxy(i,{get:(n,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,o)}})}function xb(i){return JSON.parse(JSON.stringify(i))}const Qi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),qA=[502,503,504];async function Sb(i){var t;if(!OA(i))throw new cf(Qi(i),0);if(qA.includes(i.status))throw new cf(Qi(i),i.status);let n;try{n=await i.json()}catch(l){throw new Zi(Qi(l),l)}let a;const o=zA(i);if(o&&o.getTime()>=Bv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new bb(Qi(n),i.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new bb(Qi(n),i.status,n.weak_password.reasons);throw new mA(Qi(n),i.status||500,a)}const PA=(i,t,n,a)=>{const o={method:i,headers:t?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ut(i,t,n,a){var o;const l=Object.assign({},a?.headers);l[lf]||(l[lf]=Bv["2024-01-01"].name),a?.jwt&&(l.Authorization=`Bearer ${a.jwt}`);const u=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await $A(i,t,n+h,{headers:l,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function $A(i,t,n,a,o,l){const u=PA(t,a,o,l);let h;try{h=await i(n,Object.assign({},u))}catch(f){throw console.error(f),new cf(Qi(f),0)}if(h.ok||await Sb(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await Sb(f)}}function ln(i){var t;let n=null;GA(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=TA(i.expires_in)));const a=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:a},error:null}}function Tb(i){const t=ln(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=i.weak_password),t}function vi(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function IA(i){return{data:i,error:null}}function VA(i){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l}=i,u=Jl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:a,redirect_to:o,verification_type:l},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Eb(i){return i}function GA(i){return i.access_token&&i.refresh_token&&i.expires_in}const Ih=["global","local","others"];class YA{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Pv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Ih[0]){if(Ih.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ih.join(", ")}`);try{return await ut(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(nt(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ut(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vi})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Jl(t,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await ut(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:VA,redirectTo:n?.redirectTo})}catch(n){if(nt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ut(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vi})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,o,l,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},p=await ut(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Eb});if(p.error)throw p.error;const y=await p.json(),v=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);g[`${T}Page`]=x}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(nt(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Qs(t);try{return await ut(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vi})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Qs(t);try{return await ut(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vi})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Qs(t);try{return await ut(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vi})}catch(a){if(nt(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Qs(t.userId);try{const{data:n,error:a}=await ut(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Qs(t.userId),Qs(t.id);try{return{data:await ut(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,o,l,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},p=await ut(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(l=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Eb});if(p.error)throw p.error;const y=await p.json(),v=(u=p.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);g[`${T}Page`]=x}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(nt(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ut(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ut(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ut(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(nt(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ut(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ut(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}}function Ab(i={}){return{getItem:t=>i[t]||null,setItem:(t,n)=>{i[t]=n},removeItem:t=>{delete i[t]}}}const Js={debug:!!(globalThis&&qv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $v extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KA extends $v{}async function FA(i,t,n){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Js.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await n()}finally{Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(t===0)throw Js.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new KA(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Js.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function WA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Iv(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function XA(i){return parseInt(i,16)}function QA(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function JA(i){var t;const{chainId:n,domain:a,expirationTime:o,issuedAt:l=new Date,nonce:u,notBefore:h,requestId:f,resources:g,scheme:p,uri:y,version:v}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=Iv(i.address),S=p?`${p}://${a}`:a,x=i.statement?`${i.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${x}`;let O=`URI: ${y}
Version: ${v}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${l.toISOString()}`;if(o&&(O+=`
Expiration Time: ${o.toISOString()}`),h&&(O+=`
Not Before: ${h.toISOString()}`),f&&(O+=`
Request ID: ${f}`),g){let D=`
Resources:`;for(const R of g){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);D+=`
- ${R}`}O+=D}return`${T}
${O}`}class te extends Error{constructor({message:t,code:n,cause:a,name:o}){var l;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(l=o??(a instanceof Error?a.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Pl extends te{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function ZA({error:i,options:t}){var n,a,o;const{publicKey:l}=t;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const u=window.location.hostname;if(Vv(u)){if(l.rp.id!==u)return new te({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function tO({error:i,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(Vv(a)){if(n.rpId!==a)return new te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class eO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nO=new eO;function iO(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:n,excludeCredentials:a}=i,o=Jl(i,["challenge","user","excludeCredentials"]),l=ra(t).buffer,u=Object.assign(Object.assign({},n),{id:ra(n.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:l,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const g=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:ra(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function sO(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:n}=i,a=Jl(i,["challenge","allowCredentials"]),o=ra(t).buffer,l=Object.assign(Object.assign({},a),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];l.allowCredentials[u]=Object.assign(Object.assign({},h),{id:ra(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function aO(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:ns(new Uint8Array(i.response.attestationObject)),clientDataJSON:ns(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rO(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,a=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ns(new Uint8Array(o.authenticatorData)),clientDataJSON:ns(new Uint8Array(o.clientDataJSON)),signature:ns(new Uint8Array(o.signature)),userHandle:o.userHandle?ns(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Vv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Ob(){var i,t;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oO(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:ZA({error:t,options:i})}}}async function lO(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Pl("Browser returned unexpected credential type",t)}:{data:null,error:new Pl("Empty credential response",t)}}catch(t){return{data:null,error:tO({error:t,options:i})}}}const cO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},uO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $l(...i){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of i)if(o)for(const l in o){const u=o[l];if(u!==void 0)if(Array.isArray(u))a[l]=u;else if(n(u))a[l]=u;else if(t(u)){const h=a[l];t(h)?a[l]=$l(h,u):a[l]=$l(u)}else a[l]=u}return a}function hO(i,t){return $l(cO,i,t||{})}function fO(i,t){return $l(uO,i,t||{})}class dO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:o},l){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:f};const g=o??nO.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;if(!p.name){const y=a;if(y)p.name=`${p.id}:${y}`;else{const _=(await this.client.getUser()).data.user,S=((u=_?.user_metadata)===null||u===void 0?void 0:u.name)||_?.email||_?.id||"User";p.name=`${p.id}:${S}`}}p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=hO(h.webauthn.credential_options.publicKey,l?.create),{data:y,error:v}=await oO({publicKey:p,signal:g});return y?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const p=fO(h.webauthn.credential_options.publicKey,l?.request),{data:y,error:v}=await lO(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return y?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(h){return nt(h)?{data:null,error:h}:{data:null,error:new Zi("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new zr("rpId is required for WebAuthn authentication")};try{if(!Ob())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:o},{request:l});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return nt(u)?{data:null,error:u}:{data:null,error:new Zi("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},l){if(!n)return{data:null,error:new zr("rpId is required for WebAuthn registration")};try{if(!Ob())return{data:null,error:new Zi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(p=>{var y;return(y=p.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p?.id}):void 0),{data:null,error:h};const{data:f,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:o},{create:l});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(u){return nt(u)?{data:null,error:u}:{data:null,error:new Zi("Unexpected error in register",u)}}}}WA();const gO={url:uA,storageKey:hA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Cb(i,t,n){return await n()}const Zs={};class Ur{get jwks(){var t,n;return(n=(t=Zs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Zs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zs[this.storageKey]=Object.assign(Object.assign({},Zs[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},gO),t);if(this.storageKey=l.storageKey,this.instanceID=(n=Ur.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Ur.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&ge()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new YA({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Pv(l.fetch),this.lock=l.lock||Cb,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&ge()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=FA:this.lock=Cb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:qv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ab(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Ab(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Lv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(ge()&&(n=AA(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),ge()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,a);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),yA(l)){const f=(t=l.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return nt(n)?this._returnResult({error:n}):this._returnResult({error:new Zi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,o;try{const l=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:ln}),{data:u,error:h}=l;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(l){if(nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(t){var n,a,o;try{let l;if("email"in t){const{email:p,password:y,options:v}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Xs(this.storage,this.storageKey)),l=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:p,password:y,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},xform:ln})}else if("phone"in t){const{phone:p,password:y,options:v}=t;l=await ut(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:y,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(o=v?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ln})}else throw new Tl("You must provide either an email or phone number and a password");const{data:u,error:h}=l;if(h||!u)return await de(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:u,options:h}=t;n=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Tb})}else if("phone"in t){const{phone:l,password:u,options:h}=t;n=await ut(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Tb})}else throw new Tl("You must provide either an email or phone number and a password");const{data:a,error:o}=n;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const l=new Ws;return this._returnResult({data:{user:null,session:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,o,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,o,l,u,h,f,g,p,y,v;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:x,wallet:T,statement:O,options:D}=t;let R;if(ge())if(typeof T=="object")R=T;else{const Q=window;if("ethereum"in Q&&typeof Q.ethereum=="object"&&"request"in Q.ethereum&&typeof Q.ethereum.request=="function")R=Q.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!D?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const q=new URL((n=D?.url)!==null&&n!==void 0?n:window.location.href),H=await R.request({method:"eth_requestAccounts"}).then(Q=>Q).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=Iv(H[0]);let P=(a=D?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!P){const Q=await R.request({method:"eth_chainId"});P=XA(Q)}const X={domain:q.host,address:$,statement:O,uri:q.href,version:"1",chainId:P,nonce:(o=D?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(u=(l=D?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=D?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=D?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=D?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=D?.signInWithEthereum)===null||p===void 0?void 0:p.resources};_=JA(X),S=await R.request({method:"personal_sign",params:[QA(_),$]})}try{const{data:x,error:T}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(T)throw T;if(!x||!x.session||!x.user){const O=new Ws;return this._returnResult({data:{user:null,session:null},error:O})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:T})}catch(x){if(nt(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var n,a,o,l,u,h,f,g,p,y,v,_;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:T,wallet:O,statement:D,options:R}=t;let q;if(ge())if(typeof O=="object")q=O;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))q=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=O}const H=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in q&&q.signIn){const $=await q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),D?{statement:D}:null));let P;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")P=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)P=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)S=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${H.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(o=(a=R?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((h=R?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((y=(p=R?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||y===void 0)&&y.length?["Resources",...R.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const $=await q.signMessage(new TextEncoder().encode(S),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=$}}try{const{data:T,error:O}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ns(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ln});if(O)throw O;if(!T||!T.session||!T.user){const D=new Ws;return this._returnResult({data:{user:null,session:null},error:D})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:O})}catch(T){if(nt(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new bA;const{data:l,error:u}=await ut(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ln});if(await de(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!l||!l.session||!l.user){const h=new Ws;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:u})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(t){try{const{options:n,provider:a,token:o,access_token:l,nonce:u}=t,h=await ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ln}),{data:f,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f||!f.session||!f.user){const p=new Ws;return this._returnResult({data:{user:null,session:null},error:p})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:g})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,o,l,u;try{if("email"in t){const{email:h,options:f}=t;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Xs(this.storage,this.storageKey));const{error:y}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:h,options:f}=t,{data:g,error:p}=await ut(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:p})}throw new Tl("You must provide either an email or phone number.")}catch(h){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,a;try{let o,l;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await ut(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:ln});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,g=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var n,a,o,l,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Xs(this.storage,this.storageKey));const g=await ut(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:IA});return!((l=g.data)===null||l===void 0)&&l.url&&ge()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Pe;const{error:o}=await ut(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(nt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:l}=t,{error:u}=await ut(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:a,type:o,options:l}=t,{data:u,error:h}=await ut(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new Tl("You must provide either an email or phone number and a type")}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ki(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Hh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await Ki(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=$h()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=HA(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vi}):await this._useSession(async n=>{var a,o,l;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await ut(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:vi})})}catch(n){if(nt(n))return qh(n)&&(await this._removeSession(),await de(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:o,error:l}=a;if(l)throw l;if(!o.session)throw new Pe;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Xs(this.storage,this.storageKey));const{data:g,error:p}=await ut(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:vi});if(p)throw p;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pe;const n=Date.now()/1e3;let a=n,o=!0,l=null;const{payload:u}=Al(t.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{data:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});l={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Pe;const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(nt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!ge())throw new El("No browser detected.");if(t.error||t.error_description||t.error_code)throw new El(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new yb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new El("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yb("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:l,refresh_token:u,expires_in:h,expires_at:f,token_type:g}=t;if(!l||!h||!u||!g)throw new El("No session defined in URL");const p=Math.round(Date.now()/1e3),y=parseInt(h);let v=p+y;f&&(v=parseInt(f));const _=v-p;_*1e3<=ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const S=v-y;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,p);const{data:x,error:T}=await this._getUser(l);if(T)throw T;const O={provider_token:a,provider_refresh_token:o,access_token:l,expires_in:y,expires_at:v,refresh_token:u,token_type:g,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:O,redirectType:t.type},error:null})}catch(a){if(nt(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ki(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l&&!qh(l))return this._returnResult({error:l});const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(pA(h)&&(h.status===404||h.status===401||h.status===403)||qh(h)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await de(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=EA(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,o;try{const{data:{session:l},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Xs(this.storage,this.storageKey,!0));try{return await ut(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:o}=await this._useSession(async l=>{var u,h,f,g,p;const{data:y,error:v}=l;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ut(this.fetch,"GET",_,{headers:this.headers,jwt:(p=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return ge()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(nt(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:u,provider:h,token:f,access_token:g,nonce:p}=t,y=await ut(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=l?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ln}),{data:v,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ws}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(o){if(await de(this.storage,`${this.storageKey}-code-verifier`),nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)throw u;return await ut(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await kA(async o=>(o>0&&await CA(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ut(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ln})),(o,l)=>{const u=200*Math.pow(2,o);return l&&Ph(l)&&Date.now()+u-a<ea})}catch(a){if(this._debug(n,"error",a),nt(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),ge()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Ki(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Ki(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await na(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u?.user)!==null&&t!==void 0?t:$h()}else if(o&&!o.user&&!o.user){const u=await Ki(this.storage,this.storageKey+"-user");u&&u?.user?(o.user=u.user,await de(this.storage,this.storageKey+"-user"),await na(this.storage,this.storageKey,o)):o.user=$h()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Hh;if(this._debug(a,`session has${l?"":" not"} expired with margin of ${Hh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ph(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&u?.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ec;const{data:l,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!l.session)throw new Pe;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(o,"error",l),nt(l)){const u={data:null,error:l};return Ph(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){l.push(f)}});if(await Promise.all(u),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await de(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await na(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=xb(o);await na(this.storage,this.storageKey,l)}else{const o=xb(n);await na(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await de(this.storage,this.storageKey),await de(this.storage,this.storageKey+"-code-verifier"),await de(this.storage,this.storageKey+"-user"),this.userStorage&&await de(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ge()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ea);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ea}ms, refresh threshold is ${of} ticks`),o<=of&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof $v)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[l,u]=await Xs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a?.queryParams){const l=new URLSearchParams(a.queryParams);o.push(l.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;return l?this._returnResult({data:null,error:l}):await ut(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,o;const{data:l,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await ut(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aO(t.webauthn.credential_response):rO(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:f}=await ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=await ut(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:iO(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:sO(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(t=n?.factors)!==null&&t!==void 0?t:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,o,l;if(t)try{const{payload:_}=Al(t);let S=null;_.aal&&(S=_.aal);let x=S;const{data:{user:T},error:O}=await this.getUser(t);if(O)return this._returnResult({data:null,error:O});((a=(n=T?.factors)===null||n===void 0?void 0:n.filter(q=>q.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(x="aal2");const R=_.amr||[];return{data:{currentLevel:S,nextLevel:x,currentAuthenticationMethods:R},error:null}}catch(_){if(nt(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Al(u.access_token);let g=null;f.aal&&(g=f.aal);let p=g;((l=(o=u.user.factors)===null||o===void 0?void 0:o.filter(_=>_.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(p="aal2");const v=f.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await ut(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Pe});const u=await ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ge()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:o},error:l}=a;if(l)return this._returnResult({data:null,error:l});if(!o)return this._returnResult({data:null,error:new Pe});const u=await ut(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&ge()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await ut(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(t){if(nt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?(await ut(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pe})})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(h=>h.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===t),a&&this.jwks_cached_at+gA>o)return a;const{data:l,error:u}=await ut(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,a=l.keys.find(h=>h.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});a=_.session.access_token}const{header:o,payload:l,signature:u,raw:{header:h,payload:f}}=Al(a);n?.allowExpired||UA(l.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:l,header:o,signature:u},error:null}}const p=LA(o.alg),y=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,y,u,SA(`${h}.${f}`)))throw new uf("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(a){if(nt(a))return this._returnResult({data:null,error:a});throw a}}}Ur.nextInstanceID={};const mO=Ur,pO="2.95.3";let yr="";typeof Deno<"u"?yr="deno":typeof document<"u"?yr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yr="react-native":yr="node";const yO={"X-Client-Info":`supabase-js-${yr}/${pO}`},bO={headers:yO},vO={schema:"public"},_O={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wO={};function Lr(i){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(i)}function xO(i,t){if(Lr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Lr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function SO(i){var t=xO(i,"string");return Lr(t)=="symbol"?t:t+""}function TO(i,t,n){return(t=SO(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function kb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,a)}return n}function Gt(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kb(Object(n),!0).forEach(function(a){TO(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const EO=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),AO=()=>Headers,OO=(i,t,n)=>{const a=EO(n),o=AO();return async(l,u)=>{var h;const f=(h=await t())!==null&&h!==void 0?h:i;let g=new o(u?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),a(l,Gt(Gt({},u),{},{headers:g}))}};function CO(i){return i.endsWith("/")?i:i+"/"}function kO(i,t){var n,a;const{db:o,auth:l,realtime:u,global:h}=i,{db:f,auth:g,realtime:p,global:y}=t,v={db:Gt(Gt({},f),o),auth:Gt(Gt({},g),l),realtime:Gt(Gt({},p),u),storage:{},global:Gt(Gt(Gt({},y),h),{},{headers:Gt(Gt({},(n=y?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function RO(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var MO=class extends mO{constructor(i){super(i)}},DO=class{constructor(i,t,n){var a,o;this.supabaseUrl=i,this.supabaseKey=t;const l=RO(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,h={db:vO,realtime:wO,auth:Gt(Gt({},_O),{},{storageKey:u}),global:bO},f=kO(n??{},h);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=f.global.headers)!==null&&o!==void 0?o:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=f.auth)!==null&&g!==void 0?g:{},this.headers,f.global.fetch)}this.fetch=OO(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new pE(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new cA(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new lE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,n)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,n;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,storageKey:l,flowType:u,lock:h,debug:f,throwOnError:g},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new MO({url:this.authUrl.href,headers:Gt(Gt({},v),p),storageKey:l,autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:o,flowType:u,lock:h,debug:f,throwOnError:g,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new jE(this.realtimeUrl.href,Gt(Gt({},i),{},{params:Gt(Gt({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jO=(i,t,n)=>new DO(i,t,n);function NO(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}NO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zO="https://qdwwowrsnlqrkfcfvgip.supabase.co",UO="sb_publishable_WPv3waHS1QBX_KzfWt7P4Q_U6FZMV8H",se=jO(zO,UO),LO=[{Game:{Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,ErrorLetters:[],LineGraphDataSet:[]},GameSettings:{CurrentText:"",CurrentTitle:"",Timer:-1},Settings:{Text:{Length:"short"}}}],Gn=LO,BO=new Set,hf=new Set;function Gv(i,t){for(const n of i)try{n()}catch(a){console.error(`${t} subscriber threw:`,a)}}function HO(){Gv(BO,"SubscribeDataChanges")}function Yv(){Gv(hf,"SubscribeGameSettingsChanges"),HO()}function qO(i){return hf.add(i),()=>{hf.delete(i)}}function PO(i){return Gn[i].Game}function is(i){return Gn[i].GameSettings}function Il(i,t={}){if(i>=Gn.length)return;const n=Gn[i].GameSettings={...Gn[i].GameSettings,...t};return Yv(),n}function Kv(i){return Gn[i].Settings}function $O(i,t={}){if(i>=Gn.length)return;const n=Gn[i].Settings={...Gn[i].Settings,...t};return Yv(),n}function Vn(i,t){localStorage.setItem(i,t)}function tn(i){const t=localStorage.getItem(i);return t||""}function IO(i){localStorage.removeItem(i)}async function VO(i,t,n){const{data:a,error:o}=await se.auth.signUp({email:t,password:n,options:{data:{username:i}}});if(o)return console.log("Sign up error: ",o),{status:"error",message:"Sign up error"};if(!a.session)return{status:"verify",message:"Bitte Email besttigen."};const l=a.user?.id;if(!l)return console.log("No user id from signup."),{status:"error",message:"No user id from signup."};const{data:u,error:h}=await se.from("Users").insert([{Username:i,Email:t,userId:l}]).single();if(h)return console.log("Error saving user: ",h),{status:"error",message:"Error saving user"};Vn("logged in","true"),console.log(u);const f="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",{error:g}=await se.from("UserSettings").upsert({id:l,profilePicture:f},{onConflict:"id"});return g&&console.log("Error saving user settings: ",g),{status:"ok"}}async function GO(i,t){const{data:n,error:a}=await se.auth.signInWithPassword({email:i,password:t});if(a){console.log("Sign up error: ",a);return}const{data:o,error:l}=await se.auth.getUser();if(l){console.log("Error getting user: ",l);return}if(!o.user?.email_confirmed_at){console.log("Bitte Email besttigen.");return}const u=n.user?.id;if(!u){console.log("No user id from signup.");return}const{data:h,error:f}=await se.from("Users").select("*").eq("userId",u).single();f?console.log("Error loading profile: ",f):console.log(h),Vn("logged in","true")}async function YO(){const{error:i}=await se.auth.signOut();if(i){console.log("Sign out error: ",i);return}Vn("logged in","false")}async function Mf(){const{data:{user:i}}=await se.auth.getUser();return i}async function KO(i){const t=await Mf();if(!t)return;const{error:n}=await se.from("Users").update({Username:i}).eq("userId",t.id);n&&console.log("Error: ",n)}async function FO(){const i=await Mf();if(!i)return"";const{data:t,error:n}=await se.from("Users").select("Username").eq("userId",i.id).single();return n&&console.log("Error: ",n),t?.Username??""}async function WO(){const{data:{user:i},error:t}=await se.auth.getUser();if(t||!i)throw t??new Error("No user");const{data:n,error:a}=await se.from("UserSettings").select("*").eq("id",i.id).maybeSingle();if(a)throw a;return n??{id:i.id,profilePicture:null}}async function XO(i){const t=await Mf();if(!t)return;const n=i.name.split(".").pop(),a=`${t.id}/${Date.now()}.${n}`,{error:o}=await se.storage.from("avatars").upload(a,i,{upsert:!0});if(o){console.log("Upload error:",o);return}const{data:l}=se.storage.from("avatars").getPublicUrl(a),{error:u}=await se.from("UserSettings").upsert({id:t.id,profilePicture:l.publicUrl},{onConflict:"id"});if(u){console.log("Error updating UserSettings: ",u);return}return l.publicUrl}async function Fv(){const{data:{user:i},error:t}=await se.auth.getUser();if(t||!i)throw t??new Error("No user");const{data:n,error:a}=await se.from("UserStats").select("*").eq("userId",i.id).maybeSingle();if(a)throw a;return n??{userId:i.id,created_at:new Date().toISOString(),rounds:[]}}async function QO(i){const{data:{user:t},error:n}=await se.auth.getUser();if(n||!t)throw n??new Error("No user");const{data:a,error:o}=await se.from("UserStats").upsert({userId:t.id,...i},{onConflict:"userId"}).select().single();if(o)throw console.log("updateUserStats error:",o),o;return a||console.log("updateUserStats returned no data",{patch:i,userId:t.id}),a}async function JO(i){console.log("appendUserRound called",i);const n=[...(await Fv()).rounds,i];return QO({rounds:n})}function ZO(){window.location.reload()}function t2(){Vn("open-profile-on-load","true"),window.location.reload()}function e2({text:i="Button",preferedPrefix:t="",onClick:n,setFile:a}){const o=K.useRef(null),l=()=>{o.current?.click(),n?.()},u=h=>{const f=h.target.files?.[0]??null;f!==null&&f.toString().startsWith(t)&&a(f)};return E.jsxs(E.Fragment,{children:[E.jsx(me,{onClickFunction:l,text:i}),E.jsx("input",{ref:o,type:"file",onChange:u,style:{display:"none"}})]})}const ff=JSON.parse(`[{"title":"The Wonders of the Ocean","short":"The ocean is a vast and mysterious world. It covers more than 70% of the Earths surface and is home to countless species, many of which remain undiscovered.","medium":"Oceans play a crucial role in regulating the Earth's climate. They provide oxygen, regulate temperature, and support biodiversity. Yet, they are facing threats from pollution, overfishing, and climate change.","long":"The ocean is not just a source of beauty, but it is also vital for life on Earth. It regulates the planet's climate by absorbing carbon dioxide and heat. Oceans are home to diverse ecosystems that support a vast array of marine life, from the smallest plankton to the largest whales. The depths of the ocean are still largely unexplored, and scientists continue to discover new species and learn more about the role oceans play in maintaining balance on Earth. However, these ecosystems are under threat due to human activities such as pollution, overfishing, and the effects of climate change, which are causing irreversible damage to marine life."},{"title":"The Evolution of Space Exploration","short":"Space exploration has fascinated humanity for centuries. From the early observations of the night sky to the historic moon landing, space has always been a realm of mystery and possibility.","medium":"With technological advancements, space exploration has moved from theoretical concepts to practical achievements. The Apollo moon landings in the 1960s were a milestone, and today, we have private companies sending spacecraft to Mars and beyond.","long":"Space exploration has come a long way since humanity first gazed at the stars. The first steps on the moon in 1969 marked a monumental achievement in science and technology, demonstrating humanity's ability to reach beyond our planet. Today, space exploration continues to evolve, with private companies like SpaceX and Blue Origin pushing the boundaries of what is possible. Mars missions, space tourism, and even the exploration of asteroids are now becoming realities. These advancements not only inspire future generations but also provide valuable insights into the origins of our solar system and the potential for life beyond Earth."},{"title":"The Influence of Social Media","short":"Social media has transformed how we communicate and interact with others. It has created a platform for self-expression, connection, and even activism.","medium":"While social media brings people closer together, it also raises concerns about privacy, mental health, and the spread of misinformation. Platforms like Facebook, Twitter, and Instagram have become integral parts of daily life for billions.","long":"Social media has revolutionized communication, allowing individuals to connect with others worldwide in an instant. It has provided a platform for self-expression, where people can share their lives, ideas, and opinions. Social movements have found a new voice through social media, allowing them to mobilize quickly and raise awareness for causes. However, the rise of social media has also led to several challenges. Privacy concerns are rampant, and the constant exposure to curated lives can have negative effects on mental health. Furthermore, the spread of misinformation and the ability to create echo chambers has become a growing concern for society."},{"title":"The Power of Music","short":"Music has the ability to inspire, uplift, and connect people. It transcends cultural and language barriers, evoking emotions and creating shared experiences.","medium":"From classical symphonies to modern pop hits, music plays a fundamental role in human culture. It brings people together, whether in concert halls, living rooms, or festivals. Music has the power to heal, to celebrate, and to communicate in ways that words alone cannot.","long":"Music is a universal language that speaks directly to the heart. It has been an essential part of human civilization for centuries, playing a central role in rituals, celebrations, and everyday life. Music can express a range of emotions, from joy and excitement to sorrow and nostalgia. It brings people together, whether they are singing in a choir, attending a concert, or simply enjoying a song on the radio. Music's therapeutic benefits are also widely recognized, helping to reduce stress, improve mood, and even aid in healing. As technology evolves, music continues to play an important role in shaping culture and personal identity."},{"title":"The Future of Renewable Energy","short":"Renewable energy sources such as solar, wind, and hydropower are rapidly changing the energy landscape, offering a cleaner, more sustainable alternative to fossil fuels.","medium":"The push for renewable energy is driven by the need to combat climate change and reduce our dependence on finite fossil fuels. Solar and wind energy have become some of the most cost-effective energy sources worldwide, with continued innovations in energy storage and grid integration.","long":"The future of energy lies in renewable sources that can provide sustainable power without the harmful environmental impacts of fossil fuels. Solar, wind, and hydropower are already playing significant roles in the global energy mix, and their potential to provide clean energy is growing. As technology advances, these renewable sources are becoming more efficient and cost-effective. Solar panels are now more affordable than ever, and wind turbines are harnessing energy at unprecedented rates. The challenge remains to create a reliable and efficient way to store and distribute this energy, but breakthroughs in battery storage and smart grids are making this more achievable. Transitioning to renewable energy is essential for reducing greenhouse gas emissions and mitigating the effects of climate change, ensuring a cleaner, healthier planet for future generations."},{"title":"The Rise of Artificial Intelligence","short":"Artificial intelligence is revolutionizing industries, from healthcare to finance, offering new solutions and efficiencies in ways previously unimaginable.","medium":"AI technologies, including machine learning and deep learning, are now integral to a variety of sectors. They help automate tasks, enhance decision-making, and provide insights that drive innovation and growth.","long":"Artificial intelligence is no longer just a futuristic concept. It's a driving force behind some of the most groundbreaking advancements in technology. AI systems, especially those using machine learning and deep learning, are transforming industries by automating routine tasks, improving efficiency, and solving complex problems that were once thought too difficult. In healthcare, AI is assisting in diagnostics and drug discovery, while in finance, it's enabling better risk management and fraud detection. As AI continues to evolve, its potential to reshape industries grows, leading to a future where machines work alongside humans to tackle challenges and create new opportunities. However, the rise of AI also raises ethical concerns, including job displacement and the need for responsible development."},{"title":"The Role of Education in Society","short":"Education is a cornerstone of personal and societal development, shaping individuals and communities, and playing a key role in advancing society.","medium":"Education opens doors to opportunity, fostering critical thinking, creativity, and innovation. It provides individuals with the tools to navigate life and contribute to society, while also being essential for economic and social progress.","long":"Education is one of the most powerful tools for societal transformation. It empowers individuals to build skills, broaden their perspectives, and achieve their full potential. Beyond personal development, education plays a central role in creating an informed and engaged citizenry. It fosters critical thinking, problem-solving, and the ability to engage with complex issues. On a societal level, education drives economic growth and social mobility, helping to bridge gaps between different communities and reducing inequality. As technology continues to evolve, education is also adapting, with online learning and digital tools revolutionizing how knowledge is shared. However, ensuring equitable access to quality education remains a key challenge for many parts of the world."},{"title":"The Impact of Climate Change","short":"Climate change is one of the most pressing global challenges, affecting ecosystems, weather patterns, and human communities around the world.","medium":"The effects of climate change are already being felt globally, with rising temperatures, more frequent natural disasters, and shifts in ecosystems. Addressing these challenges requires global cooperation and sustainable solutions.","long":"Climate change is no longer a distant threatit is a reality that is impacting every corner of the globe. Rising temperatures, shifting weather patterns, and extreme weather events such as hurricanes, droughts, and floods are becoming more frequent and intense. These changes are disrupting ecosystems, threatening biodiversity, and putting human populations at risk, particularly in vulnerable regions. Addressing climate change requires coordinated global action to reduce greenhouse gas emissions, transition to renewable energy, and protect ecosystems. Governments, businesses, and individuals must all play a role in mitigating the effects of climate change and adapting to its consequences. The urgency of this issue cannot be overstated, as the choices we make today will determine the future of our planet."},{"title":"The Wonders of Space","short":"Space is a vast and mysterious frontier that continues to captivate humanity, filled with galaxies, stars, and planets waiting to be discovered.","medium":"Space exploration has provided remarkable insights into the origins of the universe, the nature of distant stars and planets, and the possibility of life beyond Earth. The more we learn, the more we realize how much there is yet to explore.","long":"The universe is an awe-inspiring expanse that holds countless mysteries. Through the advancements in telescopes, spacecraft, and space exploration, we have begun to unravel the wonders of space. The study of distant galaxies, the birth of stars, and the exploration of exoplanets have provided invaluable insights into the origins of the cosmos and the potential for life beyond Earth. Space missions like the Hubble Space Telescope and the Mars Rover have opened our eyes to the beauty and complexity of the universe. As technology continues to improve, the possibilities for space exploration are endless, with future missions aimed at reaching distant asteroids, exploring the moons of Jupiter and Saturn, and even sending humans to Mars. Space holds infinite potential for discovery and understanding."},{"title":"The Importance of Mental Health","short":"Mental health is just as important as physical health, and its impact on overall well-being cannot be overstated.","medium":"Mental health affects every aspect of life, from personal relationships to career success. Tackling mental health challenges requires understanding, open communication, and access to proper care and support.","long":"Mental health is a crucial aspect of overall well-being, affecting how we think, feel, and act. It influences our relationships, work life, and ability to cope with stress. Yet, mental health is often overlooked, with many people facing stigma when seeking help. Mental health issues such as depression, anxiety, and stress can have a significant impact on a person's quality of life, making it essential to prioritize mental health alongside physical health. Raising awareness, reducing stigma, and ensuring access to mental health services are critical steps in supporting individuals who are struggling. Just as we would seek medical treatment for a physical illness, it's vital that we also take care of our mental health and encourage others to do the same."}]`),df=ff;function Rb(){const i=[];for(const t in ff){const n=ff[t];n?.title&&i.push(n.title)}return i}function n2(i){const t=Math.floor(Math.random()*df.length),n=df[t];return{title:n.title,text:n[i]}}function i2(i,t){const n=df.find(a=>a.title===i);return n?{title:n.title,text:n[t]}:null}function Mb(i){for(let t=0;t<i.length;t++)if(i[t]==="@")return!0;return!1}function Wv(){const i=n2(Kv(0).Text.Length);Il(0,{CurrentText:i.text,CurrentTitle:i.title}),console.log(`Text: ${is(0).CurrentText}`)}function s2(i){Il(0,{Timer:i}),console.log(`Timer: ${is(0).Timer}`)}function a2(){const i=new Array;for(const t of Array.from(document.styleSheets)){let n;try{n=t.cssRules}catch{continue}for(const a of Array.from(n))if(a instanceof CSSStyleRule){const o=a.selectorText.split(",");for(const l of o){const u=l.trim();u.startsWith(".theme")&&i.push(u.slice(1))}}}return i}function Xv(i){return i.length===0?0:i.reduce((t,n)=>t+n,0)/i.length}function r2(i){if(i===void 0)return;const t=[];for(const n of i)t.push(n.accuracy);return Xv(t)}function o2(i){if(i===void 0)return;const t=[];for(const n of i)t.push(n.wpm);return Xv(t)}function Db(i){if(!i||i.length===0)return;let t=-1/0,n=[0,0,0];for(const a of i){const o=a.errorLetters.length*.5,l=a.text?.length??0;if(l>0&&o>=l/6)continue;const u=a.wpm-o;u>t&&(t=u,n=[a.wpm,a.time,o])}return n}function l2(i){if(!i||i.length===0)return;let t=!1;const n={};for(const l of i)for(const u of l.errorLetters)n[u]=(n[u]??0)+1;let a="",o=0;for(const l in n){const u=n[l];u>o&&(o=u,a=l,t=!0)}return t?{[a]:o}:void 0}function c2(i){return i===void 0?0:i.length+1}function Vh(i){return i.sort((t,n)=>new Date(t.created_at).getTime()-new Date(n.created_at).getTime())}function Qv(i,t){const n=i/t*100;return Math.round(n*100)/100}function gf(i,t){return t<=0?0:Math.round(i/5/t)}const Jv=K.createContext(null);function u2({children:i}){const[t,n]=K.useState(!1),[a,o]=K.useState(!1),[l,u]=K.useState(()=>PO(0)),[h,f]=K.useState(0),[g,p]=K.useState(null),[y,v]=K.useState(!1),[_,S]=K.useState(null),[x,T]=K.useState(!0),[O,D]=K.useState(!1),R=K.useCallback(()=>f($=>$+1),[]);K.useEffect(()=>{u($=>{const P=$.Seconds/60,X=gf($.Character,P),Q=$.Character-$.CorrectCharacter,at=Qv($.CorrectCharacter,$.Character);return P===$.Minutes&&X===$.WPM&&Q===$.Errors&&at===$.Accurancy?$:{...$,Minutes:P,WPM:X,Errors:Q,Accurancy:at}})},[l.Seconds,l.Character,l.CorrectCharacter]);const q=K.useCallback(async()=>{let $=!1;v(!0),S(null);try{const P=await Fv();$||p(P)}catch{S("Konnte Stats nicht laden")}finally{v(!1)}},[]);K.useEffect(()=>{a&&q()},[a,q]),K.useEffect(()=>{x&&T(!1)},[x]);const H=K.useMemo(()=>({game:l,setGame:u,isGameStarted:t,setIsGameStarted:n,showResults:a,setShowResults:o,textVersion:h,bumpTextVersion:R,stats:g,loadingStats:y,statsError:_,firstLoaded:x,loadStats:q,isUserWindowOpen:O,setIsUserWindowOpen:D}),[l,t,a,h,g,y,_,R,x,q,O,D]);return E.jsx(Jv.Provider,{value:H,children:i})}function qr(){const i=K.useContext(Jv);if(!i)throw new Error("useGameStore must be used within GameStoreProvider");return i}function h2({data:i,classname:t}){const n=o=>new Date(o).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}),a=o=>new Date(o).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"});return E.jsxs("div",{className:`w-full h-16 bg-card-bg border border-card-border rounded-lg ${t} px-4 py-2 flex items-center justify-between transition-all duration-200 hover:border-accent-primary hover:shadow-glow-purple group`,children:[E.jsxs("div",{className:"flex flex-col items-start min-w-[90px] max-w-[90px]",children:[E.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Date"}),E.jsx("div",{className:"text-xs font-display font-bold text-text-primary",children:n(i.created_at)}),E.jsx("div",{className:"text-[10px] font-display font-semibold text-text-secondary opacity-70",children:a(i.created_at)})]}),E.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),E.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[E.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Time"}),E.jsxs("div",{className:"text-lg font-display font-bold text-text-primary",children:[i.time,"s"]})]}),E.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),E.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[E.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Accuracy"}),E.jsxs("div",{className:"text-lg font-display font-bold text-accent-primary",children:[i.accuracy,"%"]})]}),E.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),E.jsxs("div",{className:"flex flex-col items-center min-w-[60px]",children:[E.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"WPM"}),E.jsx("div",{className:"text-lg font-display font-bold text-accent-secondary",children:i.wpm})]}),E.jsx("div",{className:"h-10 w-px bg-card-border group-hover:bg-accent-primary/30 transition-colors"}),E.jsxs("div",{className:"flex flex-col items-center min-w-[70px]",children:[E.jsx("div",{className:"text-text-secondary text-[10px] font-display font-semibold uppercase tracking-wider mb-0.5",children:"Errors"}),E.jsx("div",{className:"text-lg font-display font-bold text-accent-warning",children:i.errorLetters.length})]})]})}function f2({rounds:i}){const t=[...i].reverse();return E.jsx("div",{className:"w-full h-full overflow-y-auto overflow-x-hidden blur-[0.6px] px-4 py-2 scrollbar-thin scrollbar-thumb-card-border scrollbar-track-transparent hover:scrollbar-thumb-accent-primary",children:t.map((n,a)=>E.jsx(h2,{data:n,classname:"my-2"},a))})}const d2=K.forwardRef(function(t,n){const[a,o]=K.useState(!1),[l,u]=K.useState(!1),[h,f]=K.useState(""),[g,p]=K.useState(""),[y,v]=K.useState(null),[_,S]=K.useState(null),{isUserWindowOpen:x,setIsUserWindowOpen:T,stats:O,loadStats:D}=qr(),[R,q]=K.useState("WpmGraph"),H=K.useMemo(()=>{const G=Vh(O?.rounds??[]),F=l2(G);return{"Average Acc":r2(G),"Average WPM":o2(G),"Best WPM":Db(G)?.[0]??0,"Best Time":Db(G)?.[1]??0,"Error Hotspots":Object.keys(F??{})[0]??"",Streaks:c2(G)}},[O]);K.useEffect(()=>{let G=!0;return FO().then(F=>{G&&p(F)}),WO().then(F=>{G&&v(F.profilePicture??null)}).catch(F=>{console.log("Error loading user settings: ",F)}),tn("open-profile-on-load")==="true"&&(T(!0),IO("open-profile-on-load")),()=>{G=!1}},[]),K.useEffect(()=>{_!==null&&XO(_).then(G=>{G&&v(G)}).catch(G=>{console.log("Error updating profile picture: ",G)})},[_]),K.useEffect(()=>{x&&D()},[x,D]);const $=()=>{T(!x)},P=async()=>{await YO(),window.location.reload()},X=G=>{f(G)},Q=async()=>{await KO(h.trim()),u(!1),t2()},at=Vh(O?.rounds??[]).map(G=>({...G,errorCount:G.errorLetters.length})),it=E.jsx(pr,{data:at,xKey:(G,F)=>`Round ${F+1}`,series:[{key:"wpm",label:"WPM",fill:!0}],xTitle:"Rounds",yTitle:"WPM",height:"95%",width:"100%",tooltipValueSuffix:"WPM",className:"border-none shadow-none"}),rt=E.jsx(pr,{data:at,xKey:(G,F)=>`Round ${F+1}`,series:[{key:"accuracy",label:"Accuracy",fill:!0}],xTitle:"Rounds",yTitle:"Accuracy",height:"95%",width:"100%",tooltipValueSuffix:"%",className:"border-none shadow-none"}),Ct=E.jsx(pr,{data:at,xKey:(G,F)=>`Round ${F+1}`,series:[{key:"time",label:"Time",fill:!0}],xTitle:"Rounds",yTitle:"Time",height:"95%",width:"100%",tooltipValueSuffix:"'s'",className:"border-none shadow-none"}),Dt=E.jsx(pr,{data:at,xKey:(G,F)=>`Round ${F+1}`,series:[{key:"errorCount",label:"ErrorLetters",fill:!0}],xTitle:"Rounds",yTitle:"Errors",height:"95%",width:"100%",tooltipValueSuffix:"Error's",className:"border-none shadow-none"}),pt=G=>{q(G),console.log(R)},U=E.jsxs("div",{ref:n||void 0,className:"flex flex-row gap-x-10 h-full",children:[E.jsx("div",{className:"w-1/4 flex flex-col gap-5",children:E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsxs("div",{className:"w-full aspect-square relative overflow-visible",children:[E.jsx("div",{className:"absolute z-50 -m-5",children:E.jsx(kl,{tooltip:"Settings",onClickFunction:()=>o(!a),text:"",optionsValue:[E.jsx(me,{text:"Log Out",onClickFunction:P})]})}),E.jsxs("div",{className:"relative group",children:[E.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-4 border-card-border transition-all duration-700 group-hover:scale-105 shadow-2xl"}),E.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100",children:E.jsx(e2,{text:"",setFile:S})})]})]}),E.jsxs("div",{className:"group relative flex justify-center items-center p-5 overflow-hidden",children:[l?E.jsx(Rl,{value:h,onSubmit:Q,onChange:X}):E.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest transition-all duration-700 group-hover:-translate-x-8 group-hover:tracking-normal",children:g}),E.jsx("div",{className:"absolute right-5 opacity-0 translate-x-4 transition-all duration-700 group-hover:opacity-100 group-hover:-translate-x-7",children:l?null:E.jsx(me,{onClickFunction:()=>u(!0),text:""})})]}),E.jsxs("ul",{className:"list-none pl-0 space-y-2 text-lg text-text-primary font-mono font-extrabold",children:[E.jsxs("li",{className:"flex items-center justify-between",children:[E.jsx(Fi,{content:"The average accuracy this player has.",children:E.jsx("span",{className:"cursor-default",children:"Average Accuracy"})}),E.jsxs("span",{children:[H["Average Acc"]!==void 0?Math.round(H["Average Acc"]*100)/100:0,"%"]})]}),E.jsx("div",{className:"h-px w-full bg-white/80"}),E.jsxs("li",{className:"flex items-center justify-between",children:[E.jsx(Fi,{content:"The average words per minute this player has.",children:E.jsx("span",{className:"cursor-default",children:"Average WPM"})}),E.jsx("span",{children:H["Average WPM"]!==void 0?Math.round(H["Average WPM"]*100)/100:0})]}),E.jsx("div",{className:"h-px w-full bg-white/80"}),E.jsxs("li",{className:"flex items-center justify-between",children:[E.jsx(Fi,{content:"The best WPM this player had.",children:E.jsx("span",{className:"cursor-default",children:"Best WPM"})}),E.jsx(Fi,{content:`This player got ${H["Best WPM"]} WPM in ${H["Best Time"]} seconds!`,children:E.jsx("span",{children:H["Best WPM"]})})]}),E.jsx("div",{className:"h-px w-full bg-white/80"}),E.jsxs("li",{className:"flex items-center justify-between",children:[E.jsx(Fi,{content:"The letter the player misstypes the most.",children:E.jsx("span",{className:"cursor-default",children:"Error Hotspots"})}),E.jsx("span",{children:H["Error Hotspots"]})]}),E.jsx("div",{className:"h-px w-full bg-white/80"}),E.jsxs("li",{className:"flex items-center justify-between",children:[E.jsx(Fi,{content:"How many plays this payer has.",children:E.jsx("span",{className:"cursor-default",children:"Streak"})}),E.jsx("span",{children:H.Streaks})]})]})]})}),E.jsxs("div",{className:"w-3/4 flex flex-col gap-5 min-h-0",children:[E.jsx("div",{className:"flex-[3] flex flex-row gap-x-5 min-h-0",children:E.jsxs("div",{className:"w-full h-full bg-game-bg-light rounded-md p-5 pl-0",children:[E.jsx("div",{className:"w-fit h-fit flex items-center justify-center ml-5",children:E.jsx(Cv,{options:["WpmGraph","AccGraph","TimeGraph","ErrorLettersGraph"],value:R,onChange:G=>pt(G)})}),R==="WpmGraph"&&it,R==="AccGraph"&&rt,R==="TimeGraph"&&Ct,R==="ErrorLettersGraph"&&Dt]})}),E.jsx("div",{className:"flex-[2] bg-game-bg-light rounded-md min-h-0",children:E.jsx(f2,{rounds:Vh(O?.rounds??[])})})]})]});return E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:$,style:{width:"15%"},className:"relative z-50 m-5 border-2 border-card-border rounded-full transition-all duration-150 hover:border-accent-primary active:scale-90",children:E.jsx("img",{src:y??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full"})}),E.jsx(Nb,{open:x,value:U,width:65,height:70,className:"motion-preset-blur-up-lg"})]})});function g2({glow:i=!1}){return E.jsx("h1",{className:`text-1xl font-display font-bold tracking-tight ${i?"drop-shadow-[0_0_25px_rgba(200,155,94,0.6)]":""}`,children:E.jsx("span",{className:"text-accent-primary",children:is(0).CurrentTitle})})}function Ol({text:i,fontSize:t=30,infoText:n,infoFontSize:a=12,infoPlace:o="Bottom",color:l="text-text-primary"}){const u=E.jsx("p",{style:{fontSize:t},className:`${l} font-bold`,children:i}),h=E.jsx("p",{style:{fontSize:`${a}px`},className:"text-text-secondary font-bold uppercase tracking-wider",children:n});return E.jsxs("div",{className:"flex flex-col",children:[o=="Bottom"?u:h,o=="Top"?u:h]})}function m2(){const{game:i,stats:t}=qr(),n=t?.rounds?.length?t.rounds[t.rounds.length-1]:null,a=n?.wpm??i.WPM,o=n?.accuracy??i.Accurancy,l=i.Errors??n?.errorLetters?.length??0,u=n?.time??i.Seconds;return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"w-full h-full bg-card-bg border border-card-border rounded-lg shadow-card flex flex-col",children:[E.jsxs("div",{className:"w-full h-28 border-b border-card-border flex flex-row items-center justify-around px-12",children:[E.jsx(Ol,{text:`${a}`,fontSize:42,infoText:"WPM",color:"text-accent-primary"}),E.jsx("div",{className:"h-16 w-px bg-card-border"}),E.jsx(Ol,{text:`${o}%`,fontSize:42,infoText:"ACC",color:"text-accent-success"}),E.jsx("div",{className:"h-16 w-px bg-card-border"}),E.jsx(Ol,{text:`${l}`,fontSize:42,infoText:"Errors",color:"text-accent-error"}),E.jsx("div",{className:"h-16 w-px bg-card-border"}),E.jsx(Ol,{text:`${u}'s`,fontSize:42,infoText:"Time / Seconds",color:"text-accent-secondary"})]}),E.jsx("div",{className:"flex-1 p-10",children:E.jsx(pr,{data:i.LineGraphDataSet,xKey:"Seconds",series:[{key:"WPM",label:"WPM",fill:!0}],xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE",tooltipValueSuffix:"WPM",className:"border-none shadow-none"})})]})})}function p2(){const{isGameStarted:i,setIsGameStarted:t,setShowResults:n,setGame:a,textVersion:o}=qr(),[l,u]=K.useState(""),[h,f]=K.useState([]),[g,p]=K.useState(is(0).Timer),[y,v]=K.useState(()=>is(0).CurrentText),_=K.useRef(!1),S=K.useRef(g),[x,T]=K.useState({Normal:"text-text-primary opacity-30",Correct:"text-text-correct",Incorrect:"text-text-incorrect",Upcoming:"text-text-upcoming opacity-20",Current:"text-text-current font-semibold border-b-4 border-white/50"}),O=K.useRef(y),D=K.useRef(is(0)),R=K.useMemo(()=>y.split(`
`).join(""),[y]),q=K.useMemo(()=>y.split(`
`),[y]),H=K.useRef(l),$=K.useRef(null),P=K.useRef(0),X=K.useRef(0),Q=K.useRef([]),at=K.useRef(!1),it=K.useRef(0),rt=K.useCallback(async()=>{if(at.current)return;at.current=!0;const F=Math.max(X.current-P.current,0),tt=Math.max(it.current,0),ot=tt/60,A={created_at:new Date().toISOString(),time:tt,text:y,accuracy:Qv(F,Math.max(X.current,1)),wpm:gf(X.current,ot),errorLetters:Q.current};try{await JO(A)}catch(L){console.log("appendUserRound failed:",L)}},[R.length]);K.useEffect(()=>{},[T]);const Ct=K.useCallback(F=>{const ot=(F??O.current).split(`
`).join(""),A=D.current.Timer;t(!1),n(!1),u(""),H.current="",P.current=0,X.current=0,Q.current=[],at.current=!1,it.current=0,f(Array.from({length:ot.length},()=>x.Normal)),p(A),S.current=A,a(L=>({...L,Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]})),requestAnimationFrame(()=>{$.current?.scrollTo({top:0}),$.current?.focus()})},[a,n,t,x]),Dt=K.useCallback(()=>{const F=is(0),tt=D.current,ot=F.CurrentText!==tt.CurrentText,A=F.Timer!==tt.Timer,L=F.CurrentTitle!==tt.CurrentTitle;if(!(!ot&&!A&&!L)){if(D.current=F,ot){O.current=F.CurrentText,v(F.CurrentText),Ct(F.CurrentText);return}if(A){Ct();return}Ct()}},[Ct]);K.useEffect(()=>{O.current=y},[y]),K.useEffect(()=>{S.current=g},[g]),K.useEffect(()=>{if(!_.current){_.current=!0;return}Dt()},[Dt,o]),K.useEffect(()=>{$.current?.focus()},[]),K.useEffect(()=>{const F=qO(Dt);return Dt(),F},[Dt]),K.useEffect(()=>{f(Array.from({length:R.length},()=>x.Normal))},[R,x]);const pt=K.useMemo(()=>{const F=y.split(`
`),tt=[];let ot=0;for(const A of F)tt.push(ot),ot+=A.length;return tt},[y]);K.useEffect(()=>{if(!i)return;const F=D.current.Timer>0;F&&(S.current=D.current.Timer,p(S.current));const tt=setInterval(()=>{a(A=>{const L=A.Seconds/60,W={gameIndex:A.LineGraphDataSet.length,Seconds:A.Seconds,WPM:gf(A.Character,L)};return{...A,LineGraphDataSet:[...A.LineGraphDataSet,W]}})},5e3),ot=setInterval(()=>{it.current+=1,a(A=>({...A,Seconds:A.Seconds+1})),F&&(S.current=Math.max(S.current-1,0),p(S.current),!(S.current>0)&&(t(!1),(async()=>(await rt(),n(!0)))(),clearInterval(ot),clearInterval(tt)))},1e3);return()=>{clearInterval(ot),clearInterval(tt)}},[i,a,n,t]),K.useEffect(()=>{const F=l.length-1;if(F<0){a(W=>({...W,Character:X.current,CorrectCharacter:Math.max(X.current-P.current,0)})),f(Array.from({length:R.length},()=>x.Normal));return}const tt=l[F]==R[F],ot=Math.min(l.length,R.length);for(let W=0;W<ot;W+=1)l[W],R[W];a(W=>({...W,Character:X.current,CorrectCharacter:Math.max(X.current-P.current,0)})),f(W=>{const J=[...W];return J[F]=tt?x.Correct:x.Incorrect,F+1<J.length&&(J[F+1]=x.Current),F+2<J.length&&(J[F+2]=x.Upcoming),J});const A=$.current;let L=null;if(A){for(let W=F;W<R.length&&(L=A.querySelector(`[data-idx="${W}"]`),!L);W+=1);if(!L)for(let W=F-1;W>=0&&(L=A.querySelector(`[data-idx="${W}"]`),!L);W-=1);}if(A&&L instanceof HTMLElement){const W=L.offsetTop-A.clientHeight/2+L.offsetHeight/2,J=Math.max(A.scrollHeight-A.clientHeight,0),lt=Math.max(0,Math.min(W,J));A.scrollTo({top:lt})}F>=R.length-1&&(t(!1),(async()=>(await rt(),n(!0)))())},[l,R,rt,a,n,t,x]);const U=(F,tt)=>{let ot=0;return F.split(/(\s+)/).map((A,L)=>{const W=ot;return ot+=A.length,A.trim()===""?E.jsx("span",{children:A},L):E.jsx("span",{className:"whitespace-nowrap",children:A.split("").map((J,lt)=>{const ft=pt[tt]+W+lt,Tt=h[ft]??x.Normal;return E.jsx("span",{"data-idx":ft,className:`inline-block ${Tt} transition-colors duration-100`,children:J},lt)})},L)})},G=D.current.Timer>0;return E.jsxs("div",{className:"relative w-full h-2/5",children:[G&&E.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-md border border-card-border bg-game-bg-light px-3 py-1 text-sm font-semibold text-text-primary shadow-card pointer-events-none",children:g}),E.jsx("div",{ref:$,tabIndex:0,onClick:()=>$.current?.focus(),onKeyDown:F=>{const tt=F.key;if(tt==="Escape"){F.preventDefault(),Ct();return}if(!(tt==="Backspace"||tt.length===1&&!F.ctrlKey&&!F.metaKey&&!F.altKey))return;if(F.preventDefault(),i||t(!0),tt==="Backspace"){if(H.current.length===0)return;u(L=>{const W=L.slice(0,L.length-1);return H.current=W,W});return}if(H.current.length>=R.length)return;const A=H.current.length;X.current+=1,R[A]!==tt&&(P.current+=1,Q.current.push(R[A])),u(L=>{const W=L+tt;return H.current=W,W})},className:"w-full h-full bg-card-bg p-10 rounded-xl text-text-primary text-typing-xxl font-mono outline-none shadow-card border-2 border-card-border overflow-y-scroll hover:border-accent-warning focus:border-accent-primary transition-all duration-300 backdrop-blur-sm",style:{scrollbarWidth:"thin",scrollbarColor:"#3a352f #211e1b"},children:q.map((F,tt)=>E.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:U(F,tt)},tt))})]})}function y2(){const{bumpTextVersion:i}=qr(),[t,n]=K.useState(),[a,o]=K.useState("Random");K.useEffect(()=>{n(a2()),tn("theme")===void 0&&Vn("theme","theme-earthy-earth"),tn("theme-index")===""&&Vn("theme-index","0"),console.log(`Theme: ${tn("theme")}
Theme-Index: ${tn("theme-index")}`)},[]),K.useEffect(()=>{console.log("Themes: ",t)},[t]);const l=(g,p)=>{Vn("theme",g),Vn("theme-index",p),ZO()},u=g=>{$O(0,{Text:{Length:g}}),Wv(),i()},h=g=>{s2(g)},f=g=>{const p=Rb();if(!g||p.length===0)return;o(g);const y=g,v=Kv(0).Text.Length,_=p[Math.floor(Math.random()*p.length)],S=y==="Random"?_:y,T=i2(S,v)?.text??"Something went wrong! Text not found!";Il(0,{CurrentTitle:S}),Il(0,{CurrentText:T})};return E.jsx(E.Fragment,{children:E.jsxs("div",{className:"w-full h-14 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row items-center gap-3 px-2 backdrop-blur-sm",children:[E.jsx(kl,{text:"",tooltip:"Text options",optionsValue:[E.jsx(Cl,{children:[E.jsx(me,{index:0,text:"Short",onClickFunction:()=>u("short")}),E.jsx(me,{index:1,text:"Middle",onClickFunction:()=>u("medium")}),E.jsx(me,{index:2,text:"Long",onClickFunction:()=>u("long")}),E.jsx(Cv,{label:"",options:["Random",...Rb()],value:a,onChange:f})],defaultSelect:0})]}),E.jsx(kl,{text:"",tooltip:"Timer options",optionsValue:[E.jsx(Cl,{children:[E.jsx(me,{index:0,text:"15's",onClickFunction:()=>h(15),tooltip:"Set a timer too 15 seconds."}),E.jsx(me,{index:1,text:"30's",onClickFunction:()=>h(30),tooltip:"Set a timer too 30 seconds."}),E.jsx(me,{index:2,text:"60's",onClickFunction:()=>h(60),tooltip:"Set a timer too 60 seconds."}),E.jsx(me,{index:3,text:"",onClickFunction:()=>h(-1),tooltip:"Set a timer that runs until u finished typing."})],defaultSelect:3})]}),E.jsx(kl,{text:"",tooltip:"Theme",itemsPerRow:15,optionsValue:[E.jsx(Cl,{children:t!==void 0?t.map((g,p)=>E.jsx(me,{text:"",className:` h-10 ${g} text-accent-primary`,onClickFunction:()=>l(g,`${p}`)},p)):[E.jsx(me,{}),E.jsx(me,{})],defaultSelect:parseInt(tn("theme-index"))})]})]})})}function b2({text:i="Loading..."}){return E.jsxs("div",{className:"w-screen h-screen bg-game-bg flex flex-col items-center justify-center gap-8",children:[E.jsxs("div",{className:"relative w-24 h-24",children:[[...Array(8)].map((t,n)=>E.jsx("div",{className:"absolute w-3 h-3 bg-accent-primary rounded-full",style:{top:"50%",left:"50%",transform:`rotate(${n*45}deg) translateY(-40px)`,animation:"pulse-glow 1.2s ease-in-out infinite",animationDelay:`${n*.15}s`}},n)),E.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-4 h-4 bg-accent-warning rounded-full shadow-glow-purple animate-pulse"})]}),E.jsxs("div",{className:"flex flex-col items-center gap-2",children:[E.jsx("h2",{className:"text-2xl font-display font-bold text-accent-primary animate-pulse",children:i}),E.jsxs("div",{className:"flex gap-1.5",children:[E.jsx("div",{className:"w-2 h-2 bg-accent-primary rounded-full animate-bounce",style:{animationDelay:"0s"}}),E.jsx("div",{className:"w-2 h-2 bg-accent-warning rounded-full animate-bounce",style:{animationDelay:"0.2s"}}),E.jsx("div",{className:"w-2 h-2 bg-accent-secondary rounded-full animate-bounce",style:{animationDelay:"0.4s"}})]})]}),E.jsx("style",{children:`
                @keyframes pulse-glow {
                    0%, 100% {
                        opacity: 0.3;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(0.8);
                    }
                    50% {
                        opacity: 1;
                        transform: rotate(var(--rotation)) translateY(-40px) scale(1.2);
                        box-shadow: 0 0 20px rgba(200, 155, 94, 0.8);
                    }
                }
            `})]})}function v2(){const[i,t]=K.useState(!1),[n,a]=K.useState(!1),[o,l]=K.useState("login"),[u,h]=K.useState(""),[f,g]=K.useState(""),[p,y]=K.useState(""),[v,_]=K.useState(""),{showResults:S,setShowResults:x,bumpTextVersion:T,loadingStats:O}=qr();K.useEffect(()=>{Wv(),T(),tn("logged in")===null&&Vn("logged in","false");const Q=tn("theme")||"theme-earthy-earth";(it=>{for(const rt of Array.from(it.classList))rt.startsWith("theme-")&&it.classList.remove(rt);it.classList.add(Q)})(document.documentElement)},[T]);const D=()=>{x(!S)},R=()=>{a(!n)},q=(Q,at)=>{Q==="Username"&&g(at),Q==="Email"&&y(at),Q==="Password"&&_(at)},H=async()=>{if(l("signup"),console.log(tn("logged in")),tn("logged in")==="true")return;const Q=await VO(f,p,v);Q?.status==="verify"?h("Please confirm your email."):Q?.status==="error"?h("Error, please try again."):h("")},$=async()=>{await GO(p,v),l("login"),h(""),window.location.reload()},P=E.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row gap-6 p-6 md:p-8 bg-card-bg border-2 border-card-border rounded-xl shadow-card",children:[E.jsxs("div",{className:"md:w-5/12 w-full flex flex-col gap-5 bg-game-bg-light border-2 border-card-border rounded-lg p-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-warning shadow-glow-yellow"}),E.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-primary shadow-glow-purple"}),E.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green"})]}),E.jsx("div",{className:"text-xs font-display uppercase tracking-[0.35em] text-text-secondary",children:"Access"})]}),E.jsxs("div",{className:"flex flex-col gap-2",children:[E.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold tracking-widest text-accent-primary",children:"WELCOME"}),E.jsx("p",{className:"text-text-secondary font-display text-sm leading-relaxed",children:"Log in to sync stats, save streaks and unlock custom themes."})]}),E.jsxs("div",{className:"flex flex-col gap-3 text-sm font-display text-text-primary",children:[E.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[E.jsx("span",{children:"Sync progress"}),E.jsx("span",{className:"text-accent-primary",children:"Ready"})]}),E.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[E.jsx("span",{children:"Keep streaks"}),E.jsx("span",{className:"text-accent-primary",children:"Active"})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{children:"Secure session"}),E.jsx("span",{className:"text-accent-primary",children:"Enabled"})]})]}),E.jsx("div",{className:"mt-auto text-xs font-display uppercase tracking-[0.3em] text-text-secondary",children:"Typing Game"})]}),E.jsxs("div",{className:"md:w-7/12 w-full flex flex-col gap-5",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("button",{onClick:()=>l("login"),className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="login"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,children:"Login"}),E.jsx("button",{className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${o==="signup"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,onClick:()=>l("signup"),children:"Sign up"})]}),E.jsx("div",{className:"h-px w-full bg-card-border/70"}),E.jsxs("div",{className:"w-full flex flex-col gap-4",children:[o==="signup"?E.jsx(Rl,{onChange:Q=>q("Username",Q),label:"Username",placeholder:"Enter your username..",type:"text",className:"w-full"}):null,E.jsx(Rl,{onChange:Q=>q("Email",Q),label:"Email",placeholder:"Enter your email..",type:"email",className:"w-full"}),E.jsx(Rl,{onChange:Q=>q("Password",Q),label:"Password",placeholder:"Enter your password..",type:"password",className:"w-full"})]}),E.jsx("div",{className:"h-px w-full bg-card-border/70"}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("div",{className:"text-xs font-display uppercase tracking-[0.2em] text-text-secondary",children:o==="login"?"No account? Sign up":"Already have an account?"}),E.jsx("div",{className:"flex items-center gap-3",children:o==="signup"?E.jsx(me,{disabled:!Mb(p),onClickFunction:H,text:"Create Account"}):E.jsx(me,{disabled:!Mb(p),onClickFunction:$,text:"Login"})})]}),u?E.jsx("div",{className:"text-xs font-display text-accent-warning",children:u}):null]})]}),X=tn("theme")||"theme-earthy-earth";return E.jsx("div",{className:`${X}`,children:E.jsx("div",{className:"w-screen h-screen bg-game-bg overflow-hidden",children:E.jsxs("div",{className:"w-full h-full flex flex-wrap items-center justify-center",children:[E.jsx("div",{id:"portal-root",className:`${X}`}),S?E.jsxs("div",{className:"w-full h-full flex flex-row",children:[E.jsx("div",{className:"absolute w-fit h-fit flex items-start p-5",children:E.jsx(me,{onClickFunction:D,text:""})}),E.jsx("div",{className:"w-full h-full flex items-center justify-center",children:E.jsx("div",{className:"w-4/5 h-4/5",children:O?E.jsx(b2,{text:"Loading results..."}):E.jsx(m2,{})})})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:" w-1/5 h-full flex-0",children:tn("logged in")==="false"?E.jsx("div",{className:"relative z-50 p-5",children:E.jsx(me,{onClickFunction:R,text:"Login / Sign up"})}):E.jsx(d2,{})}),n?E.jsx(Nb,{value:P,width:"min(980px, 92vw)",height:"min(640px, 90vh)",className:"bg-transparent border-none"}):null,E.jsxs("div",{className:"w-1/5 h-full flex flex-col gap-3 justify-center items-center flex-1",children:[E.jsx(y2,{}),E.jsx(p2,{}),E.jsx("div",{className:"w-[98%] flex flex-row items-center justify-start",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:E.jsx(g2,{glow:!!i})})]}),E.jsx("div",{className:"w-1/5 h-full flex-2"})]})]})})})}Rw.createRoot(document.getElementById("root")).render(E.jsx(K.StrictMode,{children:E.jsx(u2,{children:E.jsx(v2,{})})}));
