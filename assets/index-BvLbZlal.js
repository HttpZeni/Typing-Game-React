(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var ph={exports:{}},ir={};var Cm;function dw(){if(Cm)return ir;Cm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(a,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var h in l)h!=="key"&&(o[h]=l[h])}else o=l;return l=o.ref,{$$typeof:i,type:a,key:u,ref:l!==void 0?l:null,props:o}}return ir.Fragment=t,ir.jsx=n,ir.jsxs=n,ir}var km;function gw(){return km||(km=1,ph.exports=dw()),ph.exports}var k=gw(),mh={exports:{}},pt={};var Rm;function pw(){if(Rm)return pt;Rm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),v=Symbol.iterator;function _(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function C(O,$,F){this.props=O,this.context=$,this.refs=T,this.updater=F||S}C.prototype.isReactComponent={},C.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=C.prototype;function M(O,$,F){this.props=O,this.context=$,this.refs=T,this.updater=F||S}var B=M.prototype=new U;B.constructor=M,x(B,C.prototype),B.isPureReactComponent=!0;var q=Array.isArray;function Y(){}var V={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function Z(O,$,F){var J=F.ref;return{$$typeof:i,type:O,key:$,ref:J!==void 0?J:null,props:F}}function ft(O,$){return Z(O.type,$,O.props)}function lt(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function X(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(F){return $[F]})}var Et=/\/+/g;function nt(O,$){return typeof O=="object"&&O!==null&&O.key!=null?X(""+O.key):$.toString(36)}function it(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Y,Y):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function D(O,$,F,J,ht){var gt=typeof O;(gt==="undefined"||gt==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(gt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case i:case t:kt=!0;break;case m:return kt=O._init,D(kt(O._payload),$,F,J,ht)}}if(kt)return ht=ht(O),kt=J===""?"."+nt(O,0):J,q(ht)?(F="",kt!=null&&(F=kt.replace(Et,"$&/")+"/"),D(ht,$,F,"",function(ua){return ua})):ht!=null&&(lt(ht)&&(ht=ft(ht,F+(ht.key==null||O&&O.key===ht.key?"":(""+ht.key).replace(Et,"$&/")+"/")+kt)),$.push(ht)),1;kt=0;var ve=J===""?".":J+":";if(q(O))for(var Yt=0;Yt<O.length;Yt++)J=O[Yt],gt=ve+nt(J,Yt),kt+=D(J,$,F,gt,ht);else if(Yt=_(O),typeof Yt=="function")for(O=Yt.call(O),Yt=0;!(J=O.next()).done;)J=J.value,gt=ve+nt(J,Yt++),kt+=D(J,$,F,gt,ht);else if(gt==="object"){if(typeof O.then=="function")return D(it(O),$,F,J,ht);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return kt}function P(O,$,F){if(O==null)return O;var J=[],ht=0;return D(O,J,"","",function(gt){return $.call(F,gt,ht++)}),J}function W(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(F){(O._status===0||O._status===-1)&&(O._status=1,O._result=F)},function(F){(O._status===0||O._status===-1)&&(O._status=2,O._result=F)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var et=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},dt={map:P,forEach:function(O,$,F){P(O,function(){$.apply(this,arguments)},F)},count:function(O){var $=0;return P(O,function(){$++}),$},toArray:function(O){return P(O,function($){return $})||[]},only:function(O){if(!lt(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return pt.Activity=b,pt.Children=dt,pt.Component=C,pt.Fragment=n,pt.Profiler=l,pt.PureComponent=M,pt.StrictMode=a,pt.Suspense=f,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,pt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return V.H.useMemoCache(O)}},pt.cache=function(O){return function(){return O.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(O,$,F){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=x({},O.props),ht=O.key;if($!=null)for(gt in $.key!==void 0&&(ht=""+$.key),$)!K.call($,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&$.ref===void 0||(J[gt]=$[gt]);var gt=arguments.length-2;if(gt===1)J.children=F;else if(1<gt){for(var kt=Array(gt),ve=0;ve<gt;ve++)kt[ve]=arguments[ve+2];J.children=kt}return Z(O.type,ht,J)},pt.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},pt.createElement=function(O,$,F){var J,ht={},gt=null;if($!=null)for(J in $.key!==void 0&&(gt=""+$.key),$)K.call($,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ht[J]=$[J]);var kt=arguments.length-2;if(kt===1)ht.children=F;else if(1<kt){for(var ve=Array(kt),Yt=0;Yt<kt;Yt++)ve[Yt]=arguments[Yt+2];ht.children=ve}if(O&&O.defaultProps)for(J in kt=O.defaultProps,kt)ht[J]===void 0&&(ht[J]=kt[J]);return Z(O,gt,ht)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(O){return{$$typeof:h,render:O}},pt.isValidElement=lt,pt.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:W}},pt.memo=function(O,$){return{$$typeof:g,type:O,compare:$===void 0?null:$}},pt.startTransition=function(O){var $=V.T,F={};V.T=F;try{var J=O(),ht=V.S;ht!==null&&ht(F,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Y,et)}catch(gt){et(gt)}finally{$!==null&&F.types!==null&&($.types=F.types),V.T=$}},pt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},pt.use=function(O){return V.H.use(O)},pt.useActionState=function(O,$,F){return V.H.useActionState(O,$,F)},pt.useCallback=function(O,$){return V.H.useCallback(O,$)},pt.useContext=function(O){return V.H.useContext(O)},pt.useDebugValue=function(){},pt.useDeferredValue=function(O,$){return V.H.useDeferredValue(O,$)},pt.useEffect=function(O,$){return V.H.useEffect(O,$)},pt.useEffectEvent=function(O){return V.H.useEffectEvent(O)},pt.useId=function(){return V.H.useId()},pt.useImperativeHandle=function(O,$,F){return V.H.useImperativeHandle(O,$,F)},pt.useInsertionEffect=function(O,$){return V.H.useInsertionEffect(O,$)},pt.useLayoutEffect=function(O,$){return V.H.useLayoutEffect(O,$)},pt.useMemo=function(O,$){return V.H.useMemo(O,$)},pt.useOptimistic=function(O,$){return V.H.useOptimistic(O,$)},pt.useReducer=function(O,$,F){return V.H.useReducer(O,$,F)},pt.useRef=function(O){return V.H.useRef(O)},pt.useState=function(O){return V.H.useState(O)},pt.useSyncExternalStore=function(O,$,F){return V.H.useSyncExternalStore(O,$,F)},pt.useTransition=function(){return V.H.useTransition()},pt.version="19.2.4",pt}var Mm;function uf(){return Mm||(Mm=1,mh.exports=pw()),mh.exports}var Q=uf(),yh={exports:{}},sr={},bh={exports:{}},vh={};var Dm;function mw(){return Dm||(Dm=1,(function(i){function t(D,P){var W=D.length;D.push(P);t:for(;0<W;){var et=W-1>>>1,dt=D[et];if(0<l(dt,P))D[et]=P,D[W]=dt,W=et;else break t}}function n(D){return D.length===0?null:D[0]}function a(D){if(D.length===0)return null;var P=D[0],W=D.pop();if(W!==P){D[0]=W;t:for(var et=0,dt=D.length,O=dt>>>1;et<O;){var $=2*(et+1)-1,F=D[$],J=$+1,ht=D[J];if(0>l(F,W))J<dt&&0>l(ht,F)?(D[et]=ht,D[J]=W,et=J):(D[et]=F,D[$]=W,et=$);else if(J<dt&&0>l(ht,W))D[et]=ht,D[J]=W,et=J;else break t}}return P}function l(D,P){var W=D.sortIndex-P.sortIndex;return W!==0?W:D.id-P.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;i.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var f=[],g=[],m=1,b=null,v=3,_=!1,S=!1,x=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function B(D){for(var P=n(g);P!==null;){if(P.callback===null)a(g);else if(P.startTime<=D)a(g),P.sortIndex=P.expirationTime,t(f,P);else break;P=n(g)}}function q(D){if(x=!1,B(D),!S)if(n(f)!==null)S=!0,Y||(Y=!0,X());else{var P=n(g);P!==null&&it(q,P.startTime-D)}}var Y=!1,V=-1,K=5,Z=-1;function ft(){return T?!0:!(i.unstable_now()-Z<K)}function lt(){if(T=!1,Y){var D=i.unstable_now();Z=D;var P=!0;try{t:{S=!1,x&&(x=!1,U(V),V=-1),_=!0;var W=v;try{e:{for(B(D),b=n(f);b!==null&&!(b.expirationTime>D&&ft());){var et=b.callback;if(typeof et=="function"){b.callback=null,v=b.priorityLevel;var dt=et(b.expirationTime<=D);if(D=i.unstable_now(),typeof dt=="function"){b.callback=dt,B(D),P=!0;break e}b===n(f)&&a(f),B(D)}else a(f);b=n(f)}if(b!==null)P=!0;else{var O=n(g);O!==null&&it(q,O.startTime-D),P=!1}}break t}finally{b=null,v=W,_=!1}P=void 0}}finally{P?X():Y=!1}}}var X;if(typeof M=="function")X=function(){M(lt)};else if(typeof MessageChannel<"u"){var Et=new MessageChannel,nt=Et.port2;Et.port1.onmessage=lt,X=function(){nt.postMessage(null)}}else X=function(){C(lt,0)};function it(D,P){V=C(function(){D(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(D){switch(v){case 1:case 2:case 3:var P=3;break;default:P=v}var W=v;v=P;try{return D()}finally{v=W}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=v;v=D;try{return P()}finally{v=W}},i.unstable_scheduleCallback=function(D,P,W){var et=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?et+W:et):W=et,D){case 1:var dt=-1;break;case 2:dt=250;break;case 5:dt=1073741823;break;case 4:dt=1e4;break;default:dt=5e3}return dt=W+dt,D={id:m++,callback:P,priorityLevel:D,startTime:W,expirationTime:dt,sortIndex:-1},W>et?(D.sortIndex=W,t(g,D),n(f)===null&&D===n(g)&&(x?(U(V),V=-1):x=!0,it(q,W-et))):(D.sortIndex=dt,t(f,D),S||_||(S=!0,Y||(Y=!0,X()))),D},i.unstable_shouldYield=ft,i.unstable_wrapCallback=function(D){var P=v;return function(){var W=v;v=P;try{return D.apply(this,arguments)}finally{v=W}}}})(vh)),vh}var jm;function yw(){return jm||(jm=1,bh.exports=mw()),bh.exports}var _h={exports:{}},ge={};var zm;function bw(){if(zm)return ge;zm=1;var i=uf();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(f,g,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:f,containerInfo:g,implementation:m}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,ge.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,m)},ge.flushSync=function(f){var g=u.T,m=a.p;try{if(u.T=null,a.p=2,f)return f()}finally{u.T=g,a.p=m,a.d.f()}},ge.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(f,g))},ge.prefetchDNS=function(f){typeof f=="string"&&a.d.D(f)},ge.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,b=h(m,g.crossOrigin),v=typeof g.integrity=="string"?g.integrity:void 0,_=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?a.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:_}):m==="script"&&a.d.X(f,{crossOrigin:b,integrity:v,fetchPriority:_,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ge.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);a.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(f)},ge.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,b=h(m,g.crossOrigin);a.d.L(f,m,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ge.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);a.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(f)},ge.requestFormReset=function(f){a.d.r(f)},ge.unstable_batchedUpdates=function(f,g){return f(g)},ge.useFormState=function(f,g,m){return u.H.useFormState(f,g,m)},ge.useFormStatus=function(){return u.H.useHostTransitionStatus()},ge.version="19.2.4",ge}var Nm;function vw(){if(Nm)return _h.exports;Nm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),_h.exports=bw(),_h.exports}var Um;function _w(){if(Um)return sr;Um=1;var i=yw(),t=uf(),n=vw();function a(e){var s="https://react.dev/errors/"+e;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,(s.flags&4098)!==0&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function u(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function h(e){if(e.tag===31){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function f(e){if(o(e)!==e)throw Error(a(188))}function g(e){var s=e.alternate;if(!s){if(s=o(e),s===null)throw Error(a(188));return s!==e?null:e}for(var r=e,c=s;;){var d=r.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){r=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===r)return f(d),e;if(p===c)return f(d),s;p=p.sibling}throw Error(a(188))}if(r.return!==c.return)r=d,c=p;else{for(var y=!1,w=d.child;w;){if(w===r){y=!0,r=d,c=p;break}if(w===c){y=!0,c=d,r=p;break}w=w.sibling}if(!y){for(w=p.child;w;){if(w===r){y=!0,r=p,c=d;break}if(w===c){y=!0,c=p,r=d;break}w=w.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==c)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:s}function m(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e;for(e=e.child;e!==null;){if(s=m(e),s!==null)return s;e=e.sibling}return null}var b=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),M=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ft=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Symbol.for("react.client.reference");function nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Et?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case x:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case q:return"Suspense";case Y:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case M:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case B:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return s=e.displayName||null,s!==null?s:nt(e.type)||"Memo";case K:s=e._payload,e=e._init;try{return nt(e(s))}catch{}}return null}var it=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},et=[],dt=-1;function O(e){return{current:e}}function $(e){0>dt||(e.current=et[dt],et[dt]=null,dt--)}function F(e,s){dt++,et[dt]=e.current,e.current=s}var J=O(null),ht=O(null),gt=O(null),kt=O(null);function ve(e,s){switch(F(gt,s),F(ht,e),F(J,null),s.nodeType){case 9:case 11:e=(e=s.documentElement)&&(e=e.namespaceURI)?Qp(e):0;break;default:if(e=s.tagName,s=s.namespaceURI)s=Qp(s),e=Jp(s,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(J),F(J,e)}function Yt(){$(J),$(ht),$(gt)}function ua(e){e.memoizedState!==null&&F(kt,e);var s=J.current,r=Jp(s,e.type);s!==r&&(F(ht,e),F(J,r))}function Hr(e){ht.current===e&&($(J),$(ht)),kt.current===e&&($(kt),Za._currentValue=W)}var Qo,Af;function Si(e){if(Qo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);Qo=s&&s[1]||"",Af=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qo+e+Af}var Jo=!1;function Zo(e,s){if(!e||Jo)return"";Jo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var N=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){N=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){N=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&N&&typeof L.stack=="string")return[L.stack,N.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],w=p[1];if(y&&w){var E=y.split(`
`),z=w.split(`
`);for(d=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(c===E.length||d===z.length)for(c=E.length-1,d=z.length-1;1<=c&&0<=d&&E[c]!==z[d];)d--;for(;1<=c&&0<=d;c--,d--)if(E[c]!==z[d]){if(c!==1||d!==1)do if(c--,d--,0>d||E[c]!==z[d]){var H=`
`+E[c].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=c&&0<=d);break}}}finally{Jo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Si(r):""}function Iv(e,s){switch(e.tag){case 26:case 27:case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return e.child!==s&&s!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Zo(e.type,!1);case 11:return Zo(e.type.render,!1);case 1:return Zo(e.type,!0);case 31:return Si("Activity");default:return""}}function Cf(e){try{var s="",r=null;do s+=Iv(e,r),r=e,e=e.return;while(e);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var tc=Object.prototype.hasOwnProperty,ec=i.unstable_scheduleCallback,nc=i.unstable_cancelCallback,Gv=i.unstable_shouldYield,Yv=i.unstable_requestPaint,Me=i.unstable_now,Kv=i.unstable_getCurrentPriorityLevel,kf=i.unstable_ImmediatePriority,Rf=i.unstable_UserBlockingPriority,qr=i.unstable_NormalPriority,Fv=i.unstable_LowPriority,Mf=i.unstable_IdlePriority,Xv=i.log,Wv=i.unstable_setDisableYieldValue,ha=null,De=null;function Gn(e){if(typeof Xv=="function"&&Wv(e),De&&typeof De.setStrictMode=="function")try{De.setStrictMode(ha,e)}catch{}}var je=Math.clz32?Math.clz32:Zv,Qv=Math.log,Jv=Math.LN2;function Zv(e){return e>>>=0,e===0?32:31-(Qv(e)/Jv|0)|0}var Pr=256,$r=262144,Vr=4194304;function xi(e){var s=e&42;if(s!==0)return s;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ir(e,s,r){var c=e.pendingLanes;if(c===0)return 0;var d=0,p=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=c&134217727;return w!==0?(c=w&~p,c!==0?d=xi(c):(y&=w,y!==0?d=xi(y):r||(r=w&~e,r!==0&&(d=xi(r))))):(w=c&~p,w!==0?d=xi(w):y!==0?d=xi(y):r||(r=c&~e,r!==0&&(d=xi(r)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,r=s&-s,p>=r||p===32&&(r&4194048)!==0)?s:d}function fa(e,s){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&s)===0}function t0(e,s){switch(e){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Df(){var e=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),e}function ic(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function da(e,s){e.pendingLanes|=s,s!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function e0(e,s,r,c,d,p){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var w=e.entanglements,E=e.expirationTimes,z=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-je(r),G=1<<H;w[H]=0,E[H]=-1;var N=z[H];if(N!==null)for(z[H]=null,H=0;H<N.length;H++){var L=N[H];L!==null&&(L.lane&=-536870913)}r&=~G}c!==0&&jf(e,c,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(y&~s))}function jf(e,s,r){e.pendingLanes|=s,e.suspendedLanes&=~s;var c=31-je(s);e.entangledLanes|=s,e.entanglements[c]=e.entanglements[c]|1073741824|r&261930}function zf(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var c=31-je(r),d=1<<c;d&s|e[c]&s&&(e[c]|=s),r&=~d}}function Nf(e,s){var r=s&-s;return r=(r&42)!==0?1:sc(r),(r&(e.suspendedLanes|s))!==0?0:r}function sc(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ac(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Uf(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:wm(e.type))}function Lf(e,s){var r=P.p;try{return P.p=e,s()}finally{P.p=r}}var Yn=Math.random().toString(36).slice(2),le="__reactFiber$"+Yn,we="__reactProps$"+Yn,as="__reactContainer$"+Yn,rc="__reactEvents$"+Yn,n0="__reactListeners$"+Yn,i0="__reactHandles$"+Yn,Bf="__reactResources$"+Yn,ga="__reactMarker$"+Yn;function lc(e){delete e[le],delete e[we],delete e[rc],delete e[n0],delete e[i0]}function rs(e){var s=e[le];if(s)return s;for(var r=e.parentNode;r;){if(s=r[as]||r[le]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=am(e);e!==null;){if(r=e[le])return r;e=am(e)}return s}e=r,r=e.parentNode}return null}function ls(e){if(e=e[le]||e[as]){var s=e.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return e}return null}function pa(e){var s=e.tag;if(s===5||s===26||s===27||s===6)return e.stateNode;throw Error(a(33))}function os(e){var s=e[Bf];return s||(s=e[Bf]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function se(e){e[ga]=!0}var Hf=new Set,qf={};function Ti(e,s){cs(e,s),cs(e+"Capture",s)}function cs(e,s){for(qf[e]=s,e=0;e<s.length;e++)Hf.add(s[e])}var s0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pf={},$f={};function a0(e){return tc.call($f,e)?!0:tc.call(Pf,e)?!1:s0.test(e)?$f[e]=!0:(Pf[e]=!0,!1)}function Gr(e,s,r){if(a0(s))if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){e.removeAttribute(s);return}}e.setAttribute(s,""+r)}}function Yr(e,s,r){if(r===null)e.removeAttribute(s);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttribute(s,""+r)}}function _n(e,s,r,c){if(c===null)e.removeAttribute(r);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(s,r,""+c)}}function Ve(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vf(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function r0(e,s,r){var c=Object.getOwnPropertyDescriptor(e.constructor.prototype,s);if(!e.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return d.call(this)},set:function(y){r=""+y,p.call(this,y)}}),Object.defineProperty(e,s,{enumerable:c.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function oc(e){if(!e._valueTracker){var s=Vf(e)?"checked":"value";e._valueTracker=r0(e,s,""+e[s])}}function If(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),c="";return e&&(c=Vf(e)?e.checked?"true":"false":e.value),e=c,e!==r?(s.setValue(e),!0):!1}function Kr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var l0=/[\n"\\]/g;function Ie(e){return e.replace(l0,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function cc(e,s,r,c,d,p,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),s!=null?y==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+Ve(s)):e.value!==""+Ve(s)&&(e.value=""+Ve(s)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),s!=null?uc(e,y,Ve(s)):r!=null?uc(e,y,Ve(r)):c!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Ve(w):e.removeAttribute("name")}function Gf(e,s,r,c,d,p,y,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),s!=null||r!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){oc(e);return}r=r!=null?""+Ve(r):"",s=s!=null?""+Ve(s):r,w||s===e.value||(e.value=s),e.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,e.checked=w?e.checked:!!c,e.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),oc(e)}function uc(e,s,r){s==="number"&&Kr(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function us(e,s,r,c){if(e=e.options,s){s={};for(var d=0;d<r.length;d++)s["$"+r[d]]=!0;for(r=0;r<e.length;r++)d=s.hasOwnProperty("$"+e[r].value),e[r].selected!==d&&(e[r].selected=d),d&&c&&(e[r].defaultSelected=!0)}else{for(r=""+Ve(r),s=null,d=0;d<e.length;d++){if(e[d].value===r){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}s!==null||e[d].disabled||(s=e[d])}s!==null&&(s.selected=!0)}}function Yf(e,s,r){if(s!=null&&(s=""+Ve(s),s!==e.value&&(e.value=s),r==null)){e.defaultValue!==s&&(e.defaultValue=s);return}e.defaultValue=r!=null?""+Ve(r):""}function Kf(e,s,r,c){if(s==null){if(c!=null){if(r!=null)throw Error(a(92));if(it(c)){if(1<c.length)throw Error(a(93));c=c[0]}r=c}r==null&&(r=""),s=r}r=Ve(s),e.defaultValue=r,c=e.textContent,c===r&&c!==""&&c!==null&&(e.value=c),oc(e)}function hs(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var o0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ff(e,s,r){var c=s.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?c?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="":c?e.setProperty(s,r):typeof r!="number"||r===0||o0.has(s)?s==="float"?e.cssFloat=r:e[s]=(""+r).trim():e[s]=r+"px"}function Xf(e,s,r){if(s!=null&&typeof s!="object")throw Error(a(62));if(e=e.style,r!=null){for(var c in r)!r.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?e.setProperty(c,""):c==="float"?e.cssFloat="":e[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&r[d]!==c&&Ff(e,d,c)}else for(var p in s)s.hasOwnProperty(p)&&Ff(e,p,s[p])}function hc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),u0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fr(e){return u0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function wn(){}var fc=null;function dc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fs=null,ds=null;function Wf(e){var s=ls(e);if(s&&(e=s.stateNode)){var r=e[we]||null;t:switch(e=s.stateNode,s.type){case"input":if(cc(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ie(""+s)+'"][type="radio"]'),s=0;s<r.length;s++){var c=r[s];if(c!==e&&c.form===e.form){var d=c[we]||null;if(!d)throw Error(a(90));cc(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<r.length;s++)c=r[s],c.form===e.form&&If(c)}break t;case"textarea":Yf(e,r.value,r.defaultValue);break t;case"select":s=r.value,s!=null&&us(e,!!r.multiple,s,!1)}}}var gc=!1;function Qf(e,s,r){if(gc)return e(s,r);gc=!0;try{var c=e(s);return c}finally{if(gc=!1,(fs!==null||ds!==null)&&(Nl(),fs&&(s=fs,e=ds,ds=fs=null,Wf(s),e)))for(s=0;s<e.length;s++)Wf(e[s])}}function ma(e,s){var r=e.stateNode;if(r===null)return null;var c=r[we]||null;if(c===null)return null;r=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,s,typeof r));return r}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pc=!1;if(Sn)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){pc=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{pc=!1}var Kn=null,mc=null,Xr=null;function Jf(){if(Xr)return Xr;var e,s=mc,r=s.length,c,d="value"in Kn?Kn.value:Kn.textContent,p=d.length;for(e=0;e<r&&s[e]===d[e];e++);var y=r-e;for(c=1;c<=y&&s[r-c]===d[p-c];c++);return Xr=d.slice(e,1<c?1-c:void 0)}function Wr(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function Zf(){return!1}function Se(e){function s(r,c,d,p,y){this._reactName=r,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(r=e[w],this[w]=r?r(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Qr:Zf,this.isPropagationStopped=Zf,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),s}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jr=Se(Ei),ba=b({},Ei,{view:0,detail:0}),h0=Se(ba),yc,bc,va,Zr=b({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(yc=e.screenX-va.screenX,bc=e.screenY-va.screenY):bc=yc=0,va=e),yc)},movementY:function(e){return"movementY"in e?e.movementY:bc}}),td=Se(Zr),f0=b({},Zr,{dataTransfer:0}),d0=Se(f0),g0=b({},ba,{relatedTarget:0}),vc=Se(g0),p0=b({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),m0=Se(p0),y0=b({},Ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b0=Se(y0),v0=b({},Ei,{data:0}),ed=Se(v0),_0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x0(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=S0[e])?!!s[e]:!1}function _c(){return x0}var T0=b({},ba,{key:function(e){if(e.key){var s=_0[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(e){return e.type==="keypress"?Wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),E0=Se(T0),O0=b({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nd=Se(O0),A0=b({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),C0=Se(A0),k0=b({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),R0=Se(k0),M0=b({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),D0=Se(M0),j0=b({},Ei,{newState:0,oldState:0}),z0=Se(j0),N0=[9,13,27,32],wc=Sn&&"CompositionEvent"in window,_a=null;Sn&&"documentMode"in document&&(_a=document.documentMode);var U0=Sn&&"TextEvent"in window&&!_a,id=Sn&&(!wc||_a&&8<_a&&11>=_a),sd=" ",ad=!1;function rd(e,s){switch(e){case"keyup":return N0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function L0(e,s){switch(e){case"compositionend":return ld(s);case"keypress":return s.which!==32?null:(ad=!0,sd);case"textInput":return e=s.data,e===sd&&ad?null:e;default:return null}}function B0(e,s){if(gs)return e==="compositionend"||!wc&&rd(e,s)?(e=Jf(),Xr=mc=Kn=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return id&&s.locale!=="ko"?null:s.data;default:return null}}var H0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!H0[e.type]:s==="textarea"}function cd(e,s,r,c){fs?ds?ds.push(c):ds=[c]:fs=c,s=$l(s,"onChange"),0<s.length&&(r=new Jr("onChange","change",null,r,c),e.push({event:r,listeners:s}))}var wa=null,Sa=null;function q0(e){Gp(e,0)}function tl(e){var s=pa(e);if(If(s))return e}function ud(e,s){if(e==="change")return s}var hd=!1;if(Sn){var Sc;if(Sn){var xc="oninput"in document;if(!xc){var fd=document.createElement("div");fd.setAttribute("oninput","return;"),xc=typeof fd.oninput=="function"}Sc=xc}else Sc=!1;hd=Sc&&(!document.documentMode||9<document.documentMode)}function dd(){wa&&(wa.detachEvent("onpropertychange",gd),Sa=wa=null)}function gd(e){if(e.propertyName==="value"&&tl(Sa)){var s=[];cd(s,Sa,e,dc(e)),Qf(q0,s)}}function P0(e,s,r){e==="focusin"?(dd(),wa=s,Sa=r,wa.attachEvent("onpropertychange",gd)):e==="focusout"&&dd()}function $0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Sa)}function V0(e,s){if(e==="click")return tl(s)}function I0(e,s){if(e==="input"||e==="change")return tl(s)}function G0(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var ze=typeof Object.is=="function"?Object.is:G0;function xa(e,s){if(ze(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),c=Object.keys(s);if(r.length!==c.length)return!1;for(c=0;c<r.length;c++){var d=r[c];if(!tc.call(s,d)||!ze(e[d],s[d]))return!1}return!0}function pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function md(e,s){var r=pd(e);e=0;for(var c;r;){if(r.nodeType===3){if(c=e+r.textContent.length,e<=s&&c>=s)return{node:r,offset:s-e};e=c}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=pd(r)}}function yd(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?yd(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function bd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var s=Kr(e.document);s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=Kr(e.document)}return s}function Tc(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}var Y0=Sn&&"documentMode"in document&&11>=document.documentMode,ps=null,Ec=null,Ta=null,Oc=!1;function vd(e,s,r){var c=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||ps==null||ps!==Kr(c)||(c=ps,"selectionStart"in c&&Tc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ta&&xa(Ta,c)||(Ta=c,c=$l(Ec,"onSelect"),0<c.length&&(s=new Jr("onSelect","select",null,s,r),e.push({event:s,listeners:c}),s.target=ps)))}function Oi(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var ms={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},Ac={},_d={};Sn&&(_d=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Ai(e){if(Ac[e])return Ac[e];if(!ms[e])return e;var s=ms[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in _d)return Ac[e]=s[r];return e}var wd=Ai("animationend"),Sd=Ai("animationiteration"),xd=Ai("animationstart"),K0=Ai("transitionrun"),F0=Ai("transitionstart"),X0=Ai("transitioncancel"),Td=Ai("transitionend"),Ed=new Map,Cc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cc.push("scrollEnd");function sn(e,s){Ed.set(e,s),Ti(s,[e])}var el=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ge=[],ys=0,kc=0;function nl(){for(var e=ys,s=kc=ys=0;s<e;){var r=Ge[s];Ge[s++]=null;var c=Ge[s];Ge[s++]=null;var d=Ge[s];Ge[s++]=null;var p=Ge[s];if(Ge[s++]=null,c!==null&&d!==null){var y=c.pending;y===null?d.next=d:(d.next=y.next,y.next=d),c.pending=d}p!==0&&Od(r,d,p)}}function il(e,s,r,c){Ge[ys++]=e,Ge[ys++]=s,Ge[ys++]=r,Ge[ys++]=c,kc|=c,e.lanes|=c,e=e.alternate,e!==null&&(e.lanes|=c)}function Rc(e,s,r,c){return il(e,s,r,c),sl(e)}function Ci(e,s){return il(e,null,null,s),sl(e)}function Od(e,s,r){e.lanes|=r;var c=e.alternate;c!==null&&(c.lanes|=r);for(var d=!1,p=e.return;p!==null;)p.childLanes|=r,c=p.alternate,c!==null&&(c.childLanes|=r),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&s!==null&&(d=31-je(r),e=p.hiddenUpdates,c=e[d],c===null?e[d]=[s]:c.push(s),s.lane=r|536870912),p):null}function sl(e){if(50<Ya)throw Ya=0,Hu=null,Error(a(185));for(var s=e.return;s!==null;)e=s,s=e.return;return e.tag===3?e.stateNode:null}var bs={};function W0(e,s,r,c){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ne(e,s,r,c){return new W0(e,s,r,c)}function Mc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,s){var r=e.alternate;return r===null?(r=Ne(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ad(e,s){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=s,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,s=r.dependencies,e.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),e}function al(e,s,r,c,d,p){var y=0;if(c=e,typeof e=="function")Mc(e)&&(y=1);else if(typeof e=="string")y=ew(e,r,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Z:return e=Ne(31,r,s,d),e.elementType=Z,e.lanes=p,e;case x:return ki(r.children,d,p,s);case T:y=8,d|=24;break;case C:return e=Ne(12,r,s,d|2),e.elementType=C,e.lanes=p,e;case q:return e=Ne(13,r,s,d),e.elementType=q,e.lanes=p,e;case Y:return e=Ne(19,r,s,d),e.elementType=Y,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:y=10;break t;case U:y=9;break t;case B:y=11;break t;case V:y=14;break t;case K:y=16,c=null;break t}y=29,r=Error(a(130,e===null?"null":typeof e,"")),c=null}return s=Ne(y,r,s,d),s.elementType=e,s.type=c,s.lanes=p,s}function ki(e,s,r,c){return e=Ne(7,e,c,s),e.lanes=r,e}function Dc(e,s,r){return e=Ne(6,e,null,s),e.lanes=r,e}function Cd(e){var s=Ne(18,null,null,0);return s.stateNode=e,s}function jc(e,s,r){return s=Ne(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}var kd=new WeakMap;function Ye(e,s){if(typeof e=="object"&&e!==null){var r=kd.get(e);return r!==void 0?r:(s={value:e,source:s,stack:Cf(s)},kd.set(e,s),s)}return{value:e,source:s,stack:Cf(s)}}var vs=[],_s=0,rl=null,Ea=0,Ke=[],Fe=0,Fn=null,fn=1,dn="";function Tn(e,s){vs[_s++]=Ea,vs[_s++]=rl,rl=e,Ea=s}function Rd(e,s,r){Ke[Fe++]=fn,Ke[Fe++]=dn,Ke[Fe++]=Fn,Fn=e;var c=fn;e=dn;var d=32-je(c)-1;c&=~(1<<d),r+=1;var p=32-je(s)+d;if(30<p){var y=d-d%5;p=(c&(1<<y)-1).toString(32),c>>=y,d-=y,fn=1<<32-je(s)+d|r<<d|c,dn=p+e}else fn=1<<p|r<<d|c,dn=e}function zc(e){e.return!==null&&(Tn(e,1),Rd(e,1,0))}function Nc(e){for(;e===rl;)rl=vs[--_s],vs[_s]=null,Ea=vs[--_s],vs[_s]=null;for(;e===Fn;)Fn=Ke[--Fe],Ke[Fe]=null,dn=Ke[--Fe],Ke[Fe]=null,fn=Ke[--Fe],Ke[Fe]=null}function Md(e,s){Ke[Fe++]=fn,Ke[Fe++]=dn,Ke[Fe++]=Fn,fn=s.id,dn=s.overflow,Fn=e}var oe=null,Ht=null,St=!1,Xn=null,Xe=!1,Uc=Error(a(519));function Wn(e){var s=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Ye(s,e)),Uc}function Dd(e){var s=e.stateNode,r=e.type,c=e.memoizedProps;switch(s[le]=e,s[we]=c,r){case"dialog":vt("cancel",s),vt("close",s);break;case"iframe":case"object":case"embed":vt("load",s);break;case"video":case"audio":for(r=0;r<Fa.length;r++)vt(Fa[r],s);break;case"source":vt("error",s);break;case"img":case"image":case"link":vt("error",s),vt("load",s);break;case"details":vt("toggle",s);break;case"input":vt("invalid",s),Gf(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":vt("invalid",s);break;case"textarea":vt("invalid",s),Kf(s,c.value,c.defaultValue,c.children)}r=c.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||s.textContent===""+r||c.suppressHydrationWarning===!0||Xp(s.textContent,r)?(c.popover!=null&&(vt("beforetoggle",s),vt("toggle",s)),c.onScroll!=null&&vt("scroll",s),c.onScrollEnd!=null&&vt("scrollend",s),c.onClick!=null&&(s.onclick=wn),s=!0):s=!1,s||Wn(e,!0)}function jd(e){for(oe=e.return;oe;)switch(oe.tag){case 5:case 31:case 13:Xe=!1;return;case 27:case 3:Xe=!0;return;default:oe=oe.return}}function ws(e){if(e!==oe)return!1;if(!St)return jd(e),St=!0,!1;var s=e.tag,r;if((r=s!==3&&s!==27)&&((r=s===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||th(e.type,e.memoizedProps)),r=!r),r&&Ht&&Wn(e),jd(e),s===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=sm(e)}else if(s===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ht=sm(e)}else s===27?(s=Ht,ui(e.type)?(e=ah,ah=null,Ht=e):Ht=s):Ht=oe?Qe(e.stateNode.nextSibling):null;return!0}function Ri(){Ht=oe=null,St=!1}function Lc(){var e=Xn;return e!==null&&(Oe===null?Oe=e:Oe.push.apply(Oe,e),Xn=null),e}function Oa(e){Xn===null?Xn=[e]:Xn.push(e)}var Bc=O(null),Mi=null,En=null;function Qn(e,s,r){F(Bc,s._currentValue),s._currentValue=r}function On(e){e._currentValue=Bc.current,$(Bc)}function Hc(e,s,r){for(;e!==null;){var c=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),e===r)break;e=e.return}}function qc(e,s,r,c){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var y=d.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=d;for(var E=0;E<s.length;E++)if(w.context===s[E]){p.lanes|=r,w=p.alternate,w!==null&&(w.lanes|=r),Hc(p.return,r,e),c||(y=null);break t}p=w.next}}else if(d.tag===18){if(y=d.return,y===null)throw Error(a(341));y.lanes|=r,p=y.alternate,p!==null&&(p.lanes|=r),Hc(y,r,e),y=null}else y=d.child;if(y!==null)y.return=d;else for(y=d;y!==null;){if(y===e){y=null;break}if(d=y.sibling,d!==null){d.return=y.return,y=d;break}y=y.return}d=y}}function Ss(e,s,r,c){e=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var y=d.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var w=d.type;ze(d.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(d===kt.current){if(y=d.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Za):e=[Za])}d=d.return}e!==null&&qc(s,e,r,c),s.flags|=262144}function ll(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Mi=e,En=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ce(e){return zd(Mi,e)}function ol(e,s){return Mi===null&&Di(e),zd(e,s)}function zd(e,s){var r=s._currentValue;if(s={context:s,memoizedValue:r,next:null},En===null){if(e===null)throw Error(a(308));En=s,e.dependencies={lanes:0,firstContext:s},e.flags|=524288}else En=En.next=s;return r}var Q0=typeof AbortController<"u"?AbortController:function(){var e=[],s=this.signal={aborted:!1,addEventListener:function(r,c){e.push(c)}};this.abort=function(){s.aborted=!0,e.forEach(function(r){return r()})}},J0=i.unstable_scheduleCallback,Z0=i.unstable_NormalPriority,Wt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new Q0,data:new Map,refCount:0}}function Aa(e){e.refCount--,e.refCount===0&&J0(Z0,function(){e.controller.abort()})}var Ca=null,$c=0,xs=0,Ts=null;function t_(e,s){if(Ca===null){var r=Ca=[];$c=0,xs=Gu(),Ts={status:"pending",value:void 0,then:function(c){r.push(c)}}}return $c++,s.then(Nd,Nd),s}function Nd(){if(--$c===0&&Ca!==null){Ts!==null&&(Ts.status="fulfilled");var e=Ca;Ca=null,xs=0,Ts=null;for(var s=0;s<e.length;s++)(0,e[s])()}}function e_(e,s){var r=[],c={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return e.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<r.length;d++)(0,r[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),c}var Ud=D.S;D.S=function(e,s){vp=Me(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&t_(e,s),Ud!==null&&Ud(e,s)};var ji=O(null);function Vc(){var e=ji.current;return e!==null?e:Ut.pooledCache}function cl(e,s){s===null?F(ji,ji.current):F(ji,s.pool)}function Ld(){var e=Vc();return e===null?null:{parent:Wt._currentValue,pool:e}}var Es=Error(a(460)),Ic=Error(a(474)),ul=Error(a(542)),hl={then:function(){}};function Bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hd(e,s,r){switch(r=e[r],r===void 0?e.push(s):r!==s&&(s.then(wn,wn),s=r),s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Pd(e),e;default:if(typeof s.status=="string")s.then(wn,wn);else{if(e=Ut,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=s,e.status="pending",e.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw e=s.reason,Pd(e),e}throw Ni=s,Es}}function zi(e){try{var s=e._init;return s(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ni=r,Es):r}}var Ni=null;function qd(){if(Ni===null)throw Error(a(459));var e=Ni;return Ni=null,e}function Pd(e){if(e===Es||e===ul)throw Error(a(483))}var Os=null,ka=0;function fl(e){var s=ka;return ka+=1,Os===null&&(Os=[]),Hd(Os,e,s)}function Ra(e,s){s=s.props.ref,e.ref=s!==void 0?s:null}function dl(e,s){throw s.$$typeof===v?Error(a(525)):(e=Object.prototype.toString.call(s),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e)))}function $d(e){function s(R,A){if(e){var j=R.deletions;j===null?(R.deletions=[A],R.flags|=16):j.push(A)}}function r(R,A){if(!e)return null;for(;A!==null;)s(R,A),A=A.sibling;return null}function c(R){for(var A=new Map;R!==null;)R.key!==null?A.set(R.key,R):A.set(R.index,R),R=R.sibling;return A}function d(R,A){return R=xn(R,A),R.index=0,R.sibling=null,R}function p(R,A,j){return R.index=j,e?(j=R.alternate,j!==null?(j=j.index,j<A?(R.flags|=67108866,A):j):(R.flags|=67108866,A)):(R.flags|=1048576,A)}function y(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function w(R,A,j,I){return A===null||A.tag!==6?(A=Dc(j,R.mode,I),A.return=R,A):(A=d(A,j),A.return=R,A)}function E(R,A,j,I){var rt=j.type;return rt===x?H(R,A,j.props.children,I,j.key):A!==null&&(A.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&zi(rt)===A.type)?(A=d(A,j.props),Ra(A,j),A.return=R,A):(A=al(j.type,j.key,j.props,null,R.mode,I),Ra(A,j),A.return=R,A)}function z(R,A,j,I){return A===null||A.tag!==4||A.stateNode.containerInfo!==j.containerInfo||A.stateNode.implementation!==j.implementation?(A=jc(j,R.mode,I),A.return=R,A):(A=d(A,j.children||[]),A.return=R,A)}function H(R,A,j,I,rt){return A===null||A.tag!==7?(A=ki(j,R.mode,I,rt),A.return=R,A):(A=d(A,j),A.return=R,A)}function G(R,A,j){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=Dc(""+A,R.mode,j),A.return=R,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return j=al(A.type,A.key,A.props,null,R.mode,j),Ra(j,A),j.return=R,j;case S:return A=jc(A,R.mode,j),A.return=R,A;case K:return A=zi(A),G(R,A,j)}if(it(A)||X(A))return A=ki(A,R.mode,j,null),A.return=R,A;if(typeof A.then=="function")return G(R,fl(A),j);if(A.$$typeof===M)return G(R,ol(R,A),j);dl(R,A)}return null}function N(R,A,j,I){var rt=A!==null?A.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return rt!==null?null:w(R,A,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case _:return j.key===rt?E(R,A,j,I):null;case S:return j.key===rt?z(R,A,j,I):null;case K:return j=zi(j),N(R,A,j,I)}if(it(j)||X(j))return rt!==null?null:H(R,A,j,I,null);if(typeof j.then=="function")return N(R,A,fl(j),I);if(j.$$typeof===M)return N(R,A,ol(R,j),I);dl(R,j)}return null}function L(R,A,j,I,rt){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return R=R.get(j)||null,w(A,R,""+I,rt);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return R=R.get(I.key===null?j:I.key)||null,E(A,R,I,rt);case S:return R=R.get(I.key===null?j:I.key)||null,z(A,R,I,rt);case K:return I=zi(I),L(R,A,j,I,rt)}if(it(I)||X(I))return R=R.get(j)||null,H(A,R,I,rt,null);if(typeof I.then=="function")return L(R,A,j,fl(I),rt);if(I.$$typeof===M)return L(R,A,j,ol(A,I),rt);dl(A,I)}return null}function tt(R,A,j,I){for(var rt=null,Ot=null,st=A,yt=A=0,wt=null;st!==null&&yt<j.length;yt++){st.index>yt?(wt=st,st=null):wt=st.sibling;var At=N(R,st,j[yt],I);if(At===null){st===null&&(st=wt);break}e&&st&&At.alternate===null&&s(R,st),A=p(At,A,yt),Ot===null?rt=At:Ot.sibling=At,Ot=At,st=wt}if(yt===j.length)return r(R,st),St&&Tn(R,yt),rt;if(st===null){for(;yt<j.length;yt++)st=G(R,j[yt],I),st!==null&&(A=p(st,A,yt),Ot===null?rt=st:Ot.sibling=st,Ot=st);return St&&Tn(R,yt),rt}for(st=c(st);yt<j.length;yt++)wt=L(st,R,yt,j[yt],I),wt!==null&&(e&&wt.alternate!==null&&st.delete(wt.key===null?yt:wt.key),A=p(wt,A,yt),Ot===null?rt=wt:Ot.sibling=wt,Ot=wt);return e&&st.forEach(function(pi){return s(R,pi)}),St&&Tn(R,yt),rt}function ot(R,A,j,I){if(j==null)throw Error(a(151));for(var rt=null,Ot=null,st=A,yt=A=0,wt=null,At=j.next();st!==null&&!At.done;yt++,At=j.next()){st.index>yt?(wt=st,st=null):wt=st.sibling;var pi=N(R,st,At.value,I);if(pi===null){st===null&&(st=wt);break}e&&st&&pi.alternate===null&&s(R,st),A=p(pi,A,yt),Ot===null?rt=pi:Ot.sibling=pi,Ot=pi,st=wt}if(At.done)return r(R,st),St&&Tn(R,yt),rt;if(st===null){for(;!At.done;yt++,At=j.next())At=G(R,At.value,I),At!==null&&(A=p(At,A,yt),Ot===null?rt=At:Ot.sibling=At,Ot=At);return St&&Tn(R,yt),rt}for(st=c(st);!At.done;yt++,At=j.next())At=L(st,R,yt,At.value,I),At!==null&&(e&&At.alternate!==null&&st.delete(At.key===null?yt:At.key),A=p(At,A,yt),Ot===null?rt=At:Ot.sibling=At,Ot=At);return e&&st.forEach(function(fw){return s(R,fw)}),St&&Tn(R,yt),rt}function Nt(R,A,j,I){if(typeof j=="object"&&j!==null&&j.type===x&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case _:t:{for(var rt=j.key;A!==null;){if(A.key===rt){if(rt=j.type,rt===x){if(A.tag===7){r(R,A.sibling),I=d(A,j.props.children),I.return=R,R=I;break t}}else if(A.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===K&&zi(rt)===A.type){r(R,A.sibling),I=d(A,j.props),Ra(I,j),I.return=R,R=I;break t}r(R,A);break}else s(R,A);A=A.sibling}j.type===x?(I=ki(j.props.children,R.mode,I,j.key),I.return=R,R=I):(I=al(j.type,j.key,j.props,null,R.mode,I),Ra(I,j),I.return=R,R=I)}return y(R);case S:t:{for(rt=j.key;A!==null;){if(A.key===rt)if(A.tag===4&&A.stateNode.containerInfo===j.containerInfo&&A.stateNode.implementation===j.implementation){r(R,A.sibling),I=d(A,j.children||[]),I.return=R,R=I;break t}else{r(R,A);break}else s(R,A);A=A.sibling}I=jc(j,R.mode,I),I.return=R,R=I}return y(R);case K:return j=zi(j),Nt(R,A,j,I)}if(it(j))return tt(R,A,j,I);if(X(j)){if(rt=X(j),typeof rt!="function")throw Error(a(150));return j=rt.call(j),ot(R,A,j,I)}if(typeof j.then=="function")return Nt(R,A,fl(j),I);if(j.$$typeof===M)return Nt(R,A,ol(R,j),I);dl(R,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,A!==null&&A.tag===6?(r(R,A.sibling),I=d(A,j),I.return=R,R=I):(r(R,A),I=Dc(j,R.mode,I),I.return=R,R=I),y(R)):r(R,A)}return function(R,A,j,I){try{ka=0;var rt=Nt(R,A,j,I);return Os=null,rt}catch(st){if(st===Es||st===ul)throw st;var Ot=Ne(29,st,null,R.mode);return Ot.lanes=I,Ot.return=R,Ot}}}var Ui=$d(!0),Vd=$d(!1),Jn=!1;function Gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yc(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,s,r){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,(Ct&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=sl(e),Od(e,null,r),s}return il(e,c,s,r),sl(e)}function Ma(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194048)!==0)){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,zf(e,r)}}function Kc(e,s){var r=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,r===c)){var d=null,p=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};p===null?d=p=y:p=p.next=y,r=r.next}while(r!==null);p===null?d=p=s:p=p.next=s}else d=p=s;r={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}var Fc=!1;function Da(){if(Fc){var e=Ts;if(e!==null)throw e}}function ja(e,s,r,c){Fc=!1;var d=e.updateQueue;Jn=!1;var p=d.firstBaseUpdate,y=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var E=w,z=E.next;E.next=null,y===null?p=z:y.next=z,y=E;var H=e.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==y&&(w===null?H.firstBaseUpdate=z:w.next=z,H.lastBaseUpdate=E))}if(p!==null){var G=d.baseState;y=0,H=z=E=null,w=p;do{var N=w.lane&-536870913,L=N!==w.lane;if(L?(_t&N)===N:(c&N)===N){N!==0&&N===xs&&(Fc=!0),H!==null&&(H=H.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var tt=e,ot=w;N=s;var Nt=r;switch(ot.tag){case 1:if(tt=ot.payload,typeof tt=="function"){G=tt.call(Nt,G,N);break t}G=tt;break t;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=ot.payload,N=typeof tt=="function"?tt.call(Nt,G,N):tt,N==null)break t;G=b({},G,N);break t;case 2:Jn=!0}}N=w.callback,N!==null&&(e.flags|=64,L&&(e.flags|=8192),L=d.callbacks,L===null?d.callbacks=[N]:L.push(N))}else L={lane:N,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(z=H=L,E=G):H=H.next=L,y|=N;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;L=w,w=L.next,L.next=null,d.lastBaseUpdate=L,d.shared.pending=null}}while(!0);H===null&&(E=G),d.baseState=E,d.firstBaseUpdate=z,d.lastBaseUpdate=H,p===null&&(d.shared.lanes=0),ai|=y,e.lanes=y,e.memoizedState=G}}function Id(e,s){if(typeof e!="function")throw Error(a(191,e));e.call(s)}function Gd(e,s){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Id(r[e],s)}var As=O(null),gl=O(0);function Yd(e,s){e=Nn,F(gl,e),F(As,s),Nn=e|s.baseLanes}function Xc(){F(gl,Nn),F(As,As.current)}function Wc(){Nn=gl.current,$(As),$(gl)}var Ue=O(null),We=null;function ei(e){var s=e.alternate;F(Kt,Kt.current&1),F(Ue,e),We===null&&(s===null||As.current!==null||s.memoizedState!==null)&&(We=e)}function Qc(e){F(Kt,Kt.current),F(Ue,e),We===null&&(We=e)}function Kd(e){e.tag===22?(F(Kt,Kt.current),F(Ue,e),We===null&&(We=e)):ni()}function ni(){F(Kt,Kt.current),F(Ue,Ue.current)}function Le(e){$(Ue),We===e&&(We=null),$(Kt)}var Kt=O(0);function pl(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||ih(r)||sh(r)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var An=0,mt=null,jt=null,Qt=null,ml=!1,Cs=!1,Li=!1,yl=0,za=0,ks=null,n_=0;function Vt(){throw Error(a(321))}function Jc(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!ze(e[r],s[r]))return!1;return!0}function Zc(e,s,r,c,d,p){return An=p,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,D.H=e===null||e.memoizedState===null?Rg:gu,Li=!1,p=r(c,d),Li=!1,Cs&&(p=Xd(s,r,c,d)),Fd(e),p}function Fd(e){D.H=La;var s=jt!==null&&jt.next!==null;if(An=0,Qt=jt=mt=null,ml=!1,za=0,ks=null,s)throw Error(a(300));e===null||Jt||(e=e.dependencies,e!==null&&ll(e)&&(Jt=!0))}function Xd(e,s,r,c){mt=e;var d=0;do{if(Cs&&(ks=null),za=0,Cs=!1,25<=d)throw Error(a(301));if(d+=1,Qt=jt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=Mg,p=s(r,c)}while(Cs);return p}function i_(){var e=D.H,s=e.useState()[0];return s=typeof s.then=="function"?Na(s):s,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(mt.flags|=1024),s}function tu(){var e=yl!==0;return yl=0,e}function eu(e,s,r){s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~r}function nu(e){if(ml){for(e=e.memoizedState;e!==null;){var s=e.queue;s!==null&&(s.pending=null),e=e.next}ml=!1}An=0,Qt=jt=mt=null,Cs=!1,za=yl=0,ks=null}function _e(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?mt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function Ft(){if(jt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var s=Qt===null?mt.memoizedState:Qt.next;if(s!==null)Qt=s,jt=e;else{if(e===null)throw mt.alternate===null?Error(a(467)):Error(a(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Qt===null?mt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function bl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Na(e){var s=za;return za+=1,ks===null&&(ks=[]),e=Hd(ks,e,s),s=mt,(Qt===null?s.memoizedState:Qt.next)===null&&(s=s.alternate,D.H=s===null||s.memoizedState===null?Rg:gu),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Na(e);if(e.$$typeof===M)return ce(e)}throw Error(a(438,String(e)))}function iu(e){var s=null,r=mt.updateQueue;if(r!==null&&(s=r.memoCache),s==null){var c=mt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),r===null&&(r=bl(),mt.updateQueue=r),r.memoCache=s,r=s.data[s.index],r===void 0)for(r=s.data[s.index]=Array(e),c=0;c<e;c++)r[c]=ft;return s.index++,r}function Cn(e,s){return typeof s=="function"?s(e):s}function _l(e){var s=Ft();return su(s,jt,e)}function su(e,s,r){var c=e.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=r;var d=e.baseQueue,p=c.pending;if(p!==null){if(d!==null){var y=d.next;d.next=p.next,p.next=y}s.baseQueue=d=p,c.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{s=d.next;var w=y=null,E=null,z=s,H=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(_t&G)===G:(An&G)===G){var N=z.revertLane;if(N===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===xs&&(H=!0);else if((An&N)===N){z=z.next,N===xs&&(H=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},E===null?(w=E=G,y=p):E=E.next=G,mt.lanes|=N,ai|=N;G=z.action,Li&&r(p,G),p=z.hasEagerState?z.eagerState:r(p,G)}else N={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},E===null?(w=E=N,y=p):E=E.next=N,mt.lanes|=G,ai|=G;z=z.next}while(z!==null&&z!==s);if(E===null?y=p:E.next=w,!ze(p,e.memoizedState)&&(Jt=!0,H&&(r=Ts,r!==null)))throw r;e.memoizedState=p,e.baseState=y,e.baseQueue=E,c.lastRenderedState=p}return d===null&&(c.lanes=0),[e.memoizedState,c.dispatch]}function au(e){var s=Ft(),r=s.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var c=r.dispatch,d=r.pending,p=s.memoizedState;if(d!==null){r.pending=null;var y=d=d.next;do p=e(p,y.action),y=y.next;while(y!==d);ze(p,s.memoizedState)||(Jt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),r.lastRenderedState=p}return[p,c]}function Wd(e,s,r){var c=mt,d=Ft(),p=St;if(p){if(r===void 0)throw Error(a(407));r=r()}else r=s();var y=!ze((jt||d).memoizedState,r);if(y&&(d.memoizedState=r,Jt=!0),d=d.queue,ou(Zd.bind(null,c,d,e),[e]),d.getSnapshot!==s||y||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Rs(9,{destroy:void 0},Jd.bind(null,c,d,r,s),null),Ut===null)throw Error(a(349));p||(An&127)!==0||Qd(c,s,r)}return r}function Qd(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=mt.updateQueue,s===null?(s=bl(),mt.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function Jd(e,s,r,c){s.value=r,s.getSnapshot=c,tg(s)&&eg(e)}function Zd(e,s,r){return r(function(){tg(s)&&eg(e)})}function tg(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!ze(e,r)}catch{return!0}}function eg(e){var s=Ci(e,2);s!==null&&Ae(s,e,2)}function ru(e){var s=_e();if(typeof e=="function"){var r=e;if(e=r(),Li){Gn(!0);try{r()}finally{Gn(!1)}}}return s.memoizedState=s.baseState=e,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:e},s}function ng(e,s,r,c){return e.baseState=r,su(e,jt,typeof c=="function"?c:Cn)}function s_(e,s,r,c,d){if(xl(e))throw Error(a(485));if(e=s.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};D.T!==null?r(!0):p.isTransition=!1,c(p),r=s.pending,r===null?(p.next=s.pending=p,ig(s,p)):(p.next=r.next,s.pending=r.next=p)}}function ig(e,s){var r=s.action,c=s.payload,d=e.state;if(s.isTransition){var p=D.T,y={};D.T=y;try{var w=r(d,c),E=D.S;E!==null&&E(y,w),sg(e,s,w)}catch(z){lu(e,s,z)}finally{p!==null&&y.types!==null&&(p.types=y.types),D.T=p}}else try{p=r(d,c),sg(e,s,p)}catch(z){lu(e,s,z)}}function sg(e,s,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(c){ag(e,s,c)},function(c){return lu(e,s,c)}):ag(e,s,r)}function ag(e,s,r){s.status="fulfilled",s.value=r,rg(s),e.state=r,s=e.pending,s!==null&&(r=s.next,r===s?e.pending=null:(r=r.next,s.next=r,ig(e,r)))}function lu(e,s,r){var c=e.pending;if(e.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=r,rg(s),s=s.next;while(s!==c)}e.action=null}function rg(e){e=e.listeners;for(var s=0;s<e.length;s++)(0,e[s])()}function lg(e,s){return s}function og(e,s){if(St){var r=Ut.formState;if(r!==null){t:{var c=mt;if(St){if(Ht){e:{for(var d=Ht,p=Xe;d.nodeType!==8;){if(!p){d=null;break e}if(d=Qe(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ht=Qe(d.nextSibling),c=d.data==="F!";break t}}Wn(c)}c=!1}c&&(s=r[0])}}return r=_e(),r.memoizedState=r.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:s},r.queue=c,r=Ag.bind(null,mt,c),c.dispatch=r,c=ru(!1),p=du.bind(null,mt,!1,c.queue),c=_e(),d={state:s,dispatch:null,action:e,pending:null},c.queue=d,r=s_.bind(null,mt,d,p,r),d.dispatch=r,c.memoizedState=e,[s,r,!1]}function cg(e){var s=Ft();return ug(s,jt,e)}function ug(e,s,r){if(s=su(e,s,lg)[0],e=_l(Cn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Na(s)}catch(y){throw y===Es?ul:y}else c=s;s=Ft();var d=s.queue,p=d.dispatch;return r!==s.memoizedState&&(mt.flags|=2048,Rs(9,{destroy:void 0},a_.bind(null,d,r),null)),[c,p,e]}function a_(e,s){e.action=s}function hg(e){var s=Ft(),r=jt;if(r!==null)return ug(s,r,e);Ft(),s=s.memoizedState,r=Ft();var c=r.queue.dispatch;return r.memoizedState=e,[s,c,!1]}function Rs(e,s,r,c){return e={tag:e,create:r,deps:c,inst:s,next:null},s=mt.updateQueue,s===null&&(s=bl(),mt.updateQueue=s),r=s.lastEffect,r===null?s.lastEffect=e.next=e:(c=r.next,r.next=e,e.next=c,s.lastEffect=e),e}function fg(){return Ft().memoizedState}function wl(e,s,r,c){var d=_e();mt.flags|=e,d.memoizedState=Rs(1|s,{destroy:void 0},r,c===void 0?null:c)}function Sl(e,s,r,c){var d=Ft();c=c===void 0?null:c;var p=d.memoizedState.inst;jt!==null&&c!==null&&Jc(c,jt.memoizedState.deps)?d.memoizedState=Rs(s,p,r,c):(mt.flags|=e,d.memoizedState=Rs(1|s,p,r,c))}function dg(e,s){wl(8390656,8,e,s)}function ou(e,s){Sl(2048,8,e,s)}function r_(e){mt.flags|=4;var s=mt.updateQueue;if(s===null)s=bl(),mt.updateQueue=s,s.events=[e];else{var r=s.events;r===null?s.events=[e]:r.push(e)}}function gg(e){var s=Ft().memoizedState;return r_({ref:s,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}function pg(e,s){return Sl(4,2,e,s)}function mg(e,s){return Sl(4,4,e,s)}function yg(e,s){if(typeof s=="function"){e=e();var r=s(e);return function(){typeof r=="function"?r():s(null)}}if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function bg(e,s,r){r=r!=null?r.concat([e]):null,Sl(4,4,yg.bind(null,s,e),r)}function cu(){}function vg(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;return s!==null&&Jc(s,c[1])?c[0]:(r.memoizedState=[e,s],e)}function _g(e,s){var r=Ft();s=s===void 0?null:s;var c=r.memoizedState;if(s!==null&&Jc(s,c[1]))return c[0];if(c=e(),Li){Gn(!0);try{e()}finally{Gn(!1)}}return r.memoizedState=[c,s],c}function uu(e,s,r){return r===void 0||(An&1073741824)!==0&&(_t&261930)===0?e.memoizedState=s:(e.memoizedState=r,e=wp(),mt.lanes|=e,ai|=e,r)}function wg(e,s,r,c){return ze(r,s)?r:As.current!==null?(e=uu(e,r,c),ze(e,s)||(Jt=!0),e):(An&42)===0||(An&1073741824)!==0&&(_t&261930)===0?(Jt=!0,e.memoizedState=r):(e=wp(),mt.lanes|=e,ai|=e,s)}function Sg(e,s,r,c,d){var p=P.p;P.p=p!==0&&8>p?p:8;var y=D.T,w={};D.T=w,du(e,!1,s,r);try{var E=d(),z=D.S;if(z!==null&&z(w,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var H=e_(E,c);Ua(e,s,H,qe(e))}else Ua(e,s,c,qe(e))}catch(G){Ua(e,s,{then:function(){},status:"rejected",reason:G},qe())}finally{P.p=p,y!==null&&w.types!==null&&(y.types=w.types),D.T=y}}function l_(){}function hu(e,s,r,c){if(e.tag!==5)throw Error(a(476));var d=xg(e).queue;Sg(e,d,s,W,r===null?l_:function(){return Tg(e),r(c)})}function xg(e){var s=e.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:W},next:null};var r={};return s.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:r},next:null},e.memoizedState=s,e=e.alternate,e!==null&&(e.memoizedState=s),s}function Tg(e){var s=xg(e);s.next===null&&(s=e.alternate.memoizedState),Ua(e,s.next.queue,{},qe())}function fu(){return ce(Za)}function Eg(){return Ft().memoizedState}function Og(){return Ft().memoizedState}function o_(e){for(var s=e.return;s!==null;){switch(s.tag){case 24:case 3:var r=qe();e=Zn(r);var c=ti(s,e,r);c!==null&&(Ae(c,s,r),Ma(c,s,r)),s={cache:Pc()},e.payload=s;return}s=s.return}}function c_(e,s,r){var c=qe();r={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xl(e)?Cg(s,r):(r=Rc(e,s,r,c),r!==null&&(Ae(r,e,c),kg(r,s,c)))}function Ag(e,s,r){var c=qe();Ua(e,s,r,c)}function Ua(e,s,r,c){var d={lane:c,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xl(e))Cg(s,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var y=s.lastRenderedState,w=p(y,r);if(d.hasEagerState=!0,d.eagerState=w,ze(w,y))return il(e,s,d,0),Ut===null&&nl(),!1}catch{}if(r=Rc(e,s,d,c),r!==null)return Ae(r,e,c),kg(r,s,c),!0}return!1}function du(e,s,r,c){if(c={lane:2,revertLane:Gu(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},xl(e)){if(s)throw Error(a(479))}else s=Rc(e,r,c,2),s!==null&&Ae(s,e,2)}function xl(e){var s=e.alternate;return e===mt||s!==null&&s===mt}function Cg(e,s){Cs=ml=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function kg(e,s,r){if((r&4194048)!==0){var c=s.lanes;c&=e.pendingLanes,r|=c,s.lanes=r,zf(e,r)}}var La={readContext:ce,use:vl,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};La.useEffectEvent=Vt;var Rg={readContext:ce,use:vl,useCallback:function(e,s){return _e().memoizedState=[e,s===void 0?null:s],e},useContext:ce,useEffect:dg,useImperativeHandle:function(e,s,r){r=r!=null?r.concat([e]):null,wl(4194308,4,yg.bind(null,s,e),r)},useLayoutEffect:function(e,s){return wl(4194308,4,e,s)},useInsertionEffect:function(e,s){wl(4,2,e,s)},useMemo:function(e,s){var r=_e();s=s===void 0?null:s;var c=e();if(Li){Gn(!0);try{e()}finally{Gn(!1)}}return r.memoizedState=[c,s],c},useReducer:function(e,s,r){var c=_e();if(r!==void 0){var d=r(s);if(Li){Gn(!0);try{r(s)}finally{Gn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},c.queue=e,e=e.dispatch=c_.bind(null,mt,e),[c.memoizedState,e]},useRef:function(e){var s=_e();return e={current:e},s.memoizedState=e},useState:function(e){e=ru(e);var s=e.queue,r=Ag.bind(null,mt,s);return s.dispatch=r,[e.memoizedState,r]},useDebugValue:cu,useDeferredValue:function(e,s){var r=_e();return uu(r,e,s)},useTransition:function(){var e=ru(!1);return e=Sg.bind(null,mt,e.queue,!0,!1),_e().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,s,r){var c=mt,d=_e();if(St){if(r===void 0)throw Error(a(407));r=r()}else{if(r=s(),Ut===null)throw Error(a(349));(_t&127)!==0||Qd(c,s,r)}d.memoizedState=r;var p={value:r,getSnapshot:s};return d.queue=p,dg(Zd.bind(null,c,p,e),[e]),c.flags|=2048,Rs(9,{destroy:void 0},Jd.bind(null,c,p,r,s),null),r},useId:function(){var e=_e(),s=Ut.identifierPrefix;if(St){var r=dn,c=fn;r=(c&~(1<<32-je(c)-1)).toString(32)+r,s="_"+s+"R_"+r,r=yl++,0<r&&(s+="H"+r.toString(32)),s+="_"}else r=n_++,s="_"+s+"r_"+r.toString(32)+"_";return e.memoizedState=s},useHostTransitionStatus:fu,useFormState:og,useActionState:og,useOptimistic:function(e){var s=_e();s.memoizedState=s.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=r,s=du.bind(null,mt,!0,r),r.dispatch=s,[e,s]},useMemoCache:iu,useCacheRefresh:function(){return _e().memoizedState=o_.bind(null,mt)},useEffectEvent:function(e){var s=_e(),r={impl:e};return s.memoizedState=r,function(){if((Ct&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},gu={readContext:ce,use:vl,useCallback:vg,useContext:ce,useEffect:ou,useImperativeHandle:bg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:_l,useRef:fg,useState:function(){return _l(Cn)},useDebugValue:cu,useDeferredValue:function(e,s){var r=Ft();return wg(r,jt.memoizedState,e,s)},useTransition:function(){var e=_l(Cn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:Na(e),s]},useSyncExternalStore:Wd,useId:Eg,useHostTransitionStatus:fu,useFormState:cg,useActionState:cg,useOptimistic:function(e,s){var r=Ft();return ng(r,jt,e,s)},useMemoCache:iu,useCacheRefresh:Og};gu.useEffectEvent=gg;var Mg={readContext:ce,use:vl,useCallback:vg,useContext:ce,useEffect:ou,useImperativeHandle:bg,useInsertionEffect:pg,useLayoutEffect:mg,useMemo:_g,useReducer:au,useRef:fg,useState:function(){return au(Cn)},useDebugValue:cu,useDeferredValue:function(e,s){var r=Ft();return jt===null?uu(r,e,s):wg(r,jt.memoizedState,e,s)},useTransition:function(){var e=au(Cn)[0],s=Ft().memoizedState;return[typeof e=="boolean"?e:Na(e),s]},useSyncExternalStore:Wd,useId:Eg,useHostTransitionStatus:fu,useFormState:hg,useActionState:hg,useOptimistic:function(e,s){var r=Ft();return jt!==null?ng(r,jt,e,s):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:iu,useCacheRefresh:Og};Mg.useEffectEvent=gg;function pu(e,s,r,c){s=e.memoizedState,r=r(c,s),r=r==null?s:b({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mu={enqueueSetState:function(e,s,r){e=e._reactInternals;var c=qe(),d=Zn(c);d.payload=s,r!=null&&(d.callback=r),s=ti(e,d,c),s!==null&&(Ae(s,e,c),Ma(s,e,c))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var c=qe(),d=Zn(c);d.tag=1,d.payload=s,r!=null&&(d.callback=r),s=ti(e,d,c),s!==null&&(Ae(s,e,c),Ma(s,e,c))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=qe(),c=Zn(r);c.tag=2,s!=null&&(c.callback=s),s=ti(e,c,r),s!==null&&(Ae(s,e,r),Ma(s,e,r))}};function Dg(e,s,r,c,d,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,p,y):s.prototype&&s.prototype.isPureReactComponent?!xa(r,c)||!xa(d,p):!0}function jg(e,s,r,c){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,c),s.state!==e&&mu.enqueueReplaceState(s,s.state,null)}function Bi(e,s){var r=s;if("ref"in s){r={};for(var c in s)c!=="ref"&&(r[c]=s[c])}if(e=e.defaultProps){r===s&&(r=b({},r));for(var d in e)r[d]===void 0&&(r[d]=e[d])}return r}function zg(e){el(e)}function Ng(e){console.error(e)}function Ug(e){el(e)}function Tl(e,s){try{var r=e.onUncaughtError;r(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Lg(e,s,r){try{var c=e.onCaughtError;c(r.value,{componentStack:r.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yu(e,s,r){return r=Zn(r),r.tag=3,r.payload={element:null},r.callback=function(){Tl(e,s)},r}function Bg(e){return e=Zn(e),e.tag=3,e}function Hg(e,s,r,c){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;e.payload=function(){return d(p)},e.callback=function(){Lg(s,r,c)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Lg(s,r,c),typeof d!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function u_(e,s,r,c,d){if(r.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=r.alternate,s!==null&&Ss(s,r,d,!0),r=Ue.current,r!==null){switch(r.tag){case 31:case 13:return We===null?Ul():r.alternate===null&&It===0&&(It=3),r.flags&=-257,r.flags|=65536,r.lanes=d,c===hl?r.flags|=16384:(s=r.updateQueue,s===null?r.updateQueue=new Set([c]):s.add(c),$u(e,c,d)),!1;case 22:return r.flags|=65536,c===hl?r.flags|=16384:(s=r.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},r.updateQueue=s):(r=s.retryQueue,r===null?s.retryQueue=new Set([c]):r.add(c)),$u(e,c,d)),!1}throw Error(a(435,r.tag))}return $u(e,c,d),Ul(),!1}if(St)return s=Ue.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==Uc&&(e=Error(a(422),{cause:c}),Oa(Ye(e,r)))):(c!==Uc&&(s=Error(a(423),{cause:c}),Oa(Ye(s,r))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,c=Ye(c,r),d=yu(e.stateNode,c,d),Kc(e,d),It!==4&&(It=2)),!1;var p=Error(a(520),{cause:c});if(p=Ye(p,r),Ga===null?Ga=[p]:Ga.push(p),It!==4&&(It=2),s===null)return!0;c=Ye(c,r),r=s;do{switch(r.tag){case 3:return r.flags|=65536,e=d&-d,r.lanes|=e,e=yu(r.stateNode,c,e),Kc(r,e),!1;case 1:if(s=r.type,p=r.stateNode,(r.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ri===null||!ri.has(p))))return r.flags|=65536,d&=-d,r.lanes|=d,d=Bg(d),Hg(d,e,r,c),Kc(r,d),!1}r=r.return}while(r!==null);return!1}var bu=Error(a(461)),Jt=!1;function ue(e,s,r,c){s.child=e===null?Vd(s,null,r,c):Ui(s,e.child,r,c)}function qg(e,s,r,c,d){r=r.render;var p=s.ref;if("ref"in c){var y={};for(var w in c)w!=="ref"&&(y[w]=c[w])}else y=c;return Di(s),c=Zc(e,s,r,y,p,d),w=tu(),e!==null&&!Jt?(eu(e,s,d),kn(e,s,d)):(St&&w&&zc(s),s.flags|=1,ue(e,s,c,d),s.child)}function Pg(e,s,r,c,d){if(e===null){var p=r.type;return typeof p=="function"&&!Mc(p)&&p.defaultProps===void 0&&r.compare===null?(s.tag=15,s.type=p,$g(e,s,p,c,d)):(e=al(r.type,null,c,s,s.mode,d),e.ref=s.ref,e.return=s,s.child=e)}if(p=e.child,!Ou(e,d)){var y=p.memoizedProps;if(r=r.compare,r=r!==null?r:xa,r(y,c)&&e.ref===s.ref)return kn(e,s,d)}return s.flags|=1,e=xn(p,c),e.ref=s.ref,e.return=s,s.child=e}function $g(e,s,r,c,d){if(e!==null){var p=e.memoizedProps;if(xa(p,c)&&e.ref===s.ref)if(Jt=!1,s.pendingProps=c=p,Ou(e,d))(e.flags&131072)!==0&&(Jt=!0);else return s.lanes=e.lanes,kn(e,s,d)}return vu(e,s,r,c,d)}function Vg(e,s,r,c){var d=c.children,p=e!==null?e.memoizedState:null;if(e===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|r:r,e!==null){for(c=s.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return Ig(e,s,p,r,c)}if((r&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(s,p!==null?p.cachePool:null),p!==null?Yd(s,p):Xc(),Kd(s);else return c=s.lanes=536870912,Ig(e,s,p!==null?p.baseLanes|r:r,r,c)}else p!==null?(cl(s,p.cachePool),Yd(s,p),ni(),s.memoizedState=null):(e!==null&&cl(s,null),Xc(),ni());return ue(e,s,d,r),s.child}function Ba(e,s){return e!==null&&e.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Ig(e,s,r,c,d){var p=Vc();return p=p===null?null:{parent:Wt._currentValue,pool:p},s.memoizedState={baseLanes:r,cachePool:p},e!==null&&cl(s,null),Xc(),Kd(s),e!==null&&Ss(e,s,c,!0),s.childLanes=d,null}function El(e,s){return s=Al({mode:s.mode,children:s.children},e.mode),s.ref=e.ref,e.child=s,s.return=e,s}function Gg(e,s,r){return Ui(s,e.child,null,r),e=El(s,s.pendingProps),e.flags|=2,Le(s),s.memoizedState=null,e}function h_(e,s,r){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,e===null){if(St){if(c.mode==="hidden")return e=El(s,c),s.lanes=536870912,Ba(null,e);if(Qc(s),(e=Ht)?(e=im(e,Xe),e=e!==null&&e.data==="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=Cd(e),r.return=s,s.child=r,oe=s,Ht=null)):e=null,e===null)throw Wn(s);return s.lanes=536870912,null}return El(s,c)}var p=e.memoizedState;if(p!==null){var y=p.dehydrated;if(Qc(s),d)if(s.flags&256)s.flags&=-257,s=Gg(e,s,r);else if(s.memoizedState!==null)s.child=e.child,s.flags|=128,s=null;else throw Error(a(558));else if(Jt||Ss(e,s,r,!1),d=(r&e.childLanes)!==0,Jt||d){if(c=Ut,c!==null&&(y=Nf(c,r),y!==0&&y!==p.retryLane))throw p.retryLane=y,Ci(e,y),Ae(c,e,y),bu;Ul(),s=Gg(e,s,r)}else e=p.treeContext,Ht=Qe(y.nextSibling),oe=s,St=!0,Xn=null,Xe=!1,e!==null&&Md(s,e),s=El(s,c),s.flags|=4096;return s}return e=xn(e.child,{mode:c.mode,children:c.children}),e.ref=s.ref,s.child=e,e.return=s,e}function Ol(e,s){var r=s.ref;if(r===null)e!==null&&e.ref!==null&&(s.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(s.flags|=4194816)}}function vu(e,s,r,c,d){return Di(s),r=Zc(e,s,r,c,void 0,d),c=tu(),e!==null&&!Jt?(eu(e,s,d),kn(e,s,d)):(St&&c&&zc(s),s.flags|=1,ue(e,s,r,d),s.child)}function Yg(e,s,r,c,d,p){return Di(s),s.updateQueue=null,r=Xd(s,c,r,d),Fd(e),c=tu(),e!==null&&!Jt?(eu(e,s,p),kn(e,s,p)):(St&&c&&zc(s),s.flags|=1,ue(e,s,r,p),s.child)}function Kg(e,s,r,c,d){if(Di(s),s.stateNode===null){var p=bs,y=r.contextType;typeof y=="object"&&y!==null&&(p=ce(y)),p=new r(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=mu,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},Gc(s),y=r.contextType,p.context=typeof y=="object"&&y!==null?ce(y):bs,p.state=s.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(pu(s,r,y,c),p.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&mu.enqueueReplaceState(p,p.state,null),ja(s,c,p,d),Da(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(e===null){p=s.stateNode;var w=s.memoizedProps,E=Bi(r,w);p.props=E;var z=p.context,H=r.contextType;y=bs,typeof H=="object"&&H!==null&&(y=ce(H));var G=r.getDerivedStateFromProps;H=typeof G=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||z!==y)&&jg(s,p,c,y),Jn=!1;var N=s.memoizedState;p.state=N,ja(s,c,p,d),Da(),z=s.memoizedState,w||N!==z||Jn?(typeof G=="function"&&(pu(s,r,G,c),z=s.memoizedState),(E=Jn||Dg(s,r,E,c,N,z,y))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=z),p.props=c,p.state=z,p.context=y,c=E):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,Yc(e,s),y=s.memoizedProps,H=Bi(r,y),p.props=H,G=s.pendingProps,N=p.context,z=r.contextType,E=bs,typeof z=="object"&&z!==null&&(E=ce(z)),w=r.getDerivedStateFromProps,(z=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==G||N!==E)&&jg(s,p,c,E),Jn=!1,N=s.memoizedState,p.state=N,ja(s,c,p,d),Da();var L=s.memoizedState;y!==G||N!==L||Jn||e!==null&&e.dependencies!==null&&ll(e.dependencies)?(typeof w=="function"&&(pu(s,r,w,c),L=s.memoizedState),(H=Jn||Dg(s,r,H,c,N,L,E)||e!==null&&e.dependencies!==null&&ll(e.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,L,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,L,E)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=L),p.props=c,p.state=L,p.context=E,c=H):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&N===e.memoizedState||(s.flags|=1024),c=!1)}return p=c,Ol(e,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,r=c&&typeof r.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,e!==null&&c?(s.child=Ui(s,e.child,null,d),s.child=Ui(s,null,r,d)):ue(e,s,r,d),s.memoizedState=p.state,e=s.child):e=kn(e,s,d),e}function Fg(e,s,r,c){return Ri(),s.flags|=256,ue(e,s,r,c),s.child}var _u={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wu(e){return{baseLanes:e,cachePool:Ld()}}function Su(e,s,r){return e=e!==null?e.childLanes&~r:0,s&&(e|=He),e}function Xg(e,s,r){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),y&&(d=!0,s.flags&=-129),y=(s.flags&32)!==0,s.flags&=-33,e===null){if(St){if(d?ei(s):ni(),(e=Ht)?(e=im(e,Xe),e=e!==null&&e.data!=="&"?e:null,e!==null&&(s.memoizedState={dehydrated:e,treeContext:Fn!==null?{id:fn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},r=Cd(e),r.return=s,s.child=r,oe=s,Ht=null)):e=null,e===null)throw Wn(s);return sh(e)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(ni(),d=s.mode,w=Al({mode:"hidden",children:w},d),c=ki(c,d,r,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=wu(r),c.childLanes=Su(e,y,r),s.memoizedState=_u,Ba(null,c)):(ei(s),xu(s,w))}var E=e.memoizedState;if(E!==null&&(w=E.dehydrated,w!==null)){if(p)s.flags&256?(ei(s),s.flags&=-257,s=Tu(e,s,r)):s.memoizedState!==null?(ni(),s.child=e.child,s.flags|=128,s=null):(ni(),w=c.fallback,d=s.mode,c=Al({mode:"visible",children:c.children},d),w=ki(w,d,r,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Ui(s,e.child,null,r),c=s.child,c.memoizedState=wu(r),c.childLanes=Su(e,y,r),s.memoizedState=_u,s=Ba(null,c));else if(ei(s),sh(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var z=y.dgst;y=z,c=Error(a(419)),c.stack="",c.digest=y,Oa({value:c,source:null,stack:null}),s=Tu(e,s,r)}else if(Jt||Ss(e,s,r,!1),y=(r&e.childLanes)!==0,Jt||y){if(y=Ut,y!==null&&(c=Nf(y,r),c!==0&&c!==E.retryLane))throw E.retryLane=c,Ci(e,c),Ae(y,e,c),bu;ih(w)||Ul(),s=Tu(e,s,r)}else ih(w)?(s.flags|=192,s.child=e.child,s=null):(e=E.treeContext,Ht=Qe(w.nextSibling),oe=s,St=!0,Xn=null,Xe=!1,e!==null&&Md(s,e),s=xu(s,c.children),s.flags|=4096);return s}return d?(ni(),w=c.fallback,d=s.mode,E=e.child,z=E.sibling,c=xn(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,z!==null?w=xn(z,w):(w=ki(w,d,r,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,Ba(null,c),c=s.child,w=e.child.memoizedState,w===null?w=wu(r):(d=w.cachePool,d!==null?(E=Wt._currentValue,d=d.parent!==E?{parent:E,pool:E}:d):d=Ld(),w={baseLanes:w.baseLanes|r,cachePool:d}),c.memoizedState=w,c.childLanes=Su(e,y,r),s.memoizedState=_u,Ba(e.child,c)):(ei(s),r=e.child,e=r.sibling,r=xn(r,{mode:"visible",children:c.children}),r.return=s,r.sibling=null,e!==null&&(y=s.deletions,y===null?(s.deletions=[e],s.flags|=16):y.push(e)),s.child=r,s.memoizedState=null,r)}function xu(e,s){return s=Al({mode:"visible",children:s},e.mode),s.return=e,e.child=s}function Al(e,s){return e=Ne(22,e,null,s),e.lanes=0,e}function Tu(e,s,r){return Ui(s,e.child,null,r),e=xu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function Wg(e,s,r){e.lanes|=s;var c=e.alternate;c!==null&&(c.lanes|=s),Hc(e.return,s,r)}function Eu(e,s,r,c,d,p){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:r,tailMode:d,treeForkCount:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=r,y.tailMode=d,y.treeForkCount=p)}function Qg(e,s,r){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var y=Kt.current,w=(y&2)!==0;if(w?(y=y&1|2,s.flags|=128):y&=1,F(Kt,y),ue(e,s,c,r),c=St?Ea:0,!w&&e!==null&&(e.flags&128)!==0)t:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wg(e,r,s);else if(e.tag===19)Wg(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break t;for(;e.sibling===null;){if(e.return===null||e.return===s)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(r=s.child,d=null;r!==null;)e=r.alternate,e!==null&&pl(e)===null&&(d=r),r=r.sibling;r=d,r===null?(d=s.child,s.child=null):(d=r.sibling,r.sibling=null),Eu(s,!1,d,r,p,c);break;case"backwards":case"unstable_legacy-backwards":for(r=null,d=s.child,s.child=null;d!==null;){if(e=d.alternate,e!==null&&pl(e)===null){s.child=d;break}e=d.sibling,d.sibling=r,r=d,d=e}Eu(s,!0,r,null,p,c);break;case"together":Eu(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function kn(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),ai|=s.lanes,(r&s.childLanes)===0)if(e!==null){if(Ss(e,s,r,!1),(r&s.childLanes)===0)return null}else return null;if(e!==null&&s.child!==e.child)throw Error(a(153));if(s.child!==null){for(e=s.child,r=xn(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=xn(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function Ou(e,s){return(e.lanes&s)!==0?!0:(e=e.dependencies,!!(e!==null&&ll(e)))}function f_(e,s,r){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Qn(s,Wt,e.memoizedState.cache),Ri();break;case 27:case 5:ua(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Qn(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Qc(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ei(s),s.flags|=128,null):(r&s.child.childLanes)!==0?Xg(e,s,r):(ei(s),e=kn(e,s,r),e!==null?e.sibling:null);ei(s);break;case 19:var d=(e.flags&128)!==0;if(c=(r&s.childLanes)!==0,c||(Ss(e,s,r,!1),c=(r&s.childLanes)!==0),d){if(c)return Qg(e,s,r);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),F(Kt,Kt.current),c)break;return null;case 22:return s.lanes=0,Vg(e,s,r,s.pendingProps);case 24:Qn(s,Wt,e.memoizedState.cache)}return kn(e,s,r)}function Jg(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps)Jt=!0;else{if(!Ou(e,r)&&(s.flags&128)===0)return Jt=!1,f_(e,s,r);Jt=(e.flags&131072)!==0}else Jt=!1,St&&(s.flags&1048576)!==0&&Rd(s,Ea,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(e=zi(s.elementType),s.type=e,typeof e=="function")Mc(e)?(c=Bi(e,c),s.tag=1,s=Kg(null,s,e,c,r)):(s.tag=0,s=vu(null,s,e,c,r));else{if(e!=null){var d=e.$$typeof;if(d===B){s.tag=11,s=qg(null,s,e,c,r);break t}else if(d===V){s.tag=14,s=Pg(null,s,e,c,r);break t}}throw s=nt(e)||e,Error(a(306,s,""))}}return s;case 0:return vu(e,s,s.type,s.pendingProps,r);case 1:return c=s.type,d=Bi(c,s.pendingProps),Kg(e,s,c,d,r);case 3:t:{if(ve(s,s.stateNode.containerInfo),e===null)throw Error(a(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,Yc(e,s),ja(s,c,null,r);var y=s.memoizedState;if(c=y.cache,Qn(s,Wt,c),c!==p.cache&&qc(s,[Wt],r,!0),Da(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Fg(e,s,c,r);break t}else if(c!==d){d=Ye(Error(a(424)),s),Oa(d),s=Fg(e,s,c,r);break t}else for(e=s.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ht=Qe(e.firstChild),oe=s,St=!0,Xn=null,Xe=!0,r=Vd(s,null,c,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ri(),c===d){s=kn(e,s,r);break t}ue(e,s,c,r)}s=s.child}return s;case 26:return Ol(e,s),e===null?(r=cm(s.type,null,s.pendingProps,null))?s.memoizedState=r:St||(r=s.type,e=s.pendingProps,c=Vl(gt.current).createElement(r),c[le]=s,c[we]=e,he(c,r,e),se(c),s.stateNode=c):s.memoizedState=cm(s.type,e.memoizedProps,s.pendingProps,e.memoizedState),null;case 27:return ua(s),e===null&&St&&(c=s.stateNode=rm(s.type,s.pendingProps,gt.current),oe=s,Xe=!0,d=Ht,ui(s.type)?(ah=d,Ht=Qe(c.firstChild)):Ht=d),ue(e,s,s.pendingProps.children,r),Ol(e,s),e===null&&(s.flags|=4194304),s.child;case 5:return e===null&&St&&((d=c=Ht)&&(c=$_(c,s.type,s.pendingProps,Xe),c!==null?(s.stateNode=c,oe=s,Ht=Qe(c.firstChild),Xe=!1,d=!0):d=!1),d||Wn(s)),ua(s),d=s.type,p=s.pendingProps,y=e!==null?e.memoizedProps:null,c=p.children,th(d,p)?c=null:y!==null&&th(d,y)&&(s.flags|=32),s.memoizedState!==null&&(d=Zc(e,s,i_,null,null,r),Za._currentValue=d),Ol(e,s),ue(e,s,c,r),s.child;case 6:return e===null&&St&&((e=r=Ht)&&(r=V_(r,s.pendingProps,Xe),r!==null?(s.stateNode=r,oe=s,Ht=null,e=!0):e=!1),e||Wn(s)),null;case 13:return Xg(e,s,r);case 4:return ve(s,s.stateNode.containerInfo),c=s.pendingProps,e===null?s.child=Ui(s,null,c,r):ue(e,s,c,r),s.child;case 11:return qg(e,s,s.type,s.pendingProps,r);case 7:return ue(e,s,s.pendingProps,r),s.child;case 8:return ue(e,s,s.pendingProps.children,r),s.child;case 12:return ue(e,s,s.pendingProps.children,r),s.child;case 10:return c=s.pendingProps,Qn(s,s.type,c.value),ue(e,s,c.children,r),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Di(s),d=ce(d),c=c(d),s.flags|=1,ue(e,s,c,r),s.child;case 14:return Pg(e,s,s.type,s.pendingProps,r);case 15:return $g(e,s,s.type,s.pendingProps,r);case 19:return Qg(e,s,r);case 31:return h_(e,s,r);case 22:return Vg(e,s,r,s.pendingProps);case 24:return Di(s),c=ce(Wt),e===null?(d=Vc(),d===null&&(d=Ut,p=Pc(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=r),d=p),s.memoizedState={parent:c,cache:d},Gc(s),Qn(s,Wt,d)):((e.lanes&r)!==0&&(Yc(e,s),ja(s,null,null,r),Da()),d=e.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Qn(s,Wt,c)):(c=p.cache,Qn(s,Wt,c),c!==d.cache&&qc(s,[Wt],r,!0))),ue(e,s,s.pendingProps.children,r),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Rn(e){e.flags|=4}function Au(e,s,r,c,d){if((s=(e.mode&32)!==0)&&(s=!1),s){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Ep())e.flags|=8192;else throw Ni=hl,Ic}else e.flags&=-16777217}function Zg(e,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gm(s))if(Ep())e.flags|=8192;else throw Ni=hl,Ic}function Cl(e,s){s!==null&&(e.flags|=4),e.flags&16384&&(s=e.tag!==22?Df():536870912,e.lanes|=s,zs|=s)}function Ha(e,s){if(!St)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var c=null;r!==null;)r.alternate!==null&&(c=r),r=r.sibling;c===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function qt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,c=0;if(s)for(var d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)r|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=r,s}function d_(e,s,r){var c=s.pendingProps;switch(Nc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return qt(s),null;case 3:return r=s.stateNode,c=null,e!==null&&(c=e.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),On(Wt),Yt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ws(s)?Rn(s):e===null||e.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Lc())),qt(s),null;case 26:var d=s.type,p=s.memoizedState;return e===null?(Rn(s),p!==null?(qt(s),Zg(s,p)):(qt(s),Au(s,d,null,c,r))):p?p!==e.memoizedState?(Rn(s),qt(s),Zg(s,p)):(qt(s),s.flags&=-16777217):(e=e.memoizedProps,e!==c&&Rn(s),qt(s),Au(s,d,e,c,r)),null;case 27:if(Hr(s),r=gt.current,d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Rn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}e=J.current,ws(s)?Dd(s):(e=rm(d,c,r),s.stateNode=e,Rn(s))}return qt(s),null;case 5:if(Hr(s),d=s.type,e!==null&&s.stateNode!=null)e.memoizedProps!==c&&Rn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return qt(s),null}if(p=J.current,ws(s))Dd(s);else{var y=Vl(gt.current);switch(p){case 1:p=y.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=y.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=y.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=y.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?y.createElement("select",{is:c.is}):y.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?y.createElement(d,{is:c.is}):y.createElement(d)}}p[le]=s,p[we]=c;t:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)p.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break t;for(;y.sibling===null;){if(y.return===null||y.return===s)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=p;t:switch(he(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Rn(s)}}return qt(s),Au(s,s.type,e===null?null:e.memoizedProps,s.pendingProps,r),null;case 6:if(e&&s.stateNode!=null)e.memoizedProps!==c&&Rn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(e=gt.current,ws(s)){if(e=s.stateNode,r=s.memoizedProps,c=null,d=oe,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}e[le]=s,e=!!(e.nodeValue===r||c!==null&&c.suppressHydrationWarning===!0||Xp(e.nodeValue,r)),e||Wn(s,!0)}else e=Vl(e).createTextNode(c),e[le]=s,s.stateNode=e}return qt(s),null;case 31:if(r=s.memoizedState,e===null||e.memoizedState!==null){if(c=ws(s),r!==null){if(e===null){if(!c)throw Error(a(318));if(e=s.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[le]=s}else Ri(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),e=!1}else r=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return s.flags&256?(Le(s),s):(Le(s),null);if((s.flags&128)!==0)throw Error(a(558))}return qt(s),null;case 13:if(c=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=ws(s),c!==null&&c.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[le]=s}else Ri(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),d=!1}else d=Lc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Le(s),s):(Le(s),null)}return Le(s),(s.flags&128)!==0?(s.lanes=r,s):(r=c!==null,e=e!==null&&e.memoizedState!==null,r&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),r!==e&&r&&(s.child.flags|=8192),Cl(s,s.updateQueue),qt(s),null);case 4:return Yt(),e===null&&Xu(s.stateNode.containerInfo),qt(s),null;case 10:return On(s.type),qt(s),null;case 19:if($(Kt),c=s.memoizedState,c===null)return qt(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)Ha(c,!1);else{if(It!==0||e!==null&&(e.flags&128)!==0)for(e=s.child;e!==null;){if(p=pl(e),p!==null){for(s.flags|=128,Ha(c,!1),e=p.updateQueue,s.updateQueue=e,Cl(s,e),s.subtreeFlags=0,e=r,r=s.child;r!==null;)Ad(r,e),r=r.sibling;return F(Kt,Kt.current&1|2),St&&Tn(s,c.treeForkCount),s.child}e=e.sibling}c.tail!==null&&Me()>jl&&(s.flags|=128,d=!0,Ha(c,!1),s.lanes=4194304)}else{if(!d)if(e=pl(p),e!==null){if(s.flags|=128,d=!0,e=e.updateQueue,s.updateQueue=e,Cl(s,e),Ha(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!St)return qt(s),null}else 2*Me()-c.renderingStartTime>jl&&r!==536870912&&(s.flags|=128,d=!0,Ha(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(e=c.last,e!==null?e.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(e=c.tail,c.rendering=e,c.tail=e.sibling,c.renderingStartTime=Me(),e.sibling=null,r=Kt.current,F(Kt,d?r&1|2:r&1),St&&Tn(s,c.treeForkCount),e):(qt(s),null);case 22:case 23:return Le(s),Wc(),c=s.memoizedState!==null,e!==null?e.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(r&536870912)!==0&&(s.flags&128)===0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),r=s.updateQueue,r!==null&&Cl(s,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==r&&(s.flags|=2048),e!==null&&$(ji),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),On(Wt),qt(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function g_(e,s){switch(Nc(s),s.tag){case 1:return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return On(Wt),Yt(),e=s.flags,(e&65536)!==0&&(e&128)===0?(s.flags=e&-65537|128,s):null;case 26:case 27:case 5:return Hr(s),null;case 31:if(s.memoizedState!==null){if(Le(s),s.alternate===null)throw Error(a(340));Ri()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 13:if(Le(s),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(a(340));Ri()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return $(Kt),null;case 4:return Yt(),null;case 10:return On(s.type),null;case 22:case 23:return Le(s),Wc(),e!==null&&$(ji),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 24:return On(Wt),null;case 25:return null;default:return null}}function tp(e,s){switch(Nc(s),s.tag){case 3:On(Wt),Yt();break;case 26:case 27:case 5:Hr(s);break;case 4:Yt();break;case 31:s.memoizedState!==null&&Le(s);break;case 13:Le(s);break;case 19:$(Kt);break;case 10:On(s.type);break;case 22:case 23:Le(s),Wc(),e!==null&&$(ji);break;case 24:On(Wt)}}function qa(e,s){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&e)===e){c=void 0;var p=r.create,y=r.inst;c=p(),y.destroy=c}r=r.next}while(r!==d)}}catch(w){Mt(s,s.return,w)}}function ii(e,s,r){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&e)===e){var y=c.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,d=s;var E=r,z=w;try{z()}catch(H){Mt(d,E,H)}}}c=c.next}while(c!==p)}}catch(H){Mt(s,s.return,H)}}function ep(e){var s=e.updateQueue;if(s!==null){var r=e.stateNode;try{Gd(s,r)}catch(c){Mt(e,e.return,c)}}}function np(e,s,r){r.props=Bi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(c){Mt(e,s,c)}}function Pa(e,s){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var c=e.stateNode;break;case 30:c=e.stateNode;break;default:c=e.stateNode}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(d){Mt(e,s,d)}}function gn(e,s){var r=e.ref,c=e.refCleanup;if(r!==null)if(typeof c=="function")try{c()}catch(d){Mt(e,s,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){Mt(e,s,d)}else r.current=null}function ip(e){var s=e.type,r=e.memoizedProps,c=e.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":r.autoFocus&&c.focus();break t;case"img":r.src?c.src=r.src:r.srcSet&&(c.srcset=r.srcSet)}}catch(d){Mt(e,e.return,d)}}function Cu(e,s,r){try{var c=e.stateNode;U_(c,e.type,r,s),c[we]=s}catch(d){Mt(e,e.return,d)}}function sp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ui(e.type)||e.tag===4}function ku(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ui(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ru(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,s):(s=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,s.appendChild(e),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=wn));else if(c!==4&&(c===27&&ui(e.type)&&(r=e.stateNode,s=null),e=e.child,e!==null))for(Ru(e,s,r),e=e.sibling;e!==null;)Ru(e,s,r),e=e.sibling}function kl(e,s,r){var c=e.tag;if(c===5||c===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(c!==4&&(c===27&&ui(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(kl(e,s,r),e=e.sibling;e!==null;)kl(e,s,r),e=e.sibling}function ap(e){var s=e.stateNode,r=e.memoizedProps;try{for(var c=e.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);he(s,c,r),s[le]=e,s[we]=r}catch(p){Mt(e,e.return,p)}}var Mn=!1,Zt=!1,Mu=!1,rp=typeof WeakSet=="function"?WeakSet:Set,ae=null;function p_(e,s){if(e=e.containerInfo,Ju=Wl,e=bd(e),Tc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var c=r.getSelection&&r.getSelection();if(c&&c.rangeCount!==0){r=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{r.nodeType,p.nodeType}catch{r=null;break t}var y=0,w=-1,E=-1,z=0,H=0,G=e,N=null;e:for(;;){for(var L;G!==r||d!==0&&G.nodeType!==3||(w=y+d),G!==p||c!==0&&G.nodeType!==3||(E=y+c),G.nodeType===3&&(y+=G.nodeValue.length),(L=G.firstChild)!==null;)N=G,G=L;for(;;){if(G===e)break e;if(N===r&&++z===d&&(w=y),N===p&&++H===c&&(E=y),(L=G.nextSibling)!==null)break;G=N,N=G.parentNode}G=L}r=w===-1||E===-1?null:{start:w,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zu={focusedElem:e,selectionRange:r},Wl=!1,ae=s;ae!==null;)if(s=ae,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,ae=e;else for(;ae!==null;){switch(s=ae,p=s.alternate,e=s.flags,s.tag){case 0:if((e&4)!==0&&(e=s.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)d=e[r],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,r=s,d=p.memoizedProps,p=p.memoizedState,c=r.stateNode;try{var tt=Bi(r.type,d);e=c.getSnapshotBeforeUpdate(tt,p),c.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Mt(r,r.return,ot)}}break;case 3:if((e&1024)!==0){if(e=s.stateNode.containerInfo,r=e.nodeType,r===9)nh(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=s.sibling,e!==null){e.return=s.return,ae=e;break}ae=s.return}}function lp(e,s,r){var c=r.flags;switch(r.tag){case 0:case 11:case 15:jn(e,r),c&4&&qa(5,r);break;case 1:if(jn(e,r),c&4)if(e=r.stateNode,s===null)try{e.componentDidMount()}catch(y){Mt(r,r.return,y)}else{var d=Bi(r.type,s.memoizedProps);s=s.memoizedState;try{e.componentDidUpdate(d,s,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Mt(r,r.return,y)}}c&64&&ep(r),c&512&&Pa(r,r.return);break;case 3:if(jn(e,r),c&64&&(e=r.updateQueue,e!==null)){if(s=null,r.child!==null)switch(r.child.tag){case 27:case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}try{Gd(e,s)}catch(y){Mt(r,r.return,y)}}break;case 27:s===null&&c&4&&ap(r);case 26:case 5:jn(e,r),s===null&&c&4&&ip(r),c&512&&Pa(r,r.return);break;case 12:jn(e,r);break;case 31:jn(e,r),c&4&&up(e,r);break;case 13:jn(e,r),c&4&&hp(e,r),c&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=T_.bind(null,r),I_(e,r))));break;case 22:if(c=r.memoizedState!==null||Mn,!c){s=s!==null&&s.memoizedState!==null||Zt,d=Mn;var p=Zt;Mn=c,(Zt=s)&&!p?zn(e,r,(r.subtreeFlags&8772)!==0):jn(e,r),Mn=d,Zt=p}break;case 30:break;default:jn(e,r)}}function op(e){var s=e.alternate;s!==null&&(e.alternate=null,op(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&lc(s)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,xe=!1;function Dn(e,s,r){for(r=r.child;r!==null;)cp(e,s,r),r=r.sibling}function cp(e,s,r){if(De&&typeof De.onCommitFiberUnmount=="function")try{De.onCommitFiberUnmount(ha,r)}catch{}switch(r.tag){case 26:Zt||gn(r,s),Dn(e,s,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||gn(r,s);var c=$t,d=xe;ui(r.type)&&($t=r.stateNode,xe=!1),Dn(e,s,r),Wa(r.stateNode),$t=c,xe=d;break;case 5:Zt||gn(r,s);case 6:if(c=$t,d=xe,$t=null,Dn(e,s,r),$t=c,xe=d,$t!==null)if(xe)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(r.stateNode)}catch(p){Mt(r,s,p)}else try{$t.removeChild(r.stateNode)}catch(p){Mt(r,s,p)}break;case 18:$t!==null&&(xe?(e=$t,em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),$s(e)):em($t,r.stateNode));break;case 4:c=$t,d=xe,$t=r.stateNode.containerInfo,xe=!0,Dn(e,s,r),$t=c,xe=d;break;case 0:case 11:case 14:case 15:ii(2,r,s),Zt||ii(4,r,s),Dn(e,s,r);break;case 1:Zt||(gn(r,s),c=r.stateNode,typeof c.componentWillUnmount=="function"&&np(r,s,c)),Dn(e,s,r);break;case 21:Dn(e,s,r);break;case 22:Zt=(c=Zt)||r.memoizedState!==null,Dn(e,s,r),Zt=c;break;default:Dn(e,s,r)}}function up(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{$s(e)}catch(r){Mt(s,s.return,r)}}}function hp(e,s){if(s.memoizedState===null&&(e=s.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{$s(e)}catch(r){Mt(s,s.return,r)}}function m_(e){switch(e.tag){case 31:case 13:case 19:var s=e.stateNode;return s===null&&(s=e.stateNode=new rp),s;case 22:return e=e.stateNode,s=e._retryCache,s===null&&(s=e._retryCache=new rp),s;default:throw Error(a(435,e.tag))}}function Rl(e,s){var r=m_(e);s.forEach(function(c){if(!r.has(c)){r.add(c);var d=E_.bind(null,e,c);c.then(d,d)}})}function Te(e,s){var r=s.deletions;if(r!==null)for(var c=0;c<r.length;c++){var d=r[c],p=e,y=s,w=y;t:for(;w!==null;){switch(w.tag){case 27:if(ui(w.type)){$t=w.stateNode,xe=!1;break t}break;case 5:$t=w.stateNode,xe=!1;break t;case 3:case 4:$t=w.stateNode.containerInfo,xe=!0;break t}w=w.return}if($t===null)throw Error(a(160));cp(p,y,d),$t=null,xe=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)fp(s,e),s=s.sibling}var an=null;function fp(e,s){var r=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Te(s,e),Ee(e),c&4&&(ii(3,e,e.return),qa(3,e),ii(5,e,e.return));break;case 1:Te(s,e),Ee(e),c&512&&(Zt||r===null||gn(r,r.return)),c&64&&Mn&&(e=e.updateQueue,e!==null&&(c=e.callbacks,c!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?c:r.concat(c))));break;case 26:var d=an;if(Te(s,e),Ee(e),c&512&&(Zt||r===null||gn(r,r.return)),c&4){var p=r!==null?r.memoizedState:null;if(c=e.memoizedState,r===null)if(c===null)if(e.stateNode===null){t:{c=e.type,r=e.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ga]||p[le]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),he(p,c,r),p[le]=e,se(p),c=p;break t;case"link":var y=fm("link","href",d).get(c+(r.href||""));if(y){for(var w=0;w<y.length;w++)if(p=y[w],p.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&p.getAttribute("rel")===(r.rel==null?null:r.rel)&&p.getAttribute("title")===(r.title==null?null:r.title)&&p.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(w,1);break e}}p=d.createElement(c),he(p,c,r),d.head.appendChild(p);break;case"meta":if(y=fm("meta","content",d).get(c+(r.content||""))){for(w=0;w<y.length;w++)if(p=y[w],p.getAttribute("content")===(r.content==null?null:""+r.content)&&p.getAttribute("name")===(r.name==null?null:r.name)&&p.getAttribute("property")===(r.property==null?null:r.property)&&p.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&p.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(w,1);break e}}p=d.createElement(c),he(p,c,r),d.head.appendChild(p);break;default:throw Error(a(468,c))}p[le]=e,se(p),c=p}e.stateNode=c}else dm(d,e.type,e.stateNode);else e.stateNode=hm(d,c,e.memoizedProps);else p!==c?(p===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):p.count--,c===null?dm(d,e.type,e.stateNode):hm(d,c,e.memoizedProps)):c===null&&e.stateNode!==null&&Cu(e,e.memoizedProps,r.memoizedProps)}break;case 27:Te(s,e),Ee(e),c&512&&(Zt||r===null||gn(r,r.return)),r!==null&&c&4&&Cu(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Te(s,e),Ee(e),c&512&&(Zt||r===null||gn(r,r.return)),e.flags&32){d=e.stateNode;try{hs(d,"")}catch(tt){Mt(e,e.return,tt)}}c&4&&e.stateNode!=null&&(d=e.memoizedProps,Cu(e,d,r!==null?r.memoizedProps:d)),c&1024&&(Mu=!0);break;case 6:if(Te(s,e),Ee(e),c&4){if(e.stateNode===null)throw Error(a(162));c=e.memoizedProps,r=e.stateNode;try{r.nodeValue=c}catch(tt){Mt(e,e.return,tt)}}break;case 3:if(Yl=null,d=an,an=Il(s.containerInfo),Te(s,e),an=d,Ee(e),c&4&&r!==null&&r.memoizedState.isDehydrated)try{$s(s.containerInfo)}catch(tt){Mt(e,e.return,tt)}Mu&&(Mu=!1,dp(e));break;case 4:c=an,an=Il(e.stateNode.containerInfo),Te(s,e),Ee(e),an=c;break;case 12:Te(s,e),Ee(e);break;case 31:Te(s,e),Ee(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Rl(e,c)));break;case 13:Te(s,e),Ee(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Dl=Me()),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Rl(e,c)));break;case 22:d=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,z=Mn,H=Zt;if(Mn=z||d,Zt=H||E,Te(s,e),Zt=H,Mn=z,Ee(e),c&8192)t:for(s=e.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(r===null||E||Mn||Zt||Hi(e)),r=null,s=e;;){if(s.tag===5||s.tag===26){if(r===null){E=r=s;try{if(p=E.stateNode,d)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=E.stateNode;var G=E.memoizedProps.style,N=G!=null&&G.hasOwnProperty("display")?G.display:null;w.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(tt){Mt(E,E.return,tt)}}}else if(s.tag===6){if(r===null){E=s;try{E.stateNode.nodeValue=d?"":E.memoizedProps}catch(tt){Mt(E,E.return,tt)}}}else if(s.tag===18){if(r===null){E=s;try{var L=E.stateNode;d?nm(L,!0):nm(E.stateNode,!1)}catch(tt){Mt(E,E.return,tt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===e)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break t;for(;s.sibling===null;){if(s.return===null||s.return===e)break t;r===s&&(r=null),s=s.return}r===s&&(r=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=e.updateQueue,c!==null&&(r=c.retryQueue,r!==null&&(c.retryQueue=null,Rl(e,r))));break;case 19:Te(s,e),Ee(e),c&4&&(c=e.updateQueue,c!==null&&(e.updateQueue=null,Rl(e,c)));break;case 30:break;case 21:break;default:Te(s,e),Ee(e)}}function Ee(e){var s=e.flags;if(s&2){try{for(var r,c=e.return;c!==null;){if(sp(c)){r=c;break}c=c.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var d=r.stateNode,p=ku(e);kl(e,p,d);break;case 5:var y=r.stateNode;r.flags&32&&(hs(y,""),r.flags&=-33);var w=ku(e);kl(e,w,y);break;case 3:case 4:var E=r.stateNode.containerInfo,z=ku(e);Ru(e,z,E);break;default:throw Error(a(161))}}catch(H){Mt(e,e.return,H)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function dp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var s=e;dp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),e=e.sibling}}function jn(e,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lp(e,s.alternate,s),s=s.sibling}function Hi(e){for(e=e.child;e!==null;){var s=e;switch(s.tag){case 0:case 11:case 14:case 15:ii(4,s,s.return),Hi(s);break;case 1:gn(s,s.return);var r=s.stateNode;typeof r.componentWillUnmount=="function"&&np(s,s.return,r),Hi(s);break;case 27:Wa(s.stateNode);case 26:case 5:gn(s,s.return),Hi(s);break;case 22:s.memoizedState===null&&Hi(s);break;case 30:Hi(s);break;default:Hi(s)}e=e.sibling}}function zn(e,s,r){for(r=r&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=e,p=s,y=p.flags;switch(p.tag){case 0:case 11:case 15:zn(d,p,r),qa(4,p);break;case 1:if(zn(d,p,r),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Mt(c,c.return,z)}if(c=p,d=c.updateQueue,d!==null){var w=c.stateNode;try{var E=d.shared.hiddenCallbacks;if(E!==null)for(d.shared.hiddenCallbacks=null,d=0;d<E.length;d++)Id(E[d],w)}catch(z){Mt(c,c.return,z)}}r&&y&64&&ep(p),Pa(p,p.return);break;case 27:ap(p);case 26:case 5:zn(d,p,r),r&&c===null&&y&4&&ip(p),Pa(p,p.return);break;case 12:zn(d,p,r);break;case 31:zn(d,p,r),r&&y&4&&up(d,p);break;case 13:zn(d,p,r),r&&y&4&&hp(d,p);break;case 22:p.memoizedState===null&&zn(d,p,r),Pa(p,p.return);break;case 30:break;default:zn(d,p,r)}s=s.sibling}}function Du(e,s){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(e=s.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Aa(r))}function ju(e,s){e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Aa(e))}function rn(e,s,r,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gp(e,s,r,c),s=s.sibling}function gp(e,s,r,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:rn(e,s,r,c),d&2048&&qa(9,s);break;case 1:rn(e,s,r,c);break;case 3:rn(e,s,r,c),d&2048&&(e=null,s.alternate!==null&&(e=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==e&&(s.refCount++,e!=null&&Aa(e)));break;case 12:if(d&2048){rn(e,s,r,c),e=s.stateNode;try{var p=s.memoizedProps,y=p.id,w=p.onPostCommit;typeof w=="function"&&w(y,s.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Mt(s,s.return,E)}}else rn(e,s,r,c);break;case 31:rn(e,s,r,c);break;case 13:rn(e,s,r,c);break;case 23:break;case 22:p=s.stateNode,y=s.alternate,s.memoizedState!==null?p._visibility&2?rn(e,s,r,c):$a(e,s):p._visibility&2?rn(e,s,r,c):(p._visibility|=2,Ms(e,s,r,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Du(y,s);break;case 24:rn(e,s,r,c),d&2048&&ju(s.alternate,s);break;default:rn(e,s,r,c)}}function Ms(e,s,r,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=e,y=s,w=r,E=c,z=y.flags;switch(y.tag){case 0:case 11:case 15:Ms(p,y,w,E,d),qa(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ms(p,y,w,E,d):$a(p,y):(H._visibility|=2,Ms(p,y,w,E,d)),d&&z&2048&&Du(y.alternate,y);break;case 24:Ms(p,y,w,E,d),d&&z&2048&&ju(y.alternate,y);break;default:Ms(p,y,w,E,d)}s=s.sibling}}function $a(e,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var r=e,c=s,d=c.flags;switch(c.tag){case 22:$a(r,c),d&2048&&Du(c.alternate,c);break;case 24:$a(r,c),d&2048&&ju(c.alternate,c);break;default:$a(r,c)}s=s.sibling}}var Va=8192;function Ds(e,s,r){if(e.subtreeFlags&Va)for(e=e.child;e!==null;)pp(e,s,r),e=e.sibling}function pp(e,s,r){switch(e.tag){case 26:Ds(e,s,r),e.flags&Va&&e.memoizedState!==null&&nw(r,an,e.memoizedState,e.memoizedProps);break;case 5:Ds(e,s,r);break;case 3:case 4:var c=an;an=Il(e.stateNode.containerInfo),Ds(e,s,r),an=c;break;case 22:e.memoizedState===null&&(c=e.alternate,c!==null&&c.memoizedState!==null?(c=Va,Va=16777216,Ds(e,s,r),Va=c):Ds(e,s,r));break;default:Ds(e,s,r)}}function mp(e){var s=e.alternate;if(s!==null&&(e=s.child,e!==null)){s.child=null;do s=e.sibling,e.sibling=null,e=s;while(e!==null)}}function Ia(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];ae=c,bp(c,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 0:case 11:case 15:Ia(e),e.flags&2048&&ii(9,e,e.return);break;case 3:Ia(e);break;case 12:Ia(e);break;case 22:var s=e.stateNode;e.memoizedState!==null&&s._visibility&2&&(e.return===null||e.return.tag!==13)?(s._visibility&=-3,Ml(e)):Ia(e);break;default:Ia(e)}}function Ml(e){var s=e.deletions;if((e.flags&16)!==0){if(s!==null)for(var r=0;r<s.length;r++){var c=s[r];ae=c,bp(c,e)}mp(e)}for(e=e.child;e!==null;){switch(s=e,s.tag){case 0:case 11:case 15:ii(8,s,s.return),Ml(s);break;case 22:r=s.stateNode,r._visibility&2&&(r._visibility&=-3,Ml(s));break;default:Ml(s)}e=e.sibling}}function bp(e,s){for(;ae!==null;){var r=ae;switch(r.tag){case 0:case 11:case 15:ii(8,r,s);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var c=r.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Aa(r.memoizedState.cache)}if(c=r.child,c!==null)c.return=r,ae=c;else t:for(r=e;ae!==null;){c=ae;var d=c.sibling,p=c.return;if(op(c),c===r){ae=null;break t}if(d!==null){d.return=p,ae=d;break t}ae=p}}}var y_={getCacheForType:function(e){var s=ce(Wt),r=s.data.get(e);return r===void 0&&(r=e(),s.data.set(e,r)),r},cacheSignal:function(){return ce(Wt).controller.signal}},b_=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ut=null,bt=null,_t=0,Rt=0,Be=null,si=!1,js=!1,zu=!1,Nn=0,It=0,ai=0,qi=0,Nu=0,He=0,zs=0,Ga=null,Oe=null,Uu=!1,Dl=0,vp=0,jl=1/0,zl=null,ri=null,ee=0,li=null,Ns=null,Un=0,Lu=0,Bu=null,_p=null,Ya=0,Hu=null;function qe(){return(Ct&2)!==0&&_t!==0?_t&-_t:D.T!==null?Gu():Uf()}function wp(){if(He===0)if((_t&536870912)===0||St){var e=$r;$r<<=1,($r&3932160)===0&&($r=262144),He=e}else He=536870912;return e=Ue.current,e!==null&&(e.flags|=32),He}function Ae(e,s,r){(e===Ut&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)&&(Us(e,0),oi(e,_t,He,!1)),da(e,r),((Ct&2)===0||e!==Ut)&&(e===Ut&&((Ct&2)===0&&(qi|=r),It===4&&oi(e,_t,He,!1)),pn(e))}function Sp(e,s,r){if((Ct&6)!==0)throw Error(a(327));var c=!r&&(s&127)===0&&(s&e.expiredLanes)===0||fa(e,s),d=c?w_(e,s):Pu(e,s,!0),p=c;do{if(d===0){js&&!c&&oi(e,s,0,!1);break}else{if(r=e.current.alternate,p&&!v_(r)){d=Pu(e,s,!1),p=!1;continue}if(d===2){if(p=s,e.errorRecoveryDisabledLanes&p)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){s=y;t:{var w=e;d=Ga;var E=w.current.memoizedState.isDehydrated;if(E&&(Us(w,y).flags|=256),y=Pu(w,y,!1),y!==2){if(zu&&!E){w.errorRecoveryDisabledLanes|=p,qi|=p,d=4;break t}p=Oe,Oe=d,p!==null&&(Oe===null?Oe=p:Oe.push.apply(Oe,p))}d=y}if(p=!1,d!==2)continue}}if(d===1){Us(e,0),oi(e,s,0,!0);break}t:{switch(c=e,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:oi(c,s,He,!si);break t;case 2:Oe=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(d=Dl+300-Me(),10<d)){if(oi(c,s,He,!si),Ir(c,0,!0)!==0)break t;Un=s,c.timeoutHandle=Zp(xp.bind(null,c,r,Oe,zl,Uu,s,He,qi,zs,si,p,"Throttled",-0,0),d);break t}xp(c,r,Oe,zl,Uu,s,He,qi,zs,si,p,null,-0,0)}}break}while(!0);pn(e)}function xp(e,s,r,c,d,p,y,w,E,z,H,G,N,L){if(e.timeoutHandle=-1,G=s.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wn},pp(s,p,G);var tt=(p&62914560)===p?Dl-Me():(p&4194048)===p?vp-Me():0;if(tt=iw(G,tt),tt!==null){Un=p,e.cancelPendingCommit=tt(Mp.bind(null,e,s,p,r,c,d,y,w,E,H,G,null,N,L)),oi(e,p,y,!z);return}}Mp(e,s,p,r,c,d,y,w,E)}function v_(e){for(var s=e;;){var r=s.tag;if((r===0||r===11||r===15)&&s.flags&16384&&(r=s.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var c=0;c<r.length;c++){var d=r[c],p=d.getSnapshot;d=d.value;try{if(!ze(p(),d))return!1}catch{return!1}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function oi(e,s,r,c){s&=~Nu,s&=~qi,e.suspendedLanes|=s,e.pingedLanes&=~s,c&&(e.warmLanes|=s),c=e.expirationTimes;for(var d=s;0<d;){var p=31-je(d),y=1<<p;c[p]=-1,d&=~y}r!==0&&jf(e,r,s)}function Nl(){return(Ct&6)===0?(Ka(0),!1):!0}function qu(){if(bt!==null){if(Rt===0)var e=bt.return;else e=bt,En=Mi=null,nu(e),Os=null,ka=0,e=bt;for(;e!==null;)tp(e.alternate,e),e=e.return;bt=null}}function Us(e,s){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,H_(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Un=0,qu(),Ut=e,bt=r=xn(e.current,null),_t=s,Rt=0,Be=null,si=!1,js=fa(e,s),zu=!1,zs=He=Nu=qi=ai=It=0,Oe=Ga=null,Uu=!1,(s&8)!==0&&(s|=s&32);var c=e.entangledLanes;if(c!==0)for(e=e.entanglements,c&=s;0<c;){var d=31-je(c),p=1<<d;s|=e[d],c&=~p}return Nn=s,nl(),r}function Tp(e,s){mt=null,D.H=La,s===Es||s===ul?(s=qd(),Rt=3):s===Ic?(s=qd(),Rt=4):Rt=s===bu?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Be=s,bt===null&&(It=1,Tl(e,Ye(s,e.current)))}function Ep(){var e=Ue.current;return e===null?!0:(_t&4194048)===_t?We===null:(_t&62914560)===_t||(_t&536870912)!==0?e===We:!1}function Op(){var e=D.H;return D.H=La,e===null?La:e}function Ap(){var e=D.A;return D.A=y_,e}function Ul(){It=4,si||(_t&4194048)!==_t&&Ue.current!==null||(js=!0),(ai&134217727)===0&&(qi&134217727)===0||Ut===null||oi(Ut,_t,He,!1)}function Pu(e,s,r){var c=Ct;Ct|=2;var d=Op(),p=Ap();(Ut!==e||_t!==s)&&(zl=null,Us(e,s)),s=!1;var y=It;t:do try{if(Rt!==0&&bt!==null){var w=bt,E=Be;switch(Rt){case 8:qu(),y=6;break t;case 3:case 2:case 9:case 6:Ue.current===null&&(s=!0);var z=Rt;if(Rt=0,Be=null,Ls(e,w,E,z),r&&js){y=0;break t}break;default:z=Rt,Rt=0,Be=null,Ls(e,w,E,z)}}__(),y=It;break}catch(H){Tp(e,H)}while(!0);return s&&e.shellSuspendCounter++,En=Mi=null,Ct=c,D.H=d,D.A=p,bt===null&&(Ut=null,_t=0,nl()),y}function __(){for(;bt!==null;)Cp(bt)}function w_(e,s){var r=Ct;Ct|=2;var c=Op(),d=Ap();Ut!==e||_t!==s?(zl=null,jl=Me()+500,Us(e,s)):js=fa(e,s);t:do try{if(Rt!==0&&bt!==null){s=bt;var p=Be;e:switch(Rt){case 1:Rt=0,Be=null,Ls(e,s,p,1);break;case 2:case 9:if(Bd(p)){Rt=0,Be=null,kp(s);break}s=function(){Rt!==2&&Rt!==9||Ut!==e||(Rt=7),pn(e)},p.then(s,s);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:Bd(p)?(Rt=0,Be=null,kp(s)):(Rt=0,Be=null,Ls(e,s,p,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var w=bt;if(y?gm(y):w.stateNode.complete){Rt=0,Be=null;var E=w.sibling;if(E!==null)bt=E;else{var z=w.return;z!==null?(bt=z,Ll(z)):bt=null}break e}}Rt=0,Be=null,Ls(e,s,p,5);break;case 6:Rt=0,Be=null,Ls(e,s,p,6);break;case 8:qu(),It=6;break t;default:throw Error(a(462))}}S_();break}catch(H){Tp(e,H)}while(!0);return En=Mi=null,D.H=c,D.A=d,Ct=r,bt!==null?0:(Ut=null,_t=0,nl(),It)}function S_(){for(;bt!==null&&!Gv();)Cp(bt)}function Cp(e){var s=Jg(e.alternate,e,Nn);e.memoizedProps=e.pendingProps,s===null?Ll(e):bt=s}function kp(e){var s=e,r=s.alternate;switch(s.tag){case 15:case 0:s=Yg(r,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=Yg(r,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:nu(s);default:tp(r,s),s=bt=Ad(s,Nn),s=Jg(r,s,Nn)}e.memoizedProps=e.pendingProps,s===null?Ll(e):bt=s}function Ls(e,s,r,c){En=Mi=null,nu(s),Os=null,ka=0;var d=s.return;try{if(u_(e,d,s,r,_t)){It=1,Tl(e,Ye(r,e.current)),bt=null;return}}catch(p){if(d!==null)throw bt=d,p;It=1,Tl(e,Ye(r,e.current)),bt=null;return}s.flags&32768?(St||c===1?e=!0:js||(_t&536870912)!==0?e=!1:(si=e=!0,(c===2||c===9||c===3||c===6)&&(c=Ue.current,c!==null&&c.tag===13&&(c.flags|=16384))),Rp(s,e)):Ll(s)}function Ll(e){var s=e;do{if((s.flags&32768)!==0){Rp(s,si);return}e=s.return;var r=d_(s.alternate,s,Nn);if(r!==null){bt=r;return}if(s=s.sibling,s!==null){bt=s;return}bt=s=e}while(s!==null);It===0&&(It=5)}function Rp(e,s){do{var r=g_(e.alternate,e);if(r!==null){r.flags&=32767,bt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!s&&(e=e.sibling,e!==null)){bt=e;return}bt=e=r}while(e!==null);It=6,bt=null}function Mp(e,s,r,c,d,p,y,w,E){e.cancelPendingCommit=null;do Bl();while(ee!==0);if((Ct&6)!==0)throw Error(a(327));if(s!==null){if(s===e.current)throw Error(a(177));if(p=s.lanes|s.childLanes,p|=kc,e0(e,r,p,y,w,E),e===Ut&&(bt=Ut=null,_t=0),Ns=s,li=e,Un=r,Lu=p,Bu=d,_p=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O_(qr,function(){return Up(),null})):(e.callbackNode=null,e.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,d=P.p,P.p=2,y=Ct,Ct|=4;try{p_(e,s,r)}finally{Ct=y,P.p=d,D.T=c}}ee=1,Dp(),jp(),zp()}}function Dp(){if(ee===1){ee=0;var e=li,s=Ns,r=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||r){r=D.T,D.T=null;var c=P.p;P.p=2;var d=Ct;Ct|=4;try{fp(s,e);var p=Zu,y=bd(e.containerInfo),w=p.focusedElem,E=p.selectionRange;if(y!==w&&w&&w.ownerDocument&&yd(w.ownerDocument.documentElement,w)){if(E!==null&&Tc(w)){var z=E.start,H=E.end;if(H===void 0&&(H=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(H,w.value.length);else{var G=w.ownerDocument||document,N=G&&G.defaultView||window;if(N.getSelection){var L=N.getSelection(),tt=w.textContent.length,ot=Math.min(E.start,tt),Nt=E.end===void 0?ot:Math.min(E.end,tt);!L.extend&&ot>Nt&&(y=Nt,Nt=ot,ot=y);var R=md(w,ot),A=md(w,Nt);if(R&&A&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==A.node||L.focusOffset!==A.offset)){var j=G.createRange();j.setStart(R.node,R.offset),L.removeAllRanges(),ot>Nt?(L.addRange(j),L.extend(A.node,A.offset)):(j.setEnd(A.node,A.offset),L.addRange(j))}}}}for(G=[],L=w;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<G.length;w++){var I=G[w];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Wl=!!Ju,Zu=Ju=null}finally{Ct=d,P.p=c,D.T=r}}e.current=s,ee=2}}function jp(){if(ee===2){ee=0;var e=li,s=Ns,r=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||r){r=D.T,D.T=null;var c=P.p;P.p=2;var d=Ct;Ct|=4;try{lp(e,s.alternate,s)}finally{Ct=d,P.p=c,D.T=r}}ee=3}}function zp(){if(ee===4||ee===3){ee=0,Yv();var e=li,s=Ns,r=Un,c=_p;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ee=5:(ee=0,Ns=li=null,Np(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ri=null),ac(r),s=s.stateNode,De&&typeof De.onCommitFiberRoot=="function")try{De.onCommitFiberRoot(ha,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=D.T,d=P.p,P.p=2,D.T=null;try{for(var p=e.onRecoverableError,y=0;y<c.length;y++){var w=c[y];p(w.value,{componentStack:w.stack})}}finally{D.T=s,P.p=d}}(Un&3)!==0&&Bl(),pn(e),d=e.pendingLanes,(r&261930)!==0&&(d&42)!==0?e===Hu?Ya++:(Ya=0,Hu=e):Ya=0,Ka(0)}}function Np(e,s){(e.pooledCacheLanes&=s)===0&&(s=e.pooledCache,s!=null&&(e.pooledCache=null,Aa(s)))}function Bl(){return Dp(),jp(),zp(),Up()}function Up(){if(ee!==5)return!1;var e=li,s=Lu;Lu=0;var r=ac(Un),c=D.T,d=P.p;try{P.p=32>r?32:r,D.T=null,r=Bu,Bu=null;var p=li,y=Un;if(ee=0,Ns=li=null,Un=0,(Ct&6)!==0)throw Error(a(331));var w=Ct;if(Ct|=4,yp(p.current),gp(p,p.current,y,r),Ct=w,Ka(0,!1),De&&typeof De.onPostCommitFiberRoot=="function")try{De.onPostCommitFiberRoot(ha,p)}catch{}return!0}finally{P.p=d,D.T=c,Np(e,s)}}function Lp(e,s,r){s=Ye(r,s),s=yu(e.stateNode,s,2),e=ti(e,s,2),e!==null&&(da(e,2),pn(e))}function Mt(e,s,r){if(e.tag===3)Lp(e,e,r);else for(;s!==null;){if(s.tag===3){Lp(s,e,r);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ri===null||!ri.has(c))){e=Ye(r,e),r=Bg(2),c=ti(s,r,2),c!==null&&(Hg(r,c,s,e),da(c,2),pn(c));break}}s=s.return}}function $u(e,s,r){var c=e.pingCache;if(c===null){c=e.pingCache=new b_;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(r)||(zu=!0,d.add(r),e=x_.bind(null,e,s,r),s.then(e,e))}function x_(e,s,r){var c=e.pingCache;c!==null&&c.delete(s),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Ut===e&&(_t&r)===r&&(It===4||It===3&&(_t&62914560)===_t&&300>Me()-Dl?(Ct&2)===0&&Us(e,0):Nu|=r,zs===_t&&(zs=0)),pn(e)}function Bp(e,s){s===0&&(s=Df()),e=Ci(e,s),e!==null&&(da(e,s),pn(e))}function T_(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Bp(e,r)}function E_(e,s){var r=0;switch(e.tag){case 31:case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(r=d.retryLane);break;case 19:c=e.stateNode;break;case 22:c=e.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Bp(e,r)}function O_(e,s){return ec(e,s)}var Hl=null,Bs=null,Vu=!1,ql=!1,Iu=!1,ci=0;function pn(e){e!==Bs&&e.next===null&&(Bs===null?Hl=Bs=e:Bs=Bs.next=e),ql=!0,Vu||(Vu=!0,C_())}function Ka(e,s){if(!Iu&&ql){Iu=!0;do for(var r=!1,c=Hl;c!==null;){if(e!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var y=c.suspendedLanes,w=c.pingedLanes;p=(1<<31-je(42|e)+1)-1,p&=d&~(y&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(r=!0,$p(c,p))}else p=_t,p=Ir(c,c===Ut?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||fa(c,p)||(r=!0,$p(c,p));c=c.next}while(r);Iu=!1}}function A_(){Hp()}function Hp(){ql=Vu=!1;var e=0;ci!==0&&B_()&&(e=ci);for(var s=Me(),r=null,c=Hl;c!==null;){var d=c.next,p=qp(c,s);p===0?(c.next=null,r===null?Hl=d:r.next=d,d===null&&(Bs=r)):(r=c,(e!==0||(p&3)!==0)&&(ql=!0)),c=d}ee!==0&&ee!==5||Ka(e),ci!==0&&(ci=0)}function qp(e,s){for(var r=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var y=31-je(p),w=1<<y,E=d[y];E===-1?((w&r)===0||(w&c)!==0)&&(d[y]=t0(w,s)):E<=s&&(e.expiredLanes|=w),p&=~w}if(s=Ut,r=_t,r=Ir(e,e===s?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c=e.callbackNode,r===0||e===s&&(Rt===2||Rt===9)||e.cancelPendingCommit!==null)return c!==null&&c!==null&&nc(c),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||fa(e,r)){if(s=r&-r,s===e.callbackPriority)return s;switch(c!==null&&nc(c),ac(r)){case 2:case 8:r=Rf;break;case 32:r=qr;break;case 268435456:r=Mf;break;default:r=qr}return c=Pp.bind(null,e),r=ec(r,c),e.callbackPriority=s,e.callbackNode=r,s}return c!==null&&c!==null&&nc(c),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,s){if(ee!==0&&ee!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Bl()&&e.callbackNode!==r)return null;var c=_t;return c=Ir(e,e===Ut?c:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),c===0?null:(Sp(e,c,s),qp(e,Me()),e.callbackNode!=null&&e.callbackNode===r?Pp.bind(null,e):null)}function $p(e,s){if(Bl())return null;Sp(e,s,!0)}function C_(){q_(function(){(Ct&6)!==0?ec(kf,A_):Hp()})}function Gu(){if(ci===0){var e=xs;e===0&&(e=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),ci=e}return ci}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fr(""+e)}function Ip(e,s){var r=s.ownerDocument.createElement("input");return r.name=s.name,r.value=s.value,e.id&&r.setAttribute("form",e.id),s.parentNode.insertBefore(r,s),e=new FormData(e),r.parentNode.removeChild(r),e}function k_(e,s,r,c,d){if(s==="submit"&&r&&r.stateNode===d){var p=Vp((d[we]||null).action),y=c.submitter;y&&(s=(s=y[we]||null)?Vp(s.formAction):y.getAttribute("formAction"),s!==null&&(p=s,y=null));var w=new Jr("action","action",null,c,d);e.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ci!==0){var E=y?Ip(d,y):new FormData(d);hu(r,{pending:!0,data:E,method:d.method,action:p},null,E)}}else typeof p=="function"&&(w.preventDefault(),E=y?Ip(d,y):new FormData(d),hu(r,{pending:!0,data:E,method:d.method,action:p},p,E))},currentTarget:d}]})}}for(var Yu=0;Yu<Cc.length;Yu++){var Ku=Cc[Yu],R_=Ku.toLowerCase(),M_=Ku[0].toUpperCase()+Ku.slice(1);sn(R_,"on"+M_)}sn(wd,"onAnimationEnd"),sn(Sd,"onAnimationIteration"),sn(xd,"onAnimationStart"),sn("dblclick","onDoubleClick"),sn("focusin","onFocus"),sn("focusout","onBlur"),sn(K0,"onTransitionRun"),sn(F0,"onTransitionStart"),sn(X0,"onTransitionCancel"),sn(Td,"onTransitionEnd"),cs("onMouseEnter",["mouseout","mouseover"]),cs("onMouseLeave",["mouseout","mouseover"]),cs("onPointerEnter",["pointerout","pointerover"]),cs("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fa));function Gp(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var c=e[r],d=c.event;c=c.listeners;t:{var p=void 0;if(s)for(var y=c.length-1;0<=y;y--){var w=c[y],E=w.instance,z=w.currentTarget;if(w=w.listener,E!==p&&d.isPropagationStopped())break t;p=w,d.currentTarget=z;try{p(d)}catch(H){el(H)}d.currentTarget=null,p=E}else for(y=0;y<c.length;y++){if(w=c[y],E=w.instance,z=w.currentTarget,w=w.listener,E!==p&&d.isPropagationStopped())break t;p=w,d.currentTarget=z;try{p(d)}catch(H){el(H)}d.currentTarget=null,p=E}}}}function vt(e,s){var r=s[rc];r===void 0&&(r=s[rc]=new Set);var c=e+"__bubble";r.has(c)||(Yp(s,e,2,!1),r.add(c))}function Fu(e,s,r){var c=0;s&&(c|=4),Yp(r,e,c,s)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Xu(e){if(!e[Pl]){e[Pl]=!0,Hf.forEach(function(r){r!=="selectionchange"&&(D_.has(r)||Fu(r,!1,e),Fu(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[Pl]||(s[Pl]=!0,Fu("selectionchange",!1,s))}}function Yp(e,s,r,c){switch(wm(s)){case 2:var d=rw;break;case 8:d=lw;break;default:d=uh}r=d.bind(null,s,r,e),d=void 0,!pc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(s,r,{capture:!0,passive:d}):e.addEventListener(s,r,!0):d!==void 0?e.addEventListener(s,r,{passive:d}):e.addEventListener(s,r,!1)}function Wu(e,s,r,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var w=c.stateNode.containerInfo;if(w===d)break;if(y===4)for(y=c.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===d)return;y=y.return}for(;w!==null;){if(y=rs(w),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){c=p=y;continue t}w=w.parentNode}}c=c.return}Qf(function(){var z=p,H=dc(r),G=[];t:{var N=Ed.get(e);if(N!==void 0){var L=Jr,tt=e;switch(e){case"keypress":if(Wr(r)===0)break t;case"keydown":case"keyup":L=E0;break;case"focusin":tt="focus",L=vc;break;case"focusout":tt="blur",L=vc;break;case"beforeblur":case"afterblur":L=vc;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=d0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=C0;break;case wd:case Sd:case xd:L=m0;break;case Td:L=R0;break;case"scroll":case"scrollend":L=h0;break;case"wheel":L=D0;break;case"copy":case"cut":case"paste":L=b0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=nd;break;case"toggle":case"beforetoggle":L=z0}var ot=(s&4)!==0,Nt=!ot&&(e==="scroll"||e==="scrollend"),R=ot?N!==null?N+"Capture":null:N;ot=[];for(var A=z,j;A!==null;){var I=A;if(j=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||j===null||R===null||(I=ma(A,R),I!=null&&ot.push(Xa(A,I,j))),Nt)break;A=A.return}0<ot.length&&(N=new L(N,tt,null,r,H),G.push({event:N,listeners:ot}))}}if((s&7)===0){t:{if(N=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",N&&r!==fc&&(tt=r.relatedTarget||r.fromElement)&&(rs(tt)||tt[as]))break t;if((L||N)&&(N=H.window===H?H:(N=H.ownerDocument)?N.defaultView||N.parentWindow:window,L?(tt=r.relatedTarget||r.toElement,L=z,tt=tt?rs(tt):null,tt!==null&&(Nt=o(tt),ot=tt.tag,tt!==Nt||ot!==5&&ot!==27&&ot!==6)&&(tt=null)):(L=null,tt=z),L!==tt)){if(ot=td,I="onMouseLeave",R="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(ot=nd,I="onPointerLeave",R="onPointerEnter",A="pointer"),Nt=L==null?N:pa(L),j=tt==null?N:pa(tt),N=new ot(I,A+"leave",L,r,H),N.target=Nt,N.relatedTarget=j,I=null,rs(H)===z&&(ot=new ot(R,A+"enter",tt,r,H),ot.target=j,ot.relatedTarget=Nt,I=ot),Nt=I,L&&tt)e:{for(ot=j_,R=L,A=tt,j=0,I=R;I;I=ot(I))j++;I=0;for(var rt=A;rt;rt=ot(rt))I++;for(;0<j-I;)R=ot(R),j--;for(;0<I-j;)A=ot(A),I--;for(;j--;){if(R===A||A!==null&&R===A.alternate){ot=R;break e}R=ot(R),A=ot(A)}ot=null}else ot=null;L!==null&&Kp(G,N,L,ot,!1),tt!==null&&Nt!==null&&Kp(G,Nt,tt,ot,!0)}}t:{if(N=z?pa(z):window,L=N.nodeName&&N.nodeName.toLowerCase(),L==="select"||L==="input"&&N.type==="file")var Ot=ud;else if(od(N))if(hd)Ot=I0;else{Ot=$0;var st=P0}else L=N.nodeName,!L||L.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?z&&hc(z.elementType)&&(Ot=ud):Ot=V0;if(Ot&&(Ot=Ot(e,z))){cd(G,Ot,r,H);break t}st&&st(e,N,z),e==="focusout"&&z&&N.type==="number"&&z.memoizedProps.value!=null&&uc(N,"number",N.value)}switch(st=z?pa(z):window,e){case"focusin":(od(st)||st.contentEditable==="true")&&(ps=st,Ec=z,Ta=null);break;case"focusout":Ta=Ec=ps=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,vd(G,r,H);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":vd(G,r,H)}var yt;if(wc)t:{switch(e){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else gs?rd(e,r)&&(wt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(wt="onCompositionStart");wt&&(id&&r.locale!=="ko"&&(gs||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&gs&&(yt=Jf()):(Kn=H,mc="value"in Kn?Kn.value:Kn.textContent,gs=!0)),st=$l(z,wt),0<st.length&&(wt=new ed(wt,e,null,r,H),G.push({event:wt,listeners:st}),yt?wt.data=yt:(yt=ld(r),yt!==null&&(wt.data=yt)))),(yt=U0?L0(e,r):B0(e,r))&&(wt=$l(z,"onBeforeInput"),0<wt.length&&(st=new ed("onBeforeInput","beforeinput",null,r,H),G.push({event:st,listeners:wt}),st.data=yt)),k_(G,e,z,r,H)}Gp(G,s)})}function Xa(e,s,r){return{instance:e,listener:s,currentTarget:r}}function $l(e,s){for(var r=s+"Capture",c=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ma(e,r),d!=null&&c.unshift(Xa(e,d,p)),d=ma(e,s),d!=null&&c.push(Xa(e,d,p))),e.tag===3)return c;e=e.return}return[]}function j_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,s,r,c,d){for(var p=s._reactName,y=[];r!==null&&r!==c;){var w=r,E=w.alternate,z=w.stateNode;if(w=w.tag,E!==null&&E===c)break;w!==5&&w!==26&&w!==27||z===null||(E=z,d?(z=ma(r,p),z!=null&&y.unshift(Xa(r,z,E))):d||(z=ma(r,p),z!=null&&y.push(Xa(r,z,E)))),r=r.return}y.length!==0&&e.push({event:s,listeners:y})}var z_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Fp(e){return(typeof e=="string"?e:""+e).replace(z_,`
`).replace(N_,"")}function Xp(e,s){return s=Fp(s),Fp(e)===s}function zt(e,s,r,c,d,p){switch(r){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||hs(e,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&hs(e,""+c);break;case"className":Yr(e,"class",c);break;case"tabIndex":Yr(e,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(e,r,c);break;case"style":Xf(e,c,p);break;case"data":if(s!=="object"){Yr(e,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||r!=="href")){e.removeAttribute(r);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Fr(""+c),e.setAttribute(r,c);break;case"action":case"formAction":if(typeof c=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(r==="formAction"?(s!=="input"&&zt(e,s,"name",d.name,d,null),zt(e,s,"formEncType",d.formEncType,d,null),zt(e,s,"formMethod",d.formMethod,d,null),zt(e,s,"formTarget",d.formTarget,d,null)):(zt(e,s,"encType",d.encType,d,null),zt(e,s,"method",d.method,d,null),zt(e,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){e.removeAttribute(r);break}c=Fr(""+c),e.setAttribute(r,c);break;case"onClick":c!=null&&(e.onclick=wn);break;case"onScroll":c!=null&&vt("scroll",e);break;case"onScrollEnd":c!=null&&vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":e.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){e.removeAttribute("xlink:href");break}r=Fr(""+c),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""+c):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":c===!0?e.setAttribute(r,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?e.setAttribute(r,c):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?e.setAttribute(r,c):e.removeAttribute(r);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?e.removeAttribute(r):e.setAttribute(r,c);break;case"popover":vt("beforetoggle",e),vt("toggle",e),Gr(e,"popover",c);break;case"xlinkActuate":_n(e,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":_n(e,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":_n(e,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":_n(e,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":_n(e,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":_n(e,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":_n(e,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":_n(e,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":_n(e,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gr(e,"is",c);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=c0.get(r)||r,Gr(e,r,c))}}function Qu(e,s,r,c,d,p){switch(r){case"style":Xf(e,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(r=c.__html,r!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof c=="string"?hs(e,c):(typeof c=="number"||typeof c=="bigint")&&hs(e,""+c);break;case"onScroll":c!=null&&vt("scroll",e);break;case"onScrollEnd":c!=null&&vt("scrollend",e);break;case"onClick":c!=null&&(e.onclick=wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qf.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),s=r.slice(2,d?r.length-7:void 0),p=e[we]||null,p=p!=null?p[r]:null,typeof p=="function"&&e.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(s,c,d);break t}r in e?e[r]=c:c===!0?e.setAttribute(r,""):Gr(e,r,c)}}}function he(e,s,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",e),vt("load",e);var c=!1,d=!1,p;for(p in r)if(r.hasOwnProperty(p)){var y=r[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:zt(e,s,p,y,r,null)}}d&&zt(e,s,"srcSet",r.srcSet,r,null),c&&zt(e,s,"src",r.src,r,null);return;case"input":vt("invalid",e);var w=p=y=d=null,E=null,z=null;for(c in r)if(r.hasOwnProperty(c)){var H=r[c];if(H!=null)switch(c){case"name":d=H;break;case"type":y=H;break;case"checked":E=H;break;case"defaultChecked":z=H;break;case"value":p=H;break;case"defaultValue":w=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,s));break;default:zt(e,s,c,H,r,null)}}Gf(e,p,w,E,z,y,d,!1);return;case"select":vt("invalid",e),c=y=p=null;for(d in r)if(r.hasOwnProperty(d)&&(w=r[d],w!=null))switch(d){case"value":p=w;break;case"defaultValue":y=w;break;case"multiple":c=w;default:zt(e,s,d,w,r,null)}s=p,r=y,e.multiple=!!c,s!=null?us(e,!!c,s,!1):r!=null&&us(e,!!c,r,!0);return;case"textarea":vt("invalid",e),p=d=c=null;for(y in r)if(r.hasOwnProperty(y)&&(w=r[y],w!=null))switch(y){case"value":c=w;break;case"defaultValue":d=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:zt(e,s,y,w,r,null)}Kf(e,c,d,p);return;case"option":for(E in r)r.hasOwnProperty(E)&&(c=r[E],c!=null)&&(E==="selected"?e.selected=c&&typeof c!="function"&&typeof c!="symbol":zt(e,s,E,c,r,null));return;case"dialog":vt("beforetoggle",e),vt("toggle",e),vt("cancel",e),vt("close",e);break;case"iframe":case"object":vt("load",e);break;case"video":case"audio":for(c=0;c<Fa.length;c++)vt(Fa[c],e);break;case"image":vt("error",e),vt("load",e);break;case"details":vt("toggle",e);break;case"embed":case"source":case"link":vt("error",e),vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(c=r[z],c!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:zt(e,s,z,c,r,null)}return;default:if(hc(s)){for(H in r)r.hasOwnProperty(H)&&(c=r[H],c!==void 0&&Qu(e,s,H,c,r,void 0));return}}for(w in r)r.hasOwnProperty(w)&&(c=r[w],c!=null&&zt(e,s,w,c,r,null))}function U_(e,s,r,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,y=null,w=null,E=null,z=null,H=null;for(L in r){var G=r[L];if(r.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=G;default:c.hasOwnProperty(L)||zt(e,s,L,null,c,G)}}for(var N in c){var L=c[N];if(G=r[N],c.hasOwnProperty(N)&&(L!=null||G!=null))switch(N){case"type":p=L;break;case"name":d=L;break;case"checked":z=L;break;case"defaultChecked":H=L;break;case"value":y=L;break;case"defaultValue":w=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,s));break;default:L!==G&&zt(e,s,N,L,c,G)}}cc(e,y,w,E,z,H,p,d);return;case"select":L=y=w=N=null;for(p in r)if(E=r[p],r.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":L=E;default:c.hasOwnProperty(p)||zt(e,s,p,null,c,E)}for(d in c)if(p=c[d],E=r[d],c.hasOwnProperty(d)&&(p!=null||E!=null))switch(d){case"value":N=p;break;case"defaultValue":w=p;break;case"multiple":y=p;default:p!==E&&zt(e,s,d,p,c,E)}s=w,r=y,c=L,N!=null?us(e,!!r,N,!1):!!c!=!!r&&(s!=null?us(e,!!r,s,!0):us(e,!!r,r?[]:"",!1));return;case"textarea":L=N=null;for(w in r)if(d=r[w],r.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:zt(e,s,w,null,c,d)}for(y in c)if(d=c[y],p=r[y],c.hasOwnProperty(y)&&(d!=null||p!=null))switch(y){case"value":N=d;break;case"defaultValue":L=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&zt(e,s,y,d,c,p)}Yf(e,N,L);return;case"option":for(var tt in r)N=r[tt],r.hasOwnProperty(tt)&&N!=null&&!c.hasOwnProperty(tt)&&(tt==="selected"?e.selected=!1:zt(e,s,tt,null,c,N));for(E in c)N=c[E],L=r[E],c.hasOwnProperty(E)&&N!==L&&(N!=null||L!=null)&&(E==="selected"?e.selected=N&&typeof N!="function"&&typeof N!="symbol":zt(e,s,E,N,c,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in r)N=r[ot],r.hasOwnProperty(ot)&&N!=null&&!c.hasOwnProperty(ot)&&zt(e,s,ot,null,c,N);for(z in c)if(N=c[z],L=r[z],c.hasOwnProperty(z)&&N!==L&&(N!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(137,s));break;default:zt(e,s,z,N,c,L)}return;default:if(hc(s)){for(var Nt in r)N=r[Nt],r.hasOwnProperty(Nt)&&N!==void 0&&!c.hasOwnProperty(Nt)&&Qu(e,s,Nt,void 0,c,N);for(H in c)N=c[H],L=r[H],!c.hasOwnProperty(H)||N===L||N===void 0&&L===void 0||Qu(e,s,H,N,c,L);return}}for(var R in r)N=r[R],r.hasOwnProperty(R)&&N!=null&&!c.hasOwnProperty(R)&&zt(e,s,R,null,c,N);for(G in c)N=c[G],L=r[G],!c.hasOwnProperty(G)||N===L||N==null&&L==null||zt(e,s,G,N,c,L)}function Wp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function L_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,s=0,r=performance.getEntriesByType("resource"),c=0;c<r.length;c++){var d=r[c],p=d.transferSize,y=d.initiatorType,w=d.duration;if(p&&w&&Wp(y)){for(y=0,w=d.responseEnd,c+=1;c<r.length;c++){var E=r[c],z=E.startTime;if(z>w)break;var H=E.transferSize,G=E.initiatorType;H&&Wp(G)&&(E=E.responseEnd,y+=H*(E<w?1:(w-z)/(E-z)))}if(--c,s+=8*(p+y)/(d.duration/1e3),e++,10<e)break}}if(0<e)return s/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ju=null,Zu=null;function Vl(e){return e.nodeType===9?e:e.ownerDocument}function Qp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jp(e,s){if(e===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&s==="foreignObject"?0:e}function th(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var eh=null;function B_(){var e=window.event;return e&&e.type==="popstate"?e===eh?!1:(eh=e,!0):(eh=null,!1)}var Zp=typeof setTimeout=="function"?setTimeout:void 0,H_=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,q_=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(e){return tm.resolve(null).then(e).catch(P_)}:Zp;function P_(e){setTimeout(function(){throw e})}function ui(e){return e==="head"}function em(e,s){var r=s,c=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"||r==="/&"){if(c===0){e.removeChild(d),$s(s);return}c--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")c++;else if(r==="html")Wa(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Wa(r);for(var p=r.firstChild;p;){var y=p.nextSibling,w=p.nodeName;p[ga]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=y}}else r==="body"&&Wa(e.ownerDocument.body);r=d}while(r);$s(s)}function nm(e,s){var r=e;e=0;do{var c=r.nextSibling;if(r.nodeType===1?s?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(s?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=c}while(r)}function nh(e){var s=e.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var r=s;switch(s=s.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nh(r),lc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function $_(e,s,r,c){for(;e.nodeType===1;){var d=r;if(e.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(c){if(!e[ga])switch(s){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(s==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Qe(e.nextSibling),e===null)break}return null}function V_(e,s,r){if(s==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Qe(e.nextSibling),e===null))return null;return e}function im(e,s){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qe(e.nextSibling),e===null))return null;return e}function ih(e){return e.data==="$?"||e.data==="$~"}function sh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function I_(e,s){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=s;else if(e.data!=="$?"||r.readyState!=="loading")s();else{var c=function(){s(),r.removeEventListener("DOMContentLoaded",c)};r.addEventListener("DOMContentLoaded",c),e._reactRetry=c}}function Qe(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return e}var ah=null;function sm(e){e=e.nextSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(s===0)return Qe(e.nextSibling);s--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||s++}e=e.nextSibling}return null}function am(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(s===0)return e;s--}else r!=="/$"&&r!=="/&"||s++}e=e.previousSibling}return null}function rm(e,s,r){switch(s=Vl(r),e){case"html":if(e=s.documentElement,!e)throw Error(a(452));return e;case"head":if(e=s.head,!e)throw Error(a(453));return e;case"body":if(e=s.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wa(e){for(var s=e.attributes;s.length;)e.removeAttributeNode(s[0]);lc(e)}var Je=new Map,lm=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ln=P.d;P.d={f:G_,r:Y_,D:K_,C:F_,L:X_,m:W_,X:J_,S:Q_,M:Z_};function G_(){var e=Ln.f(),s=Nl();return e||s}function Y_(e){var s=ls(e);s!==null&&s.tag===5&&s.type==="form"?Tg(s):Ln.r(e)}var Hs=typeof document>"u"?null:document;function om(e,s,r){var c=Hs;if(c&&typeof s=="string"&&s){var d=Ie(s);d='link[rel="'+e+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),lm.has(d)||(lm.add(d),e={rel:e,crossOrigin:r,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),he(s,"link",e),se(s),c.head.appendChild(s)))}}function K_(e){Ln.D(e),om("dns-prefetch",e,null)}function F_(e,s){Ln.C(e,s),om("preconnect",e,s)}function X_(e,s,r){Ln.L(e,s,r);var c=Hs;if(c&&e&&s){var d='link[rel="preload"][as="'+Ie(s)+'"]';s==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+Ie(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+Ie(r.imageSizes)+'"]')):d+='[href="'+Ie(e)+'"]';var p=d;switch(s){case"style":p=qs(e);break;case"script":p=Ps(e)}Je.has(p)||(e=b({rel:"preload",href:s==="image"&&r&&r.imageSrcSet?void 0:e,as:s},r),Je.set(p,e),c.querySelector(d)!==null||s==="style"&&c.querySelector(Qa(p))||s==="script"&&c.querySelector(Ja(p))||(s=c.createElement("link"),he(s,"link",e),se(s),c.head.appendChild(s)))}}function W_(e,s){Ln.m(e,s);var r=Hs;if(r&&e){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Ie(c)+'"][href="'+Ie(e)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ps(e)}if(!Je.has(p)&&(e=b({rel:"modulepreload",href:e},s),Je.set(p,e),r.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ja(p)))return}c=r.createElement("link"),he(c,"link",e),se(c),r.head.appendChild(c)}}}function Q_(e,s,r){Ln.S(e,s,r);var c=Hs;if(c&&e){var d=os(c).hoistableStyles,p=qs(e);s=s||"default";var y=d.get(p);if(!y){var w={loading:0,preload:null};if(y=c.querySelector(Qa(p)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":s},r),(r=Je.get(p))&&rh(e,r);var E=y=c.createElement("link");se(E),he(E,"link",e),E._p=new Promise(function(z,H){E.onload=z,E.onerror=H}),E.addEventListener("load",function(){w.loading|=1}),E.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gl(y,s,c)}y={type:"stylesheet",instance:y,count:1,state:w},d.set(p,y)}}}function J_(e,s){Ln.X(e,s);var r=Hs;if(r&&e){var c=os(r).hoistableScripts,d=Ps(e),p=c.get(d);p||(p=r.querySelector(Ja(d)),p||(e=b({src:e,async:!0},s),(s=Je.get(d))&&lh(e,s),p=r.createElement("script"),se(p),he(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function Z_(e,s){Ln.M(e,s);var r=Hs;if(r&&e){var c=os(r).hoistableScripts,d=Ps(e),p=c.get(d);p||(p=r.querySelector(Ja(d)),p||(e=b({src:e,async:!0,type:"module"},s),(s=Je.get(d))&&lh(e,s),p=r.createElement("script"),se(p),he(p,"link",e),r.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function cm(e,s,r,c){var d=(d=gt.current)?Il(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(s=qs(r.href),r=os(d).hoistableStyles,c=r.get(s),c||(c={type:"style",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=qs(r.href);var p=os(d).hoistableStyles,y=p.get(e);if(y||(d=d.ownerDocument||d,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,y),(p=d.querySelector(Qa(e)))&&!p._p&&(y.instance=p,y.state.loading=5),Je.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Je.set(e,r),p||tw(d,e,r,y.state))),s&&c===null)throw Error(a(528,""));return y}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=r.async,r=r.src,typeof r=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ps(r),r=os(d).hoistableScripts,c=r.get(s),c||(c={type:"script",instance:null,count:0,state:null},r.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function qs(e){return'href="'+Ie(e)+'"'}function Qa(e){return'link[rel="stylesheet"]['+e+"]"}function um(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function tw(e,s,r,c){e.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=e.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),he(s,"link",r),se(s),e.head.appendChild(s))}function Ps(e){return'[src="'+Ie(e)+'"]'}function Ja(e){return"script[async]"+e}function hm(e,s,r){if(s.count++,s.instance===null)switch(s.type){case"style":var c=e.querySelector('style[data-href~="'+Ie(r.href)+'"]');if(c)return s.instance=c,se(c),c;var d=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return c=(e.ownerDocument||e).createElement("style"),se(c),he(c,"style",d),Gl(c,r.precedence,e),s.instance=c;case"stylesheet":d=qs(r.href);var p=e.querySelector(Qa(d));if(p)return s.state.loading|=4,s.instance=p,se(p),p;c=um(r),(d=Je.get(d))&&rh(c,d),p=(e.ownerDocument||e).createElement("link"),se(p);var y=p;return y._p=new Promise(function(w,E){y.onload=w,y.onerror=E}),he(p,"link",c),s.state.loading|=4,Gl(p,r.precedence,e),s.instance=p;case"script":return p=Ps(r.src),(d=e.querySelector(Ja(p)))?(s.instance=d,se(d),d):(c=r,(d=Je.get(p))&&(c=b({},r),lh(c,d)),e=e.ownerDocument||e,d=e.createElement("script"),se(d),he(d,"link",c),e.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Gl(c,r.precedence,e));return s.instance}function Gl(e,s,r){for(var c=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,y=0;y<c.length;y++){var w=c[y];if(w.dataset.precedence===s)p=w;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(s=r.nodeType===9?r.head:r,s.insertBefore(e,s.firstChild))}function rh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.title==null&&(e.title=s.title)}function lh(e,s){e.crossOrigin==null&&(e.crossOrigin=s.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=s.referrerPolicy),e.integrity==null&&(e.integrity=s.integrity)}var Yl=null;function fm(e,s,r){if(Yl===null){var c=new Map,d=Yl=new Map;d.set(r,c)}else d=Yl,c=d.get(r),c||(c=new Map,d.set(r,c));if(c.has(e))return c;for(c.set(e,null),r=r.getElementsByTagName(e),d=0;d<r.length;d++){var p=r[d];if(!(p[ga]||p[le]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(s)||"";y=e+y;var w=c.get(y);w?w.push(p):c.set(y,[p])}}return c}function dm(e,s,r){e=e.ownerDocument||e,e.head.insertBefore(r,s==="title"?e.querySelector("head > title"):null)}function ew(e,s,r){if(r===1||s.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(e=s.disabled,typeof s.precedence=="string"&&e==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nw(e,s,r,c){if(r.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=qs(c.href),p=s.querySelector(Qa(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(e.count++,e=Kl.bind(e),s.then(e,e)),r.state.loading|=4,r.instance=p,se(p);return}p=s.ownerDocument||s,c=um(c),(d=Je.get(d))&&rh(c,d),p=p.createElement("link"),se(p);var y=p;y._p=new Promise(function(w,E){y.onload=w,y.onerror=E}),he(p,"link",c),r.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,s),(s=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Kl.bind(e),s.addEventListener("load",r),s.addEventListener("error",r))}}var oh=0;function iw(e,s){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var c=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+s);0<e.imgBytes&&oh===0&&(oh=62500*L_());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>oh?50:800)+s);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function Xl(e,s){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,s.forEach(sw,e),Fl=null,Kl.call(e))}function sw(e,s){if(!(s.state.loading&4)){var r=Fl.get(e);if(r)var c=r.get(null);else{r=new Map,Fl.set(e,r);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var y=d[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),c=y)}c&&r.set(null,c)}d=s.instance,y=d.getAttribute("data-precedence"),p=r.get(y)||c,p===c&&r.set(null,d),r.set(y,d),this.count++,c=Kl.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),s.state.loading|=4}}var Za={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function aw(e,s,r,c,d,p,y,w,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ic(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.hiddenUpdates=ic(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function pm(e,s,r,c,d,p,y,w,E,z,H,G){return e=new aw(e,s,r,y,E,z,H,G,w),s=1,p===!0&&(s|=24),p=Ne(3,null,null,s),e.current=p,p.stateNode=e,s=Pc(),s.refCount++,e.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:r,cache:s},Gc(p),e}function mm(e){return e?(e=bs,e):bs}function ym(e,s,r,c,d,p){d=mm(d),c.context===null?c.context=d:c.pendingContext=d,c=Zn(s),c.payload={element:r},p=p===void 0?null:p,p!==null&&(c.callback=p),r=ti(e,c,s),r!==null&&(Ae(r,e,s),Ma(r,e,s))}function bm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function ch(e,s){bm(e,s),(e=e.alternate)&&bm(e,s)}function vm(e){if(e.tag===13||e.tag===31){var s=Ci(e,67108864);s!==null&&Ae(s,e,67108864),ch(e,67108864)}}function _m(e){if(e.tag===13||e.tag===31){var s=qe();s=sc(s);var r=Ci(e,s);r!==null&&Ae(r,e,s),ch(e,s)}}var Wl=!0;function rw(e,s,r,c){var d=D.T;D.T=null;var p=P.p;try{P.p=2,uh(e,s,r,c)}finally{P.p=p,D.T=d}}function lw(e,s,r,c){var d=D.T;D.T=null;var p=P.p;try{P.p=8,uh(e,s,r,c)}finally{P.p=p,D.T=d}}function uh(e,s,r,c){if(Wl){var d=hh(c);if(d===null)Wu(e,s,c,Ql,r),Sm(e,c);else if(cw(d,e,s,r,c))c.stopPropagation();else if(Sm(e,c),s&4&&-1<ow.indexOf(e)){for(;d!==null;){var p=ls(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=xi(p.pendingLanes);if(y!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var E=1<<31-je(y);w.entanglements[1]|=E,y&=~E}pn(p),(Ct&6)===0&&(jl=Me()+500,Ka(0))}}break;case 31:case 13:w=Ci(p,2),w!==null&&Ae(w,p,2),Nl(),ch(p,2)}if(p=hh(c),p===null&&Wu(e,s,c,Ql,r),p===d)break;d=p}d!==null&&c.stopPropagation()}else Wu(e,s,c,null,r)}}function hh(e){return e=dc(e),fh(e)}var Ql=null;function fh(e){if(Ql=null,e=rs(e),e!==null){var s=o(e);if(s===null)e=null;else{var r=s.tag;if(r===13){if(e=u(s),e!==null)return e;e=null}else if(r===31){if(e=h(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null)}}return Ql=e,null}function wm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kv()){case kf:return 2;case Rf:return 8;case qr:case Fv:return 32;case Mf:return 268435456;default:return 32}default:return 32}}var dh=!1,hi=null,fi=null,di=null,tr=new Map,er=new Map,gi=[],ow="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sm(e,s){switch(e){case"focusin":case"focusout":hi=null;break;case"dragenter":case"dragleave":fi=null;break;case"mouseover":case"mouseout":di=null;break;case"pointerover":case"pointerout":tr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":er.delete(s.pointerId)}}function nr(e,s,r,c,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:s,domEventName:r,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=ls(s),s!==null&&vm(s)),e):(e.eventSystemFlags|=c,s=e.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),e)}function cw(e,s,r,c,d){switch(s){case"focusin":return hi=nr(hi,e,s,r,c,d),!0;case"dragenter":return fi=nr(fi,e,s,r,c,d),!0;case"mouseover":return di=nr(di,e,s,r,c,d),!0;case"pointerover":var p=d.pointerId;return tr.set(p,nr(tr.get(p)||null,e,s,r,c,d)),!0;case"gotpointercapture":return p=d.pointerId,er.set(p,nr(er.get(p)||null,e,s,r,c,d)),!0}return!1}function xm(e){var s=rs(e.target);if(s!==null){var r=o(s);if(r!==null){if(s=r.tag,s===13){if(s=u(r),s!==null){e.blockedOn=s,Lf(e.priority,function(){_m(r)});return}}else if(s===31){if(s=h(r),s!==null){e.blockedOn=s,Lf(e.priority,function(){_m(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jl(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=hh(e.nativeEvent);if(r===null){r=e.nativeEvent;var c=new r.constructor(r.type,r);fc=c,r.target.dispatchEvent(c),fc=null}else return s=ls(r),s!==null&&vm(s),e.blockedOn=r,!1;s.shift()}return!0}function Tm(e,s,r){Jl(e)&&r.delete(s)}function uw(){dh=!1,hi!==null&&Jl(hi)&&(hi=null),fi!==null&&Jl(fi)&&(fi=null),di!==null&&Jl(di)&&(di=null),tr.forEach(Tm),er.forEach(Tm)}function Zl(e,s){e.blockedOn===s&&(e.blockedOn=null,dh||(dh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,uw)))}var to=null;function Em(e){to!==e&&(to=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){to===e&&(to=null);for(var s=0;s<e.length;s+=3){var r=e[s],c=e[s+1],d=e[s+2];if(typeof c!="function"){if(fh(c||r)===null)continue;break}var p=ls(r);p!==null&&(e.splice(s,3),s-=3,hu(p,{pending:!0,data:d,method:r.method,action:c},c,d))}}))}function $s(e){function s(E){return Zl(E,e)}hi!==null&&Zl(hi,e),fi!==null&&Zl(fi,e),di!==null&&Zl(di,e),tr.forEach(s),er.forEach(s);for(var r=0;r<gi.length;r++){var c=gi[r];c.blockedOn===e&&(c.blockedOn=null)}for(;0<gi.length&&(r=gi[0],r.blockedOn===null);)xm(r),r.blockedOn===null&&gi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(c=0;c<r.length;c+=3){var d=r[c],p=r[c+1],y=d[we]||null;if(typeof p=="function")y||Em(r);else if(y){var w=null;if(p&&p.hasAttribute("formAction")){if(d=p,y=p[we]||null)w=y.formAction;else if(fh(d)!==null)continue}else w=y.action;typeof w=="function"?r[c+1]=w:(r.splice(c,3),c-=3),Em(r)}}}function Om(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(y){return d=y})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(r,20)}function r(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(r,100),function(){c=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function gh(e){this._internalRoot=e}eo.prototype.render=gh.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(a(409));var r=s.current,c=qe();ym(r,c,e,s,null,null)},eo.prototype.unmount=gh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;ym(e.current,2,null,e,null,null),Nl(),s[as]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var s=Uf();e={blockedOn:null,target:e,priority:s};for(var r=0;r<gi.length&&s!==0&&s<gi[r].priority;r++);gi.splice(r,0,e),r===0&&xm(e)}};var Am=t.version;if(Am!=="19.2.4")throw Error(a(527,Am,"19.2.4"));P.findDOMNode=function(e){var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(s),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var hw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{ha=no.inject(hw),De=no}catch{}}return sr.createRoot=function(e,s){if(!l(e))throw Error(a(299));var r=!1,c="",d=zg,p=Ng,y=Ug;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(y=s.onRecoverableError)),s=pm(e,1,!1,null,null,r,c,null,d,p,y,Om),e[as]=s.current,Xu(e),new gh(s)},sr.hydrateRoot=function(e,s,r){if(!l(e))throw Error(a(299));var c=!1,d="",p=zg,y=Ng,w=Ug,E=null;return r!=null&&(r.unstable_strictMode===!0&&(c=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(w=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),s=pm(e,1,!0,s,r??null,c,d,E,p,y,w,Om),s.context=mm(null),r=s.current,c=qe(),c=sc(c),d=Zn(c),d.callback=null,ti(r,d,c),r=c,s.current.lanes=r,da(s,r),pn(s),e[as]=s.current,Xu(e),new eo(s)},sr.version="19.2.4",sr}var Lm;function ww(){if(Lm)return yh.exports;Lm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),yh.exports=_w(),yh.exports}var Sw=ww();function Cb({value:i,width:t="fit",height:n="fit",bgClass:a="bg-card-bg",borderClass:l="border-2 border-card-border",className:o,open:u=!0}){const[h,f]=Q.useState(u),[g,m]=Q.useState(!1);return Q.useEffect(()=>{if(u){f(!0),m(!1);return}h&&m(!0)},[u,h]),h?k.jsx("div",{className:`fixed inset-0 z-30 bg-black/20 backdrop-blur-sm flex items-center justify-center ${g?"animate-fade-out":"animate-fade-in"}`,onAnimationEnd:()=>{g&&(m(!1),f(!1))},children:k.jsx("div",{style:{width:`${typeof t=="string"?t:`${t}%`}`,height:`${typeof n=="string"?n:`${n}%`}`},className:`relative z-10 w-fit h-fit p-10 rounded-lg ${a} ${l} ${o??""} ${g?"animate-blur-down":""}`,children:i})}):null}function ke({text:i,onClickFunction:t,pressed:n=!1,index:a,tooltip:l,disabled:o=!1}){const u=()=>{o||t?.(a)},h=n?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light";return k.jsxs("div",{className:"relative group/button",children:[k.jsx("button",{disabled:o,"aria-pressed":n,onClick:u,className:`w-fit h-9 px-3 bg-card-bg rounded-lg border-2 font-display font-semibold transition-all duration-200 whitespace-nowrap 
        ${o?"opacity-50 cursor-not-allowed border-card-border text-text-secondary bg-game-bg-dark":`active:scale-95 ${h}`}`,children:i}),l&&!o&&k.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/button:opacity-100 group-hover/button:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[k.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:l}),k.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:k.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]})]})}function Bm({children:i,defaultSelect:t}){const[n,a]=Q.useState(t),l=o=>{o!==void 0&&a(o)};return k.jsx("div",{className:"flex flex-row items-center gap-2",children:Q.Children.map(i,(o,u)=>Q.isValidElement(o)?Q.cloneElement(o,{index:u,pressed:u===n,onClickFunction:h=>{o.props.onClickFunction?.(h),l(h)}}):o)})}function qh({text:i,onClickFunction:t,optionsValue:n,tooltip:a}){const[l,o]=Q.useState(!1),u=()=>{o(!l),t?.()};return k.jsxs("div",{className:"relative flex flex-col items-center group/options",children:[k.jsx("div",{className:`absolute bottom-full mb-3 w-fit h-fit p-2 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row gap-2 backdrop-blur-sm transition-all duration-200 ${l?"opacity-100 scale-100 pointer-events-auto":"opacity-0 scale-95 pointer-events-none"}`,children:n?.map((h,f)=>k.jsx("div",{children:h},f))}),a&&!l&&k.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-3 px-4 py-2 bg-card-bg border-2 border-accent-primary rounded-lg shadow-glow-purple opacity-0 invisible group-hover/options:opacity-100 group-hover/options:visible transition-all duration-300 delay-500 whitespace-nowrap pointer-events-none z-50",children:[k.jsx("span",{className:"text-accent-primary text-sm font-display font-bold tracking-wide",children:a}),k.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-0.5",children:k.jsx("div",{className:"border-8 border-transparent border-t-accent-primary"})})]}),k.jsx("button",{onClick:u,className:`w-9 h-9 bg-card-bg rounded-lg border-2 transition-all duration-200 font-display font-semibold active:scale-95 ${l?"border-accent-primary text-accent-primary shadow-glow-purple":"border-card-border text-text-primary hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple"} ${l?"bg-game-bg-light":"hover:bg-game-bg-light"}`,children:i})]})}function Eo({label:i,placeholder:t,value:n,onChange:a,onSubmit:l,defaultValue:o,type:u="text",disabled:h=!1,className:f}){const g=b=>{a?.(b.target.value)},m=b=>{b.key==="Enter"&&(b.preventDefault(),b.currentTarget.blur(),l?.())};return k.jsxs("label",{className:"flex flex-col gap-1 w-full",children:[i&&k.jsx("span",{className:"text-text-secondary text-xs font-display font-semibold uppercase tracking-wide",children:i}),k.jsx("input",{type:u,value:n,defaultValue:o,onChange:g,onKeyDown:m,placeholder:t,disabled:h,className:`bg-card-bg border-2 border-card-border rounded-lg h-10 px-4 transition-all duration-200 hover:border-accent-warning focus:border-accent-primary focus:shadow-glow-purple text-text-primary font-display font-semibold placeholder:text-text-secondary placeholder:opacity-50 outline-none disabled:opacity-50 disabled:cursor-not-allowed ${f??""}`})]})}function Ur(i){return i+.5|0}const bi=(i,t,n)=>Math.max(Math.min(i,n),t);function hr(i){return bi(Ur(i*2.55),0,255)}function _i(i){return bi(Ur(i*255),0,255)}function $n(i){return bi(Ur(i/2.55)/100,0,1)}function Hm(i){return bi(Ur(i*100),0,100)}const Ze={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ph=[..."0123456789ABCDEF"],xw=i=>Ph[i&15],Tw=i=>Ph[(i&240)>>4]+Ph[i&15],io=i=>(i&240)>>4===(i&15),Ew=i=>io(i.r)&&io(i.g)&&io(i.b)&&io(i.a);function Ow(i){var t=i.length,n;return i[0]==="#"&&(t===4||t===5?n={r:255&Ze[i[1]]*17,g:255&Ze[i[2]]*17,b:255&Ze[i[3]]*17,a:t===5?Ze[i[4]]*17:255}:(t===7||t===9)&&(n={r:Ze[i[1]]<<4|Ze[i[2]],g:Ze[i[3]]<<4|Ze[i[4]],b:Ze[i[5]]<<4|Ze[i[6]],a:t===9?Ze[i[7]]<<4|Ze[i[8]]:255})),n}const Aw=(i,t)=>i<255?t(i):"";function Cw(i){var t=Ew(i)?xw:Tw;return i?"#"+t(i.r)+t(i.g)+t(i.b)+Aw(i.a,t):void 0}const kw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function kb(i,t,n){const a=t*Math.min(n,1-n),l=(o,u=(o+i/30)%12)=>n-a*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function Rw(i,t,n){const a=(l,o=(l+i/60)%6)=>n-n*t*Math.max(Math.min(o,4-o,1),0);return[a(5),a(3),a(1)]}function Mw(i,t,n){const a=kb(i,1,.5);let l;for(t+n>1&&(l=1/(t+n),t*=l,n*=l),l=0;l<3;l++)a[l]*=1-t-n,a[l]+=t;return a}function Dw(i,t,n,a,l){return i===l?(t-n)/a+(t<n?6:0):t===l?(n-i)/a+2:(i-t)/a+4}function hf(i){const n=i.r/255,a=i.g/255,l=i.b/255,o=Math.max(n,a,l),u=Math.min(n,a,l),h=(o+u)/2;let f,g,m;return o!==u&&(m=o-u,g=h>.5?m/(2-o-u):m/(o+u),f=Dw(n,a,l,m,o),f=f*60+.5),[f|0,g||0,h]}function ff(i,t,n,a){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,n,a)).map(_i)}function df(i,t,n){return ff(kb,i,t,n)}function jw(i,t,n){return ff(Mw,i,t,n)}function zw(i,t,n){return ff(Rw,i,t,n)}function Rb(i){return(i%360+360)%360}function Nw(i){const t=kw.exec(i);let n=255,a;if(!t)return;t[5]!==a&&(n=t[6]?hr(+t[5]):_i(+t[5]));const l=Rb(+t[2]),o=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?a=jw(l,o,u):t[1]==="hsv"?a=zw(l,o,u):a=df(l,o,u),{r:a[0],g:a[1],b:a[2],a:n}}function Uw(i,t){var n=hf(i);n[0]=Rb(n[0]+t),n=df(n),i.r=n[0],i.g=n[1],i.b=n[2]}function Lw(i){if(!i)return;const t=hf(i),n=t[0],a=Hm(t[1]),l=Hm(t[2]);return i.a<255?`hsla(${n}, ${a}%, ${l}%, ${$n(i.a)})`:`hsl(${n}, ${a}%, ${l}%)`}const qm={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pm={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bw(){const i={},t=Object.keys(Pm),n=Object.keys(qm);let a,l,o,u,h;for(a=0;a<t.length;a++){for(u=h=t[a],l=0;l<n.length;l++)o=n[l],h=h.replace(o,qm[o]);o=parseInt(Pm[u],16),i[h]=[o>>16&255,o>>8&255,o&255]}return i}let so;function Hw(i){so||(so=Bw(),so.transparent=[0,0,0,0]);const t=so[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const qw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Pw(i){const t=qw.exec(i);let n=255,a,l,o;if(t){if(t[7]!==a){const u=+t[7];n=t[8]?hr(u):bi(u*255,0,255)}return a=+t[1],l=+t[3],o=+t[5],a=255&(t[2]?hr(a):bi(a,0,255)),l=255&(t[4]?hr(l):bi(l,0,255)),o=255&(t[6]?hr(o):bi(o,0,255)),{r:a,g:l,b:o,a:n}}}function $w(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${$n(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const wh=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,Vs=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function Vw(i,t,n){const a=Vs($n(i.r)),l=Vs($n(i.g)),o=Vs($n(i.b));return{r:_i(wh(a+n*(Vs($n(t.r))-a))),g:_i(wh(l+n*(Vs($n(t.g))-l))),b:_i(wh(o+n*(Vs($n(t.b))-o))),a:i.a+n*(t.a-i.a)}}function ao(i,t,n){if(i){let a=hf(i);a[t]=Math.max(0,Math.min(a[t]+a[t]*n,t===0?360:1)),a=df(a),i.r=a[0],i.g=a[1],i.b=a[2]}}function Mb(i,t){return i&&Object.assign(t||{},i)}function $m(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=_i(i[3]))):(t=Mb(i,{r:0,g:0,b:0,a:1}),t.a=_i(t.a)),t}function Iw(i){return i.charAt(0)==="r"?Pw(i):Nw(i)}class xr{constructor(t){if(t instanceof xr)return t;const n=typeof t;let a;n==="object"?a=$m(t):n==="string"&&(a=Ow(t)||Hw(t)||Iw(t)),this._rgb=a,this._valid=!!a}get valid(){return this._valid}get rgb(){var t=Mb(this._rgb);return t&&(t.a=$n(t.a)),t}set rgb(t){this._rgb=$m(t)}rgbString(){return this._valid?$w(this._rgb):void 0}hexString(){return this._valid?Cw(this._rgb):void 0}hslString(){return this._valid?Lw(this._rgb):void 0}mix(t,n){if(t){const a=this.rgb,l=t.rgb;let o;const u=n===o?.5:n,h=2*u-1,f=a.a-l.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,a.r=255&g*a.r+o*l.r+.5,a.g=255&g*a.g+o*l.g+.5,a.b=255&g*a.b+o*l.b+.5,a.a=u*a.a+(1-u)*l.a,this.rgb=a}return this}interpolate(t,n){return t&&(this._rgb=Vw(this._rgb,t._rgb,n)),this}clone(){return new xr(this.rgb)}alpha(t){return this._rgb.a=_i(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Ur(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ao(this._rgb,2,t),this}darken(t){return ao(this._rgb,2,-t),this}saturate(t){return ao(this._rgb,1,t),this}desaturate(t){return ao(this._rgb,1,-t),this}rotate(t){return Uw(this._rgb,t),this}}function Bn(){}const Gw=(()=>{let i=0;return()=>i++})();function Bt(i){return i==null}function ie(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Tt(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function be(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function mn(i,t){return be(i)?i:t}function xt(i,t){return typeof i>"u"?t:i}const Yw=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Pt(i,t,n){if(i&&typeof i.call=="function")return i.apply(n,t)}function Dt(i,t,n,a){let l,o,u;if(ie(i))for(o=i.length,l=0;l<o;l++)t.call(n,i[l],l);else if(Tt(i))for(u=Object.keys(i),o=u.length,l=0;l<o;l++)t.call(n,i[u[l]],u[l])}function Co(i,t){let n,a,l,o;if(!i||!t||i.length!==t.length)return!1;for(n=0,a=i.length;n<a;++n)if(l=i[n],o=t[n],l.datasetIndex!==o.datasetIndex||l.index!==o.index)return!1;return!0}function ko(i){if(ie(i))return i.map(ko);if(Tt(i)){const t=Object.create(null),n=Object.keys(i),a=n.length;let l=0;for(;l<a;++l)t[n[l]]=ko(i[n[l]]);return t}return i}function Db(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Kw(i,t,n,a){if(!Db(i))return;const l=t[i],o=n[i];Tt(l)&&Tt(o)?Tr(l,o,a):t[i]=ko(o)}function Tr(i,t,n){const a=ie(t)?t:[t],l=a.length;if(!Tt(i))return i;n=n||{};const o=n.merger||Kw;let u;for(let h=0;h<l;++h){if(u=a[h],!Tt(u))continue;const f=Object.keys(u);for(let g=0,m=f.length;g<m;++g)o(f[g],i,u,n)}return i}function mr(i,t){return Tr(i,t,{merger:Fw})}function Fw(i,t,n){if(!Db(i))return;const a=t[i],l=n[i];Tt(a)&&Tt(l)?mr(a,l):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=ko(l))}const Vm={"":i=>i,x:i=>i.x,y:i=>i.y};function Xw(i){const t=i.split("."),n=[];let a="";for(const l of t)a+=l,a.endsWith("\\")?a=a.slice(0,-1)+".":(n.push(a),a="");return n}function Ww(i){const t=Xw(i);return n=>{for(const a of t){if(a==="")break;n=n&&n[a]}return n}}function Ro(i,t){return(Vm[t]||(Vm[t]=Ww(t)))(i)}function gf(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Mo=i=>typeof i<"u",wi=i=>typeof i=="function",Im=(i,t)=>{if(i.size!==t.size)return!1;for(const n of i)if(!t.has(n))return!1;return!0};function Qw(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const re=Math.PI,hn=2*re,Jw=hn+re,Do=Number.POSITIVE_INFINITY,Zw=re/180,un=re/2,Pi=re/4,Gm=re*2/3,jb=Math.log10,aa=Math.sign;function yr(i,t,n){return Math.abs(i-t)<n}function Ym(i){const t=Math.round(i);i=yr(i,t,i/1e3)?t:i;const n=Math.pow(10,Math.floor(jb(i))),a=i/n;return(a<=1?1:a<=2?2:a<=5?5:10)*n}function tS(i){const t=[],n=Math.sqrt(i);let a;for(a=1;a<n;a++)i%a===0&&(t.push(a),t.push(i/a));return n===(n|0)&&t.push(n),t.sort((l,o)=>l-o).pop(),t}function eS(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function Er(i){return!eS(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function nS(i,t){const n=Math.round(i);return n-t<=i&&n+t>=i}function iS(i,t,n){let a,l,o;for(a=0,l=i.length;a<l;a++)o=i[a][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Qi(i){return i*(re/180)}function sS(i){return i*(180/re)}function Km(i){if(!be(i))return;let t=1,n=0;for(;Math.round(i*t)/t!==i;)t*=10,n++;return n}function aS(i,t){const n=t.x-i.x,a=t.y-i.y,l=Math.sqrt(n*n+a*a);let o=Math.atan2(a,n);return o<-.5*re&&(o+=hn),{angle:o,distance:l}}function $h(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function rS(i,t){return(i-t+Jw)%hn-re}function vn(i){return(i%hn+hn)%hn}function zb(i,t,n,a){const l=vn(i),o=vn(t),u=vn(n),h=vn(o-l),f=vn(u-l),g=vn(l-o),m=vn(l-u);return l===o||l===u||a&&o===u||h>f&&g<m}function tn(i,t,n){return Math.max(t,Math.min(n,i))}function lS(i){return tn(i,-32768,32767)}function ta(i,t,n,a=1e-6){return i>=Math.min(t,n)-a&&i<=Math.max(t,n)+a}function pf(i,t,n){n=n||(u=>i[u]<t);let a=i.length-1,l=0,o;for(;a-l>1;)o=l+a>>1,n(o)?l=o:a=o;return{lo:l,hi:a}}const Ji=(i,t,n,a)=>pf(i,n,a?l=>{const o=i[l][t];return o<n||o===n&&i[l+1][t]===n}:l=>i[l][t]<n),oS=(i,t,n)=>pf(i,n,a=>i[a][t]>=n);function cS(i,t,n){let a=0,l=i.length;for(;a<l&&i[a]<t;)a++;for(;l>a&&i[l-1]>n;)l--;return a>0||l<i.length?i.slice(a,l):i}const Nb=["push","pop","shift","splice","unshift"];function uS(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Nb.forEach(n=>{const a="_onData"+gf(n),l=i[n];Object.defineProperty(i,n,{configurable:!0,enumerable:!1,value(...o){const u=l.apply(this,o);return i._chartjs.listeners.forEach(h=>{typeof h[a]=="function"&&h[a](...o)}),u}})})}function Fm(i,t){const n=i._chartjs;if(!n)return;const a=n.listeners,l=a.indexOf(t);l!==-1&&a.splice(l,1),!(a.length>0)&&(Nb.forEach(o=>{delete i[o]}),delete i._chartjs)}function hS(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const Ub=(function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame})();function Lb(i,t){let n=[],a=!1;return function(...l){n=l,a||(a=!0,Ub.call(window,()=>{a=!1,i.apply(t,n)}))}}function fS(i,t){let n;return function(...a){return t?(clearTimeout(n),n=setTimeout(i,t,a)):i.apply(this,a),t}}const mf=i=>i==="start"?"left":i==="end"?"right":"center",pe=(i,t,n)=>i==="start"?t:i==="end"?n:(t+n)/2,dS=(i,t,n,a)=>i===(a?"left":"right")?n:i==="center"?(t+n)/2:t;function gS(i,t,n){const a=t.length;let l=0,o=a;if(i._sorted){const{iScale:u,vScale:h,_parsed:f}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=u.axis,{min:b,max:v,minDefined:_,maxDefined:S}=u.getUserBounds();if(_){if(l=Math.min(Ji(f,m,b).lo,n?a:Ji(t,m,u.getPixelForValue(b)).lo),g){const x=f.slice(0,l+1).reverse().findIndex(T=>!Bt(T[h.axis]));l-=Math.max(0,x)}l=tn(l,0,a-1)}if(S){let x=Math.max(Ji(f,u.axis,v,!0).hi+1,n?0:Ji(t,m,u.getPixelForValue(v),!0).hi+1);if(g){const T=f.slice(x-1).findIndex(C=>!Bt(C[h.axis]));x+=Math.max(0,T)}o=tn(x,l,a)-l}else o=a-l}return{start:l,count:o}}function pS(i){const{xScale:t,yScale:n,_scaleRanges:a}=i,l={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!a)return i._scaleRanges=l,!0;const o=a.xmin!==t.min||a.xmax!==t.max||a.ymin!==n.min||a.ymax!==n.max;return Object.assign(a,l),o}const ro=i=>i===0||i===1,Xm=(i,t,n)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*hn/n)),Wm=(i,t,n)=>Math.pow(2,-10*i)*Math.sin((i-t)*hn/n)+1,br={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*un)+1,easeOutSine:i=>Math.sin(i*un),easeInOutSine:i=>-.5*(Math.cos(re*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>ro(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>ro(i)?i:Xm(i,.075,.3),easeOutElastic:i=>ro(i)?i:Wm(i,.075,.3),easeInOutElastic(i){return ro(i)?i:i<.5?.5*Xm(i*2,.1125,.45):.5+.5*Wm(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-br.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?br.easeInBounce(i*2)*.5:br.easeOutBounce(i*2-1)*.5+.5};function yf(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qm(i){return yf(i)?i:new xr(i)}function Sh(i){return yf(i)?i:new xr(i).saturate(.5).darken(.1).hexString()}const mS=["x","y","borderWidth","radius","tension"],yS=["color","borderColor","backgroundColor"];function bS(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:yS},numbers:{type:"number",properties:mS}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function vS(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Jm=new Map;function _S(i,t){t=t||{};const n=i+JSON.stringify(t);let a=Jm.get(n);return a||(a=new Intl.NumberFormat(i,t),Jm.set(n,a)),a}function Bb(i,t,n){return _S(t,n).format(i)}const wS={values(i){return ie(i)?i:""+i},numeric(i,t,n){if(i===0)return"0";const a=this.chart.options.locale;let l,o=i;if(n.length>1){const g=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(g<1e-4||g>1e15)&&(l="scientific"),o=SS(i,n)}const u=jb(Math.abs(o)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),f={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Bb(i,a,f)}};function SS(i,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&i!==Math.floor(i)&&(n=i-Math.floor(i)),n}var Hb={formatters:wS};function xS(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Hb.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ns=Object.create(null),Vh=Object.create(null);function vr(i,t){if(!t)return i;const n=t.split(".");for(let a=0,l=n.length;a<l;++a){const o=n[a];i=i[o]||(i[o]=Object.create(null))}return i}function xh(i,t,n){return typeof t=="string"?Tr(vr(i,t),n):Tr(vr(i,""),t)}class TS{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=a=>a.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(a,l)=>Sh(l.backgroundColor),this.hoverBorderColor=(a,l)=>Sh(l.borderColor),this.hoverColor=(a,l)=>Sh(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return xh(this,t,n)}get(t){return vr(this,t)}describe(t,n){return xh(Vh,t,n)}override(t,n){return xh(ns,t,n)}route(t,n,a,l){const o=vr(this,t),u=vr(this,a),h="_"+n;Object.defineProperties(o,{[h]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[h],g=u[l];return Tt(f)?Object.assign({},g,f):xt(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(n=>n(this))}}var Xt=new TS({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bS,vS,xS]);function ES(i){return!i||Bt(i.size)||Bt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function Zm(i,t,n,a,l){let o=t[l];return o||(o=t[l]=i.measureText(l).width,n.push(l)),o>a&&(a=o),a}function $i(i,t,n){const a=i.currentDevicePixelRatio,l=n!==0?Math.max(n/2,.5):0;return Math.round((t-l)*a)/a+l}function ty(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function Ih(i,t,n,a){qb(i,t,n,a,null)}function qb(i,t,n,a,l){let o,u,h,f,g,m,b,v;const _=t.pointStyle,S=t.rotation,x=t.radius;let T=(S||0)*Zw;if(_&&typeof _=="object"&&(o=_.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){i.save(),i.translate(n,a),i.rotate(T),i.drawImage(_,-_.width/2,-_.height/2,_.width,_.height),i.restore();return}if(!(isNaN(x)||x<=0)){switch(i.beginPath(),_){default:l?i.ellipse(n,a,l/2,x,0,0,hn):i.arc(n,a,x,0,hn),i.closePath();break;case"triangle":m=l?l/2:x,i.moveTo(n+Math.sin(T)*m,a-Math.cos(T)*x),T+=Gm,i.lineTo(n+Math.sin(T)*m,a-Math.cos(T)*x),T+=Gm,i.lineTo(n+Math.sin(T)*m,a-Math.cos(T)*x),i.closePath();break;case"rectRounded":g=x*.516,f=x-g,u=Math.cos(T+Pi)*f,b=Math.cos(T+Pi)*(l?l/2-g:f),h=Math.sin(T+Pi)*f,v=Math.sin(T+Pi)*(l?l/2-g:f),i.arc(n-b,a-h,g,T-re,T-un),i.arc(n+v,a-u,g,T-un,T),i.arc(n+b,a+h,g,T,T+un),i.arc(n-v,a+u,g,T+un,T+re),i.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*x,m=l?l/2:f,i.rect(n-m,a-f,2*m,2*f);break}T+=Pi;case"rectRot":b=Math.cos(T)*(l?l/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(l?l/2:x),i.moveTo(n-b,a-h),i.lineTo(n+v,a-u),i.lineTo(n+b,a+h),i.lineTo(n-v,a+u),i.closePath();break;case"crossRot":T+=Pi;case"cross":b=Math.cos(T)*(l?l/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(l?l/2:x),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"star":b=Math.cos(T)*(l?l/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(l?l/2:x),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u),T+=Pi,b=Math.cos(T)*(l?l/2:x),u=Math.cos(T)*x,h=Math.sin(T)*x,v=Math.sin(T)*(l?l/2:x),i.moveTo(n-b,a-h),i.lineTo(n+b,a+h),i.moveTo(n+v,a-u),i.lineTo(n-v,a+u);break;case"line":u=l?l/2:Math.cos(T)*x,h=Math.sin(T)*x,i.moveTo(n-u,a-h),i.lineTo(n+u,a+h);break;case"dash":i.moveTo(n,a),i.lineTo(n+Math.cos(T)*(l?l/2:x),a+Math.sin(T)*x);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function Or(i,t,n){return n=n||.5,!t||i&&i.x>t.left-n&&i.x<t.right+n&&i.y>t.top-n&&i.y<t.bottom+n}function Ho(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function qo(i){i.restore()}function OS(i,t,n,a,l){if(!t)return i.lineTo(n.x,n.y);if(l==="middle"){const o=(t.x+n.x)/2;i.lineTo(o,t.y),i.lineTo(o,n.y)}else l==="after"!=!!a?i.lineTo(t.x,n.y):i.lineTo(n.x,t.y);i.lineTo(n.x,n.y)}function AS(i,t,n,a){if(!t)return i.lineTo(n.x,n.y);i.bezierCurveTo(a?t.cp1x:t.cp2x,a?t.cp1y:t.cp2y,a?n.cp2x:n.cp1x,a?n.cp2y:n.cp1y,n.x,n.y)}function CS(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),Bt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function kS(i,t,n,a,l){if(l.strikethrough||l.underline){const o=i.measureText(a),u=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,g=n+o.actualBoundingBoxDescent,m=l.strikethrough?(f+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=l.decorationWidth||2,i.moveTo(u,m),i.lineTo(h,m),i.stroke()}}function RS(i,t){const n=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=n}function Ar(i,t,n,a,l,o={}){const u=ie(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(i.save(),i.font=l.string,CS(i,o),f=0;f<u.length;++f)g=u[f],o.backdrop&&RS(i,o.backdrop),h&&(o.strokeColor&&(i.strokeStyle=o.strokeColor),Bt(o.strokeWidth)||(i.lineWidth=o.strokeWidth),i.strokeText(g,n,a,o.maxWidth)),i.fillText(g,n,a,o.maxWidth),kS(i,n,a,g,o),a+=Number(l.lineHeight);i.restore()}function Gh(i,t){const{x:n,y:a,w:l,h:o,radius:u}=t;i.arc(n+u.topLeft,a+u.topLeft,u.topLeft,1.5*re,re,!0),i.lineTo(n,a+o-u.bottomLeft),i.arc(n+u.bottomLeft,a+o-u.bottomLeft,u.bottomLeft,re,un,!0),i.lineTo(n+l-u.bottomRight,a+o),i.arc(n+l-u.bottomRight,a+o-u.bottomRight,u.bottomRight,un,0,!0),i.lineTo(n+l,a+u.topRight),i.arc(n+l-u.topRight,a+u.topRight,u.topRight,0,-un,!0),i.lineTo(n+u.topLeft,a)}const MS=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,DS=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function jS(i,t){const n=(""+i).match(MS);if(!n||n[1]==="normal")return t*1.2;switch(i=+n[2],n[3]){case"px":return i;case"%":i/=100;break}return t*i}const zS=i=>+i||0;function Pb(i,t){const n={},a=Tt(t),l=a?Object.keys(t):t,o=Tt(i)?a?u=>xt(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of l)n[u]=zS(o(u));return n}function NS(i){return Pb(i,{top:"y",right:"x",bottom:"y",left:"x"})}function _r(i){return Pb(i,["topLeft","topRight","bottomLeft","bottomRight"])}function nn(i){const t=NS(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function me(i,t){i=i||{},t=t||Xt.font;let n=xt(i.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let a=xt(i.style,t.style);a&&!(""+a).match(DS)&&(console.warn('Invalid font style specified: "'+a+'"'),a=void 0);const l={family:xt(i.family,t.family),lineHeight:jS(xt(i.lineHeight,t.lineHeight),n),size:n,style:a,weight:xt(i.weight,t.weight),string:""};return l.string=ES(l),l}function lo(i,t,n,a){let l,o,u;for(l=0,o=i.length;l<o;++l)if(u=i[l],u!==void 0&&u!==void 0)return u}function US(i,t,n){const{min:a,max:l}=i,o=Yw(t,(l-a)/2),u=(h,f)=>n&&h===0?0:h+f;return{min:u(a,-Math.abs(o)),max:u(l,o)}}function is(i,t){return Object.assign(Object.create(i),t)}function bf(i,t=[""],n,a,l=()=>i[0]){const o=n||i;typeof a>"u"&&(a=Gb("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:o,_fallback:a,_getTarget:l,override:h=>bf([h,...i],t,o,a)};return new Proxy(u,{deleteProperty(h,f){return delete h[f],delete h._keys,delete i[0][f],!0},get(h,f){return Vb(h,f,()=>IS(f,t,i,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,f){return ny(h).includes(f)},ownKeys(h){return ny(h)},set(h,f,g){const m=h._storage||(h._storage=l());return h[f]=m[f]=g,delete h._keys,!0}})}function ra(i,t,n,a){const l={_cacheable:!1,_proxy:i,_context:t,_subProxy:n,_stack:new Set,_descriptors:$b(i,a),setContext:o=>ra(i,o,n,a),override:o=>ra(i.override(o),t,n,a)};return new Proxy(l,{deleteProperty(o,u){return delete o[u],delete i[u],!0},get(o,u,h){return Vb(o,u,()=>BS(o,u,h))},getOwnPropertyDescriptor(o,u){return o._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(o,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(o,u,h){return i[u]=h,delete o[u],!0}})}function $b(i,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:a=t.indexable,_allKeys:l=t.allKeys}=i;return{allKeys:l,scriptable:n,indexable:a,isScriptable:wi(n)?n:()=>n,isIndexable:wi(a)?a:()=>a}}const LS=(i,t)=>i?i+gf(t):t,vf=(i,t)=>Tt(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Vb(i,t,n){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const a=n();return i[t]=a,a}function BS(i,t,n){const{_proxy:a,_context:l,_subProxy:o,_descriptors:u}=i;let h=a[t];return wi(h)&&u.isScriptable(t)&&(h=HS(t,h,i,n)),ie(h)&&h.length&&(h=qS(t,h,i,u.isIndexable)),vf(t,h)&&(h=ra(h,l,o&&o[t],u)),h}function HS(i,t,n,a){const{_proxy:l,_context:o,_subProxy:u,_stack:h}=n;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let f=t(o,u||a);return h.delete(i),vf(i,f)&&(f=_f(l._scopes,l,i,f)),f}function qS(i,t,n,a){const{_proxy:l,_context:o,_subProxy:u,_descriptors:h}=n;if(typeof o.index<"u"&&a(i))return t[o.index%t.length];if(Tt(t[0])){const f=t,g=l._scopes.filter(m=>m!==f);t=[];for(const m of f){const b=_f(g,l,i,m);t.push(ra(b,o,u&&u[i],h))}}return t}function Ib(i,t,n){return wi(i)?i(t,n):i}const PS=(i,t)=>i===!0?t:typeof i=="string"?Ro(t,i):void 0;function $S(i,t,n,a,l){for(const o of t){const u=PS(n,o);if(u){i.add(u);const h=Ib(u._fallback,n,l);if(typeof h<"u"&&h!==n&&h!==a)return h}else if(u===!1&&typeof a<"u"&&n!==a)return null}return!1}function _f(i,t,n,a){const l=t._rootScopes,o=Ib(t._fallback,n,a),u=[...i,...l],h=new Set;h.add(a);let f=ey(h,u,n,o||n,a);return f===null||typeof o<"u"&&o!==n&&(f=ey(h,u,o,f,a),f===null)?!1:bf(Array.from(h),[""],l,o,()=>VS(t,n,a))}function ey(i,t,n,a,l){for(;n;)n=$S(i,t,n,a,l);return n}function VS(i,t,n){const a=i._getTarget();t in a||(a[t]={});const l=a[t];return ie(l)&&Tt(n)?n:l||{}}function IS(i,t,n,a){let l;for(const o of t)if(l=Gb(LS(o,i),n),typeof l<"u")return vf(i,l)?_f(n,a,i,l):l}function Gb(i,t){for(const n of t){if(!n)continue;const a=n[i];if(typeof a<"u")return a}}function ny(i){let t=i._keys;return t||(t=i._keys=GS(i._scopes)),t}function GS(i){const t=new Set;for(const n of i)for(const a of Object.keys(n).filter(l=>!l.startsWith("_")))t.add(a);return Array.from(t)}const YS=Number.EPSILON||1e-14,la=(i,t)=>t<i.length&&!i[t].skip&&i[t],Yb=i=>i==="x"?"y":"x";function KS(i,t,n,a){const l=i.skip?t:i,o=t,u=n.skip?t:n,h=$h(o,l),f=$h(u,o);let g=h/(h+f),m=f/(h+f);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const b=a*g,v=a*m;return{previous:{x:o.x-b*(u.x-l.x),y:o.y-b*(u.y-l.y)},next:{x:o.x+v*(u.x-l.x),y:o.y+v*(u.y-l.y)}}}function FS(i,t,n){const a=i.length;let l,o,u,h,f,g=la(i,0);for(let m=0;m<a-1;++m)if(f=g,g=la(i,m+1),!(!f||!g)){if(yr(t[m],0,YS)){n[m]=n[m+1]=0;continue}l=n[m]/t[m],o=n[m+1]/t[m],h=Math.pow(l,2)+Math.pow(o,2),!(h<=9)&&(u=3/Math.sqrt(h),n[m]=l*u*t[m],n[m+1]=o*u*t[m])}}function XS(i,t,n="x"){const a=Yb(n),l=i.length;let o,u,h,f=la(i,0);for(let g=0;g<l;++g){if(u=h,h=f,f=la(i,g+1),!h)continue;const m=h[n],b=h[a];u&&(o=(m-u[n])/3,h[`cp1${n}`]=m-o,h[`cp1${a}`]=b-o*t[g]),f&&(o=(f[n]-m)/3,h[`cp2${n}`]=m+o,h[`cp2${a}`]=b+o*t[g])}}function WS(i,t="x"){const n=Yb(t),a=i.length,l=Array(a).fill(0),o=Array(a);let u,h,f,g=la(i,0);for(u=0;u<a;++u)if(h=f,f=g,g=la(i,u+1),!!f){if(g){const m=g[t]-f[t];l[u]=m!==0?(g[n]-f[n])/m:0}o[u]=h?g?aa(l[u-1])!==aa(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}FS(i,l,o),XS(i,o,t)}function oo(i,t,n){return Math.max(Math.min(i,n),t)}function QS(i,t){let n,a,l,o,u,h=Or(i[0],t);for(n=0,a=i.length;n<a;++n)u=o,o=h,h=n<a-1&&Or(i[n+1],t),o&&(l=i[n],u&&(l.cp1x=oo(l.cp1x,t.left,t.right),l.cp1y=oo(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=oo(l.cp2x,t.left,t.right),l.cp2y=oo(l.cp2y,t.top,t.bottom)))}function JS(i,t,n,a,l){let o,u,h,f;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")WS(i,l);else{let g=a?i[i.length-1]:i[0];for(o=0,u=i.length;o<u;++o)h=i[o],f=KS(g,h,i[Math.min(o+1,u-(a?0:1))%u],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&QS(i,n)}function wf(){return typeof window<"u"&&typeof document<"u"}function Sf(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function jo(i,t,n){let a;return typeof i=="string"?(a=parseInt(i,10),i.indexOf("%")!==-1&&(a=a/100*t.parentNode[n])):a=i,a}const Po=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function ZS(i,t){return Po(i).getPropertyValue(t)}const tx=["top","right","bottom","left"];function es(i,t,n){const a={};n=n?"-"+n:"";for(let l=0;l<4;l++){const o=tx[l];a[o]=parseFloat(i[t+"-"+o+n])||0}return a.width=a.left+a.right,a.height=a.top+a.bottom,a}const ex=(i,t,n)=>(i>0||t>0)&&(!n||!n.shadowRoot);function nx(i,t){const n=i.touches,a=n&&n.length?n[0]:i,{offsetX:l,offsetY:o}=a;let u=!1,h,f;if(ex(l,o,i.target))h=l,f=o;else{const g=t.getBoundingClientRect();h=a.clientX-g.left,f=a.clientY-g.top,u=!0}return{x:h,y:f,box:u}}function Yi(i,t){if("native"in i)return i;const{canvas:n,currentDevicePixelRatio:a}=t,l=Po(n),o=l.boxSizing==="border-box",u=es(l,"padding"),h=es(l,"border","width"),{x:f,y:g,box:m}=nx(i,n),b=u.left+(m&&h.left),v=u.top+(m&&h.top);let{width:_,height:S}=t;return o&&(_-=u.width+h.width,S-=u.height+h.height),{x:Math.round((f-b)/_*n.width/a),y:Math.round((g-v)/S*n.height/a)}}function ix(i,t,n){let a,l;if(t===void 0||n===void 0){const o=i&&Sf(i);if(!o)t=i.clientWidth,n=i.clientHeight;else{const u=o.getBoundingClientRect(),h=Po(o),f=es(h,"border","width"),g=es(h,"padding");t=u.width-g.width-f.width,n=u.height-g.height-f.height,a=jo(h.maxWidth,o,"clientWidth"),l=jo(h.maxHeight,o,"clientHeight")}}return{width:t,height:n,maxWidth:a||Do,maxHeight:l||Do}}const vi=i=>Math.round(i*10)/10;function sx(i,t,n,a){const l=Po(i),o=es(l,"margin"),u=jo(l.maxWidth,i,"clientWidth")||Do,h=jo(l.maxHeight,i,"clientHeight")||Do,f=ix(i,t,n);let{width:g,height:m}=f;if(l.boxSizing==="content-box"){const v=es(l,"border","width"),_=es(l,"padding");g-=_.width+v.width,m-=_.height+v.height}return g=Math.max(0,g-o.width),m=Math.max(0,a?g/a:m-o.height),g=vi(Math.min(g,u,f.maxWidth)),m=vi(Math.min(m,h,f.maxHeight)),g&&!m&&(m=vi(g/2)),(t!==void 0||n!==void 0)&&a&&f.height&&m>f.height&&(m=f.height,g=vi(Math.floor(m*a))),{width:g,height:m}}function iy(i,t,n){const a=t||1,l=vi(i.height*a),o=vi(i.width*a);i.height=vi(i.height),i.width=vi(i.width);const u=i.canvas;return u.style&&(n||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==a||u.height!==l||u.width!==o?(i.currentDevicePixelRatio=a,u.height=l,u.width=o,i.ctx.setTransform(a,0,0,a,0,0),!0):!1}const ax=(function(){let i=!1;try{const t={get passive(){return i=!0,!1}};wf()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i})();function sy(i,t){const n=ZS(i,t),a=n&&n.match(/^(\d+)(\.\d+)?px$/);return a?+a[1]:void 0}function Ki(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:i.y+n*(t.y-i.y)}}function rx(i,t,n,a){return{x:i.x+n*(t.x-i.x),y:a==="middle"?n<.5?i.y:t.y:a==="after"?n<1?i.y:t.y:n>0?t.y:i.y}}function lx(i,t,n,a){const l={x:i.cp2x,y:i.cp2y},o={x:t.cp1x,y:t.cp1y},u=Ki(i,l,n),h=Ki(l,o,n),f=Ki(o,t,n),g=Ki(u,h,n),m=Ki(h,f,n);return Ki(g,m,n)}const ox=function(i,t){return{x(n){return i+i+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,a){return n-a},leftForLtr(n,a){return n-a}}},cx=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function ia(i,t,n){return i?ox(t,n):cx()}function Kb(i,t){let n,a;(t==="ltr"||t==="rtl")&&(n=i.canvas.style,a=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),i.prevTextDirection=a)}function Fb(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function Xb(i){return i==="angle"?{between:zb,compare:rS,normalize:vn}:{between:ta,compare:(t,n)=>t-n,normalize:t=>t}}function ay({start:i,end:t,count:n,loop:a,style:l}){return{start:i%n,end:t%n,loop:a&&(t-i+1)%n===0,style:l}}function ux(i,t,n){const{property:a,start:l,end:o}=n,{between:u,normalize:h}=Xb(a),f=t.length;let{start:g,end:m,loop:b}=i,v,_;if(b){for(g+=f,m+=f,v=0,_=f;v<_&&u(h(t[g%f][a]),l,o);++v)g--,m--;g%=f,m%=f}return m<g&&(m+=f),{start:g,end:m,loop:b,style:i.style}}function Wb(i,t,n){if(!n)return[i];const{property:a,start:l,end:o}=n,u=t.length,{compare:h,between:f,normalize:g}=Xb(a),{start:m,end:b,loop:v,style:_}=ux(i,t,n),S=[];let x=!1,T=null,C,U,M;const B=()=>f(l,M,C)&&h(l,M)!==0,q=()=>h(o,C)===0||f(o,M,C),Y=()=>x||B(),V=()=>!x||q();for(let K=m,Z=m;K<=b;++K)U=t[K%u],!U.skip&&(C=g(U[a]),C!==M&&(x=f(C,l,o),T===null&&Y()&&(T=h(C,l)===0?K:Z),T!==null&&V()&&(S.push(ay({start:T,end:K,loop:v,count:u,style:_})),T=null),Z=K,M=C));return T!==null&&S.push(ay({start:T,end:b,loop:v,count:u,style:_})),S}function Qb(i,t){const n=[],a=i.segments;for(let l=0;l<a.length;l++){const o=Wb(a[l],i.points,t);o.length&&n.push(...o)}return n}function hx(i,t,n,a){let l=0,o=t-1;if(n&&!a)for(;l<t&&!i[l].skip;)l++;for(;l<t&&i[l].skip;)l++;for(l%=t,n&&(o+=l);o>l&&i[o%t].skip;)o--;return o%=t,{start:l,end:o}}function fx(i,t,n,a){const l=i.length,o=[];let u=t,h=i[t],f;for(f=t+1;f<=n;++f){const g=i[f%l];g.skip||g.stop?h.skip||(a=!1,o.push({start:t%l,end:(f-1)%l,loop:a}),t=u=g.stop?f:null):(u=f,h.skip&&(t=f)),h=g}return u!==null&&o.push({start:t%l,end:u%l,loop:a}),o}function dx(i,t){const n=i.points,a=i.options.spanGaps,l=n.length;if(!l)return[];const o=!!i._loop,{start:u,end:h}=hx(n,l,o,a);if(a===!0)return ry(i,[{start:u,end:h,loop:o}],n,t);const f=h<u?h+l:h,g=!!i._fullLoop&&u===0&&h===l-1;return ry(i,fx(n,u,f,g),n,t)}function ry(i,t,n,a){return!a||!a.setContext||!n?t:gx(i,t,n,a)}function gx(i,t,n,a){const l=i._chart.getContext(),o=ly(i.options),{_datasetIndex:u,options:{spanGaps:h}}=i,f=n.length,g=[];let m=o,b=t[0].start,v=b;function _(S,x,T,C){const U=h?-1:1;if(S!==x){for(S+=f;n[S%f].skip;)S-=U;for(;n[x%f].skip;)x+=U;S%f!==x%f&&(g.push({start:S%f,end:x%f,loop:T,style:C}),m=C,b=x%f)}}for(const S of t){b=h?b:S.start;let x=n[b%f],T;for(v=b+1;v<=S.end;v++){const C=n[v%f];T=ly(a.setContext(is(l,{type:"segment",p0:x,p1:C,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:u}))),px(T,m)&&_(b,v-1,S.loop,m),x=C,m=T}b<v-1&&_(b,v-1,S.loop,m)}return g}function ly(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function px(i,t){if(!t)return!1;const n=[],a=function(l,o){return yf(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(i,a)!==JSON.stringify(t,a)}function co(i,t,n){return i.options.clip?i[n]:t[n]}function mx(i,t){const{xScale:n,yScale:a}=i;return n&&a?{left:co(n,t,"left"),right:co(n,t,"right"),top:co(a,t,"top"),bottom:co(a,t,"bottom")}:t}function Jb(i,t){const n=t._clip;if(n.disabled)return!1;const a=mx(t,i.chartArea);return{left:n.left===!1?0:a.left-(n.left===!0?0:n.left),right:n.right===!1?i.width:a.right+(n.right===!0?0:n.right),top:n.top===!1?0:a.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?i.height:a.bottom+(n.bottom===!0?0:n.bottom)}}class yx{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,a,l){const o=n.listeners[l],u=n.duration;o.forEach(h=>h({chart:t,initial:n.initial,numSteps:u,currentStep:Math.min(a-n.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=Ub.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((a,l)=>{if(!a.running||!a.items.length)return;const o=a.items;let u=o.length-1,h=!1,f;for(;u>=0;--u)f=o[u],f._active?(f._total>a.duration&&(a.duration=f._total),f.tick(t),h=!0):(o[u]=o[o.length-1],o.pop());h&&(l.draw(),this._notify(l,a,t,"progress")),o.length||(a.running=!1,this._notify(l,a,t,"complete"),a.initial=!1),n+=o.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let a=n.get(t);return a||(a={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,a)),a}listen(t,n,a){this._getAnims(t).listeners[n].push(a)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((a,l)=>Math.max(a,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const a=n.items;let l=a.length-1;for(;l>=0;--l)a[l].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Hn=new yx;const oy="transparent",bx={boolean(i,t,n){return n>.5?t:i},color(i,t,n){const a=Qm(i||oy),l=a.valid&&Qm(t||oy);return l&&l.valid?l.mix(a,n).hexString():t},number(i,t,n){return i+(t-i)*n}};class vx{constructor(t,n,a,l){const o=n[a];l=lo([t.to,l,o,t.from]);const u=lo([t.from,o,l]);this._active=!0,this._fn=t.fn||bx[t.type||typeof u],this._easing=br[t.easing]||br.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=a,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,n,a){if(this._active){this._notify(!1);const l=this._target[this._prop],o=a-this._start,u=this._duration-o;this._start=a,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lo([t.to,n,l,t.from]),this._from=lo([t.from,l,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,a=this._duration,l=this._prop,o=this._from,u=this._loop,h=this._to;let f;if(this._active=o!==h&&(u||n<a),!this._active){this._target[l]=h,this._notify(!0);return}if(n<0){this._target[l]=o;return}f=n/a%2,f=u&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[l]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,a)=>{t.push({res:n,rej:a})})}_notify(t){const n=t?"res":"rej",a=this._promises||[];for(let l=0;l<a.length;l++)a[l][n]()}}class Zb{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!Tt(t))return;const n=Object.keys(Xt.animation),a=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const o=t[l];if(!Tt(o))return;const u={};for(const h of n)u[h]=o[h];(ie(o.properties)&&o.properties||[l]).forEach(h=>{(h===l||!a.has(h))&&a.set(h,u)})})}_animateOptions(t,n){const a=n.options,l=wx(t,a);if(!l)return[];const o=this._createAnimations(l,a);return a.$shared&&_x(t.options.$animations,a).then(()=>{t.options=a},()=>{}),o}_createAnimations(t,n){const a=this._properties,l=[],o=t.$animations||(t.$animations={}),u=Object.keys(n),h=Date.now();let f;for(f=u.length-1;f>=0;--f){const g=u[f];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(t,n));continue}const m=n[g];let b=o[g];const v=a.get(g);if(b)if(v&&b.active()){b.update(v,m,h);continue}else b.cancel();if(!v||!v.duration){t[g]=m;continue}o[g]=b=new vx(v,t,g,m),l.push(b)}return l}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const a=this._createAnimations(t,n);if(a.length)return Hn.add(this._chart,a),!0}}function _x(i,t){const n=[],a=Object.keys(t);for(let l=0;l<a.length;l++){const o=i[a[l]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function wx(i,t){if(!t)return;let n=i.options;if(!n){i.options=t;return}return n.$shared&&(i.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function cy(i,t){const n=i&&i.options||{},a=n.reverse,l=n.min===void 0?t:0,o=n.max===void 0?t:0;return{start:a?o:l,end:a?l:o}}function Sx(i,t,n){if(n===!1)return!1;const a=cy(i,n),l=cy(t,n);return{top:l.end,right:a.end,bottom:l.start,left:a.start}}function xx(i){let t,n,a,l;return Tt(i)?(t=i.top,n=i.right,a=i.bottom,l=i.left):t=n=a=l=i,{top:t,right:n,bottom:a,left:l,disabled:i===!1}}function tv(i,t){const n=[],a=i._getSortedDatasetMetas(t);let l,o;for(l=0,o=a.length;l<o;++l)n.push(a[l].index);return n}function uy(i,t,n,a={}){const l=i.keys,o=a.mode==="single";let u,h,f,g;if(t===null)return;let m=!1;for(u=0,h=l.length;u<h;++u){if(f=+l[u],f===n){if(m=!0,a.all)continue;break}g=i.values[f],be(g)&&(o||t===0||aa(t)===aa(g))&&(t+=g)}return!m&&!a.all?0:t}function Tx(i,t){const{iScale:n,vScale:a}=t,l=n.axis==="x"?"x":"y",o=a.axis==="x"?"x":"y",u=Object.keys(i),h=new Array(u.length);let f,g,m;for(f=0,g=u.length;f<g;++f)m=u[f],h[f]={[l]:m,[o]:i[m]};return h}function Th(i,t){const n=i&&i.options.stacked;return n||n===void 0&&t.stack!==void 0}function Ex(i,t,n){return`${i.id}.${t.id}.${n.stack||n.type}`}function Ox(i){const{min:t,max:n,minDefined:a,maxDefined:l}=i.getUserBounds();return{min:a?t:Number.NEGATIVE_INFINITY,max:l?n:Number.POSITIVE_INFINITY}}function Ax(i,t,n){const a=i[t]||(i[t]={});return a[n]||(a[n]={})}function hy(i,t,n,a){for(const l of t.getMatchingVisibleMetas(a).reverse()){const o=i[l.index];if(n&&o>0||!n&&o<0)return l.index}return null}function fy(i,t){const{chart:n,_cachedMeta:a}=i,l=n._stacks||(n._stacks={}),{iScale:o,vScale:u,index:h}=a,f=o.axis,g=u.axis,m=Ex(o,u,a),b=t.length;let v;for(let _=0;_<b;++_){const S=t[_],{[f]:x,[g]:T}=S,C=S._stacks||(S._stacks={});v=C[g]=Ax(l,m,x),v[h]=T,v._top=hy(v,u,!0,a.type),v._bottom=hy(v,u,!1,a.type);const U=v._visualValues||(v._visualValues={});U[h]=T}}function Eh(i,t){const n=i.scales;return Object.keys(n).filter(a=>n[a].axis===t).shift()}function Cx(i,t){return is(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function kx(i,t,n){return is(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function ar(i,t){const n=i.controller.index,a=i.vScale&&i.vScale.axis;if(a){t=t||i._parsed;for(const l of t){const o=l._stacks;if(!o||o[a]===void 0||o[a][n]===void 0)return;delete o[a][n],o[a]._visualValues!==void 0&&o[a]._visualValues[n]!==void 0&&delete o[a]._visualValues[n]}}}const Oh=i=>i==="reset"||i==="none",dy=(i,t)=>t?i:Object.assign({},i),Rx=(i,t,n)=>i&&!t.hidden&&t._stacked&&{keys:tv(n,!0),values:null};class ev{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Th(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ar(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,a=this.getDataset(),l=(b,v,_,S)=>b==="x"?v:b==="r"?S:_,o=n.xAxisID=xt(a.xAxisID,Eh(t,"x")),u=n.yAxisID=xt(a.yAxisID,Eh(t,"y")),h=n.rAxisID=xt(a.rAxisID,Eh(t,"r")),f=n.indexAxis,g=n.iAxisID=l(f,o,u,h),m=n.vAxisID=l(f,u,o,h);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(u),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(g),n.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Fm(this._data,this),t._stacked&&ar(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),a=this._data;if(Tt(n)){const l=this._cachedMeta;this._data=Tx(n,l)}else if(a!==n){if(a){Fm(a,this);const l=this._cachedMeta;ar(l),l._parsed=[]}n&&Object.isExtensible(n)&&uS(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,a=this.getDataset();let l=!1;this._dataCheck();const o=n._stacked;n._stacked=Th(n.vScale,n),n.stack!==a.stack&&(l=!0,ar(n),n.stack=a.stack),this._resyncElements(t),(l||o!==n._stacked)&&(fy(this,n._parsed),n._stacked=Th(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),a=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(a,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:a,_data:l}=this,{iScale:o,_stacked:u}=a,h=o.axis;let f=t===0&&n===l.length?!0:a._sorted,g=t>0&&a._parsed[t-1],m,b,v;if(this._parsing===!1)a._parsed=l,a._sorted=!0,v=l;else{ie(l[t])?v=this.parseArrayData(a,l,t,n):Tt(l[t])?v=this.parseObjectData(a,l,t,n):v=this.parsePrimitiveData(a,l,t,n);const _=()=>b[h]===null||g&&b[h]<g[h];for(m=0;m<n;++m)a._parsed[m+t]=b=v[m],f&&(_()&&(f=!1),g=b);a._sorted=f}u&&fy(this,v)}parsePrimitiveData(t,n,a,l){const{iScale:o,vScale:u}=t,h=o.axis,f=u.axis,g=o.getLabels(),m=o===u,b=new Array(l);let v,_,S;for(v=0,_=l;v<_;++v)S=v+a,b[v]={[h]:m||o.parse(g[S],S),[f]:u.parse(n[S],S)};return b}parseArrayData(t,n,a,l){const{xScale:o,yScale:u}=t,h=new Array(l);let f,g,m,b;for(f=0,g=l;f<g;++f)m=f+a,b=n[m],h[f]={x:o.parse(b[0],m),y:u.parse(b[1],m)};return h}parseObjectData(t,n,a,l){const{xScale:o,yScale:u}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(l);let m,b,v,_;for(m=0,b=l;m<b;++m)v=m+a,_=n[v],g[m]={x:o.parse(Ro(_,h),v),y:u.parse(Ro(_,f),v)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,a){const l=this.chart,o=this._cachedMeta,u=n[t.axis],h={keys:tv(l,!0),values:n._stacks[t.axis]._visualValues};return uy(h,u,o.index,{mode:a})}updateRangeFromParsed(t,n,a,l){const o=a[n.axis];let u=o===null?NaN:o;const h=l&&a._stacks[n.axis];l&&h&&(l.values=h,u=uy(l,o,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,n){const a=this._cachedMeta,l=a._parsed,o=a._sorted&&t===a.iScale,u=l.length,h=this._getOtherScale(t),f=Rx(n,a,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:b}=Ox(h);let v,_;function S(){_=l[v];const x=_[h.axis];return!be(_[t.axis])||m>x||b<x}for(v=0;v<u&&!(!S()&&(this.updateRangeFromParsed(g,t,_,f),o));++v);if(o){for(v=u-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(g,t,_,f);break}}return g}getAllParsedValues(t){const n=this._cachedMeta._parsed,a=[];let l,o,u;for(l=0,o=n.length;l<o;++l)u=n[l][t.axis],be(u)&&a.push(u);return a}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,a=n.iScale,l=n.vScale,o=this.getParsed(t);return{label:a?""+a.getLabelForValue(o[a.axis]):"",value:l?""+l.getLabelForValue(o[l.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=xx(xt(this.options.clip,Sx(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,a=this._cachedMeta,l=a.data||[],o=n.chartArea,u=[],h=this._drawStart||0,f=this._drawCount||l.length-h,g=this.options.drawActiveElementsOnTop;let m;for(a.dataset&&a.dataset.draw(t,o,h,f),m=h;m<h+f;++m){const b=l[m];b.hidden||(b.active&&g?u.push(b):b.draw(t,o))}for(m=0;m<u.length;++m)u[m].draw(t,o)}getStyle(t,n){const a=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(a):this.resolveDataElementOptions(t||0,a)}getContext(t,n,a){const l=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];o=u.$context||(u.$context=kx(this.getContext(),t,u)),o.parsed=this.getParsed(t),o.raw=l.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Cx(this.chart.getContext(),this.index)),o.dataset=l,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=a,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",a){const l=n==="active",o=this._cachedDataOpts,u=t+"-"+n,h=o[u],f=this.enableOptionSharing&&Mo(a);if(h)return dy(h,f);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),b=l?[`${t}Hover`,"hover",t,""]:[t,""],v=g.getOptionScopes(this.getDataset(),m),_=Object.keys(Xt.elements[t]),S=()=>this.getContext(a,l,n),x=g.resolveNamedOptions(v,_,S,b);return x.$shared&&(x.$shared=f,o[u]=Object.freeze(dy(x,f))),x}_resolveAnimations(t,n,a){const l=this.chart,o=this._cachedDataOpts,u=`animation-${n}`,h=o[u];if(h)return h;let f;if(l.options.animation!==!1){const m=this.chart.config,b=m.datasetAnimationScopeKeys(this._type,n),v=m.getOptionScopes(this.getDataset(),b);f=m.createResolver(v,this.getContext(t,a,n))}const g=new Zb(l,f&&f.animations);return f&&f._cacheable&&(o[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Oh(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const a=this.resolveDataElementOptions(t,n),l=this._sharedOptions,o=this.getSharedOptions(a),u=this.includeOptions(n,o)||o!==l;return this.updateSharedOptions(o,n,a),{sharedOptions:o,includeOptions:u}}updateElement(t,n,a,l){Oh(l)?Object.assign(t,a):this._resolveAnimations(n,l).update(t,a)}updateSharedOptions(t,n,a){t&&!Oh(n)&&this._resolveAnimations(void 0,n).update(t,a)}_setStyle(t,n,a,l){t.active=l;const o=this.getStyle(n,l);this._resolveAnimations(n,a,l).update(t,{options:!l&&this.getSharedOptions(o)||o})}removeHoverStyle(t,n,a){this._setStyle(t,a,"active",!1)}setHoverStyle(t,n,a){this._setStyle(t,a,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,a=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const l=a.length,o=n.length,u=Math.min(o,l);u&&this.parse(0,u),o>l?this._insertElements(l,o-l,t):o<l&&this._removeElements(o,l-o)}_insertElements(t,n,a=!0){const l=this._cachedMeta,o=l.data,u=t+n;let h;const f=g=>{for(g.length+=n,h=g.length-1;h>=u;h--)g[h]=g[h-n]};for(f(o),h=t;h<u;++h)o[h]=new this.dataElementType;this._parsing&&f(l._parsed),this.parse(t,n),a&&this.updateElements(o,t,n,"reset")}updateElements(t,n,a,l){}_removeElements(t,n){const a=this._cachedMeta;if(this._parsing){const l=a._parsed.splice(t,n);a._stacked&&ar(a,l)}a.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,a,l]=t;this[n](a,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const a=arguments.length-2;a&&this._sync(["_insertElements",t,a])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Mx extends ev{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:a,data:l=[],_dataset:o}=n,u=this.chart._animationsDisabled;let{start:h,count:f}=gS(n,l,u);this._drawStart=h,this._drawCount=f,pS(n)&&(h=0,f=l.length),a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!o._decimated,a.points=l;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(a,void 0,{animated:!u,options:g},t),this.updateElements(l,h,f,t)}updateElements(t,n,a,l){const o=l==="reset",{iScale:u,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(n,l),v=u.axis,_=h.axis,{spanGaps:S,segment:x}=this.options,T=Er(S)?S:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||l==="none",U=n+a,M=t.length;let B=n>0&&this.getParsed(n-1);for(let q=0;q<M;++q){const Y=t[q],V=C?Y:{};if(q<n||q>=U){V.skip=!0;continue}const K=this.getParsed(q),Z=Bt(K[_]),ft=V[v]=u.getPixelForValue(K[v],q),lt=V[_]=o||Z?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,K,f):K[_],q);V.skip=isNaN(ft)||isNaN(lt)||Z,V.stop=q>0&&Math.abs(K[v]-B[v])>T,x&&(V.parsed=K,V.raw=g.data[q]),b&&(V.options=m||this.resolveDataElementOptions(q,Y.active?"active":l)),C||this.updateElement(Y,q,V,l),B=K}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,a=n.options&&n.options.borderWidth||0,l=t.data||[];if(!l.length)return a;const o=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(a,o,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Vi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class xf{static override(t){Object.assign(xf.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Vi()}parse(){return Vi()}format(){return Vi()}add(){return Vi()}diff(){return Vi()}startOf(){return Vi()}endOf(){return Vi()}}var Dx={_date:xf};function jx(i,t,n,a){const{controller:l,data:o,_sorted:u}=i,h=l._cachedMeta.iScale,f=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&o.length){const g=h._reversePixels?oS:Ji;if(a){if(l._sharedOptions){const m=o[0],b=typeof m.getRange=="function"&&m.getRange(t);if(b){const v=g(o,t,n-b),_=g(o,t,n+b);return{lo:v.lo,hi:_.hi}}}}else{const m=g(o,t,n);if(f){const{vScale:b}=l._cachedMeta,{_parsed:v}=i,_=v.slice(0,m.lo+1).reverse().findIndex(x=>!Bt(x[b.axis]));m.lo-=Math.max(0,_);const S=v.slice(m.hi).findIndex(x=>!Bt(x[b.axis]));m.hi+=Math.max(0,S)}return m}}return{lo:0,hi:o.length-1}}function $o(i,t,n,a,l){const o=i.getSortedVisibleDatasetMetas(),u=n[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:m}=o[h],{lo:b,hi:v}=jx(o[h],t,u,l);for(let _=b;_<=v;++_){const S=m[_];S.skip||a(S,g,_)}}}function zx(i){const t=i.indexOf("x")!==-1,n=i.indexOf("y")!==-1;return function(a,l){const o=t?Math.abs(a.x-l.x):0,u=n?Math.abs(a.y-l.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(u,2))}}function Ah(i,t,n,a,l){const o=[];return!l&&!i.isPointInArea(t)||$o(i,n,t,function(h,f,g){!l&&!Or(h,i.chartArea,0)||h.inRange(t.x,t.y,a)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function Nx(i,t,n,a){let l=[];function o(u,h,f){const{startAngle:g,endAngle:m}=u.getProps(["startAngle","endAngle"],a),{angle:b}=aS(u,{x:t.x,y:t.y});zb(b,g,m)&&l.push({element:u,datasetIndex:h,index:f})}return $o(i,n,t,o),l}function Ux(i,t,n,a,l,o){let u=[];const h=zx(n);let f=Number.POSITIVE_INFINITY;function g(m,b,v){const _=m.inRange(t.x,t.y,l);if(a&&!_)return;const S=m.getCenterPoint(l);if(!(!!o||i.isPointInArea(S))&&!_)return;const T=h(t,S);T<f?(u=[{element:m,datasetIndex:b,index:v}],f=T):T===f&&u.push({element:m,datasetIndex:b,index:v})}return $o(i,n,t,g),u}function Ch(i,t,n,a,l,o){return!o&&!i.isPointInArea(t)?[]:n==="r"&&!a?Nx(i,t,n,l):Ux(i,t,n,a,l,o)}function gy(i,t,n,a,l){const o=[],u=n==="x"?"inXRange":"inYRange";let h=!1;return $o(i,n,t,(f,g,m)=>{f[u]&&f[u](t[n],l)&&(o.push({element:f,datasetIndex:g,index:m}),h=h||f.inRange(t.x,t.y,l))}),a&&!h?[]:o}var Lx={modes:{index(i,t,n,a){const l=Yi(t,i),o=n.axis||"x",u=n.includeInvisible||!1,h=n.intersect?Ah(i,l,o,a,u):Ch(i,l,o,!1,a,u),f=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,b=g.data[m];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:m})}),f):[]},dataset(i,t,n,a){const l=Yi(t,i),o=n.axis||"xy",u=n.includeInvisible||!1;let h=n.intersect?Ah(i,l,o,a,u):Ch(i,l,o,!1,a,u);if(h.length>0){const f=h[0].datasetIndex,g=i.getDatasetMeta(f).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:f,index:m})}return h},point(i,t,n,a){const l=Yi(t,i),o=n.axis||"xy",u=n.includeInvisible||!1;return Ah(i,l,o,a,u)},nearest(i,t,n,a){const l=Yi(t,i),o=n.axis||"xy",u=n.includeInvisible||!1;return Ch(i,l,o,n.intersect,a,u)},x(i,t,n,a){const l=Yi(t,i);return gy(i,l,"x",n.intersect,a)},y(i,t,n,a){const l=Yi(t,i);return gy(i,l,"y",n.intersect,a)}}};const nv=["left","top","right","bottom"];function rr(i,t){return i.filter(n=>n.pos===t)}function py(i,t){return i.filter(n=>nv.indexOf(n.pos)===-1&&n.box.axis===t)}function lr(i,t){return i.sort((n,a)=>{const l=t?a:n,o=t?n:a;return l.weight===o.weight?l.index-o.index:l.weight-o.weight})}function Bx(i){const t=[];let n,a,l,o,u,h;for(n=0,a=(i||[]).length;n<a;++n)l=i[n],{position:o,options:{stack:u,stackWeight:h=1}}=l,t.push({index:n,box:l,pos:o,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&o+u,stackWeight:h});return t}function Hx(i){const t={};for(const n of i){const{stack:a,pos:l,stackWeight:o}=n;if(!a||!nv.includes(l))continue;const u=t[a]||(t[a]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=o}return t}function qx(i,t){const n=Hx(i),{vBoxMaxWidth:a,hBoxMaxHeight:l}=t;let o,u,h;for(o=0,u=i.length;o<u;++o){h=i[o];const{fullSize:f}=h.box,g=n[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*a:f&&t.availableWidth,h.height=l):(h.width=a,h.height=m?m*l:f&&t.availableHeight)}return n}function Px(i){const t=Bx(i),n=lr(t.filter(g=>g.box.fullSize),!0),a=lr(rr(t,"left"),!0),l=lr(rr(t,"right")),o=lr(rr(t,"top"),!0),u=lr(rr(t,"bottom")),h=py(t,"x"),f=py(t,"y");return{fullSize:n,leftAndTop:a.concat(o),rightAndBottom:l.concat(f).concat(u).concat(h),chartArea:rr(t,"chartArea"),vertical:a.concat(l).concat(f),horizontal:o.concat(u).concat(h)}}function my(i,t,n,a){return Math.max(i[n],t[n])+Math.max(i[a],t[a])}function iv(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function $x(i,t,n,a){const{pos:l,box:o}=n,u=i.maxPadding;if(!Tt(l)){n.size&&(i[l]-=n.size);const b=a[n.stack]||{size:0,count:1};b.size=Math.max(b.size,n.horizontal?o.height:o.width),n.size=b.size/b.count,i[l]+=n.size}o.getPadding&&iv(u,o.getPadding());const h=Math.max(0,t.outerWidth-my(u,i,"left","right")),f=Math.max(0,t.outerHeight-my(u,i,"top","bottom")),g=h!==i.w,m=f!==i.h;return i.w=h,i.h=f,n.horizontal?{same:g,other:m}:{same:m,other:g}}function Vx(i){const t=i.maxPadding;function n(a){const l=Math.max(t[a]-i[a],0);return i[a]+=l,l}i.y+=n("top"),i.x+=n("left"),n("right"),n("bottom")}function Ix(i,t){const n=t.maxPadding;function a(l){const o={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{o[u]=Math.max(t[u],n[u])}),o}return a(i?["left","right"]:["top","bottom"])}function fr(i,t,n,a){const l=[];let o,u,h,f,g,m;for(o=0,u=i.length,g=0;o<u;++o){h=i[o],f=h.box,f.update(h.width||t.w,h.height||t.h,Ix(h.horizontal,t));const{same:b,other:v}=$x(t,n,h,a);g|=b&&l.length,m=m||v,f.fullSize||l.push(h)}return g&&fr(l,t,n,a)||m}function uo(i,t,n,a,l){i.top=n,i.left=t,i.right=t+a,i.bottom=n+l,i.width=a,i.height=l}function yy(i,t,n,a){const l=n.padding;let{x:o,y:u}=t;for(const h of i){const f=h.box,g=a[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*m,v=g.size||f.height;Mo(g.start)&&(u=g.start),f.fullSize?uo(f,l.left,u,n.outerWidth-l.right-l.left,v):uo(f,t.left+g.placed,u,b,v),g.start=u,g.placed+=b,u=f.bottom}else{const b=t.h*m,v=g.size||f.width;Mo(g.start)&&(o=g.start),f.fullSize?uo(f,o,l.top,v,n.outerHeight-l.bottom-l.top):uo(f,o,t.top+g.placed,v,b),g.start=o,g.placed+=b,o=f.right}}t.x=o,t.y=u}var en={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},i.boxes.push(t)},removeBox(i,t){const n=i.boxes?i.boxes.indexOf(t):-1;n!==-1&&i.boxes.splice(n,1)},configure(i,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(i,t,n,a){if(!i)return;const l=nn(i.options.layout.padding),o=Math.max(t-l.width,0),u=Math.max(n-l.height,0),h=Px(i.boxes),f=h.vertical,g=h.horizontal;Dt(i.boxes,x=>{typeof x.beforeLayout=="function"&&x.beforeLayout()});const m=f.reduce((x,T)=>T.box.options&&T.box.options.display===!1?x:x+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:n,padding:l,availableWidth:o,availableHeight:u,vBoxMaxWidth:o/2/m,hBoxMaxHeight:u/2}),v=Object.assign({},l);iv(v,nn(a));const _=Object.assign({maxPadding:v,w:o,h:u,x:l.left,y:l.top},l),S=qx(f.concat(g),b);fr(h.fullSize,_,b,S),fr(f,_,b,S),fr(g,_,b,S)&&fr(f,_,b,S),Vx(_),yy(h.leftAndTop,_,b,S),_.x+=_.w,_.y+=_.h,yy(h.rightAndBottom,_,b,S),i.chartArea={left:_.left,top:_.top,right:_.left+_.w,bottom:_.top+_.h,height:_.h,width:_.w},Dt(h.chartArea,x=>{const T=x.box;Object.assign(T,i.chartArea),T.update(_.w,_.h,{left:0,top:0,right:0,bottom:0})})}};class sv{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,a){}removeEventListener(t,n,a){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,a,l){return n=Math.max(0,n||t.width),a=a||t.height,{width:n,height:Math.max(0,l?Math.floor(n/l):a)}}isAttached(t){return!0}updateConfig(t){}}class Gx extends sv{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Oo="$chartjs",Yx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},by=i=>i===null||i==="";function Kx(i,t){const n=i.style,a=i.getAttribute("height"),l=i.getAttribute("width");if(i[Oo]={initial:{height:a,width:l,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",by(l)){const o=sy(i,"width");o!==void 0&&(i.width=o)}if(by(a))if(i.style.height==="")i.height=i.width/(t||2);else{const o=sy(i,"height");o!==void 0&&(i.height=o)}return i}const av=ax?{passive:!0}:!1;function Fx(i,t,n){i&&i.addEventListener(t,n,av)}function Xx(i,t,n){i&&i.canvas&&i.canvas.removeEventListener(t,n,av)}function Wx(i,t){const n=Yx[i.type]||i.type,{x:a,y:l}=Yi(i,t);return{type:n,chart:t,native:i,x:a!==void 0?a:null,y:l!==void 0?l:null}}function zo(i,t){for(const n of i)if(n===t||n.contains(t))return!0}function Qx(i,t,n){const a=i.canvas,l=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||zo(h.addedNodes,a),u=u&&!zo(h.removedNodes,a);u&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}function Jx(i,t,n){const a=i.canvas,l=new MutationObserver(o=>{let u=!1;for(const h of o)u=u||zo(h.removedNodes,a),u=u&&!zo(h.addedNodes,a);u&&n()});return l.observe(document,{childList:!0,subtree:!0}),l}const Cr=new Map;let vy=0;function rv(){const i=window.devicePixelRatio;i!==vy&&(vy=i,Cr.forEach((t,n)=>{n.currentDevicePixelRatio!==i&&t()}))}function Zx(i,t){Cr.size||window.addEventListener("resize",rv),Cr.set(i,t)}function tT(i){Cr.delete(i),Cr.size||window.removeEventListener("resize",rv)}function eT(i,t,n){const a=i.canvas,l=a&&Sf(a);if(!l)return;const o=Lb((h,f)=>{const g=l.clientWidth;n(h,f),g<l.clientWidth&&n()},window),u=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,m=f.contentRect.height;g===0&&m===0||o(g,m)});return u.observe(l),Zx(i,o),u}function kh(i,t,n){n&&n.disconnect(),t==="resize"&&tT(i)}function nT(i,t,n){const a=i.canvas,l=Lb(o=>{i.ctx!==null&&n(Wx(o,i))},i);return Fx(a,t,l),l}class iT extends sv{acquireContext(t,n){const a=t&&t.getContext&&t.getContext("2d");return a&&a.canvas===t?(Kx(t,n),a):null}releaseContext(t){const n=t.canvas;if(!n[Oo])return!1;const a=n[Oo].initial;["height","width"].forEach(o=>{const u=a[o];Bt(u)?n.removeAttribute(o):n.setAttribute(o,u)});const l=a.style||{};return Object.keys(l).forEach(o=>{n.style[o]=l[o]}),n.width=n.width,delete n[Oo],!0}addEventListener(t,n,a){this.removeEventListener(t,n);const l=t.$proxies||(t.$proxies={}),u={attach:Qx,detach:Jx,resize:eT}[n]||nT;l[n]=u(t,n,a)}removeEventListener(t,n){const a=t.$proxies||(t.$proxies={}),l=a[n];if(!l)return;({attach:kh,detach:kh,resize:kh}[n]||Xx)(t,n,l),a[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,a,l){return sx(t,n,a,l)}isAttached(t){const n=t&&Sf(t);return!!(n&&n.isConnected)}}function sT(i){return!wf()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?Gx:iT}class ss{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}hasValue(){return Er(this.x)&&Er(this.y)}getProps(t,n){const a=this.$animations;if(!n||!a)return this;const l={};return t.forEach(o=>{l[o]=a[o]&&a[o].active()?a[o]._to:this[o]}),l}}function aT(i,t){const n=i.options.ticks,a=rT(i),l=Math.min(n.maxTicksLimit||a,a),o=n.major.enabled?oT(t):[],u=o.length,h=o[0],f=o[u-1],g=[];if(u>l)return cT(t,g,o,u/l),g;const m=lT(o,t,l);if(u>0){let b,v;const _=u>1?Math.round((f-h)/(u-1)):null;for(ho(t,g,m,Bt(_)?0:h-_,h),b=0,v=u-1;b<v;b++)ho(t,g,m,o[b],o[b+1]);return ho(t,g,m,f,Bt(_)?t.length:f+_),g}return ho(t,g,m),g}function rT(i){const t=i.options.offset,n=i._tickSize(),a=i._length/n+(t?0:1),l=i._maxLength/n;return Math.floor(Math.min(a,l))}function lT(i,t,n){const a=uT(i),l=t.length/n;if(!a)return Math.max(l,1);const o=tS(a);for(let u=0,h=o.length-1;u<h;u++){const f=o[u];if(f>l)return f}return Math.max(l,1)}function oT(i){const t=[];let n,a;for(n=0,a=i.length;n<a;n++)i[n].major&&t.push(n);return t}function cT(i,t,n,a){let l=0,o=n[0],u;for(a=Math.ceil(a),u=0;u<i.length;u++)u===o&&(t.push(i[u]),l++,o=n[l*a])}function ho(i,t,n,a,l){const o=xt(a,0),u=Math.min(xt(l,i.length),i.length);let h=0,f,g,m;for(n=Math.ceil(n),l&&(f=l-a,n=f/Math.floor(f/n)),m=o;m<0;)h++,m=Math.round(o+h*n);for(g=Math.max(o,0);g<u;g++)g===m&&(t.push(i[g]),h++,m=Math.round(o+h*n))}function uT(i){const t=i.length;let n,a;if(t<2)return!1;for(a=i[0],n=1;n<t;++n)if(i[n]-i[n-1]!==a)return!1;return a}const hT=i=>i==="left"?"right":i==="right"?"left":i,_y=(i,t,n)=>t==="top"||t==="left"?i[t]+n:i[t]-n,wy=(i,t)=>Math.min(t||i,i);function Sy(i,t){const n=[],a=i.length/t,l=i.length;let o=0;for(;o<l;o+=a)n.push(i[Math.floor(o)]);return n}function fT(i,t,n){const a=i.ticks.length,l=Math.min(t,a-1),o=i._startPixel,u=i._endPixel,h=1e-6;let f=i.getPixelForTick(l),g;if(!(n&&(a===1?g=Math.max(f-o,u-f):t===0?g=(i.getPixelForTick(1)-f)/2:g=(f-i.getPixelForTick(l-1))/2,f+=l<t?g:-g,f<o-h||f>u+h)))return f}function dT(i,t){Dt(i,n=>{const a=n.gc,l=a.length/2;let o;if(l>t){for(o=0;o<l;++o)delete n.data[a[o]];a.splice(0,l)}})}function or(i){return i.drawTicks?i.tickLength:0}function xy(i,t){if(!i.display)return 0;const n=me(i.font,t),a=nn(i.padding);return(ie(i.text)?i.text.length:1)*n.lineHeight+a.height}function gT(i,t){return is(i,{scale:t,type:"scale"})}function pT(i,t,n){return is(i,{tick:n,index:t,type:"tick"})}function mT(i,t,n){let a=mf(i);return(n&&t!=="right"||!n&&t==="right")&&(a=hT(a)),a}function yT(i,t,n,a){const{top:l,left:o,bottom:u,right:h,chart:f}=i,{chartArea:g,scales:m}=f;let b=0,v,_,S;const x=u-l,T=h-o;if(i.isHorizontal()){if(_=pe(a,o,h),Tt(n)){const C=Object.keys(n)[0],U=n[C];S=m[C].getPixelForValue(U)+x-t}else n==="center"?S=(g.bottom+g.top)/2+x-t:S=_y(i,n,t);v=h-o}else{if(Tt(n)){const C=Object.keys(n)[0],U=n[C];_=m[C].getPixelForValue(U)-T+t}else n==="center"?_=(g.left+g.right)/2-T+t:_=_y(i,n,t);S=pe(a,u,l),b=n==="left"?-un:un}return{titleX:_,titleY:S,maxWidth:v,rotation:b}}class oa extends ss{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:a,_suggestedMax:l}=this;return t=mn(t,Number.POSITIVE_INFINITY),n=mn(n,Number.NEGATIVE_INFINITY),a=mn(a,Number.POSITIVE_INFINITY),l=mn(l,Number.NEGATIVE_INFINITY),{min:mn(t,a),max:mn(n,l),minDefined:be(t),maxDefined:be(n)}}getMinMax(t){let{min:n,max:a,minDefined:l,maxDefined:o}=this.getUserBounds(),u;if(l&&o)return{min:n,max:a};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)u=h[f].controller.getMinMax(this,t),l||(n=Math.min(n,u.min)),o||(a=Math.max(a,u.max));return n=o&&n>a?a:n,a=l&&n>a?n:a,{min:mn(n,mn(a,n)),max:mn(a,mn(n,a))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Pt(this.options.beforeUpdate,[this])}update(t,n,a){const{beginAtZero:l,grace:o,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=a=Object.assign({left:0,right:0,top:0,bottom:0},a),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+a.left+a.right:this.height+a.top+a.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=US(this,o,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?Sy(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=aT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,a;this.isHorizontal()?(n=this.left,a=this.right):(n=this.top,a=this.bottom,t=!t),this._startPixel=n,this._endPixel=a,this._reversePixels=t,this._length=a-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Pt(this.options.afterUpdate,[this])}beforeSetDimensions(){Pt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Pt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Pt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Pt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let a,l,o;for(a=0,l=t.length;a<l;a++)o=t[a],o.label=Pt(n.callback,[o.value,a,t],this)}afterTickToLabelConversion(){Pt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Pt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,a=wy(this.ticks.length,t.ticks.maxTicksLimit),l=n.minRotation||0,o=n.maxRotation;let u=l,h,f,g;if(!this._isVisible()||!n.display||l>=o||a<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),b=m.widest.width,v=m.highest.height,_=tn(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/a:_/(a-1),b+6>h&&(h=_/(a-(t.offset?.5:1)),f=this.maxHeight-or(t.grid)-n.padding-xy(t.title,this.chart.options.font),g=Math.sqrt(b*b+v*v),u=sS(Math.min(Math.asin(tn((m.highest.height+6)/h,-1,1)),Math.asin(tn(f/g,-1,1))-Math.asin(tn(v/g,-1,1)))),u=Math.max(l,Math.min(o,u))),this.labelRotation=u}afterCalculateLabelRotation(){Pt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Pt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:a,title:l,grid:o}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const f=xy(l,n.options.font);if(h?(t.width=this.maxWidth,t.height=or(o)+f):(t.height=this.maxHeight,t.width=or(o)+f),a.display&&this.ticks.length){const{first:g,last:m,widest:b,highest:v}=this._getLabelSizes(),_=a.padding*2,S=Qi(this.labelRotation),x=Math.cos(S),T=Math.sin(S);if(h){const C=a.mirror?0:T*b.width+x*v.height;t.height=Math.min(this.maxHeight,t.height+C+_)}else{const C=a.mirror?0:x*b.width+T*v.height;t.width=Math.min(this.maxWidth,t.width+C+_)}this._calculatePadding(g,m,T,x)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,a,l){const{ticks:{align:o,padding:u},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,_=0;f?g?(v=l*t.width,_=a*n.height):(v=a*t.height,_=l*n.width):o==="start"?_=n.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,_=n.width/2),this.paddingLeft=Math.max((v-m+u)*this.width/(this.width-m),0),this.paddingRight=Math.max((_-b+u)*this.width/(this.width-b),0)}else{let m=n.height/2,b=t.height/2;o==="start"?(m=0,b=t.height):o==="end"&&(m=n.height,b=0),this.paddingTop=m+u,this.paddingBottom=b+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Pt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,a;for(n=0,a=t.length;n<a;n++)Bt(t[n].label)&&(t.splice(n,1),a--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let a=this.ticks;n<a.length&&(a=Sy(a,n)),this._labelSizes=t=this._computeLabelSizes(a,a.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,a){const{ctx:l,_longestTextCache:o}=this,u=[],h=[],f=Math.floor(n/wy(n,a));let g=0,m=0,b,v,_,S,x,T,C,U,M,B,q;for(b=0;b<n;b+=f){if(S=t[b].label,x=this._resolveTickFontOptions(b),l.font=T=x.string,C=o[T]=o[T]||{data:{},gc:[]},U=x.lineHeight,M=B=0,!Bt(S)&&!ie(S))M=Zm(l,C.data,C.gc,M,S),B=U;else if(ie(S))for(v=0,_=S.length;v<_;++v)q=S[v],!Bt(q)&&!ie(q)&&(M=Zm(l,C.data,C.gc,M,q),B+=U);u.push(M),h.push(B),g=Math.max(M,g),m=Math.max(B,m)}dT(o,n);const Y=u.indexOf(g),V=h.indexOf(m),K=Z=>({width:u[Z]||0,height:h[Z]||0});return{first:K(0),last:K(n-1),widest:K(Y),highest:K(V),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return lS(this._alignToPixels?$i(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const a=n[t];return a.$context||(a.$context=pT(this.getContext(),t,a))}return this.$context||(this.$context=gT(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Qi(this.labelRotation),a=Math.abs(Math.cos(n)),l=Math.abs(Math.sin(n)),o=this._getLabelSizes(),u=t.autoSkipPadding||0,h=o?o.widest.width+u:0,f=o?o.highest.height+u:0;return this.isHorizontal()?f*a>h*l?h/a:f/l:f*l<h*a?f/a:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,a=this.chart,l=this.options,{grid:o,position:u,border:h}=l,f=o.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),v=or(o),_=[],S=h.setContext(this.getContext()),x=S.display?S.width:0,T=x/2,C=function(D){return $i(a,D,x)};let U,M,B,q,Y,V,K,Z,ft,lt,X,Et;if(u==="top")U=C(this.bottom),V=this.bottom-v,Z=U-T,lt=C(t.top)+T,Et=t.bottom;else if(u==="bottom")U=C(this.top),lt=t.top,Et=C(t.bottom)-T,V=U+T,Z=this.top+v;else if(u==="left")U=C(this.right),Y=this.right-v,K=U-T,ft=C(t.left)+T,X=t.right;else if(u==="right")U=C(this.left),ft=t.left,X=C(t.right)-T,Y=U+T,K=this.left+v;else if(n==="x"){if(u==="center")U=C((t.top+t.bottom)/2+.5);else if(Tt(u)){const D=Object.keys(u)[0],P=u[D];U=C(this.chart.scales[D].getPixelForValue(P))}lt=t.top,Et=t.bottom,V=U+T,Z=V+v}else if(n==="y"){if(u==="center")U=C((t.left+t.right)/2);else if(Tt(u)){const D=Object.keys(u)[0],P=u[D];U=C(this.chart.scales[D].getPixelForValue(P))}Y=U-T,K=Y-v,ft=t.left,X=t.right}const nt=xt(l.ticks.maxTicksLimit,b),it=Math.max(1,Math.ceil(b/nt));for(M=0;M<b;M+=it){const D=this.getContext(M),P=o.setContext(D),W=h.setContext(D),et=P.lineWidth,dt=P.color,O=W.dash||[],$=W.dashOffset,F=P.tickWidth,J=P.tickColor,ht=P.tickBorderDash||[],gt=P.tickBorderDashOffset;B=fT(this,M,f),B!==void 0&&(q=$i(a,B,et),g?Y=K=ft=X=q:V=Z=lt=Et=q,_.push({tx1:Y,ty1:V,tx2:K,ty2:Z,x1:ft,y1:lt,x2:X,y2:Et,width:et,color:dt,borderDash:O,borderDashOffset:$,tickWidth:F,tickColor:J,tickBorderDash:ht,tickBorderDashOffset:gt}))}return this._ticksLength=b,this._borderValue=U,_}_computeLabelItems(t){const n=this.axis,a=this.options,{position:l,ticks:o}=a,u=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:m,mirror:b}=o,v=or(a.grid),_=v+m,S=b?-m:_,x=-Qi(this.labelRotation),T=[];let C,U,M,B,q,Y,V,K,Z,ft,lt,X,Et="middle";if(l==="top")Y=this.bottom-S,V=this._getXAxisLabelAlignment();else if(l==="bottom")Y=this.top+S,V=this._getXAxisLabelAlignment();else if(l==="left"){const it=this._getYAxisLabelAlignment(v);V=it.textAlign,q=it.x}else if(l==="right"){const it=this._getYAxisLabelAlignment(v);V=it.textAlign,q=it.x}else if(n==="x"){if(l==="center")Y=(t.top+t.bottom)/2+_;else if(Tt(l)){const it=Object.keys(l)[0],D=l[it];Y=this.chart.scales[it].getPixelForValue(D)+_}V=this._getXAxisLabelAlignment()}else if(n==="y"){if(l==="center")q=(t.left+t.right)/2-_;else if(Tt(l)){const it=Object.keys(l)[0],D=l[it];q=this.chart.scales[it].getPixelForValue(D)}V=this._getYAxisLabelAlignment(v).textAlign}n==="y"&&(f==="start"?Et="top":f==="end"&&(Et="bottom"));const nt=this._getLabelSizes();for(C=0,U=h.length;C<U;++C){M=h[C],B=M.label;const it=o.setContext(this.getContext(C));K=this.getPixelForTick(C)+o.labelOffset,Z=this._resolveTickFontOptions(C),ft=Z.lineHeight,lt=ie(B)?B.length:1;const D=lt/2,P=it.color,W=it.textStrokeColor,et=it.textStrokeWidth;let dt=V;u?(q=K,V==="inner"&&(C===U-1?dt=this.options.reverse?"left":"right":C===0?dt=this.options.reverse?"right":"left":dt="center"),l==="top"?g==="near"||x!==0?X=-lt*ft+ft/2:g==="center"?X=-nt.highest.height/2-D*ft+ft:X=-nt.highest.height+ft/2:g==="near"||x!==0?X=ft/2:g==="center"?X=nt.highest.height/2-D*ft:X=nt.highest.height-lt*ft,b&&(X*=-1),x!==0&&!it.showLabelBackdrop&&(q+=ft/2*Math.sin(x))):(Y=K,X=(1-lt)*ft/2);let O;if(it.showLabelBackdrop){const $=nn(it.backdropPadding),F=nt.heights[C],J=nt.widths[C];let ht=X-$.top,gt=0-$.left;switch(Et){case"middle":ht-=F/2;break;case"bottom":ht-=F;break}switch(V){case"center":gt-=J/2;break;case"right":gt-=J;break;case"inner":C===U-1?gt-=J:C>0&&(gt-=J/2);break}O={left:gt,top:ht,width:J+$.width,height:F+$.height,color:it.backdropColor}}T.push({label:B,font:Z,textOffset:X,options:{rotation:x,color:P,strokeColor:W,strokeWidth:et,textAlign:dt,textBaseline:Et,translation:[q,Y],backdrop:O}})}return T}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Qi(this.labelRotation))return t==="top"?"left":"right";let l="center";return n.align==="start"?l="left":n.align==="end"?l="right":n.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:a,mirror:l,padding:o}}=this.options,u=this._getLabelSizes(),h=t+o,f=u.widest.width;let g,m;return n==="left"?l?(m=this.right+o,a==="near"?g="left":a==="center"?(g="center",m+=f/2):(g="right",m+=f)):(m=this.right-h,a==="near"?g="right":a==="center"?(g="center",m-=f/2):(g="left",m=this.left)):n==="right"?l?(m=this.left+o,a==="near"?g="right":a==="center"?(g="center",m-=f/2):(g="left",m-=f)):(m=this.left+h,a==="near"?g="left":a==="center"?(g="center",m+=f/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:a,top:l,width:o,height:u}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(a,l,o,u),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const l=this.ticks.findIndex(o=>o.value===t);return l>=0?n.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const n=this.options.grid,a=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,u;const h=(f,g,m)=>{!m.width||!m.color||(a.save(),a.lineWidth=m.width,a.strokeStyle=m.color,a.setLineDash(m.borderDash||[]),a.lineDashOffset=m.borderDashOffset,a.beginPath(),a.moveTo(f.x,f.y),a.lineTo(g.x,g.y),a.stroke(),a.restore())};if(n.display)for(o=0,u=l.length;o<u;++o){const f=l[o];n.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:a,grid:l}}=this,o=a.setContext(this.getContext()),u=a.display?o.width:0;if(!u)return;const h=l.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,m,b,v;this.isHorizontal()?(g=$i(t,this.left,u)-u/2,m=$i(t,this.right,h)+h/2,b=v=f):(b=$i(t,this.top,u)-u/2,v=$i(t,this.bottom,h)+h/2,g=m=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(g,b),n.lineTo(m,v),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const a=this.ctx,l=this._computeLabelArea();l&&Ho(a,l);const o=this.getLabelItems(t);for(const u of o){const h=u.options,f=u.font,g=u.label,m=u.textOffset;Ar(a,g,0,m,f,h)}l&&qo(a)}drawTitle(){const{ctx:t,options:{position:n,title:a,reverse:l}}=this;if(!a.display)return;const o=me(a.font),u=nn(a.padding),h=a.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||Tt(n)?(f+=u.bottom,ie(a.text)&&(f+=o.lineHeight*(a.text.length-1))):f+=u.top;const{titleX:g,titleY:m,maxWidth:b,rotation:v}=yT(this,f,n,h);Ar(t,a.text,0,0,o,{color:a.color,maxWidth:b,rotation:v,textAlign:mT(h,n,l),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,a=xt(t.grid&&t.grid.z,-1),l=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==oa.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:a,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),a=this.axis+"AxisID",l=[];let o,u;for(o=0,u=n.length;o<u;++o){const h=n[o];h[a]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return me(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class fo{constructor(t,n,a){this.type=t,this.scope=n,this.override=a,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let a;_T(n)&&(a=this.register(n));const l=this.items,o=t.id,u=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in l||(l[o]=t,bT(t,u,a),this.override&&Xt.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const n=this.items,a=t.id,l=this.scope;a in n&&delete n[a],l&&a in Xt[l]&&(delete Xt[l][a],this.override&&delete ns[a])}}function bT(i,t,n){const a=Tr(Object.create(null),[n?Xt.get(n):{},Xt.get(t),i.defaults]);Xt.set(t,a),i.defaultRoutes&&vT(t,i.defaultRoutes),i.descriptors&&Xt.describe(t,i.descriptors)}function vT(i,t){Object.keys(t).forEach(n=>{const a=n.split("."),l=a.pop(),o=[i].concat(a).join("."),u=t[n].split("."),h=u.pop(),f=u.join(".");Xt.route(o,l,f,h)})}function _T(i){return"id"in i&&"defaults"in i}class wT{constructor(){this.controllers=new fo(ev,"datasets",!0),this.elements=new fo(ss,"elements"),this.plugins=new fo(Object,"plugins"),this.scales=new fo(oa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,a){[...n].forEach(l=>{const o=a||this._getRegistryForType(l);a||o.isForType(l)||o===this.plugins&&l.id?this._exec(t,o,l):Dt(l,u=>{const h=a||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,n,a){const l=gf(t);Pt(a["before"+l],[],a),n[t](a),Pt(a["after"+l],[],a)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const a=this._typedRegistries[n];if(a.isForType(t))return a}return this.plugins}_get(t,n,a){const l=n.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+a+".");return l}}var bn=new wT;class ST{constructor(){this._init=void 0}notify(t,n,a,l){if(n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(o,t,n,a);return n==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),u}_notify(t,n,a,l){l=l||{};for(const o of t){const u=o.plugin,h=u[a],f=[n,l,o.options];if(Pt(h,f,u)===!1&&l.cancelable)return!1}return!0}invalidate(){Bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const a=t&&t.config,l=xt(a.options&&a.options.plugins,{}),o=xT(a);return l===!1&&!n?[]:ET(t,o,l,n)}_notifyStateChanges(t){const n=this._oldCache||[],a=this._cache,l=(o,u)=>o.filter(h=>!u.some(f=>h.plugin.id===f.plugin.id));this._notify(l(n,a),t,"stop"),this._notify(l(a,n),t,"start")}}function xT(i){const t={},n=[],a=Object.keys(bn.plugins.items);for(let o=0;o<a.length;o++)n.push(bn.getPlugin(a[o]));const l=i.plugins||[];for(let o=0;o<l.length;o++){const u=l[o];n.indexOf(u)===-1&&(n.push(u),t[u.id]=!0)}return{plugins:n,localIds:t}}function TT(i,t){return!t&&i===!1?null:i===!0?{}:i}function ET(i,{plugins:t,localIds:n},a,l){const o=[],u=i.getContext();for(const h of t){const f=h.id,g=TT(a[f],l);g!==null&&o.push({plugin:h,options:OT(i.config,{plugin:h,local:n[f]},g,u)})}return o}function OT(i,{plugin:t,local:n},a,l){const o=i.pluginScopeKeys(t),u=i.getOptionScopes(a,o);return n&&t.defaults&&u.push(t.defaults),i.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Yh(i,t){const n=Xt.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function AT(i,t){let n=i;return i==="_index_"?n=t:i==="_value_"&&(n=t==="x"?"y":"x"),n}function CT(i,t){return i===t?"_index_":"_value_"}function Ty(i){if(i==="x"||i==="y"||i==="r")return i}function kT(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Kh(i,...t){if(Ty(i))return i;for(const n of t){const a=n.axis||kT(n.position)||i.length>1&&Ty(i[0].toLowerCase());if(a)return a}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Ey(i,t,n){if(n[t+"AxisID"]===i)return{axis:t}}function RT(i,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(a=>a.xAxisID===i||a.yAxisID===i);if(n.length)return Ey(i,"x",n[0])||Ey(i,"y",n[0])}return{}}function MT(i,t){const n=ns[i.type]||{scales:{}},a=t.scales||{},l=Yh(i.type,t),o=Object.create(null);return Object.keys(a).forEach(u=>{const h=a[u];if(!Tt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const f=Kh(u,h,RT(u,i),Xt.scales[h.type]),g=CT(f,l),m=n.scales||{};o[u]=mr(Object.create(null),[{axis:f},h,m[f],m[g]])}),i.data.datasets.forEach(u=>{const h=u.type||i.type,f=u.indexAxis||Yh(h,t),m=(ns[h]||{}).scales||{};Object.keys(m).forEach(b=>{const v=AT(b,f),_=u[v+"AxisID"]||v;o[_]=o[_]||Object.create(null),mr(o[_],[{axis:v},a[_],m[b]])})}),Object.keys(o).forEach(u=>{const h=o[u];mr(h,[Xt.scales[h.type],Xt.scale])}),o}function lv(i){const t=i.options||(i.options={});t.plugins=xt(t.plugins,{}),t.scales=MT(i,t)}function ov(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function DT(i){return i=i||{},i.data=ov(i.data),lv(i),i}const Oy=new Map,cv=new Set;function go(i,t){let n=Oy.get(i);return n||(n=t(),Oy.set(i,n),cv.add(n)),n}const cr=(i,t,n)=>{const a=Ro(t,n);a!==void 0&&i.add(a)};class jT{constructor(t){this._config=DT(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=ov(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),lv(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return go(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return go(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return go(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,a=this.type;return go(`${a}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const a=this._scopeCache;let l=a.get(t);return(!l||n)&&(l=new Map,a.set(t,l)),l}getOptionScopes(t,n,a){const{options:l,type:o}=this,u=this._cachedScopes(t,a),h=u.get(n);if(h)return h;const f=new Set;n.forEach(m=>{t&&(f.add(t),m.forEach(b=>cr(f,t,b))),m.forEach(b=>cr(f,l,b)),m.forEach(b=>cr(f,ns[o]||{},b)),m.forEach(b=>cr(f,Xt,b)),m.forEach(b=>cr(f,Vh,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),cv.has(n)&&u.set(n,g),g}chartOptionScopes(){const{options:t,type:n}=this;return[t,ns[n]||{},Xt.datasets[n]||{},{type:n},Xt,Vh]}resolveNamedOptions(t,n,a,l=[""]){const o={$shared:!0},{resolver:u,subPrefixes:h}=Ay(this._resolverCache,t,l);let f=u;if(NT(u,n)){o.$shared=!1,a=wi(a)?a():a;const g=this.createResolver(t,a,h);f=ra(u,a,g)}for(const g of n)o[g]=f[g];return o}createResolver(t,n,a=[""],l){const{resolver:o}=Ay(this._resolverCache,t,a);return Tt(n)?ra(o,n,void 0,l):o}}function Ay(i,t,n){let a=i.get(t);a||(a=new Map,i.set(t,a));const l=n.join();let o=a.get(l);return o||(o={resolver:bf(t,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},a.set(l,o)),o}const zT=i=>Tt(i)&&Object.getOwnPropertyNames(i).some(t=>wi(i[t]));function NT(i,t){const{isScriptable:n,isIndexable:a}=$b(i);for(const l of t){const o=n(l),u=a(l),h=(u||o)&&i[l];if(o&&(wi(h)||zT(h))||u&&ie(h))return!0}return!1}var UT="4.5.1";const LT=["top","bottom","left","right","chartArea"];function Cy(i,t){return i==="top"||i==="bottom"||LT.indexOf(i)===-1&&t==="x"}function ky(i,t){return function(n,a){return n[i]===a[i]?n[t]-a[t]:n[i]-a[i]}}function Ry(i){const t=i.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Pt(n&&n.onComplete,[i],t)}function BT(i){const t=i.chart,n=t.options.animation;Pt(n&&n.onProgress,[i],t)}function uv(i){return wf()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const Ao={},My=i=>{const t=uv(i);return Object.values(Ao).filter(n=>n.canvas===t).pop()};function HT(i,t,n){const a=Object.keys(i);for(const l of a){const o=+l;if(o>=t){const u=i[l];delete i[l],(n>0||o>t)&&(i[o+n]=u)}}}function qT(i,t,n,a){return!n||i.type==="mouseout"?null:a?t:i}let Vo=class{static defaults=Xt;static instances=Ao;static overrides=ns;static registry=bn;static version=UT;static getChart=My;static register(...t){bn.add(...t),Dy()}static unregister(...t){bn.remove(...t),Dy()}constructor(t,n){const a=this.config=new jT(n),l=uv(t),o=My(l);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const u=a.createResolver(a.chartOptionScopes(),this.getContext());this.platform=new(a.platform||sT(l)),this.platform.updateConfig(a);const h=this.platform.acquireContext(l,u.aspectRatio),f=h&&h.canvas,g=f&&f.height,m=f&&f.width;if(this.id=Gw(),this.ctx=h,this.canvas=f,this.width=m,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ST,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=fS(b=>this.update(b),u.resizeDelay||0),this._dataChanges=[],Ao[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Hn.listen(this,"complete",Ry),Hn.listen(this,"progress",BT),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:a,height:l,_aspectRatio:o}=this;return Bt(t)?n&&o?o:l?a/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():iy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ty(this.canvas,this.ctx),this}stop(){return Hn.stop(this),this}resize(t,n){Hn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const a=this.options,l=this.canvas,o=a.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,t,n,o),h=a.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,iy(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Pt(a.onResize,[this,u],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Dt(n,(a,l)=>{a.id=l})}buildOrUpdateScales(){const t=this.options,n=t.scales,a=this.scales,l=Object.keys(a).reduce((u,h)=>(u[h]=!1,u),{});let o=[];n&&(o=o.concat(Object.keys(n).map(u=>{const h=n[u],f=Kh(u,h),g=f==="r",m=f==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Dt(o,u=>{const h=u.options,f=h.id,g=Kh(f,h),m=xt(h.type,u.dtype);(h.position===void 0||Cy(h.position,g)!==Cy(u.dposition))&&(h.position=u.dposition),l[f]=!0;let b=null;if(f in a&&a[f].type===m)b=a[f];else{const v=bn.getScale(m);b=new v({id:f,type:m,ctx:this.ctx,chart:this}),a[b.id]=b}b.init(h,t)}),Dt(l,(u,h)=>{u||delete a[h]}),Dt(a,u=>{en.configure(this,u,u.options),en.addBox(this,u)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,a=t.length;if(t.sort((l,o)=>l.index-o.index),a>n){for(let l=n;l<a;++l)this._destroyDatasetMeta(l);t.splice(n,a-n)}this._sortedMetasets=t.slice(0).sort(ky("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((a,l)=>{n.filter(o=>o===a._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let a,l;for(this._removeUnreferencedMetasets(),a=0,l=n.length;a<l;a++){const o=n[a];let u=this.getDatasetMeta(a);const h=o.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(a),u=this.getDatasetMeta(a)),u.type=h,u.indexAxis=o.indexAxis||Yh(h,this.options),u.order=o.order||0,u.index=a,u.label=""+o.label,u.visible=this.isDatasetVisible(a),u.controller)u.controller.updateIndex(a),u.controller.linkScales();else{const f=bn.getController(h),{datasetElementType:g,dataElementType:m}=Xt.datasets[h];Object.assign(f,{dataElementType:bn.getElement(m),datasetElementType:g&&bn.getElement(g)}),u.controller=new f(this,a),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Dt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const a=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!a.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:b}=this.getDatasetMeta(g),v=!l&&o.indexOf(b)===-1;b.buildOrUpdateElements(v),u=Math.max(+b.getMaxOverflow(),u)}u=this._minPadding=a.layout.autoPadding?u:0,this._updateLayout(u),l||Dt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(ky("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Dt(this.scales,t=>{en.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),a=new Set(t.events);(!Im(n,a)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:a,start:l,count:o}of n){const u=a==="_removeElements"?-o:o;HT(t,l,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,a=o=>new Set(t.filter(u=>u[0]===o).map((u,h)=>h+","+u.splice(1).join(","))),l=a(0);for(let o=1;o<n;o++)if(!Im(l,a(o)))return;return Array.from(l).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;en.update(this,this.width,this.height,t);const n=this.chartArea,a=n.width<=0||n.height<=0;this._layers=[],Dt(this.boxes,l=>{a&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,o)=>{l._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,a=this.data.datasets.length;n<a;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,wi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const a=this.getDatasetMeta(t),l={meta:a,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(a.controller._update(n),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Hn.has(this)?this.attached&&!Hn.running(this)&&Hn.start(this):(this.draw(),Ry({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:a,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(a,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,a=[];let l,o;for(l=0,o=n.length;l<o;++l){const u=n[l];(!t||u.visible)&&a.push(u)}return a}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,a={meta:t,index:t.index,cancelable:!0},l=Jb(this,t);this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(l&&Ho(n,l),t.controller.draw(),l&&qo(n),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(t){return Or(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,a,l){const o=Lx.modes[n];return typeof o=="function"?o(this,t,a,l):[]}getDatasetMeta(t){const n=this.data.datasets[t],a=this._metasets;let l=a.filter(o=>o&&o._dataset===n).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},a.push(l)),l}getContext(){return this.$context||(this.$context=is(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const a=this.getDatasetMeta(t);return typeof a.hidden=="boolean"?!a.hidden:!n.hidden}setDatasetVisibility(t,n){const a=this.getDatasetMeta(t);a.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,a){const l=a?"show":"hide",o=this.getDatasetMeta(t),u=o.controller._resolveAnimations(void 0,l);Mo(n)?(o.data[n].hidden=!a,this.update()):(this.setDatasetVisibility(t,a),u.update(o,{visible:a}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Hn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ty(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Ao[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,a=(o,u)=>{n.addEventListener(this,o,u),t[o]=u},l=(o,u,h)=>{o.offsetX=u,o.offsetY=h,this._eventHandler(o)};Dt(this.options.events,o=>a(o,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,a=(f,g)=>{n.addEventListener(this,f,g),t[f]=g},l=(f,g)=>{t[f]&&(n.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let u;const h=()=>{l("attach",h),this.attached=!0,this.resize(),a("resize",o),a("detach",u)};u=()=>{this.attached=!1,l("resize",o),this._stop(),this._resize(0,0),a("attach",h)},n.isAttached(this.canvas)?h():u()}unbindEvents(){Dt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Dt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,a){const l=a?"set":"remove";let o,u,h,f;for(n==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+l+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],a=t.map(({datasetIndex:o,index:u})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[u],index:u}});!Co(a,n)&&(this._active=a,this._lastEvent=null,this._updateHoverStyles(a,n))}notifyPlugins(t,n,a){return this._plugins.notify(this,t,n,a)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,a){const l=this.options.hover,o=(f,g)=>f.filter(m=>!g.some(b=>m.datasetIndex===b.datasetIndex&&m.index===b.index)),u=o(n,t),h=a?t:o(t,n);u.length&&this.updateHoverStyle(u,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,n){const a={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",a,l)===!1)return;const o=this._handleEvent(t,n,a.inChartArea);return a.cancelable=!1,this.notifyPlugins("afterEvent",a,l),(o||a.changed)&&this.render(),this}_handleEvent(t,n,a){const{_active:l=[],options:o}=this,u=n,h=this._getActiveElements(t,l,a,u),f=Qw(t),g=qT(t,this._lastEvent,a,f);a&&(this._lastEvent=null,Pt(o.onHover,[t,h,this],this),f&&Pt(o.onClick,[t,h,this],this));const m=!Co(h,l);return(m||n)&&(this._active=h,this._updateHoverStyles(h,l,n)),this._lastEvent=g,m}_getActiveElements(t,n,a,l){if(t.type==="mouseout")return[];if(!a)return n;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,l)}};function Dy(){return Dt(Vo.instances,i=>i._plugins.invalidate())}function hv(i,t,n=t){i.lineCap=xt(n.borderCapStyle,t.borderCapStyle),i.setLineDash(xt(n.borderDash,t.borderDash)),i.lineDashOffset=xt(n.borderDashOffset,t.borderDashOffset),i.lineJoin=xt(n.borderJoinStyle,t.borderJoinStyle),i.lineWidth=xt(n.borderWidth,t.borderWidth),i.strokeStyle=xt(n.borderColor,t.borderColor)}function PT(i,t,n){i.lineTo(n.x,n.y)}function $T(i){return i.stepped?OS:i.tension||i.cubicInterpolationMode==="monotone"?AS:PT}function fv(i,t,n={}){const a=i.length,{start:l=0,end:o=a-1}=n,{start:u,end:h}=t,f=Math.max(l,u),g=Math.min(o,h),m=l<u&&o<u||l>h&&o>h;return{count:a,start:f,loop:t.loop,ilen:g<f&&!m?a+g-f:g-f}}function VT(i,t,n,a){const{points:l,options:o}=t,{count:u,start:h,loop:f,ilen:g}=fv(l,n,a),m=$T(o);let{move:b=!0,reverse:v}=a||{},_,S,x;for(_=0;_<=g;++_)S=l[(h+(v?g-_:_))%u],!S.skip&&(b?(i.moveTo(S.x,S.y),b=!1):m(i,x,S,v,o.stepped),x=S);return f&&(S=l[(h+(v?g:0))%u],m(i,x,S,v,o.stepped)),!!f}function IT(i,t,n,a){const l=t.points,{count:o,start:u,ilen:h}=fv(l,n,a),{move:f=!0,reverse:g}=a||{};let m=0,b=0,v,_,S,x,T,C;const U=B=>(u+(g?h-B:B))%o,M=()=>{x!==T&&(i.lineTo(m,T),i.lineTo(m,x),i.lineTo(m,C))};for(f&&(_=l[U(0)],i.moveTo(_.x,_.y)),v=0;v<=h;++v){if(_=l[U(v)],_.skip)continue;const B=_.x,q=_.y,Y=B|0;Y===S?(q<x?x=q:q>T&&(T=q),m=(b*m+B)/++b):(M(),i.lineTo(B,q),S=Y,b=0,x=T=q),C=q}M()}function Fh(i){const t=i.options,n=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?IT:VT}function GT(i){return i.stepped?rx:i.tension||i.cubicInterpolationMode==="monotone"?lx:Ki}function YT(i,t,n,a){let l=t._path;l||(l=t._path=new Path2D,t.path(l,n,a)&&l.closePath()),hv(i,t.options),i.stroke(l)}function KT(i,t,n,a){const{segments:l,options:o}=t,u=Fh(t);for(const h of l)hv(i,o,h.style),i.beginPath(),u(i,t,h,{start:n,end:n+a-1})&&i.closePath(),i.stroke()}const FT=typeof Path2D=="function";function XT(i,t,n,a){FT&&!t.options.segment?YT(i,t,n,a):KT(i,t,n,a)}class Io extends ss{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const a=this.options;if((a.tension||a.cubicInterpolationMode==="monotone")&&!a.stepped&&!this._pointsUpdated){const l=a.spanGaps?this._loop:this._fullLoop;JS(this._points,a,t,l,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dx(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,a=t.length;return a&&n[t[a-1].end]}interpolate(t,n){const a=this.options,l=t[n],o=this.points,u=Qb(this,{property:n,start:l,end:l});if(!u.length)return;const h=[],f=GT(a);let g,m;for(g=0,m=u.length;g<m;++g){const{start:b,end:v}=u[g],_=o[b],S=o[v];if(_===S){h.push(_);continue}const x=Math.abs((l-_[n])/(S[n]-_[n])),T=f(_,S,x,a.stepped);T[n]=t[n],h.push(T)}return h.length===1?h[0]:h}pathSegment(t,n,a){return Fh(this)(t,this,n,a)}path(t,n,a){const l=this.segments,o=Fh(this);let u=this._loop;n=n||0,a=a||this.points.length-n;for(const h of l)u&=o(t,this,h,{start:n,end:n+a-1});return!!u}draw(t,n,a,l){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),XT(t,this,a,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function jy(i,t,n,a){const l=i.options,{[n]:o}=i.getProps([n],a);return Math.abs(t-o)<l.radius+l.hitRadius}class WT extends ss{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,n,a){const l=this.options,{x:o,y:u}=this.getProps(["x","y"],a);return Math.pow(t-o,2)+Math.pow(n-u,2)<Math.pow(l.hitRadius+l.radius,2)}inXRange(t,n){return jy(this,t,"x",n)}inYRange(t,n){return jy(this,t,"y",n)}getCenterPoint(t){const{x:n,y:a}=this.getProps(["x","y"],t);return{x:n,y:a}}size(t){t=t||this.options||{};let n=t.radius||0;n=Math.max(n,n&&t.hoverRadius||0);const a=n&&t.borderWidth||0;return(n+a)*2}draw(t,n){const a=this.options;this.skip||a.radius<.1||!Or(this,n,this.size(a)/2)||(t.strokeStyle=a.borderColor,t.lineWidth=a.borderWidth,t.fillStyle=a.backgroundColor,Ih(t,a,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function QT(i,t,n){const a=i.segments,l=i.points,o=t.points,u=[];for(const h of a){let{start:f,end:g}=h;g=Go(f,g,l);const m=Xh(n,l[f],l[g],h.loop);if(!t.segments){u.push({source:h,target:m,start:l[f],end:l[g]});continue}const b=Qb(t,m);for(const v of b){const _=Xh(n,o[v.start],o[v.end],v.loop),S=Wb(h,l,_);for(const x of S)u.push({source:x,target:v,start:{[n]:zy(m,_,"start",Math.max)},end:{[n]:zy(m,_,"end",Math.min)}})}}return u}function Xh(i,t,n,a){if(a)return;let l=t[i],o=n[i];return i==="angle"&&(l=vn(l),o=vn(o)),{property:i,start:l,end:o}}function JT(i,t){const{x:n=null,y:a=null}=i||{},l=t.points,o=[];return t.segments.forEach(({start:u,end:h})=>{h=Go(u,h,l);const f=l[u],g=l[h];a!==null?(o.push({x:f.x,y:a}),o.push({x:g.x,y:a})):n!==null&&(o.push({x:n,y:f.y}),o.push({x:n,y:g.y}))}),o}function Go(i,t,n){for(;t>i;t--){const a=n[t];if(!isNaN(a.x)&&!isNaN(a.y))break}return t}function zy(i,t,n,a){return i&&t?a(i[n],t[n]):i?i[n]:t?t[n]:0}function dv(i,t){let n=[],a=!1;return ie(i)?(a=!0,n=i):n=JT(i,t),n.length?new Io({points:n,options:{tension:0},_loop:a,_fullLoop:a}):null}function Ny(i){return i&&i.fill!==!1}function ZT(i,t,n){let l=i[t].fill;const o=[t];let u;if(!n)return l;for(;l!==!1&&o.indexOf(l)===-1;){if(!be(l))return l;if(u=i[l],!u)return!1;if(u.visible)return l;o.push(l),l=u.fill}return!1}function t1(i,t,n){const a=s1(i);if(Tt(a))return isNaN(a.value)?!1:a;let l=parseFloat(a);return be(l)&&Math.floor(l)===l?e1(a[0],t,l,n):["origin","start","end","stack","shape"].indexOf(a)>=0&&a}function e1(i,t,n,a){return(i==="-"||i==="+")&&(n=t+n),n===t||n<0||n>=a?!1:n}function n1(i,t){let n=null;return i==="start"?n=t.bottom:i==="end"?n=t.top:Tt(i)?n=t.getPixelForValue(i.value):t.getBasePixel&&(n=t.getBasePixel()),n}function i1(i,t,n){let a;return i==="start"?a=n:i==="end"?a=t.options.reverse?t.min:t.max:Tt(i)?a=i.value:a=t.getBaseValue(),a}function s1(i){const t=i.options,n=t.fill;let a=xt(n&&n.target,n);return a===void 0&&(a=!!t.backgroundColor),a===!1||a===null?!1:a===!0?"origin":a}function a1(i){const{scale:t,index:n,line:a}=i,l=[],o=a.segments,u=a.points,h=r1(t,n);h.push(dv({x:null,y:t.bottom},a));for(let f=0;f<o.length;f++){const g=o[f];for(let m=g.start;m<=g.end;m++)l1(l,u[m],h)}return new Io({points:l,options:{}})}function r1(i,t){const n=[],a=i.getMatchingVisibleMetas("line");for(let l=0;l<a.length;l++){const o=a[l];if(o.index===t)break;o.hidden||n.unshift(o.dataset)}return n}function l1(i,t,n){const a=[];for(let l=0;l<n.length;l++){const o=n[l],{first:u,last:h,point:f}=o1(o,t,"x");if(!(!f||u&&h)){if(u)a.unshift(f);else if(i.push(f),!h)break}}i.push(...a)}function o1(i,t,n){const a=i.interpolate(t,n);if(!a)return{};const l=a[n],o=i.segments,u=i.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const m=o[g],b=u[m.start][n],v=u[m.end][n];if(ta(l,b,v)){h=l===b,f=l===v;break}}return{first:h,last:f,point:a}}class gv{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,a){const{x:l,y:o,radius:u}=this;return n=n||{start:0,end:hn},t.arc(l,o,u,n.end,n.start,!0),!a.bounds}interpolate(t){const{x:n,y:a,radius:l}=this,o=t.angle;return{x:n+Math.cos(o)*l,y:a+Math.sin(o)*l,angle:o}}}function c1(i){const{chart:t,fill:n,line:a}=i;if(be(n))return u1(t,n);if(n==="stack")return a1(i);if(n==="shape")return!0;const l=h1(i);return l instanceof gv?l:dv(l,a)}function u1(i,t){const n=i.getDatasetMeta(t);return n&&i.isDatasetVisible(t)?n.dataset:null}function h1(i){return(i.scale||{}).getPointPositionForValue?d1(i):f1(i)}function f1(i){const{scale:t={},fill:n}=i,a=n1(n,t);if(be(a)){const l=t.isHorizontal();return{x:l?a:null,y:l?null:a}}return null}function d1(i){const{scale:t,fill:n}=i,a=t.options,l=t.getLabels().length,o=a.reverse?t.max:t.min,u=i1(n,t,o),h=[];if(a.grid.circular){const f=t.getPointPositionForValue(0,o);return new gv({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(u)})}for(let f=0;f<l;++f)h.push(t.getPointPositionForValue(f,u));return h}function Rh(i,t,n){const a=c1(t),{chart:l,index:o,line:u,scale:h,axis:f}=t,g=u.options,m=g.fill,b=g.backgroundColor,{above:v=b,below:_=b}=m||{},S=l.getDatasetMeta(o),x=Jb(l,S);a&&u.points.length&&(Ho(i,n),g1(i,{line:u,target:a,above:v,below:_,area:n,scale:h,axis:f,clip:x}),qo(i))}function g1(i,t){const{line:n,target:a,above:l,below:o,area:u,scale:h,clip:f}=t,g=n._loop?"angle":t.axis;i.save();let m=o;o!==l&&(g==="x"?(Uy(i,a,u.top),Mh(i,{line:n,target:a,color:l,scale:h,property:g,clip:f}),i.restore(),i.save(),Uy(i,a,u.bottom)):g==="y"&&(Ly(i,a,u.left),Mh(i,{line:n,target:a,color:o,scale:h,property:g,clip:f}),i.restore(),i.save(),Ly(i,a,u.right),m=l)),Mh(i,{line:n,target:a,color:m,scale:h,property:g,clip:f}),i.restore()}function Uy(i,t,n){const{segments:a,points:l}=t;let o=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,m=l[f],b=l[Go(f,g,l)];o?(i.moveTo(m.x,m.y),o=!1):(i.lineTo(m.x,n),i.lineTo(m.x,m.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(b.x,n)}i.lineTo(t.first().x,n),i.closePath(),i.clip()}function Ly(i,t,n){const{segments:a,points:l}=t;let o=!0,u=!1;i.beginPath();for(const h of a){const{start:f,end:g}=h,m=l[f],b=l[Go(f,g,l)];o?(i.moveTo(m.x,m.y),o=!1):(i.lineTo(n,m.y),i.lineTo(m.x,m.y)),u=!!t.pathSegment(i,h,{move:u}),u?i.closePath():i.lineTo(n,b.y)}i.lineTo(n,t.first().y),i.closePath(),i.clip()}function Mh(i,t){const{line:n,target:a,property:l,color:o,scale:u,clip:h}=t,f=QT(n,a,l);for(const{source:g,target:m,start:b,end:v}of f){const{style:{backgroundColor:_=o}={}}=g,S=a!==!0;i.save(),i.fillStyle=_,p1(i,u,h,S&&Xh(l,b,v)),i.beginPath();const x=!!n.pathSegment(i,g);let T;if(S){x?i.closePath():By(i,a,v,l);const C=!!a.pathSegment(i,m,{move:x,reverse:!0});T=x&&C,T||By(i,a,b,l)}i.closePath(),i.fill(T?"evenodd":"nonzero"),i.restore()}}function p1(i,t,n,a){const l=t.chart.chartArea,{property:o,start:u,end:h}=a||{};if(o==="x"||o==="y"){let f,g,m,b;o==="x"?(f=u,g=l.top,m=h,b=l.bottom):(f=l.left,g=u,m=l.right,b=h),i.beginPath(),n&&(f=Math.max(f,n.left),m=Math.min(m,n.right),g=Math.max(g,n.top),b=Math.min(b,n.bottom)),i.rect(f,g,m-f,b-g),i.clip()}}function By(i,t,n,a){const l=t.interpolate(n,a);l&&i.lineTo(l.x,l.y)}var m1={id:"filler",afterDatasetsUpdate(i,t,n){const a=(i.data.datasets||[]).length,l=[];let o,u,h,f;for(u=0;u<a;++u)o=i.getDatasetMeta(u),h=o.dataset,f=null,h&&h.options&&h instanceof Io&&(f={visible:i.isDatasetVisible(u),index:u,fill:t1(h,u,a),chart:i,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,l.push(f);for(u=0;u<a;++u)f=l[u],!(!f||f.fill===!1)&&(f.fill=ZT(l,u,n.propagate))},beforeDraw(i,t,n){const a=n.drawTime==="beforeDraw",l=i.getSortedVisibleDatasetMetas(),o=i.chartArea;for(let u=l.length-1;u>=0;--u){const h=l[u].$filler;h&&(h.line.updateControlPoints(o,h.axis),a&&h.fill&&Rh(i.ctx,h,o))}},beforeDatasetsDraw(i,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const a=i.getSortedVisibleDatasetMetas();for(let l=a.length-1;l>=0;--l){const o=a[l].$filler;Ny(o)&&Rh(i.ctx,o,i.chartArea)}},beforeDatasetDraw(i,t,n){const a=t.meta.$filler;!Ny(a)||n.drawTime!=="beforeDatasetDraw"||Rh(i.ctx,a,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Hy=(i,t)=>{let{boxHeight:n=t,boxWidth:a=t}=i;return i.usePointStyle&&(n=Math.min(n,t),a=i.pointStyleWidth||Math.min(a,t)),{boxWidth:a,boxHeight:n,itemHeight:Math.max(t,n)}},y1=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class qy extends ss{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,a){this.maxWidth=t,this.maxHeight=n,this._margins=a,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Pt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(a=>t.filter(a,this.chart.data))),t.sort&&(n=n.sort((a,l)=>t.sort(a,l,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const a=t.labels,l=me(a.font),o=l.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=Hy(a,o);let g,m;n.font=l.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(u,o,h,f)+10):(m=this.maxHeight,g=this._fitCols(u,l,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,n,a,l){const{ctx:o,maxWidth:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],m=l+h;let b=t;o.textAlign="left",o.textBaseline="middle";let v=-1,_=-m;return this.legendItems.forEach((S,x)=>{const T=a+n/2+o.measureText(S.text).width;(x===0||g[g.length-1]+T+2*h>u)&&(b+=m,g[g.length-(x>0?0:1)]=0,_+=m,v++),f[x]={left:0,top:_,row:v,width:T,height:l},g[g.length-1]+=T+h}),b}_fitCols(t,n,a,l){const{ctx:o,maxHeight:u,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],m=u-t;let b=h,v=0,_=0,S=0,x=0;return this.legendItems.forEach((T,C)=>{const{itemWidth:U,itemHeight:M}=b1(a,n,o,T,l);C>0&&_+M+2*h>m&&(b+=v+h,g.push({width:v,height:_}),S+=v+h,x++,v=_=0),f[C]={left:S,top:_,col:x,width:U,height:M},v=Math.max(v,U),_+=M+h}),b+=v,g.push({width:v,height:_}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:a,labels:{padding:l},rtl:o}}=this,u=ia(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=pe(a,this.left+l,this.right-this.lineWidths[h]);for(const g of n)h!==g.row&&(h=g.row,f=pe(a,this.left+l,this.right-this.lineWidths[h])),g.top+=this.top+t+l,g.left=u.leftForLtr(u.x(f),g.width),f+=g.width+l}else{let h=0,f=pe(a,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const g of n)g.col!==h&&(h=g.col,f=pe(a,this.top+t+l,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+l,g.left=u.leftForLtr(u.x(g.left),g.width),f+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ho(t,this),this._draw(),qo(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:a,ctx:l}=this,{align:o,labels:u}=t,h=Xt.color,f=ia(t.rtl,this.left,this.width),g=me(u.font),{padding:m}=u,b=g.size,v=b/2;let _;this.drawTitle(),l.textAlign=f.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;const{boxWidth:S,boxHeight:x,itemHeight:T}=Hy(u,b),C=function(Y,V,K){if(isNaN(S)||S<=0||isNaN(x)||x<0)return;l.save();const Z=xt(K.lineWidth,1);if(l.fillStyle=xt(K.fillStyle,h),l.lineCap=xt(K.lineCap,"butt"),l.lineDashOffset=xt(K.lineDashOffset,0),l.lineJoin=xt(K.lineJoin,"miter"),l.lineWidth=Z,l.strokeStyle=xt(K.strokeStyle,h),l.setLineDash(xt(K.lineDash,[])),u.usePointStyle){const ft={radius:x*Math.SQRT2/2,pointStyle:K.pointStyle,rotation:K.rotation,borderWidth:Z},lt=f.xPlus(Y,S/2),X=V+v;qb(l,ft,lt,X,u.pointStyleWidth&&S)}else{const ft=V+Math.max((b-x)/2,0),lt=f.leftForLtr(Y,S),X=_r(K.borderRadius);l.beginPath(),Object.values(X).some(Et=>Et!==0)?Gh(l,{x:lt,y:ft,w:S,h:x,radius:X}):l.rect(lt,ft,S,x),l.fill(),Z!==0&&l.stroke()}l.restore()},U=function(Y,V,K){Ar(l,K.text,Y,V+T/2,g,{strikethrough:K.hidden,textAlign:f.textAlign(K.textAlign)})},M=this.isHorizontal(),B=this._computeTitleHeight();M?_={x:pe(o,this.left+m,this.right-a[0]),y:this.top+m+B,line:0}:_={x:this.left+m,y:pe(o,this.top+B+m,this.bottom-n[0].height),line:0},Kb(this.ctx,t.textDirection);const q=T+m;this.legendItems.forEach((Y,V)=>{l.strokeStyle=Y.fontColor,l.fillStyle=Y.fontColor;const K=l.measureText(Y.text).width,Z=f.textAlign(Y.textAlign||(Y.textAlign=u.textAlign)),ft=S+v+K;let lt=_.x,X=_.y;f.setWidth(this.width),M?V>0&&lt+ft+m>this.right&&(X=_.y+=q,_.line++,lt=_.x=pe(o,this.left+m,this.right-a[_.line])):V>0&&X+q>this.bottom&&(lt=_.x=lt+n[_.line].width+m,_.line++,X=_.y=pe(o,this.top+B+m,this.bottom-n[_.line].height));const Et=f.x(lt);if(C(Et,X,Y),lt=dS(Z,lt+S+v,M?lt+ft:this.right,t.rtl),U(f.x(lt),X,Y),M)_.x+=ft+m;else if(typeof Y.text!="string"){const nt=g.lineHeight;_.y+=pv(Y,nt)+m}else _.y+=q}),Fb(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,a=me(n.font),l=nn(n.padding);if(!n.display)return;const o=ia(t.rtl,this.left,this.width),u=this.ctx,h=n.position,f=a.size/2,g=l.top+f;let m,b=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),m=this.top+g,b=pe(t.align,b,this.right-v);else{const S=this.columnSizes.reduce((x,T)=>Math.max(x,T.height),0);m=g+pe(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const _=pe(h,b,b+v);u.textAlign=o.textAlign(mf(h)),u.textBaseline="middle",u.strokeStyle=n.color,u.fillStyle=n.color,u.font=a.string,Ar(u,n.text,_,m,a)}_computeTitleHeight(){const t=this.options.title,n=me(t.font),a=nn(t.padding);return t.display?n.lineHeight+a.height:0}_getLegendItemAt(t,n){let a,l,o;if(ta(t,this.left,this.right)&&ta(n,this.top,this.bottom)){for(o=this.legendHitBoxes,a=0;a<o.length;++a)if(l=o[a],ta(t,l.left,l.left+l.width)&&ta(n,l.top,l.top+l.height))return this.legendItems[a]}return null}handleEvent(t){const n=this.options;if(!w1(t.type,n))return;const a=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,o=y1(l,a);l&&!o&&Pt(n.onLeave,[t,l,this],this),this._hoveredItem=a,a&&!o&&Pt(n.onHover,[t,a,this],this)}else a&&Pt(n.onClick,[t,a,this],this)}}function b1(i,t,n,a,l){const o=v1(a,i,t,n),u=_1(l,a,t.lineHeight);return{itemWidth:o,itemHeight:u}}function v1(i,t,n,a){let l=i.text;return l&&typeof l!="string"&&(l=l.reduce((o,u)=>o.length>u.length?o:u)),t+n.size/2+a.measureText(l).width}function _1(i,t,n){let a=i;return typeof t.text!="string"&&(a=pv(t,n)),a}function pv(i,t){const n=i.text?i.text.length:0;return t*n}function w1(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var S1={id:"legend",_element:qy,start(i,t,n){const a=i.legend=new qy({ctx:i.ctx,options:n,chart:i});en.configure(i,a,n),en.addBox(i,a)},stop(i){en.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,n){const a=i.legend;en.configure(i,a,n),a.options=n},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,n){const a=t.datasetIndex,l=n.chart;l.isDatasetVisible(a)?(l.hide(a),t.hidden=!0):(l.show(a),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:n,pointStyle:a,textAlign:l,color:o,useBorderRadius:u,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(n?0:void 0),m=nn(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:a||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};let mv=class extends ss{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const a=this.options;if(this.left=0,this.top=0,!a.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const l=ie(a.text)?a.text.length:1;this._padding=nn(a.padding);const o=l*me(a.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:a,bottom:l,right:o,options:u}=this,h=u.align;let f=0,g,m,b;return this.isHorizontal()?(m=pe(h,a,o),b=n+t,g=o-a):(u.position==="left"?(m=a+t,b=pe(h,l,n),f=re*-.5):(m=o-t,b=pe(h,n,l),f=re*.5),g=l-n),{titleX:m,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const a=me(n.font),o=a.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);Ar(t,n.text,0,0,a,{color:n.color,maxWidth:f,rotation:g,textAlign:mf(n.align),textBaseline:"middle",translation:[u,h]})}};function x1(i,t){const n=new mv({ctx:i.ctx,options:t,chart:i});en.configure(i,n,t),en.addBox(i,n),i.titleBlock=n}var T1={id:"title",_element:mv,start(i,t,n){x1(i,n)},stop(i){const t=i.titleBlock;en.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,n){const a=i.titleBlock;en.configure(i,a,n),a.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dr={average(i){if(!i.length)return!1;let t,n,a=new Set,l=0,o=0;for(t=0,n=i.length;t<n;++t){const h=i[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();a.add(f.x),l+=f.y,++o}}return o===0||a.size===0?!1:{x:[...a].reduce((h,f)=>h+f)/a.size,y:l/o}},nearest(i,t){if(!i.length)return!1;let n=t.x,a=t.y,l=Number.POSITIVE_INFINITY,o,u,h;for(o=0,u=i.length;o<u;++o){const f=i[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),m=$h(t,g);m<l&&(l=m,h=f)}}if(h){const f=h.tooltipPosition();n=f.x,a=f.y}return{x:n,y:a}}};function yn(i,t){return t&&(ie(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function qn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function E1(i,t){const{element:n,datasetIndex:a,index:l}=t,o=i.getDatasetMeta(a).controller,{label:u,value:h}=o.getLabelAndValue(l);return{chart:i,label:u,parsed:o.getParsed(l),raw:i.data.datasets[a].data[l],formattedValue:h,dataset:o.getDataset(),dataIndex:l,datasetIndex:a,element:n}}function Py(i,t){const n=i.chart.ctx,{body:a,footer:l,title:o}=i,{boxWidth:u,boxHeight:h}=t,f=me(t.bodyFont),g=me(t.titleFont),m=me(t.footerFont),b=o.length,v=l.length,_=a.length,S=nn(t.padding);let x=S.height,T=0,C=a.reduce((B,q)=>B+q.before.length+q.lines.length+q.after.length,0);if(C+=i.beforeBody.length+i.afterBody.length,b&&(x+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),C){const B=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;x+=_*B+(C-_)*f.lineHeight+(C-1)*t.bodySpacing}v&&(x+=t.footerMarginTop+v*m.lineHeight+(v-1)*t.footerSpacing);let U=0;const M=function(B){T=Math.max(T,n.measureText(B).width+U)};return n.save(),n.font=g.string,Dt(i.title,M),n.font=f.string,Dt(i.beforeBody.concat(i.afterBody),M),U=t.displayColors?u+2+t.boxPadding:0,Dt(a,B=>{Dt(B.before,M),Dt(B.lines,M),Dt(B.after,M)}),U=0,n.font=m.string,Dt(i.footer,M),n.restore(),T+=S.width,{width:T,height:x}}function O1(i,t){const{y:n,height:a}=t;return n<a/2?"top":n>i.height-a/2?"bottom":"center"}function A1(i,t,n,a){const{x:l,width:o}=a,u=n.caretSize+n.caretPadding;if(i==="left"&&l+o+u>t.width||i==="right"&&l-o-u<0)return!0}function C1(i,t,n,a){const{x:l,width:o}=n,{width:u,chartArea:{left:h,right:f}}=i;let g="center";return a==="center"?g=l<=(h+f)/2?"left":"right":l<=o/2?g="left":l>=u-o/2&&(g="right"),A1(g,i,t,n)&&(g="center"),g}function $y(i,t,n){const a=n.yAlign||t.yAlign||O1(i,n);return{xAlign:n.xAlign||t.xAlign||C1(i,t,n,a),yAlign:a}}function k1(i,t){let{x:n,width:a}=i;return t==="right"?n-=a:t==="center"&&(n-=a/2),n}function R1(i,t,n){let{y:a,height:l}=i;return t==="top"?a+=n:t==="bottom"?a-=l+n:a-=l/2,a}function Vy(i,t,n,a){const{caretSize:l,caretPadding:o,cornerRadius:u}=i,{xAlign:h,yAlign:f}=n,g=l+o,{topLeft:m,topRight:b,bottomLeft:v,bottomRight:_}=_r(u);let S=k1(t,h);const x=R1(t,f,g);return f==="center"?h==="left"?S+=g:h==="right"&&(S-=g):h==="left"?S-=Math.max(m,v)+l:h==="right"&&(S+=Math.max(b,_)+l),{x:tn(S,0,a.width-t.width),y:tn(x,0,a.height-t.height)}}function po(i,t,n){const a=nn(n.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-a.right:i.x+a.left}function Iy(i){return yn([],qn(i))}function M1(i,t,n){return is(i,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Gy(i,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?i.override(n):i}const yv={beforeTitle:Bn,title(i){if(i.length>0){const t=i[0],n=t.chart.data.labels,a=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(a>0&&t.dataIndex<a)return n[t.dataIndex]}return""},afterTitle:Bn,beforeBody:Bn,beforeLabel:Bn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const n=i.formattedValue;return Bt(n)||(t+=n),t},labelColor(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const n=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Bn,afterBody:Bn,beforeFooter:Bn,footer:Bn,afterFooter:Bn};function Ce(i,t,n,a){const l=i[t].call(n,a);return typeof l>"u"?yv[t].call(n,a):l}class Yy extends ss{static positioners=dr;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,a=this.options.setContext(this.getContext()),l=a.enabled&&n.options.animation&&a.animations,o=new Zb(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=M1(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:a}=n,l=Ce(a,"beforeTitle",this,t),o=Ce(a,"title",this,t),u=Ce(a,"afterTitle",this,t);let h=[];return h=yn(h,qn(l)),h=yn(h,qn(o)),h=yn(h,qn(u)),h}getBeforeBody(t,n){return Iy(Ce(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:a}=n,l=[];return Dt(t,o=>{const u={before:[],lines:[],after:[]},h=Gy(a,o);yn(u.before,qn(Ce(h,"beforeLabel",this,o))),yn(u.lines,Ce(h,"label",this,o)),yn(u.after,qn(Ce(h,"afterLabel",this,o))),l.push(u)}),l}getAfterBody(t,n){return Iy(Ce(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:a}=n,l=Ce(a,"beforeFooter",this,t),o=Ce(a,"footer",this,t),u=Ce(a,"afterFooter",this,t);let h=[];return h=yn(h,qn(l)),h=yn(h,qn(o)),h=yn(h,qn(u)),h}_createItems(t){const n=this._active,a=this.chart.data,l=[],o=[],u=[];let h=[],f,g;for(f=0,g=n.length;f<g;++f)h.push(E1(this.chart,n[f]));return t.filter&&(h=h.filter((m,b,v)=>t.filter(m,b,v,a))),t.itemSort&&(h=h.sort((m,b)=>t.itemSort(m,b,a))),Dt(h,m=>{const b=Gy(t.callbacks,m);l.push(Ce(b,"labelColor",this,m)),o.push(Ce(b,"labelPointStyle",this,m)),u.push(Ce(b,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=o,this.labelTextColors=u,this.dataPoints=h,h}update(t,n){const a=this.options.setContext(this.getContext()),l=this._active;let o,u=[];if(!l.length)this.opacity!==0&&(o={opacity:0});else{const h=dr[a.position].call(this,l,this._eventPosition);u=this._createItems(a),this.title=this.getTitle(u,a),this.beforeBody=this.getBeforeBody(u,a),this.body=this.getBody(u,a),this.afterBody=this.getAfterBody(u,a),this.footer=this.getFooter(u,a);const f=this._size=Py(this,a),g=Object.assign({},h,f),m=$y(this.chart,a,g),b=Vy(a,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&a.external&&a.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,a,l){const o=this.getCaretPosition(t,a,l);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(t,n,a){const{xAlign:l,yAlign:o}=this,{caretSize:u,cornerRadius:h}=a,{topLeft:f,topRight:g,bottomLeft:m,bottomRight:b}=_r(h),{x:v,y:_}=t,{width:S,height:x}=n;let T,C,U,M,B,q;return o==="center"?(B=_+x/2,l==="left"?(T=v,C=T-u,M=B+u,q=B-u):(T=v+S,C=T+u,M=B-u,q=B+u),U=T):(l==="left"?C=v+Math.max(f,m)+u:l==="right"?C=v+S-Math.max(g,b)-u:C=this.caretX,o==="top"?(M=_,B=M-u,T=C-u,U=C+u):(M=_+x,B=M+u,T=C+u,U=C-u),q=M),{x1:T,x2:C,x3:U,y1:M,y2:B,y3:q}}drawTitle(t,n,a){const l=this.title,o=l.length;let u,h,f;if(o){const g=ia(a.rtl,this.x,this.width);for(t.x=po(this,a.titleAlign,a),n.textAlign=g.textAlign(a.titleAlign),n.textBaseline="middle",u=me(a.titleFont),h=a.titleSpacing,n.fillStyle=a.titleColor,n.font=u.string,f=0;f<o;++f)n.fillText(l[f],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,f+1===o&&(t.y+=a.titleMarginBottom-h)}}_drawColorBox(t,n,a,l,o){const u=this.labelColors[a],h=this.labelPointStyles[a],{boxHeight:f,boxWidth:g}=o,m=me(o.bodyFont),b=po(this,"left",o),v=l.x(b),_=f<m.lineHeight?(m.lineHeight-f)/2:0,S=n.y+_;if(o.usePointStyle){const x={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},T=l.leftForLtr(v,g)+g/2,C=S+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ih(t,x,T,C),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,Ih(t,x,T,C)}else{t.lineWidth=Tt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const x=l.leftForLtr(v,g),T=l.leftForLtr(l.xPlus(v,1),g-2),C=_r(u.borderRadius);Object.values(C).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Gh(t,{x,y:S,w:g,h:f,radius:C}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),Gh(t,{x:T,y:S+1,w:g-2,h:f-2,radius:C}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(x,S,g,f),t.strokeRect(x,S,g,f),t.fillStyle=u.backgroundColor,t.fillRect(T,S+1,g-2,f-2))}t.fillStyle=this.labelTextColors[a]}drawBody(t,n,a){const{body:l}=this,{bodySpacing:o,bodyAlign:u,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:m}=a,b=me(a.bodyFont);let v=b.lineHeight,_=0;const S=ia(a.rtl,this.x,this.width),x=function(K){n.fillText(K,S.x(t.x+_),t.y+v/2),t.y+=v+o},T=S.textAlign(u);let C,U,M,B,q,Y,V;for(n.textAlign=u,n.textBaseline="middle",n.font=b.string,t.x=po(this,T,a),n.fillStyle=a.bodyColor,Dt(this.beforeBody,x),_=h&&T!=="right"?u==="center"?g/2+m:g+2+m:0,B=0,Y=l.length;B<Y;++B){for(C=l[B],U=this.labelTextColors[B],n.fillStyle=U,Dt(C.before,x),M=C.lines,h&&M.length&&(this._drawColorBox(n,t,B,S,a),v=Math.max(b.lineHeight,f)),q=0,V=M.length;q<V;++q)x(M[q]),v=b.lineHeight;Dt(C.after,x)}_=0,v=b.lineHeight,Dt(this.afterBody,x),t.y-=o}drawFooter(t,n,a){const l=this.footer,o=l.length;let u,h;if(o){const f=ia(a.rtl,this.x,this.width);for(t.x=po(this,a.footerAlign,a),t.y+=a.footerMarginTop,n.textAlign=f.textAlign(a.footerAlign),n.textBaseline="middle",u=me(a.footerFont),n.fillStyle=a.footerColor,n.font=u.string,h=0;h<o;++h)n.fillText(l[h],f.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+a.footerSpacing}}drawBackground(t,n,a,l){const{xAlign:o,yAlign:u}=this,{x:h,y:f}=t,{width:g,height:m}=a,{topLeft:b,topRight:v,bottomLeft:_,bottomRight:S}=_r(l.cornerRadius);n.fillStyle=l.backgroundColor,n.strokeStyle=l.borderColor,n.lineWidth=l.borderWidth,n.beginPath(),n.moveTo(h+b,f),u==="top"&&this.drawCaret(t,n,a,l),n.lineTo(h+g-v,f),n.quadraticCurveTo(h+g,f,h+g,f+v),u==="center"&&o==="right"&&this.drawCaret(t,n,a,l),n.lineTo(h+g,f+m-S),n.quadraticCurveTo(h+g,f+m,h+g-S,f+m),u==="bottom"&&this.drawCaret(t,n,a,l),n.lineTo(h+_,f+m),n.quadraticCurveTo(h,f+m,h,f+m-_),u==="center"&&o==="left"&&this.drawCaret(t,n,a,l),n.lineTo(h,f+b),n.quadraticCurveTo(h,f,h+b,f),n.closePath(),n.fill(),l.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,a=this.$animations,l=a&&a.x,o=a&&a.y;if(l||o){const u=dr[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=Py(this,t),f=Object.assign({},u,this._size),g=$y(n,t,f),m=Vy(t,f,g,n);(l._to!==m.x||o._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let a=this.opacity;if(!a)return;this._updateAnimationTarget(n);const l={width:this.width,height:this.height},o={x:this.x,y:this.y};a=Math.abs(a)<.001?0:a;const u=nn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(t.save(),t.globalAlpha=a,this.drawBackground(o,t,l,n),Kb(t,n.textDirection),o.y+=u.top,this.drawTitle(o,t,n),this.drawBody(o,t,n),this.drawFooter(o,t,n),Fb(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const a=this._active,l=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Co(a,l),u=this._positionChanged(l,n);(o||u)&&(this._active=l,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,a=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,o=this._active||[],u=this._getActiveElements(t,o,n,a),h=this._positionChanged(u,t),f=n||!Co(u,o)||h;return f&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),f}_getActiveElements(t,n,a,l){const o=this.options;if(t.type==="mouseout")return[];if(!l)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,o.mode,o,a);return o.reverse&&u.reverse(),u}_positionChanged(t,n){const{caretX:a,caretY:l,options:o}=this,u=dr[o.position].call(this,t,n);return u!==!1&&(a!==u.x||l!==u.y)}}var D1={id:"tooltip",_element:Yy,positioners:dr,afterInit(i,t,n){n&&(i.tooltip=new Yy({chart:i,options:n}))},beforeUpdate(i,t,n){i.tooltip&&i.tooltip.initialize(n)},reset(i,t,n){i.tooltip&&i.tooltip.initialize(n)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",n)}},afterEvent(i,t){if(i.tooltip){const n=t.replay;i.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yv},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const j1=(i,t,n,a)=>(typeof t=="string"?(n=i.push(t)-1,a.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function z1(i,t,n,a){const l=i.indexOf(t);if(l===-1)return j1(i,t,n,a);const o=i.lastIndexOf(t);return l!==o?n:l}const N1=(i,t)=>i===null?null:tn(Math.round(i),0,t);function Ky(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class U1 extends oa{static id="category";static defaults={ticks:{callback:Ky}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const a=this.getLabels();for(const{index:l,label:o}of n)a[l]===o&&a.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Bt(t))return null;const a=this.getLabels();return n=isFinite(n)&&a[n]===t?n:z1(a,t,xt(n,t),this._addedLabels),N1(n,a.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:a,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(a=0),n||(l=this.getLabels().length-1)),this.min=a,this.max=l}buildTicks(){const t=this.min,n=this.max,a=this.options.offset,l=[];let o=this.getLabels();o=t===0&&n===o.length-1?o:o.slice(t,n+1),this._valueRange=Math.max(o.length-(a?0:1),1),this._startValue=this.min-(a?.5:0);for(let u=t;u<=n;u++)l.push({value:u});return l}getLabelForValue(t){return Ky.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function L1(i,t){const n=[],{bounds:l,step:o,min:u,max:h,precision:f,count:g,maxTicks:m,maxDigits:b,includeBounds:v}=i,_=o||1,S=m-1,{min:x,max:T}=t,C=!Bt(u),U=!Bt(h),M=!Bt(g),B=(T-x)/(b+1);let q=Ym((T-x)/S/_)*_,Y,V,K,Z;if(q<1e-14&&!C&&!U)return[{value:x},{value:T}];Z=Math.ceil(T/q)-Math.floor(x/q),Z>S&&(q=Ym(Z*q/S/_)*_),Bt(f)||(Y=Math.pow(10,f),q=Math.ceil(q*Y)/Y),l==="ticks"?(V=Math.floor(x/q)*q,K=Math.ceil(T/q)*q):(V=x,K=T),C&&U&&o&&nS((h-u)/o,q/1e3)?(Z=Math.round(Math.min((h-u)/q,m)),q=(h-u)/Z,V=u,K=h):M?(V=C?u:V,K=U?h:K,Z=g-1,q=(K-V)/Z):(Z=(K-V)/q,yr(Z,Math.round(Z),q/1e3)?Z=Math.round(Z):Z=Math.ceil(Z));const ft=Math.max(Km(q),Km(V));Y=Math.pow(10,Bt(f)?ft:f),V=Math.round(V*Y)/Y,K=Math.round(K*Y)/Y;let lt=0;for(C&&(v&&V!==u?(n.push({value:u}),V<u&&lt++,yr(Math.round((V+lt*q)*Y)/Y,u,Fy(u,B,i))&&lt++):V<u&&lt++);lt<Z;++lt){const X=Math.round((V+lt*q)*Y)/Y;if(U&&X>h)break;n.push({value:X})}return U&&v&&K!==h?n.length&&yr(n[n.length-1].value,h,Fy(h,B,i))?n[n.length-1].value=h:n.push({value:h}):(!U||K===h)&&n.push({value:K}),n}function Fy(i,t,{horizontal:n,minRotation:a}){const l=Qi(a),o=(n?Math.sin(l):Math.cos(l))||.001,u=.75*t*(""+i).length;return Math.min(t/o,u)}class B1 extends oa{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:a}=this.getUserBounds();let{min:l,max:o}=this;const u=f=>l=n?l:f,h=f=>o=a?o:f;if(t){const f=aa(l),g=aa(o);f<0&&g<0?h(0):f>0&&g>0&&u(0)}if(l===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||u(l-f)}this.min=l,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:a}=t,l;return a?(l=Math.ceil(this.max/a)-Math.floor(this.min/a)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${a} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),n=n||11),n&&(l=Math.min(n,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let a=this.getTickLimit();a=Math.max(2,a);const l={maxTicks:a,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,u=L1(l,o);return t.bounds==="ticks"&&iS(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let n=this.min,a=this.max;if(super.configure(),this.options.offset&&t.length){const l=(a-n)/Math.max(t.length-1,1)/2;n-=l,a+=l}this._startValue=n,this._endValue=a,this._valueRange=a-n}getLabelForValue(t){return Bb(t,this.chart.options.locale,this.options.ticks.format)}}class H1 extends B1{static id="linear";static defaults={ticks:{callback:Hb.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=be(t)?t:0,this.max=be(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,a=Qi(this.options.ticks.minRotation),l=(t?Math.sin(a):Math.cos(a))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Yo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Re=Object.keys(Yo);function Xy(i,t){return i-t}function Wy(i,t){if(Bt(t))return null;const n=i._adapter,{parser:a,round:l,isoWeekday:o}=i._parseOpts;let u=t;return typeof a=="function"&&(u=a(u)),be(u)||(u=typeof a=="string"?n.parse(u,a):n.parse(u)),u===null?null:(l&&(u=l==="week"&&(Er(o)||o===!0)?n.startOf(u,"isoWeek",o):n.startOf(u,l)),+u)}function Qy(i,t,n,a){const l=Re.length;for(let o=Re.indexOf(i);o<l-1;++o){const u=Yo[Re[o]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((n-t)/(h*u.size))<=a)return Re[o]}return Re[l-1]}function q1(i,t,n,a,l){for(let o=Re.length-1;o>=Re.indexOf(n);o--){const u=Re[o];if(Yo[u].common&&i._adapter.diff(l,a,u)>=t-1)return u}return Re[n?Re.indexOf(n):0]}function P1(i){for(let t=Re.indexOf(i)+1,n=Re.length;t<n;++t)if(Yo[Re[t]].common)return Re[t]}function Jy(i,t,n){if(!n)i[t]=!0;else if(n.length){const{lo:a,hi:l}=pf(n,t),o=n[a]>=t?n[a]:n[l];i[o]=!0}}function $1(i,t,n,a){const l=i._adapter,o=+l.startOf(t[0].value,a),u=t[t.length-1].value;let h,f;for(h=o;h<=u;h=+l.add(h,1,a))f=n[h],f>=0&&(t[f].major=!0);return t}function Zy(i,t,n){const a=[],l={},o=t.length;let u,h;for(u=0;u<o;++u)h=t[u],l[h]=u,a.push({value:h,major:!1});return o===0||!n?a:$1(i,a,l,n)}class tb extends oa{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const a=t.time||(t.time={}),l=this._adapter=new Dx._date(t.adapters.date);l.init(n),mr(a.displayFormats,l.formats()),this._parseOpts={parser:a.parser,round:a.round,isoWeekday:a.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Wy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,a=t.time.unit||"day";let{min:l,max:o,minDefined:u,maxDefined:h}=this.getUserBounds();function f(g){!u&&!isNaN(g.min)&&(l=Math.min(l,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!u||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),l=be(l)&&!isNaN(l)?l:+n.startOf(Date.now(),a),o=be(o)&&!isNaN(o)?o:+n.endOf(Date.now(),a)+1,this.min=Math.min(l,o-1),this.max=Math.max(l+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],a=t[t.length-1]),{min:n,max:a}}buildTicks(){const t=this.options,n=t.time,a=t.ticks,l=a.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const o=this.min,u=this.max,h=cS(l,o,u);return this._unit=n.unit||(a.autoSkip?Qy(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):q1(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!a.major.enabled||this._unit==="year"?void 0:P1(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),Zy(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,a=0,l,o;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?n=1-l:n=(this.getDecimalForValue(t[1])-l)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?a=o:a=(o-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;n=tn(n,0,u),a=tn(a,0,u),this._offsets={start:n,end:a,factor:1/(n+1+a)}}_generate(){const t=this._adapter,n=this.min,a=this.max,l=this.options,o=l.time,u=o.unit||Qy(o.minUnit,n,a,this._getLabelCapacity(n)),h=xt(l.ticks.stepSize,1),f=u==="week"?o.isoWeekday:!1,g=Er(f)||f===!0,m={};let b=n,v,_;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":u),t.diff(a,n,u)>1e5*h)throw new Error(n+" and "+a+" are too far apart with stepSize of "+h+" "+u);const S=l.ticks.source==="data"&&this.getDataTimestamps();for(v=b,_=0;v<a;v=+t.add(v,h,u),_++)Jy(m,v,S);return(v===a||l.bounds==="ticks"||_===1)&&Jy(m,v,S),Object.keys(m).sort(Xy).map(x=>+x)}getLabelForValue(t){const n=this._adapter,a=this.options.time;return a.tooltipFormat?n.format(t,a.tooltipFormat):n.format(t,a.displayFormats.datetime)}format(t,n){const l=this.options.time.displayFormats,o=this._unit,u=n||l[o];return this._adapter.format(t,u)}_tickFormatFunction(t,n,a,l){const o=this.options,u=o.ticks.callback;if(u)return Pt(u,[t,n,a],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,m=f&&h[f],b=g&&h[g],v=a[n],_=g&&b&&v&&v.major;return this._adapter.format(t,l||(_?b:m))}generateTickLabels(t){let n,a,l;for(n=0,a=t.length;n<a;++n)l=t[n],l.label=this._tickFormatFunction(l.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,a=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+a)*n.factor)}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+a*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,a=this.ctx.measureText(t).width,l=Qi(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(l),u=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:a*o+h*u,h:a*u+h*o}}_getLabelCapacity(t){const n=this.options.time,a=n.displayFormats,l=a[n.unit]||a.millisecond,o=this._tickFormatFunction(t,0,Zy(this,[t],this._majorUnit),l),u=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],n,a;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(n=0,a=l.length;n<a;++n)t=t.concat(l[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,a;if(t.length)return t;const l=this.getLabels();for(n=0,a=l.length;n<a;++n)t.push(Wy(this,l[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return hS(t.sort(Xy))}}function mo(i,t,n){let a=0,l=i.length-1,o,u,h,f;n?(t>=i[a].pos&&t<=i[l].pos&&({lo:a,hi:l}=Ji(i,"pos",t)),{pos:o,time:h}=i[a],{pos:u,time:f}=i[l]):(t>=i[a].time&&t<=i[l].time&&({lo:a,hi:l}=Ji(i,"time",t)),{time:o,pos:h}=i[a],{time:u,pos:f}=i[l]);const g=u-o;return g?h+(f-h)*(t-o)/g:h}class e2 extends tb{static id="timeseries";static defaults=tb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=mo(n,this.min),this._tableRange=mo(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:a}=this,l=[],o=[];let u,h,f,g,m;for(u=0,h=t.length;u<h;++u)g=t[u],g>=n&&g<=a&&l.push(g);if(l.length<2)return[{time:n,pos:0},{time:a,pos:1}];for(u=0,h=l.length;u<h;++u)m=l[u+1],f=l[u-1],g=l[u],Math.round((m+f)/2)!==g&&o.push({time:g,pos:u/(h-1)});return o}_generate(){const t=this.min,n=this.max;let a=super.getDataTimestamps();return(!a.includes(t)||!a.length)&&a.splice(0,0,t),(!a.includes(n)||a.length===1)&&a.push(n),a.sort((l,o)=>l-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),a=this.getLabelTimestamps();return n.length&&a.length?t=this.normalize(n.concat(a)):t=n.length?n:a,t=this._cache.all=t,t}getDecimalForValue(t){return(mo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,a=this.getDecimalForPixel(t)/n.factor-n.end;return mo(this._table,a*this._tableRange+this._minPos,!0)}}const bv="label";function eb(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function V1(i,t){const n=i.options;n&&t&&Object.assign(n,t)}function vv(i,t){i.labels=t}function _v(i,t,n=bv){const a=[];i.datasets=t.map(l=>{const o=i.datasets.find(u=>u[n]===l[n]);return!o||!l.data||a.includes(o)?{...l}:(a.push(o),Object.assign(o,l),o)})}function I1(i,t=bv){const n={labels:[],datasets:[]};return vv(n,i.labels),_v(n,i.datasets,t),n}function G1(i,t){const{height:n=150,width:a=300,redraw:l=!1,datasetIdKey:o,type:u,data:h,options:f,plugins:g=[],fallbackContent:m,updateMode:b,...v}=i,_=Q.useRef(null),S=Q.useRef(null),x=()=>{_.current&&(S.current=new Vo(_.current,{type:u,data:I1(h,o),options:f&&{...f},plugins:g}),eb(t,S.current))},T=()=>{eb(t,null),S.current&&(S.current.destroy(),S.current=null)};return Q.useEffect(()=>{!l&&S.current&&f&&V1(S.current,f)},[l,f]),Q.useEffect(()=>{!l&&S.current&&vv(S.current.config.data,h.labels)},[l,h.labels]),Q.useEffect(()=>{!l&&S.current&&h.datasets&&_v(S.current.config.data,h.datasets,o)},[l,h.datasets]),Q.useEffect(()=>{S.current&&(l?(T(),setTimeout(x)):S.current.update(b))},[l,f,h.labels,h.datasets,b]),Q.useEffect(()=>{S.current&&(T(),setTimeout(x))},[u]),Q.useEffect(()=>(x(),()=>T()),[]),k.jsx("canvas",{ref:_,role:"img",height:n,width:a,...v,children:m})}const Y1=Q.forwardRef(G1);function K1(i,t){return Vo.register(t),Q.forwardRef((n,a)=>k.jsx(Y1,{...n,ref:a,type:i}))}const F1=K1("line",Mx);Vo.register(U1,H1,WT,Io,T1,D1,S1,m1);const Is=i=>{if(typeof window>"u")return"";const t=document.querySelector("[class*='theme-']")??document.documentElement;return getComputedStyle(t).getPropertyValue(i).trim()},Dh=(i,t)=>{const n=i.replace("#","").trim(),a=n.length===3?n.split("").map(h=>h+h).join(""):n;if(!/^[0-9a-fA-F]{6}$/.test(a))return`rgba(200, 155, 94, ${t})`;const l=parseInt(a.slice(0,2),16),o=parseInt(a.slice(2,4),16),u=parseInt(a.slice(4,6),16);return`rgba(${l}, ${o}, ${u}, ${t})`},wv=({data:i,className:t,height:n,width:a,lineLabel:l="WPM",xTitle:o="TIME (SECONDS)",yTitle:u="WORDS PER MINUTE"})=>{const h=Q.useMemo(()=>{const m=Is("--accent-primary")||"#c89b5e",b=Is("--accent-secondary")||"#8b7355",v=Is("--accent-warning")||"#e8c080",_=Is("--card-bg")||"#1a1a1a",S=Is("--text-primary")||"#e8ddd0",x=Is("--text-secondary")||"#b8a896";return{line:m,lineHover:v,point:m,pointHover:v,grid:Dh(b,.12),fill:Dh(m,.18),axis:x,axisTitle:S,tooltipBg:Dh(_,.98),tooltipBorder:m}},[]),f=Q.useMemo(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!0,backgroundColor:h.tooltipBg,titleColor:h.axisTitle,bodyColor:h.axis,borderColor:h.tooltipBorder,borderWidth:2,padding:14,titleFont:{size:15,weight:"bold",family:"'JetBrains Mono', monospace"},bodyFont:{size:14,family:"'JetBrains Mono', monospace"},displayColors:!1,callbacks:{title:m=>{const b=m[0]?.parsed?.x;return b==null?"":`${b}s`},label:m=>{const b=m.parsed.y;return`${Math.round(b??0)} WPM`}}}},scales:{x:{type:"linear",grid:{display:!0,color:h.grid,lineWidth:1.5},border:{display:!1},ticks:{color:h.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:10},title:{display:!0,text:o,color:h.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{top:12}}},y:{beginAtZero:!0,grid:{display:!0,color:h.grid,lineWidth:1.5},border:{display:!1},ticks:{color:h.axis,font:{size:12,family:"'JetBrains Mono', monospace",weight:500},padding:10,maxTicksLimit:8},title:{display:!0,text:u,color:h.axisTitle,font:{size:13,weight:"bold",family:"'JetBrains Mono', monospace"},padding:{bottom:12}}}},interaction:{intersect:!1,mode:"index"},animation:{duration:750,easing:"easeInOutQuart"}}),[h,o,u]),g=Q.useMemo(()=>({datasets:[{label:l,data:i,borderColor:h.line,backgroundColor:h.fill,pointRadius:5,pointHoverRadius:9,pointBackgroundColor:h.point,pointBorderColor:h.tooltipBg,pointBorderWidth:2.5,pointHoverBackgroundColor:h.pointHover,pointHoverBorderColor:h.line,pointHoverBorderWidth:3,tension:.4,fill:!0,borderWidth:3,segment:{borderColor:h.line}}]}),[i,h,l]);return k.jsx("div",{className:["w-full h-full p-4 bg-card-bg/40 backdrop-blur-sm rounded-2xl border border-card-border/50 shadow-2xl",t].filter(Boolean).join(" "),style:{height:n,width:a},children:k.jsx(F1,{options:f,data:g})})},X1=[{Game:{Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]},GameSettings:{CurrentText:"",CurrentTitle:"",Timer:-1},Settings:{Text:{Length:"short"}}}],Vn=X1,W1=new Set,Wh=new Set;function Sv(i,t){for(const n of i)try{n()}catch(a){console.error(`${t} subscriber threw:`,a)}}function Q1(){Sv(W1,"SubscribeDataChanges")}function xv(){Sv(Wh,"SubscribeGameSettingsChanges"),Q1()}function J1(i){return Wh.add(i),()=>{Wh.delete(i)}}function ea(i){return Vn[i].Game}function Zi(i){return Vn[i].GameSettings}function No(i,t={}){if(i>=Vn.length)return;const n=Vn[i].GameSettings={...Vn[i].GameSettings,...t};return xv(),n}function Tv(i){return Vn[i].Settings}function Z1(i,t={}){if(i>=Vn.length)return;const n=Vn[i].Settings={...Vn[i].Settings,...t};return xv(),n}function Ev({options:i,label:t,onChange:n}){const a=l=>{n?.(l.target.value)};return k.jsxs("label",{children:[t,k.jsx("select",{onChange:a,className:"bg-card-bg border-2 border-card-border rounded-lg h-9 w-fit px-3 transition-all duration-200 hover:border-accent-primary active:border-accent-primary active:scale-95 text-text-primary font-semibold",children:i.map((l,o)=>k.jsx("option",{value:l,children:l},o))})]})}function Ko(i,t){var n={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(n[a[l]]=i[a[l]]);return n}function tE(i,t,n,a){function l(o){return o instanceof n?o:new n(function(u){u(o)})}return new(n||(n=Promise))(function(o,u){function h(m){try{g(a.next(m))}catch(b){u(b)}}function f(m){try{g(a.throw(m))}catch(b){u(b)}}function g(m){m.done?o(m.value):l(m.value).then(h,f)}g((a=a.apply(i,t||[])).next())})}const eE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class Tf extends Error{constructor(t,n="FunctionsError",a){super(t),this.name=n,this.context=a}}class nE extends Tf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class nb extends Tf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ib extends Tf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qh;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Qh||(Qh={}));class iE{constructor(t,{headers:n={},customFetch:a,region:l=Qh.Any}={}){this.url=t,this.headers=n,this.region=l,this.fetch=eE(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tE(this,arguments,void 0,function*(n,a={}){var l;let o,u;try{const{headers:h,method:f,body:g,signal:m,timeout:b}=a;let v={},{region:_}=a;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let x;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",x=g):typeof g=="string"?(v["Content-Type"]="text/plain",x=g):typeof FormData<"u"&&g instanceof FormData?x=g:(v["Content-Type"]="application/json",x=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?x=JSON.stringify(g):x=g;let T=m;b&&(u=new AbortController,o=setTimeout(()=>u.abort(),b),m?(T=u.signal,m.addEventListener("abort",()=>u.abort())):T=u.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:x,signal:T}).catch(q=>{throw new nE(q)}),U=C.headers.get("x-relay-error");if(U&&U==="true")throw new nb(C);if(!C.ok)throw new ib(C);let M=((l=C.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),B;return M==="application/json"?B=yield C.json():M==="application/octet-stream"||M==="application/pdf"?B=yield C.blob():M==="text/event-stream"?B=C:M==="multipart/form-data"?B=yield C.formData():B=yield C.text(),{data:B,error:null,response:C}}catch(h){return{data:null,error:h,response:h instanceof ib||h instanceof nb?h.context:void 0}}finally{o&&clearTimeout(o)}})}}var sE=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},aE=class{constructor(i){var t,n,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(n=i.isMaybeSingle)!==null&&n!==void 0?n:!1,this.urlLengthLimit=(a=i.urlLengthLimit)!==null&&a!==void 0?a:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let u=null,h=null,f=null,g=o.status,m=o.statusText;if(o.ok){var b,v;if(n.method!=="HEAD"){var _;const C=await o.text();C===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((_=n.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}const x=(b=n.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),T=(v=o.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");x&&T&&T.length>1&&(f=parseInt(T[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,g=406,m="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var S;const x=await o.text();try{u=JSON.parse(x),Array.isArray(u)&&o.status===404&&(h=[],u=null,g=200,m="OK")}catch{o.status===404&&x===""?(g=204,m="No Content"):u={message:x}}if(u&&n.isMaybeSingle&&(!(u==null||(S=u.details)===null||S===void 0)&&S.includes("0 rows"))&&(u=null,g=200,m="OK"),u&&n.shouldThrowOnError)throw new sE(u)}return{error:u,data:h,count:f,status:g,statusText:m}});return this.shouldThrowOnError||(l=l.catch(o=>{var u;let h="",f="",g="";const m=o?.cause;if(m){var b,v,_,S;const C=(b=m?.message)!==null&&b!==void 0?b:"",U=(v=m?.code)!==null&&v!==void 0?v:"";h=`${(_=o?.name)!==null&&_!==void 0?_:"FetchError"}: ${o?.message}`,h+=`

Caused by: ${(S=m?.name)!==null&&S!==void 0?S:"Error"}: ${C}`,U&&(h+=` (${U})`),m?.stack&&(h+=`
${m.stack}`)}else{var x;h=(x=o?.stack)!==null&&x!==void 0?x:""}const T=this.url.toString().length;return o?.name==="AbortError"||o?.code==="ABORT_ERR"?(g="",f="Request was aborted (timeout or manual cancellation)",T>this.urlLengthLimit&&(f+=`. Note: Your request URL is ${T} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(m?.name==="HeadersOverflowError"||m?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",f="HTTP headers exceeded server limits (typically 16KB)",T>this.urlLengthLimit&&(f+=`. Your request URL is ${T} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:h,hint:f,code:g},data:null,count:null,status:0,statusText:""}})),l.then(i,t)}returns(){return this}overrideTypes(){return this}},rE=class extends aE{select(i){let t=!1;const n=(i??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:n,foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${i}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:n=t}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${i}`),this}range(i,t,{foreignTable:n,referencedTable:a=n}={}){const l=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(o,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:n=!1,buffers:a=!1,wal:l=!1,format:o="text"}={}){var u;const h=[i?"analyze":null,t?"verbose":null,n?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${f}"; options=${h};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const sb=new RegExp("[,()]");var Qs=class extends rE{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&sb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`in.(${n})`),this}notIn(i,t){const n=Array.from(new Set(t)).map(a=>typeof a=="string"&&sb.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(i,`not.in.(${n})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:n,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(i,`${l}fts${o}.${t}`),this}match(i){return Object.entries(i).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(i,t,n){return this.url.searchParams.append(i,`not.${t}.${n}`),this}or(i,{foreignTable:t,referencedTable:n=t}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${i})`),this}filter(i,t,n){return this.url.searchParams.append(i,`${t}.${n}`),this}},lE=class{constructor(i,{headers:t={},schema:n,fetch:a,urlLengthLimit:l=8e3}){this.url=i,this.headers=new Headers(t),this.schema=n,this.fetch=a,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:n=!1,count:a}=t??{},l=n?"HEAD":"GET";let o=!1;const u=(i??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join(""),{url:h,headers:f}=this.cloneRequestState();return h.searchParams.set("select",u),a&&f.append("Prefer",`count=${a}`),new Qs({method:l,url:h,headers:f,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:n=!0}={}){var a;const l="POST",{url:o,headers:u}=this.cloneRequestState();if(t&&u.append("Prefer",`count=${t}`),n||u.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);o.searchParams.set("columns",f.join(","))}}return new Qs({method:l,url:o,headers:u,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:n=!1,count:a,defaultToNull:l=!0}={}){var o;const u="POST",{url:h,headers:f}=this.cloneRequestState();if(f.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&h.searchParams.set("on_conflict",t),a&&f.append("Prefer",`count=${a}`),l||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((m,b)=>m.concat(Object.keys(b)),[]);if(g.length>0){const m=[...new Set(g)].map(b=>`"${b}"`);h.searchParams.set("columns",m.join(","))}}return new Qs({method:u,url:h,headers:f,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var n;const a="PATCH",{url:l,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Qs({method:a,url:l,headers:o,schema:this.schema,body:i,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const n="DELETE",{url:a,headers:l}=this.cloneRequestState();return i&&l.append("Prefer",`count=${i}`),new Qs({method:n,url:a,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function kr(i){"@babel/helpers - typeof";return kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kr(i)}function oE(i,t){if(kr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(kr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function cE(i){var t=oE(i,"string");return kr(t)=="symbol"?t:t+""}function uE(i,t,n){return(t=cE(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function ab(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function yo(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ab(Object(n),!0).forEach(function(a){uE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ab(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}var hE=class Ov{constructor(t,{headers:n={},schema:a,fetch:l,timeout:o,urlLengthLimit:u=8e3}={}){this.url=t,this.headers=new Headers(n),this.schemaName=a,this.urlLengthLimit=u;const h=l??globalThis.fetch;o!==void 0&&o>0?this.fetch=(f,g)=>{const m=new AbortController,b=setTimeout(()=>m.abort(),o),v=g?.signal;if(v){if(v.aborted)return clearTimeout(b),h(f,g);const _=()=>{clearTimeout(b),m.abort()};return v.addEventListener("abort",_,{once:!0}),h(f,yo(yo({},g),{},{signal:m.signal})).finally(()=>{clearTimeout(b),v.removeEventListener("abort",_)})}return h(f,yo(yo({},g),{},{signal:m.signal})).finally(()=>clearTimeout(b))}:this.fetch=h}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lE(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Ov(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,n={},{head:a=!1,get:l=!1,count:o}={}){var u;let h;const f=new URL(`${this.url}/rpc/${t}`);let g;const m=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(m)),b=a&&Object.values(n).some(m);b?(h="POST",g=n):a||l?(h=a?"HEAD":"GET",Object.entries(n).filter(([_,S])=>S!==void 0).map(([_,S])=>[_,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([_,S])=>{f.searchParams.append(_,S)})):(h="POST",g=n);const v=new Headers(this.headers);return b?v.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&v.set("Prefer",`count=${o}`),new Qs({method:h,url:f,headers:v,schema:this.schemaName,body:g,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch,urlLengthLimit:this.urlLengthLimit})}};class fE{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const a=n.versions;if(a&&a.node){const l=a.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const a=this.getWebSocketConstructor();return new a(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const dE="2.95.3",gE=`realtime-js/${dE}`,pE="1.0.0",Av="2.0.0",rb=Av,Jh=1e4,mE=1e3,yE=100;var mi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(mi||(mi={}));var ne;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ne||(ne={}));var cn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(cn||(cn={}));var Zh;(function(i){i.websocket="websocket"})(Zh||(Zh={}));var Xi;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Xi||(Xi={}));class bE{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,a;const l=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var n,a;const l=(a=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&a!==void 0?a:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,u)}_encodeUserBroadcastPush(t,n,a){var l,o;const u=t.topic,h=(l=t.ref)!==null&&l!==void 0?l:"",f=(o=t.join_ref)!==null&&o!==void 0?o:"",g=t.payload.event,m=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(m).length===0?"":JSON.stringify(m);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`topic length ${u.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+h.length+u.length+g.length+b.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),x=0;S.setUint8(x++,this.KINDS.userBroadcastPush),S.setUint8(x++,f.length),S.setUint8(x++,h.length),S.setUint8(x++,u.length),S.setUint8(x++,g.length),S.setUint8(x++,b.length),S.setUint8(x++,n),Array.from(f,C=>S.setUint8(x++,C.charCodeAt(0))),Array.from(h,C=>S.setUint8(x++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(x++,C.charCodeAt(0))),Array.from(g,C=>S.setUint8(x++,C.charCodeAt(0))),Array.from(b,C=>S.setUint8(x++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+a.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(a),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return n(a)}if(typeof t=="string"){const a=JSON.parse(t),[l,o,u,h,f]=a;return n({join_ref:l,ref:o,topic:u,event:h,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),a=n.getUint8(0),l=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,l)}_decodeUserBroadcast(t,n,a){const l=n.getUint8(1),o=n.getUint8(2),u=n.getUint8(3),h=n.getUint8(4);let f=this.HEADER_LENGTH+4;const g=a.decode(t.slice(f,f+l));f=f+l;const m=a.decode(t.slice(f,f+o));f=f+o;const b=a.decode(t.slice(f,f+u));f=f+u;const v=t.slice(f,t.byteLength),_=h===this.JSON_ENCODING?JSON.parse(a.decode(v)):v,S={type:this.BROADCAST_EVENT,event:m,payload:_};return u>0&&(S.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>n.includes(a)))}}class Cv{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Lt;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Lt||(Lt={}));const lb=(i,t,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((o,u)=>(o[u]=vE(u,i,t,l),o),{}):{}},vE=(i,t,n,a)=>{const l=t.find(h=>h.name===i),o=l?.type,u=n[i];return o&&!a.includes(o)?kv(o,u):tf(u)},kv=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return xE(t,n)}switch(i){case Lt.bool:return _E(t);case Lt.float4:case Lt.float8:case Lt.int2:case Lt.int4:case Lt.int8:case Lt.numeric:case Lt.oid:return wE(t);case Lt.json:case Lt.jsonb:return SE(t);case Lt.timestamp:return TE(t);case Lt.abstime:case Lt.date:case Lt.daterange:case Lt.int4range:case Lt.int8range:case Lt.money:case Lt.reltime:case Lt.text:case Lt.time:case Lt.timestamptz:case Lt.timetz:case Lt.tsrange:case Lt.tstzrange:return tf(t);default:return tf(t)}},tf=i=>i,_E=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},wE=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},SE=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},xE=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,a=i[n];if(i[0]==="{"&&a==="}"){let o;const u=i.slice(1,n);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(h=>kv(t,h))}return i},TE=i=>typeof i=="string"?i.replace(" ","T"):i,Rv=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class jh{constructor(t,n,a={},l=Jh){this.channel=t,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var a;return this._hasReceived(t)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ob;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(ob||(ob={}));class wr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wr.syncState(this.state,l,o,u),this.pendingDiffs.forEach(f=>{this.state=wr.syncDiff(this.state,f,o,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},l=>{const{onJoin:o,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=wr.syncDiff(this.state,l,o,u),h())}),this.onJoin((l,o,u)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:o,newPresences:u})}),this.onLeave((l,o,u)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,a,l){const o=this.cloneDeep(t),u=this.transformState(n),h={},f={};return this.map(o,(g,m)=>{u[g]||(f[g]=m)}),this.map(u,(g,m)=>{const b=o[g];if(b){const v=m.map(T=>T.presence_ref),_=b.map(T=>T.presence_ref),S=m.filter(T=>_.indexOf(T.presence_ref)<0),x=b.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(h[g]=S),x.length>0&&(f[g]=x)}else h[g]=m}),this.syncDiff(o,{joins:h,leaves:f},a,l)}static syncDiff(t,n,a,l){const{joins:o,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(o,(h,f)=>{var g;const m=(g=t[h])!==null&&g!==void 0?g:[];if(t[h]=this.cloneDeep(f),m.length>0){const b=t[h].map(_=>_.presence_ref),v=m.filter(_=>b.indexOf(_.presence_ref)<0);t[h].unshift(...v)}a(h,m,f)}),this.map(u,(h,f)=>{let g=t[h];if(!g)return;const m=f.map(b=>b.presence_ref);g=g.filter(b=>m.indexOf(b.presence_ref)<0),t[h]=g,l(h,g,f),g.length===0&&delete t[h]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(a=>n(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,a)=>{const l=t[a];return"metas"in l?n[a]=l.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[a]=l,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cb;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(cb||(cb={}));var Sr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(Sr||(Sr={}));var Pn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Pn||(Pn={}));class na{constructor(t,n={config:{}},a){var l,o;if(this.topic=t,this.params=n,this.socket=a,this.bindings={},this.state=ne.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jh(this,cn.join,this.params,this.timeout),this.rejoinTimer=new Cv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ne.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ne.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=ne.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cn.reply,{},(u,h)=>{this._trigger(this._replyEventName(h),u)}),this.presence=new wr(this),this.broadcastEndpointURL=Rv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var a,l,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ne.closed){const{config:{broadcast:u,presence:h,private:f}}=this.params,g=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&l!==void 0?l:[],m=!!this.bindings[Sr.PRESENCE]&&this.bindings[Sr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,b={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:m}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Pn.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Pn.CLOSED)),this.updateJoinPayload(Object.assign({config:v},b)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Pn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,T=(S=x?.length)!==null&&S!==void 0?S:0,C=[];for(let U=0;U<T;U++){const M=x[U],{filter:{event:B,schema:q,table:Y,filter:V}}=M,K=_&&_[U];if(K&&K.event===B&&na.isFilterValueEqual(K.schema,q)&&na.isFilterValueEqual(K.table,Y)&&na.isFilterValueEqual(K.filter,V))C.push(Object.assign(Object.assign({},M),{id:K.id}));else{this.unsubscribe(),this.state=ne.errored,t?.(Pn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Pn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ne.errored,t?.(Pn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,a){return this.state===ne.joined&&t===Sr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,a)}async httpSend(t,n,a={}){var l;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let f=h.statusText;try{const g=await h.json();f=g.error||g.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var a,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:u}=t,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=g.body)===null||l===void 0?void 0:l.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,h,f;const g=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),g.receive("ok",()=>o("ok")),g.receive("error",()=>o("error")),g.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ne.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new jh(this,cn.leave,{},t),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ne.closed,this.bindings={}}async _fetchWithTimeout(t,n,a){const l=new AbortController,o=setTimeout(()=>l.abort(),a),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(o),u}_push(t,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new jh(this,t,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>yE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,a){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,a){var l,o;const u=t.toLocaleLowerCase(),{close:h,error:f,leave:g,join:m}=cn;if(a&&[h,f,g,m].indexOf(u)>=0&&a!==this._joinRef())return;let v=this._onMessage(u,n,a);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(_=>{var S,x,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(x=_.filter)===null||x===void 0?void 0:x.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(_=>_.callback(v,a)):(o=this.bindings[u])===null||o===void 0||o.filter(_=>{var S,x,T,C,U,M;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in _){const B=_.id,q=(S=_.filter)===null||S===void 0?void 0:S.event;return B&&((x=n.ids)===null||x===void 0?void 0:x.includes(B))&&(q==="*"||q?.toLocaleLowerCase()===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const B=(U=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return B==="*"||B===((M=n?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===u}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:x,table:T,commit_timestamp:C,type:U,errors:M}=S;v=Object.assign(Object.assign({},{schema:x,table:T,commit_timestamp:C,eventType:U,new:{},old:{},errors:M}),this._getPayloadRecords(S))}_.callback(v,a)})}_isClosed(){return this.state===ne.closed}_isJoined(){return this.state===ne.joined}_isJoining(){return this.state===ne.joining}_isLeaving(){return this.state===ne.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,a){const l=t.toLocaleLowerCase(),o={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(o):this.bindings[l]=[o],this}_off(t,n){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var o;return!(((o=l.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===a&&na.isEqual(l.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const a in t)if(t[a]!==n[a])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cn.close,{},t)}_onError(t){this._on(cn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ne.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=lb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=lb(t.columns,t.old_record)),n}}const zh=()=>{},bo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},EE=[1e3,2e3,5e3,1e4],OE=1e4,AE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CE{constructor(t,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Jh,this.transport=null,this.heartbeatIntervalMs=bo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zh,this.ref=0,this.reconnectTimer=null,this.vsn=rb,this.logger=zh,this.conn=null,this.sendBuffer=[],this.serializer=new bE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...o)=>l(...o):(...o)=>fetch(...o),!(!((a=n?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Zh.websocket}`,this.httpEndpoint=Rv(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,a){this.logger(t,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case mi.connecting:return Xi.Connecting;case mi.open:return Xi.Open;case mi.closing:return Xi.Closing;default:return Xi.Closed}}isConnected(){return this.connectionState()===Xi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const a=`realtime:${t}`,l=this.getChannels().find(o=>o.topic===a);if(l)return l;{const o=new na(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:a,payload:l,ref:o}=t,u=()=>{this.encode(t,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${o})`,l),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",g)}catch(m){this.log("error","error in heartbeat callback",m)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:l,payload:o,ref:u}=n,h=u?`(${u})`:"",f=o.status||"";this.log("receive",`${f} ${a} ${l} ${h}`.trim(),o),this.channels.filter(g=>g._isMember(a)).forEach(g=>g._trigger(l,o,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===mi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===mi.open||this.conn.readyState===mi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(cn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const a=t.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${t}${a}${l}`}_workerObjectUrl(t){let n;if(t)n=t;else{const a=new Blob([AE],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,a=!1;if(t)n=t,a=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),n=this.accessTokenValue}else n=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(l=>{const o={access_token:n,version:gE};n&&l.updateJoinPayload(o),l.joinedOnce&&l._isJoined()&&l._push(cn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Cv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,a,l,o,u,h,f,g,m,b,v,_;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Jh,this.heartbeatIntervalMs=(l=t?.heartbeatIntervalMs)!==null&&l!==void 0?l:bo.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=t?.heartbeatCallback)!==null&&h!==void 0?h:zh,this.vsn=(f=t?.vsn)!==null&&f!==void 0?f:rb,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t?.reconnectAfterMs)!==null&&g!==void 0?g:(S=>EE[S-1]||OE),this.vsn){case pE:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((S,x)=>x(JSON.stringify(S))),this.decode=(b=t?.decode)!==null&&b!==void 0?b:((S,x)=>x(JSON.parse(S)));break;case Av:this.encode=(v=t?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Rr=class extends Error{constructor(i,t){super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function kE(i,t,n){const a=new URL(t,i);if(n)for(const[l,o]of Object.entries(n))o!==void 0&&a.searchParams.set(l,o);return a.toString()}async function RE(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function ME(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:n,path:a,query:l,body:o,headers:u}){const h=kE(i.baseUrl,a,l),f=await RE(i.auth),g=await t(h,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...f,...u},body:o?JSON.stringify(o):void 0}),m=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),v=b&&m?JSON.parse(m):m;if(!g.ok){const _=b?v:void 0,S=_?.error;throw new Rr(S?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:S?.type,icebergCode:S?.code,details:_})}return{status:g.status,headers:g.headers,data:v}}}}function vo(i){return i.join("")}var DE=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:vo(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(i,t){const n={namespace:i.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vo(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vo(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vo(i.namespace)}`}),!0}catch(t){if(t instanceof Rr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(n){if(n instanceof Rr&&n.status===409)return;throw n}}};function Gs(i){return i.join("")}var jE=class{constructor(i,t="",n){this.client=i,this.prefix=t,this.accessDelegation=n}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(i,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gs(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(n){if(n instanceof Rr&&n.status===404)return!1;throw n}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(n){if(n instanceof Rr&&n.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw n}}},zE=class{constructor(i){let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const n=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=ME({baseUrl:n,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new DE(this.client,t),this.tableOps=new jE(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},Fo=class extends Error{constructor(i,t="storage",n,a){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=a}};function Xo(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var _o=class extends Fo{constructor(i,t,n,a="storage"){super(i,a,t,n),this.name=a==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Mv=class extends Fo{constructor(i,t,n="storage"){super(i,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const NE=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),UE=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},ef=i=>{if(Array.isArray(i))return i.map(n=>ef(n));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[l]=ef(a)}),t},LE=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Mr(i){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(i)}function BE(i,t){if(Mr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Mr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function HE(i){var t=BE(i,"string");return Mr(t)=="symbol"?t:t+""}function qE(i,t,n){return(t=HE(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function ub(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function ut(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ub(Object(n),!0).forEach(function(a){qE(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):ub(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const hb=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},PE=async(i,t,n,a)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!n?.noResolveJson){const l=i,o=l.status||500;if(typeof l.json=="function")l.json().then(u=>{const h=u?.statusCode||u?.code||o+"";t(new _o(hb(u),o,h,a))}).catch(()=>{if(a==="vectors"){const u=o+"";t(new _o(l.statusText||`HTTP ${o} error`,o,u,a))}else{const u=o+"";t(new _o(l.statusText||`HTTP ${o} error`,o,u,a))}});else{const u=o+"";t(new _o(l.statusText||`HTTP ${o} error`,o,u,a))}}else t(new Mv(hb(i),i,a))},$E=(i,t,n,a)=>{const l={method:i,headers:t?.headers||{}};return i==="GET"||i==="HEAD"||!a?ut(ut({},l),n):(UE(a)?(l.headers=ut({"Content-Type":"application/json"},t?.headers),l.body=JSON.stringify(a)):l.body=a,t?.duplex&&(l.duplex=t.duplex),ut(ut({},l),n))};async function ur(i,t,n,a,l,o,u){return new Promise((h,f)=>{i(n,$E(t,a,l,o)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;if(u==="vectors"){const m=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!m||!m.includes("application/json"))return{}}return g.json()}).then(g=>h(g)).catch(g=>PE(g,f,a,u))})}function Dv(i="storage"){return{get:async(t,n,a,l)=>ur(t,"GET",n,a,l,void 0,i),post:async(t,n,a,l,o)=>ur(t,"POST",n,l,o,a,i),put:async(t,n,a,l,o)=>ur(t,"PUT",n,l,o,a,i),head:async(t,n,a,l)=>ur(t,"HEAD",n,ut(ut({},a),{},{noResolveJson:!0}),l,void 0,i),remove:async(t,n,a,l,o)=>ur(t,"DELETE",n,l,o,a,i)}}const VE=Dv("storage"),{get:Dr,post:on,put:nf,head:IE,remove:Ef}=VE,$e=Dv("vectors");var ca=class{constructor(i,t={},n,a="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=NE(n),this.namespace=a}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Xo(n))return{data:null,error:n};throw n}}},GE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Xo(t))return{data:null,error:t};throw t}}};let jv;jv=Symbol.toStringTag;var YE=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[jv]="BlobDownloadBuilder",this.promise=null}asStream(){return new GE(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Xo(t))return{data:null,error:t};throw t}}};const KE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},fb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var FE=class extends ca{constructor(i,t={},n,a){super(i,t,a,"storage"),this.bucketId=n}async uploadOrUpdate(i,t,n,a){var l=this;return l.handleOperation(async()=>{let o;const u=ut(ut({},fb),a);let h=ut(ut({},l.headers),i==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),f&&o.append("metadata",l.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",u.cacheControl),f&&!o.has("metadata")&&o.append("metadata",l.encodeMetadata(f))):(o=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=l.toBase64(l.encodeMetadata(f))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!u.duplex&&(u.duplex="half")),a?.headers&&(h=ut(ut({},h),a.headers));const g=l._removeEmptyFolders(t),m=l._getFinalPath(g),b=await(i=="PUT"?nf:on)(l.fetch,`${l.url}/object/${m}`,o,ut({headers:h},u?.duplex?{duplex:u.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(i,t,n){return this.uploadOrUpdate("POST",i,t,n)}async uploadToSignedUrl(i,t,n,a){var l=this;const o=l._removeEmptyFolders(i),u=l._getFinalPath(o),h=new URL(l.url+`/object/upload/sign/${u}`);return h.searchParams.set("token",t),l.handleOperation(async()=>{let f;const g=ut({upsert:fb.upsert},a),m=ut(ut({},l.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",g.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",g.cacheControl)):(f=n,m["cache-control"]=`max-age=${g.cacheControl}`,m["content-type"]=g.contentType),{path:o,fullPath:(await nf(l.fetch,h.toString(),f,{headers:m})).Key}})}async createSignedUploadUrl(i,t){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(i);const l=ut({},n.headers);t?.upsert&&(l["x-upsert"]="true");const o=await on(n.fetch,`${n.url}/object/upload/sign/${a}`,{},{headers:l}),u=new URL(n.url+o.url),h=u.searchParams.get("token");if(!h)throw new Fo("No token returned by API");return{signedUrl:u.toString(),path:i,token:h}})}async update(i,t,n){return this.uploadOrUpdate("PUT",i,t,n)}async move(i,t,n){var a=this;return a.handleOperation(async()=>await on(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers}))}async copy(i,t,n){var a=this;return a.handleOperation(async()=>({path:(await on(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:i,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:a.headers})).Key}))}async createSignedUrl(i,t,n){var a=this;return a.handleOperation(async()=>{let l=a._getFinalPath(i),o=await on(a.fetch,`${a.url}/object/sign/${l}`,ut({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:a.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${a.url}${o.signedURL}${u}`)}})}async createSignedUrls(i,t,n){var a=this;return a.handleOperation(async()=>{const l=await on(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:i},{headers:a.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return l.map(u=>ut(ut({},u),{},{signedUrl:u.signedURL?encodeURI(`${a.url}${u.signedURL}${o}`):null}))})}download(i,t,n){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(t?.transform||{}),o=l?`?${l}`:"",u=this._getFinalPath(i),h=()=>Dr(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0},n);return new YE(h,this.shouldThrowOnError)}async info(i){var t=this;const n=t._getFinalPath(i);return t.handleOperation(async()=>ef(await Dr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(i){var t=this;const n=t._getFinalPath(i);try{return await IE(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Xo(a)&&a instanceof Mv){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}}getPublicUrl(i,t){const n=this._getFinalPath(i),a=[],l=t?.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&a.push(l);const o=typeof t?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(t?.transform||{});u!==""&&a.push(u);let h=a.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${h}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await Ef(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,n){var a=this;return a.handleOperation(async()=>{const l=ut(ut(ut({},KE),t),{},{prefix:i||""});return await on(a.fetch,`${a.url}/object/list/${a.bucketId}`,l,{headers:a.headers},n)})}async listV2(i,t){var n=this;return n.handleOperation(async()=>{const a=ut({},i);return await on(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,a,{headers:n.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const XE="2.95.3",Lr={"X-Client-Info":`storage-js/${XE}`};var WE=class extends ca{constructor(i,t={},n,a){const l=new URL(i);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const o=l.href.replace(/\/$/,""),u=ut(ut({},Lr),t);super(o,u,n,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(i);return await Dr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await Dr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var n=this;return n.handleOperation(async()=>await on(n.fetch,`${n.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(i,t){var n=this;return n.handleOperation(async()=>await nf(n.fetch,`${n.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await on(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Ef(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},QE=class extends ca{constructor(i,t={},n){const a=i.replace(/\/$/,""),l=ut(ut({},Lr),t);super(a,l,n,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await on(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;i?.limit!==void 0&&n.set("limit",i.limit.toString()),i?.offset!==void 0&&n.set("offset",i.offset.toString()),i?.sortColumn&&n.set("sortColumn",i.sortColumn),i?.sortOrder&&n.set("sortOrder",i.sortOrder),i?.search&&n.set("search",i.search);const a=n.toString(),l=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return await Dr(t.fetch,l,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await Ef(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!LE(i))throw new Fo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new zE({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(n,{get(l,o){const u=l[o];return typeof u!="function"?u:async(...h)=>{try{return{data:await u.apply(l,h),error:null}}catch(f){if(a)throw f;return{data:null,error:f}}}}})}},JE=class extends ca{constructor(i,t={},n){const a=i.replace(/\/$/,""),l=ut(ut({},Lr),{},{"Content-Type":"application/json"},t);super(a,l,n,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var n=this;return n.handleOperation(async()=>await $e.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:n.headers})||{})}},ZE=class extends ca{constructor(i,t={},n){const a=i.replace(/\/$/,""),l=ut(ut({},Lr),{},{"Content-Type":"application/json"},t);super(a,l,n,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},tO=class extends ca{constructor(i,t={},n){const a=i.replace(/\/$/,""),l=ut(ut({},Lr),{},{"Content-Type":"application/json"},t);super(a,l,n,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await $e.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},eO=class extends tO{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new nO(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,n=this;return t().call(n,i)}async getBucket(i){var t=()=>super.getBucket,n=this;return t().call(n,i)}async listBuckets(i={}){var t=()=>super.listBuckets,n=this;return t().call(n,i)}async deleteBucket(i){var t=()=>super.deleteBucket,n=this;return t().call(n,i)}},nO=class extends JE{constructor(i,t,n,a){super(i,t,a),this.vectorBucketName=n}async createIndex(i){var t=()=>super.createIndex,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,i)}index(i){return new iO(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},iO=class extends ZE{constructor(i,t,n,a,l){super(i,t,l),this.vectorBucketName=n,this.indexName=a}async putVectors(i){var t=()=>super.putVectors,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(i){var t=()=>super.getVectors,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,n=this;return t().call(n,ut(ut({},i),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},sO=class extends WE{constructor(i,t={},n,a){super(i,t,n,a)}from(i){return new FE(this.url,this.headers,i,this.fetch)}get vectors(){return new eO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QE(this.url+"/iceberg",this.headers,this.fetch)}};const zv="2.95.3",Js=30*1e3,sf=3,Nh=sf*Js,aO="http://localhost:9999",rO="supabase.auth.token",lO={"X-Client-Info":`gotrue-js/${zv}`},af="X-Supabase-Api-Version",Nv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},oO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cO=600*1e3;class jr extends Error{constructor(t,n,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function at(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class uO extends jr{constructor(t,n,a){super(t,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function hO(i){return at(i)&&i.name==="AuthApiError"}class Wi extends jr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class In extends jr{constructor(t,n,a,l){super(t,a,l),this.name=n,this.status=a}}class Pe extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uh(i){return at(i)&&i.name==="AuthSessionMissingError"}class Ys extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wo extends In{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class So extends In{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fO(i){return at(i)&&i.name==="AuthImplicitGrantRedirectError"}class db extends In{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dO extends In{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class rf extends In{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Lh(i){return at(i)&&i.name==="AuthRetryableFetchError"}class gb extends In{constructor(t,n,a){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class lf extends In{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pb=` 	
\r=`.split(""),gO=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<pb.length;t+=1)i[pb[t].charCodeAt(0)]=-2;for(let t=0;t<Uo.length;t+=1)i[Uo[t].charCodeAt(0)]=t;return i})();function mb(i,t,n){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Uo[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;n(Uo[a]),t.queuedBits-=6}}function Uv(i,t,n){const a=gO[i];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function yb(i){const t=[],n=u=>{t.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},o=u=>{yO(u,a,n)};for(let u=0;u<i.length;u+=1)Uv(i.charCodeAt(u),l,o);return t.join("")}function pO(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function mO(i,t){for(let n=0;n<i.length;n+=1){let a=i.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(i.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}pO(a,t)}}function yO(i,t,n){if(t.utf8seq===0){if(i<=127){n(i);return}for(let a=1;a<6;a+=1)if((i>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sa(i){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};for(let l=0;l<i.length;l+=1)Uv(i.charCodeAt(l),n,a);return new Uint8Array(t)}function bO(i){const t=[];return mO(i,n=>t.push(n)),new Uint8Array(t)}function ts(i){const t=[],n={queue:0,queuedBits:0},a=l=>{t.push(l)};return i.forEach(l=>mb(l,n,a)),mb(null,n,a),t.join("")}function vO(i){return Math.round(Date.now()/1e3)+i}function _O(){return Symbol("auth-callback")}const de=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},Lv=()=>{if(!de())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function wO(i){const t={},n=new URL(i);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,o)=>{t[o]=l})}catch{}return n.searchParams.forEach((a,l)=>{t[l]=a}),t}const Bv=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),SO=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Zs=async(i,t,n)=>{await i.setItem(t,JSON.stringify(n))},Gi=async(i,t)=>{const n=await i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fe=async(i,t)=>{await i.removeItem(t)};class Wo{constructor(){this.promise=new Wo.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Wo.promiseConstructor=Promise;function xo(i){const t=i.split(".");if(t.length!==3)throw new lf("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!oO.test(t[a]))throw new lf("JWT not in base64url format");return{header:JSON.parse(yb(t[0])),payload:JSON.parse(yb(t[1])),signature:sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function xO(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function TO(i,t){return new Promise((a,l)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await i(o);if(!t(o,null,u)){a(u);return}}catch(u){if(!t(o,u)){l(u);return}}})()})}function EO(i){return("0"+i.toString(16)).substr(-2)}function OO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let o=0;o<56;o++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(t),Array.from(t,EO).join("")}async function AO(i){const n=new TextEncoder().encode(i),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(o=>String.fromCharCode(o)).join("")}async function CO(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const n=await AO(i);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ks(i,t,n=!1){const a=OO();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await Zs(i,`${t}-code-verifier`,l);const o=await CO(a);return[o,a===o?"plain":"s256"]}const kO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RO(i){const t=i.headers.get(af);if(!t||!t.match(kO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MO(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function DO(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fs(i){if(!jO.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bh(){const i={};return new Proxy(i,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zO(i,t){return new Proxy(i,{get:(n,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,a,l)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,a,l)}})}function bb(i){return JSON.parse(JSON.stringify(i))}const Fi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),NO=[502,503,504];async function vb(i){var t;if(!SO(i))throw new rf(Fi(i),0);if(NO.includes(i.status))throw new rf(Fi(i),i.status);let n;try{n=await i.json()}catch(o){throw new Wi(Fi(o),o)}let a;const l=RO(i);if(l&&l.getTime()>=Nv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new gb(Fi(n),i.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pe}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new gb(Fi(n),i.status,n.weak_password.reasons);throw new uO(Fi(n),i.status||500,a)}const UO=(i,t,n,a)=>{const l={method:i,headers:t?.headers||{}};return i==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function ct(i,t,n,a){var l;const o=Object.assign({},a?.headers);o[af]||(o[af]=Nv["2024-01-01"].name),a?.jwt&&(o.Authorization=`Bearer ${a.jwt}`);const u=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await LO(i,t,n+h,{headers:o,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(f):{data:Object.assign({},f),error:null}}async function LO(i,t,n,a,l,o){const u=UO(t,a,l,o);let h;try{h=await i(n,Object.assign({},u))}catch(f){throw console.error(f),new rf(Fi(f),0)}if(h.ok||await vb(h),a?.noResolveJson)return h;try{return await h.json()}catch(f){await vb(f)}}function ln(i){var t;let n=null;qO(i)&&(n=Object.assign({},i),i.expires_at||(n.expires_at=vO(i.expires_in)));const a=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:a},error:null}}function _b(i){const t=ln(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(t.data.weak_password=i.weak_password),t}function yi(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function BO(i){return{data:i,error:null}}function HO(i){const{action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o}=i,u=Ko(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:t,email_otp:n,hashed_token:a,redirect_to:l,verification_type:o},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function wb(i){return i}function qO(i){return i.access_token&&i.refresh_token&&i.expires_in}const Hh=["global","local","others"];class PO{constructor({url:t="",headers:n={},fetch:a}){this.url=t,this.headers=n,this.fetch=Bv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=Hh[0]){if(Hh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hh.join(", ")}`);try{return await ct(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(at(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,n={}){try{return await ct(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yi})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:n}=t,a=Ko(t,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await ct(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:HO,redirectTo:n?.redirectTo})}catch(n){if(at(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yi})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,a,l,o,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},m=await ct(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:wb});if(m.error)throw m.error;const b=await m.json(),v=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);g[`${T}Page`]=x}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(at(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Fs(t);try{return await ct(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yi})}catch(n){if(at(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Fs(t);try{return await ct(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:yi})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,n=!1){Fs(t);try{return await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:yi})}catch(a){if(at(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){Fs(t.userId);try{const{data:n,error:a}=await ct(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(at(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Fs(t.userId),Fs(t.id);try{return{data:await ct(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,a,l,o,u,h,f;try{const g={nextPage:null,lastPage:0,total:0},m=await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(o=(l=t?.perPage)===null||l===void 0?void 0:l.toString())!==null&&o!==void 0?o:""},xform:wb});if(m.error)throw m.error;const b=await m.json(),v=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,_=(f=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const x=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);g[`${T}Page`]=x}),g.total=parseInt(v)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(at(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await ct(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await ct(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(at(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await ct(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(at(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await ct(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(at(n))return{data:null,error:n};throw n}}}function Sb(i={}){return{getItem:t=>i[t]||null,setItem:(t,n)=>{i[t]=n},removeItem:t=>{delete i[t]}}}const Xs={debug:!!(globalThis&&Lv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $O extends Hv{}async function VO(i,t,n){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,l.name);try{return await n()}finally{Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,l.name)}}else{if(t===0)throw Xs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new $O(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Xs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function IO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qv(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function GO(i){return parseInt(i,16)}function YO(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function KO(i){var t;const{chainId:n,domain:a,expirationTime:l,issuedAt:o=new Date,nonce:u,notBefore:h,requestId:f,resources:g,scheme:m,uri:b,version:v}=i;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(u&&u.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${u}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const _=qv(i.address),S=m?`${m}://${a}`:a,x=i.statement?`${i.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${x}`;let C=`URI: ${b}
Version: ${v}
Chain ID: ${n}${u?`
Nonce: ${u}`:""}
Issued At: ${o.toISOString()}`;if(l&&(C+=`
Expiration Time: ${l.toISOString()}`),h&&(C+=`
Not Before: ${h.toISOString()}`),f&&(C+=`
Request ID: ${f}`),g){let U=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);U+=`
- ${M}`}C+=U}return`${T}
${C}`}class te extends Error{constructor({message:t,code:n,cause:a,name:l}){var o;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(o=l??(a instanceof Error?a.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class Lo extends te{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function FO({error:i,options:t}){var n,a,l;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((l=o.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return o.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const u=window.location.hostname;if(Pv(u)){if(o.rp.id!==u)return new te({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function XO({error:i,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new te({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const a=window.location.hostname;if(Pv(a)){if(n.rpId!==a)return new te({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class WO{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const QO=new WO;function JO(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:n,excludeCredentials:a}=i,l=Ko(i,["challenge","user","excludeCredentials"]),o=sa(t).buffer,u=Object.assign(Object.assign({},n),{id:sa(n.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:o,user:u});if(a&&a.length>0){h.excludeCredentials=new Array(a.length);for(let f=0;f<a.length;f++){const g=a[f];h.excludeCredentials[f]=Object.assign(Object.assign({},g),{id:sa(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function ZO(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:n}=i,a=Ko(i,["challenge","allowCredentials"]),l=sa(t).buffer,o=Object.assign(Object.assign({},a),{challenge:l});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let u=0;u<n.length;u++){const h=n[u];o.allowCredentials[u]=Object.assign(Object.assign({},h),{id:sa(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return o}function tA(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i;return{id:i.id,rawId:i.id,response:{attestationObject:ts(new Uint8Array(i.response.attestationObject)),clientDataJSON:ts(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function eA(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const n=i,a=i.getClientExtensionResults(),l=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ts(new Uint8Array(l.authenticatorData)),clientDataJSON:ts(new Uint8Array(l.clientDataJSON)),signature:ts(new Uint8Array(l.signature)),userHandle:l.userHandle?ts(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Pv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function xb(){var i,t;return!!(de()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nA(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:FO({error:t,options:i})}}}async function iA(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Lo("Browser returned unexpected credential type",t)}:{data:null,error:new Lo("Empty credential response",t)}}catch(t){return{data:null,error:XO({error:t,options:i})}}}const sA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},aA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bo(...i){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),n=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of i)if(l)for(const o in l){const u=l[o];if(u!==void 0)if(Array.isArray(u))a[o]=u;else if(n(u))a[o]=u;else if(t(u)){const h=a[o];t(h)?a[o]=Bo(h,u):a[o]=Bo(u)}else a[o]=u}return a}function rA(i,t){return Bo(sA,i,t||{})}function lA(i,t){return Bo(aA,i,t||{})}class oA{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:a,signal:l},o){var u;try{const{data:h,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!h)return{data:null,error:f};const g=l??QO.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:m}=h.webauthn.credential_options.publicKey;if(!m.name){const b=a;if(b)m.name=`${m.id}:${b}`;else{const _=(await this.client.getUser()).data.user,S=((u=_?.user_metadata)===null||u===void 0?void 0:u.name)||_?.email||_?.id||"User";m.name=`${m.id}:${S}`}}m.displayName||(m.displayName=m.name)}switch(h.webauthn.type){case"create":{const m=rA(h.webauthn.credential_options.publicKey,o?.create),{data:b,error:v}=await nA({publicKey:m,signal:g});return b?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}case"request":{const m=lA(h.webauthn.credential_options.publicKey,o?.request),{data:b,error:v}=await iA(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:m,signal:g}));return b?{data:{factorId:t,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:b}},error:null}:{data:null,error:v}}}}catch(h){return at(h)?{data:null,error:h}:{data:null,error:new Wi("Unexpected error in challenge",h)}}}async _verify({challengeId:t,factorId:n,webauthn:a}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new jr("rpId is required for WebAuthn authentication")};try{if(!xb())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:a},signal:l},{request:o});if(!u)return{data:null,error:h};const{webauthn:f}=u;return this._verify({factorId:t,challengeId:u.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:a,credential_response:f.credential_response}})}catch(u){return at(u)?{data:null,error:u}:{data:null,error:new Wi("Unexpected error in authenticate",u)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},o){if(!n)return{data:null,error:new jr("rpId is required for WebAuthn registration")};try{if(!xb())return{data:null,error:new Wi("Browser does not support WebAuthn",null)};const{data:u,error:h}=await this._enroll({friendlyName:t});if(!u)return await this.client.mfa.listFactors().then(m=>{var b;return(b=m.data)===null||b===void 0?void 0:b.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:h};const{data:f,error:g}=await this._challenge({factorId:u.id,friendlyName:u.friendly_name,webauthn:{rpId:n,rpOrigins:a},signal:l},{create:o});return f?this._verify({factorId:u.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:a,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:g}}catch(u){return at(u)?{data:null,error:u}:{data:null,error:new Wi("Unexpected error in register",u)}}}}IO();const cA={url:aO,storageKey:rO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Tb(i,t,n){return await n()}const Ws={};class zr{get jwks(){var t,n;return(n=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ws[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ws[this.storageKey]=Object.assign(Object.assign({},Ws[this.storageKey]),{cachedAt:t})}constructor(t){var n,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},cA),t);if(this.storageKey=o.storageKey,this.instanceID=(n=zr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,zr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&de()){const u=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(u),this.logDebugMessages&&console.trace(u)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new PO({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Bv(o.fetch),this.lock=o.lock||Tb,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&de()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=VO:this.lock=Tb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Lv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Sb(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Sb(this.memoryStorage)),de()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u);try{await this._notifyAllSubscribers(u.data.event,u.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(u=>{this._debug("#initialize()","error",u)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${zv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},a="none";if(de()&&(n=wO(window.location.href),this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce")),de()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:o}=await this._getSessionFromURL(n,a);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),fO(o)){const f=(t=o.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:u,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return at(n)?this._returnResult({error:n}):this._returnResult({error:new Wi("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,a,l;try{const o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=t?.options)===null||l===void 0?void 0:l.captchaToken}},xform:ln}),{data:u,error:h}=o;if(h||!u)return this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,a,l;try{let o;if("email"in t){const{email:m,password:b,options:v}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await Ks(this.storage,this.storageKey)),o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:m,password:b,data:(n=v?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:_,code_challenge_method:S},xform:ln})}else if("phone"in t){const{phone:m,password:b,options:v}=t;o=await ct(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:b,data:(a=v?.data)!==null&&a!==void 0?a:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ln})}else throw new wo("You must provide either an email or phone number and a password");const{data:u,error:h}=o;if(h||!u)return await fe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const f=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:u,options:h}=t;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_b})}else if("phone"in t){const{phone:o,password:u,options:h}=t;n=await ct(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_b})}else throw new wo("You must provide either an email or phone number and a password");const{data:a,error:l}=n;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const o=new Ys;return this._returnResult({data:{user:null,session:null},error:o})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(at(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,a,l,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,a,l,o,u,h,f,g,m,b,v;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:x,wallet:T,statement:C,options:U}=t;let M;if(de())if(typeof T=="object")M=T;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")M=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=T}const B=new URL((n=U?.url)!==null&&n!==void 0?n:window.location.href),q=await M.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Y=qv(q[0]);let V=(a=U?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!V){const Z=await M.request({method:"eth_chainId"});V=GO(Z)}const K={domain:B.host,address:Y,statement:C,uri:B.href,version:"1",chainId:V,nonce:(l=U?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(u=(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date,expirationTime:(h=U?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(f=U?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(g=U?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(m=U?.signInWithEthereum)===null||m===void 0?void 0:m.resources};_=KO(K),S=await M.request({method:"personal_sign",params:[YO(_),Y]})}try{const{data:x,error:T}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ln});if(T)throw T;if(!x||!x.session||!x.user){const C=new Ys;return this._returnResult({data:{user:null,session:null},error:C})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:T})}catch(x){if(at(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var n,a,l,o,u,h,f,g,m,b,v,_;let S,x;if("message"in t)S=t.message,x=t.signature;else{const{chain:T,wallet:C,statement:U,options:M}=t;let B;if(de())if(typeof C=="object")B=C;else{const Y=window;if("solana"in Y&&typeof Y.solana=="object"&&("signIn"in Y.solana&&typeof Y.solana.signIn=="function"||"signMessage"in Y.solana&&typeof Y.solana.signMessage=="function"))B=Y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=C}const q=new URL((n=M?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in B&&B.signIn){const Y=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),U?{statement:U}:null));let V;if(Array.isArray(Y)&&Y[0]&&typeof Y[0]=="object")V=Y[0];else if(Y&&typeof Y=="object"&&"signedMessage"in Y&&"signature"in Y)V=Y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in V&&"signature"in V&&(typeof V.signedMessage=="string"||V.signedMessage instanceof Uint8Array)&&V.signature instanceof Uint8Array)S=typeof V.signedMessage=="string"?V.signedMessage:new TextDecoder().decode(V.signedMessage),x=V.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${q.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(l=(a=M?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((o=M?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((u=M?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((h=M?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((b=(m=M?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||b===void 0)&&b.length?["Resources",...M.signInWithSolana.resources.map(V=>`- ${V}`)]:[]].join(`
`);const Y=await B.signMessage(new TextEncoder().encode(S),"utf8");if(!Y||!(Y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=Y}}try{const{data:T,error:C}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ts(x)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:ln});if(C)throw C;if(!T||!T.session||!T.user){const U=new Ys;return this._returnResult({data:{user:null,session:null},error:U})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(at(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{if(!a&&this.flowType==="pkce")throw new dO;const{data:o,error:u}=await ct(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:ln});if(await fe(this.storage,`${this.storageKey}-code-verifier`),u)throw u;if(!o||!o.session||!o.user){const h=new Ys;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:l??null}),error:u})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:a,token:l,access_token:o,nonce:u}=t,h=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:ln}),{data:f,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f||!f.session||!f.user){const m=new Ys;return this._returnResult({data:{user:null,session:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:g})}catch(n){if(at(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,a,l,o,u;try{if("email"in t){const{email:h,options:f}=t;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await Ks(this.storage,this.storageKey));const{error:b}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(a=f?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:h,options:f}=t,{data:g,error:m}=await ct(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=f?.data)!==null&&l!==void 0?l:{},create_user:(o=f?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(u=f?.channel)!==null&&u!==void 0?u:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:m})}throw new wo("You must provide either an email or phone number.")}catch(h){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(t){var n,a;try{let l,o;"options"in t&&(l=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await ct(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:l,xform:ln});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,g=u.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:g,session:f},error:null})}catch(l){if(at(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var n,a,l,o,u;try{let h=null,f=null;this.flowType==="pkce"&&([h,f]=await Ks(this.storage,this.storageKey));const g=await ct(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=t?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:f}),headers:this.headers,xform:BO});return!((o=g.data)===null||o===void 0)&&o.url&&de()&&!(!((u=t.options)===null||u===void 0)&&u.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;if(a)throw a;if(!n)throw new Pe;const{error:l}=await ct(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(at(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:a,type:l,options:o}=t,{error:u}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:u})}else if("phone"in t){const{phone:a,type:l,options:o}=t,{data:u,error:h}=await ct(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:h})}throw new wo("You must provide either an email or phone number and a type")}catch(n){if(at(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Gi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<Nh:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const u=await Gi(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Bh()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const u={value:this.suppressGetSessionWarning};t.user=zO(t.user,u),u.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yi}):await this._useSession(async n=>{var a,l,o;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await ct(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(l=u.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0,xform:yi})})}catch(n){if(at(n))return Uh(n)&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async a=>{const{data:l,error:o}=a;if(o)throw o;if(!l.session)throw new Pe;const u=l.session;let h=null,f=null;this.flowType==="pkce"&&t.email!=null&&([h,f]=await Ks(this.storage,this.storageKey));const{data:g,error:m}=await ct(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:yi});if(m)throw m;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),this._returnResult({data:{user:u.user},error:null})})}catch(a){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Pe;const n=Date.now()/1e3;let a=n,l=!0,o=null;const{payload:u}=xo(t.access_token);if(u.exp&&(a=u.exp,l=a<=n),l){const{data:h,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});o={access_token:t.access_token,refresh_token:t.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(at(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var a;if(!t){const{data:u,error:h}=n;if(h)throw h;t=(a=u.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new Pe;const{data:l,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(at(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!de())throw new So("No browser detected.");if(t.error||t.error_description||t.error_code)throw new So(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new db("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new So("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new db("No code detected.");const{data:U,error:M}=await this._exchangeCodeForSession(t.code);if(M)throw M;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:o,refresh_token:u,expires_in:h,expires_at:f,token_type:g}=t;if(!o||!h||!u||!g)throw new So("No session defined in URL");const m=Math.round(Date.now()/1e3),b=parseInt(h);let v=m+b;f&&(v=parseInt(f));const _=v-m;_*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${b}s`);const S=v-b;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:x,error:T}=await this._getUser(o);if(T)throw T;const C={provider_token:a,provider_refresh_token:l,access_token:o,expires_in:b,expires_at:v,refresh_token:u,token_type:g,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(a){if(at(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Gi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o&&!Uh(o))return this._returnResult({error:o});const u=(a=l.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,t);if(h&&!(hO(h)&&(h.status===404||h.status===401||h.status===403)||Uh(h)))return this._returnResult({error:h})}return t!=="others"&&(await this._removeSession(),await fe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=_O(),a={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async n=>{var a,l;try{const{data:{session:o},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Ks(this.storage,this.storageKey,!0));try{return await ct(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:a,error:l}=await this._useSession(async o=>{var u,h,f,g,m;const{data:b,error:v}=o;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=t.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ct(this.fetch,"GET",_,{headers:this.headers,jwt:(m=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&m!==void 0?m:void 0})});if(l)throw l;return de()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(at(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var a;try{const{error:l,data:{session:o}}=n;if(l)throw l;const{options:u,provider:h,token:f,access_token:g,nonce:m}=t,b=await ct(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=o?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:h,id_token:f,access_token:g,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:ln}),{data:v,error:_}=b;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Ys}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(l){if(await fe(this.storage,`${this.storageKey}-code-verifier`),at(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var a,l;const{data:o,error:u}=n;if(u)throw u;return await ct(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await TO(async l=>(l>0&&await xO(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ct(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ln})),(l,o)=>{const u=200*Math.pow(2,l);return o&&Lh(o)&&Date.now()+u-a<Js})}catch(a){if(this._debug(n,"error",a),at(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",a),de()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Gi(this.storage,this.storageKey);if(l&&this.userStorage){let u=await Gi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:l.user},await Zs(this.userStorage,this.storageKey+"-user",u)),l.user=(t=u?.user)!==null&&t!==void 0?t:Bh()}else if(l&&!l.user&&!l.user){const u=await Gi(this.storage,this.storageKey+"-user");u&&u?.user?(l.user=u.user,await fe(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,l)):l.user=Bh()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const o=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nh;if(this._debug(a,`session has${o?"":" not"} expired with margin of ${Nh}s`),o){if(this.autoRefreshToken&&l.refresh_token){const{error:u}=await this._callRefreshToken(l.refresh_token);u&&(console.error(u),Lh(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(l.access_token);!h&&u?.user?(l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var n,a;if(!t)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Wo;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new Pe;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={data:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(l,"error",o),at(o)){const u={data:null,error:o};return Lh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(o),o}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,n,a=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(t,n)}catch(f){o.push(f)}});if(await Promise.all(u),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await fe(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const o=bb(l);await Zs(this.storage,this.storageKey,o)}else{const l=bb(n);await Zs(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await fe(this.storage,this.storageKey),await fe(this.storage,this.storageKey+"-code-verifier"),await fe(this.storage,this.storageKey+"-user"),this.userStorage&&await fe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&de()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-t)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Js}ms, refresh threshold is ${sf} ticks`),l<=sf&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!de()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[o,u]=await Ks(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});l.push(h.toString())}if(a?.queryParams){const o=new URLSearchParams(a.queryParams);l.push(o.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;return o?this._returnResult({data:null,error:o}):await ct(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var a,l;const{data:o,error:u}=n;if(u)return this._returnResult({data:null,error:u});const h=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:g}=await ct(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&f.type==="totp"&&(!((l=f?.totp)===null||l===void 0)&&l.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tA(t.webauthn.credential_response):eA(t.webauthn.credential_response)})}:{code:t.code}),{data:h,error:f}=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:u,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:f}))})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:o}=n;if(o)return this._returnResult({data:null,error:o});const u=await ct(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(u.error)return u;const{data:h}=u;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:JO(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:ZO(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n?.factors)!==null&&t!==void 0?t:[])l.all.push(o),o.status==="verified"&&l[o.factor_type].push(o);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,a,l,o;if(t)try{const{payload:_}=xo(t);let S=null;_.aal&&(S=_.aal);let x=S;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((a=(n=T?.factors)===null||n===void 0?void 0:n.filter(B=>B.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(x="aal2");const M=_.amr||[];return{data:{currentLevel:S,nextLevel:x,currentAuthenticationMethods:M},error:null}}catch(_){if(at(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:u},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=xo(u.access_token);let g=null;f.aal&&(g=f.aal);let m=g;((o=(l=u.user.factors)===null||l===void 0?void 0:l.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(m="aal2");const v=f.amr||[];return{data:{currentLevel:g,nextLevel:m,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?await ct(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Pe});const u=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&de()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(at(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,n){try{return await this._useSession(async a=>{const{data:{session:l},error:o}=a;if(o)return this._returnResult({data:null,error:o});if(!l)return this._returnResult({data:null,error:new Pe});const u=await ct(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return u.data&&u.data.redirect_url&&de()&&!n?.skipBrowserRedirect&&window.location.assign(u.data.redirect_url),u})}catch(a){if(at(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:a}=t;return a?this._returnResult({data:null,error:a}):n?await ct(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(t){if(at(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:a},error:l}=n;return l?this._returnResult({data:null,error:l}):a?(await ct(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Pe})})}catch(n){if(at(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let a=n.keys.find(h=>h.kid===t);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(h=>h.kid===t),a&&this.jwks_cached_at+cO>l)return a;const{data:o,error:u}=await ct(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=l,a=o.keys.find(h=>h.kid===t),!a)?null:a}async getClaims(t,n={}){try{let a=t;if(!a){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});a=_.session.access_token}const{header:l,payload:o,signature:u,raw:{header:h,payload:f}}=xo(a);n?.allowExpired||MO(o.exp);const g=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!g){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:o,header:l,signature:u},error:null}}const m=DO(l.alg),b=await crypto.subtle.importKey("jwk",g,m,!0,["verify"]);if(!await crypto.subtle.verify(m,b,u,bO(`${h}.${f}`)))throw new lf("Invalid JWT signature");return{data:{claims:o,header:l,signature:u},error:null}}catch(a){if(at(a))return this._returnResult({data:null,error:a});throw a}}}zr.nextInstanceID={};const uA=zr,hA="2.95.3";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const fA={"X-Client-Info":`supabase-js-${gr}/${hA}`},dA={headers:fA},gA={schema:"public"},pA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mA={};function Nr(i){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(i)}function yA(i,t){if(Nr(i)!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var a=n.call(i,t);if(Nr(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function bA(i){var t=yA(i,"string");return Nr(t)=="symbol"?t:t+""}function vA(i,t,n){return(t=bA(t))in i?Object.defineProperty(i,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[t]=n,i}function Eb(i,t){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),n.push.apply(n,a)}return n}function Gt(i){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eb(Object(n),!0).forEach(function(a){vA(i,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(n,a))})}return i}const _A=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),wA=()=>Headers,SA=(i,t,n)=>{const a=_A(n),l=wA();return async(o,u)=>{var h;const f=(h=await t())!==null&&h!==void 0?h:i;let g=new l(u?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${f}`),a(o,Gt(Gt({},u),{},{headers:g}))}};function xA(i){return i.endsWith("/")?i:i+"/"}function TA(i,t){var n,a;const{db:l,auth:o,realtime:u,global:h}=i,{db:f,auth:g,realtime:m,global:b}=t,v={db:Gt(Gt({},f),l),auth:Gt(Gt({},g),o),realtime:Gt(Gt({},m),u),storage:{},global:Gt(Gt(Gt({},b),h),{},{headers:Gt(Gt({},(n=b?.headers)!==null&&n!==void 0?n:{}),(a=h?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return i.accessToken?v.accessToken=i.accessToken:delete v.accessToken,v}function EA(i){const t=i?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xA(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var OA=class extends uA{constructor(i){super(i)}},AA=class{constructor(i,t,n){var a,l;this.supabaseUrl=i,this.supabaseKey=t;const o=EA(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:gA,realtime:mA,auth:Gt(Gt({},pA),{},{storageKey:u}),global:dA},f=TA(n??{},h);if(this.storageKey=(a=f.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken)this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=f.auth)!==null&&g!==void 0?g:{},this.headers,f.global.fetch)}this.fetch=SA(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Gt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new hE(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch,timeout:f.db.timeout,urlLengthLimit:f.db.urlLengthLimit}),this.storage=new sO(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new iE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,n)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,n;if(i.accessToken)return await i.accessToken();const{data:a}=await i.auth.getSession();return(t=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:l,storageKey:o,flowType:u,lock:h,debug:f,throwOnError:g},m,b){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OA({url:this.authUrl.href,headers:Gt(Gt({},v),m),storageKey:o,autoRefreshToken:i,persistSession:t,detectSessionInUrl:n,storage:a,userStorage:l,flowType:u,lock:h,debug:f,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new CE(this.realtimeUrl.href,Gt(Gt({},i),{},{params:Gt(Gt({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t?.access_token)})}_handleTokenChanged(i,t,n){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const CA=(i,t,n)=>new AA(i,t,n);function kA(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}kA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const RA="https://qdwwowrsnlqrkfcfvgip.supabase.co",MA="sb_publishable_WPv3waHS1QBX_KzfWt7P4Q_U6FZMV8H",ye=CA(RA,MA);function Br(i,t){localStorage.setItem(i,t)}function pr(i){return localStorage.getItem(i)}function DA(i){localStorage.removeItem(i)}async function jA(){const i={Round:0,Time:ea(0).Seconds,WPM:ea(0).WPM,Accuracy:ea(0).Accurancy,Errors:ea(0).Errors,ErrorLetters:{}},{data:t,error:n}=await ye.from("UserStats").insert([i]).single();n?console.log("Error saving user stats: ",n):console.log(t)}async function zA(i,t,n){const{data:a,error:l}=await ye.auth.signUp({email:t,password:n,options:{data:{username:i}}});if(l)return console.log("Sign up error: ",l),{status:"error",message:"Sign up error"};if(!a.session)return{status:"verify",message:"Bitte Email besttigen."};const o=a.user?.id;if(!o)return console.log("No user id from signup."),{status:"error",message:"No user id from signup."};const{data:u,error:h}=await ye.from("Users").insert([{Username:i,Email:t,userId:o}]).single();if(h)return console.log("Error saving user: ",h),{status:"error",message:"Error saving user"};Br("logged in","true"),console.log(u);const f="https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",{error:g}=await ye.from("UserSettings").upsert({id:o,profilePicture:f},{onConflict:"id"});return g&&console.log("Error saving user settings: ",g),{status:"ok"}}async function NA(i,t){const{data:n,error:a}=await ye.auth.signInWithPassword({email:i,password:t});if(a){console.log("Sign up error: ",a);return}const{data:l,error:o}=await ye.auth.getUser();if(o){console.log("Error getting user: ",o);return}if(!l.user?.email_confirmed_at){console.log("Bitte Email besttigen.");return}const u=n.user?.id;if(!u){console.log("No user id from signup.");return}const{data:h,error:f}=await ye.from("Users").select("*").eq("userId",u).single();f?console.log("Error loading profile: ",f):console.log(h),Br("logged in","true")}async function UA(){const{error:i}=await ye.auth.signOut();if(i){console.log("Sign out error: ",i);return}Br("logged in","false")}async function Of(){const{data:{user:i}}=await ye.auth.getUser();return i}async function LA(i){const t=await Of();if(!t)return;const{error:n}=await ye.from("Users").update({Username:i}).eq("userId",t.id);n&&console.log("Error: ",n)}async function BA(){const i=await Of();if(!i)return"";const{data:t,error:n}=await ye.from("Users").select("Username").eq("userId",i.id).single();return n&&console.log("Error: ",n),t?.Username??""}async function HA(){const{data:{user:i},error:t}=await ye.auth.getUser();if(t||!i)throw t??new Error("No user");const{data:n,error:a}=await ye.from("UserSettings").select("*").eq("id",i.id).maybeSingle();if(a)throw a;return n??{id:i.id,profilePicture:null}}async function qA(i){const t=await Of();if(!t)return;const n=i.name.split(".").pop(),a=`${t.id}/${Date.now()}.${n}`,{error:l}=await ye.storage.from("avatars").upload(a,i,{upsert:!0});if(l){console.log("Upload error:",l);return}const{data:o}=ye.storage.from("avatars").getPublicUrl(a),{error:u}=await ye.from("UserSettings").upsert({id:t.id,profilePicture:o.publicUrl},{onConflict:"id"});if(u){console.log("Error updating UserSettings: ",u);return}return o.publicUrl}function PA(){Br("open-profile-on-load","true"),window.location.reload()}function $A({text:i="Button",preferedPrefix:t="",onClick:n,setFile:a}){const l=Q.useRef(null),o=()=>{l.current?.click(),n?.()},u=h=>{const f=h.target.files?.[0]??null;f!==null&&f.toString().startsWith(t)&&a(f)};return k.jsxs(k.Fragment,{children:[k.jsx(ke,{onClickFunction:o,text:i}),k.jsx("input",{ref:l,type:"file",onChange:u,style:{display:"none"}})]})}function VA(){const[i,t]=Q.useState(!1),[n,a]=Q.useState(!1),[l,o]=Q.useState(!1),[u,h]=Q.useState(""),f=Q.useRef(ea(0)),[g,m]=Q.useState(""),[b,v]=Q.useState(null),[_,S]=Q.useState(null);Q.useEffect(()=>{let B=!0;return BA().then(q=>{B&&m(q)}),HA().then(q=>{B&&v(q.profilePicture??null)}).catch(q=>{console.log("Error loading user settings: ",q)}),pr("open-profile-on-load")==="true"&&(t(!0),DA("open-profile-on-load")),()=>{B=!1}},[]),Q.useEffect(()=>{_!==null&&qA(_).then(B=>{B&&v(B)}).catch(B=>{console.log("Error updating profile picture: ",B)})},[_]);const x=()=>{t(!i)},T=async()=>{await UA(),window.location.reload()},C=B=>{h(B)},U=async()=>{await LA(u.trim()),o(!1),PA()},M=k.jsxs("div",{className:"flex flex-row gap-x-10 h-full",children:[k.jsx("div",{className:"w-1/4 flex flex-col gap-5",children:k.jsxs("div",{className:"flex flex-col gap-2",children:[k.jsxs("div",{className:"w-full aspect-square",children:[k.jsx("div",{className:"absolute z-50 -m-5",children:k.jsx(qh,{tooltip:"Settings",onClickFunction:()=>a(!n),text:"",optionsValue:[k.jsx(ke,{text:"Log Out",onClickFunction:T})]})}),k.jsxs("div",{className:"relative group",children:[k.jsx("img",{src:b??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full w-full h-full object-cover border-4 border-card-border transition-all duration-700 group-hover:scale-105 shadow-2xl"}),k.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-300 group-hover:opacity-100",children:k.jsx($A,{text:"",setFile:S})})]})]}),k.jsxs("div",{className:"group relative flex justify-center items-center p-5 overflow-hidden",children:[l?k.jsx(Eo,{value:u,onSubmit:U,onChange:C}):k.jsx("h2",{className:"text-2xl text-text-primary font-mono font-extrabold tracking-widest transition-all duration-700 group-hover:-translate-x-8 group-hover:tracking-normal",children:g}),k.jsx("div",{className:"absolute right-5 opacity-0 translate-x-4 transition-all duration-700 group-hover:opacity-100 group-hover:-translate-x-7",children:l?null:k.jsx(ke,{onClickFunction:()=>o(!0),text:""})})]}),k.jsxs("ul",{className:"list-none pl-0 space-y-2 text-lg text-text-primary font-mono font-extrabold",children:[k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Average Accuracy"}),k.jsx("span",{children:"0"})]}),k.jsx("div",{className:"h-px w-full bg-white/80"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Average WPM"}),k.jsx("span",{children:"0"})]}),k.jsx("div",{className:"h-px w-full bg-white/80"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Best WPM"}),k.jsx("span",{children:"0"})]}),k.jsx("div",{className:"h-px w-full bg-white/80"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Error Hotspots"}),k.jsx("span",{children:"0"})]}),k.jsx("div",{className:"h-px w-full bg-white/80"}),k.jsxs("li",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Streaks"}),k.jsx("span",{children:"0"})]})]})]})}),k.jsxs("div",{className:"w-3/4 flex flex-col gap-5 min-h-0",children:[k.jsxs("div",{className:"flex-[3] flex flex-row gap-x-5 min-h-0",children:[k.jsxs("div",{className:"w-4/6 h-full bg-game-bg-light rounded-md p-5",children:[k.jsx(Ev,{options:["1","2","3","4","5"]}),k.jsx(wv,{data:f.current.LineGraphDataSet.map(B=>({x:B.Seconds,y:B.WPM})),lineLabel:"WPM",xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE",className:"border-none w-full h-[95%] shadow-none"})]}),k.jsx("div",{className:"w-2/6 h-full bg-game-bg-light rounded-md"})]}),k.jsx("div",{className:"flex-[2] bg-game-bg-light rounded-md min-h-0"})]})]});return k.jsxs(k.Fragment,{children:[k.jsx("button",{onClick:x,style:{width:"15%"},className:"relative z-50 m-5 border-2 border-card-border rounded-full transition-all duration-150 hover:border-accent-primary active:scale-90",children:k.jsx("img",{src:b??"https://i.pinimg.com/736x/8c/8f/aa/8c8faaee152db00384e06d3365cae0b9.jpg",alt:"Profile pic",className:"rounded-full"})}),k.jsx(Cb,{open:i,value:M,width:60,height:70,className:"motion-preset-blur-up-lg"})]})}function IA({glow:i=!1}){return k.jsx("h1",{className:`text-1xl font-display font-bold tracking-tight ${i?"drop-shadow-[0_0_25px_rgba(200,155,94,0.6)]":""}`,children:k.jsx("span",{className:"text-accent-primary",children:Zi(0).CurrentTitle})})}function To({text:i,fontSize:t=30,infoText:n,infoFontSize:a=12,infoPlace:l="Bottom",color:o="text-text-primary"}){const u=k.jsx("p",{style:{fontSize:t},className:`${o} font-bold`,children:i}),h=k.jsx("p",{style:{fontSize:`${a}px`},className:"text-text-secondary font-bold uppercase tracking-wider",children:n});return k.jsxs("div",{className:"flex flex-col",children:[l=="Bottom"?u:h,l=="Top"?u:h]})}function GA({game:i}){return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"w-full h-full bg-card-bg border border-card-border rounded-lg shadow-card flex flex-col",children:[k.jsxs("div",{className:"w-full h-28 border-b border-card-border flex flex-row items-center justify-around px-12",children:[k.jsx(To,{text:`${i.WPM}`,fontSize:42,infoText:"WPM",color:"text-accent-primary"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(To,{text:`${i.Accurancy}%`,fontSize:42,infoText:"ACC",color:"text-accent-success"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(To,{text:`${i.Errors}/${i.Character}`,fontSize:42,infoText:"Errors",color:"text-accent-error"}),k.jsx("div",{className:"h-16 w-px bg-card-border"}),k.jsx(To,{text:`${i.Seconds}'s`,fontSize:42,infoText:"Time / Seconds",color:"text-accent-secondary"})]}),k.jsx("div",{className:"flex-1 p-10",children:k.jsx(wv,{data:i.LineGraphDataSet.map(t=>({x:t.Seconds,y:t.WPM})),lineLabel:"WPM",xTitle:"TIME (SECONDS)",yTitle:"WORDS PER MINUTE"})})]})})}function $v(i,t){return t<=0?0:Math.round(i/5/t)}function YA({startGame:i,setStartGame:t,setShowResults:n,setGame:a,textVersion:l}){const[o,u]=Q.useState(""),[h,f]=Q.useState([]),[g,m]=Q.useState(Zi(0).Timer),[b,v]=Q.useState(()=>Zi(0).CurrentText),_=Q.useRef(!1),S=Q.useRef(g),[x,T]=Q.useState({Normal:"text-text-primary opacity-30",Correct:"text-text-correct",Incorrect:"text-text-incorrect",Upcoming:"text-text-upcoming opacity-20",Current:"text-text-current font-semibold border-b-4 border-white/50"}),C=Q.useRef(b),U=Q.useRef(Zi(0)),M=Q.useMemo(()=>b.split(`
`).join(""),[b]),B=Q.useMemo(()=>b.split(`
`),[b]),q=Q.useRef(o),Y=Q.useRef(null),V=Q.useRef(0),K=Q.useRef(0),Z=Q.useCallback(nt=>{const D=(nt??C.current).split(`
`).join(""),P=U.current.Timer;t(!1),n(!1),u(""),q.current="",V.current=0,K.current=0,f(Array.from({length:D.length},()=>x.Normal)),m(P),S.current=P,a(W=>({...W,Seconds:0,Minutes:0,Accurancy:0,Character:0,CorrectCharacter:0,WPM:0,Errors:0,LineGraphDataSet:[]})),requestAnimationFrame(()=>{Y.current?.scrollTo({top:0}),Y.current?.focus()})},[a,n,t,x]),ft=Q.useCallback(()=>{const nt=Zi(0),it=U.current,D=nt.CurrentText!==it.CurrentText,P=nt.Timer!==it.Timer,W=nt.CurrentTitle!==it.CurrentTitle;if(!(!D&&!P&&!W)){if(U.current=nt,D){C.current=nt.CurrentText,v(nt.CurrentText),Z(nt.CurrentText);return}if(P){Z();return}Z()}},[Z]);Q.useEffect(()=>{C.current=b},[b]),Q.useEffect(()=>{S.current=g},[g]),Q.useEffect(()=>{if(!_.current){_.current=!0;return}ft()},[ft,l]),Q.useEffect(()=>{Y.current?.focus()},[]),Q.useEffect(()=>{const nt=J1(ft);return ft(),nt},[ft]),Q.useEffect(()=>{f(Array.from({length:M.length},()=>x.Normal))},[M,x]);const lt=Q.useMemo(()=>{const nt=b.split(`
`),it=[];let D=0;for(const P of nt)it.push(D),D+=P.length;return it},[b]);Q.useEffect(()=>{if(!i)return;const nt=U.current.Timer>0;nt&&(S.current=U.current.Timer,m(S.current));const it=setInterval(()=>{a(P=>{const W=P.Seconds/60,et={gameIndex:P.LineGraphDataSet.length,Seconds:P.Seconds,WPM:$v(P.Character,W)};return{...P,LineGraphDataSet:[...P.LineGraphDataSet,et]}})},5e3),D=setInterval(()=>{a(P=>({...P,Seconds:P.Seconds+1})),nt&&(S.current=Math.max(S.current-1,0),m(S.current),!(S.current>0)&&(t(!1),n(!0),clearInterval(D),clearInterval(it)))},1e3);return()=>{clearInterval(D),clearInterval(it)}},[i,a,n,t]),Q.useEffect(()=>{const nt=o.length-1;if(nt<0){a(et=>({...et,Character:K.current,CorrectCharacter:Math.max(K.current-V.current,0)})),f(Array.from({length:M.length},()=>x.Normal));return}const it=o[nt]==M[nt],D=Math.min(o.length,M.length);for(let et=0;et<D;et+=1)o[et],M[et];a(et=>({...et,Character:K.current,CorrectCharacter:Math.max(K.current-V.current,0)})),f(et=>{const dt=[...et];return dt[nt]=it?x.Correct:x.Incorrect,nt+1<dt.length&&(dt[nt+1]=x.Current),nt+2<dt.length&&(dt[nt+2]=x.Upcoming),dt});const P=Y.current;let W=null;if(P){for(let et=nt;et<M.length&&(W=P.querySelector(`[data-idx="${et}"]`),!W);et+=1);if(!W)for(let et=nt-1;et>=0&&(W=P.querySelector(`[data-idx="${et}"]`),!W);et-=1);}if(P&&W instanceof HTMLElement){const et=W.offsetTop-P.clientHeight/2+W.offsetHeight/2,dt=Math.max(P.scrollHeight-P.clientHeight,0),O=Math.max(0,Math.min(et,dt));P.scrollTo({top:O})}nt>=M.length-1&&(t(!1),n(!0))},[o,M,a,n,t,x]);const X=(nt,it)=>{let D=0;return nt.split(/(\s+)/).map((P,W)=>{const et=D;return D+=P.length,P.trim()===""?k.jsx("span",{children:P},W):k.jsx("span",{className:"whitespace-nowrap",children:P.split("").map((dt,O)=>{const $=lt[it]+et+O,F=h[$]??x.Normal;return k.jsx("span",{"data-idx":$,className:`inline-block ${F} transition-colors duration-100`,children:dt},O)})},W)})},Et=U.current.Timer>0;return k.jsxs("div",{className:"relative w-full h-2/5",children:[Et&&k.jsx("div",{className:"absolute top-3 right-3 z-10 rounded-md border border-card-border bg-game-bg-light px-3 py-1 text-sm font-semibold text-text-primary shadow-card pointer-events-none",children:g}),k.jsx("div",{ref:Y,tabIndex:0,onClick:()=>Y.current?.focus(),onKeyDown:nt=>{const it=nt.key;if(it==="Escape"){nt.preventDefault(),Z();return}if(!(it==="Backspace"||it.length===1&&!nt.ctrlKey&&!nt.metaKey&&!nt.altKey))return;if(nt.preventDefault(),i||t(!0),it==="Backspace"){if(q.current.length===0)return;u(W=>{const et=W.slice(0,W.length-1);return q.current=et,et});return}if(q.current.length>=M.length)return;const P=q.current.length;K.current+=1,M[P]!==it&&(V.current+=1),u(W=>{const et=W+it;return q.current=et,et})},className:"w-full h-full bg-card-bg p-10 rounded-xl text-text-primary text-typing-xxl font-mono outline-none shadow-card border-2 border-card-border overflow-y-scroll hover:border-accent-warning focus:border-accent-primary transition-all duration-300 backdrop-blur-sm",style:{scrollbarWidth:"thin",scrollbarColor:"#3a352f #211e1b"},children:B.map((nt,it)=>k.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",children:X(nt,it)},it))})]})}const of=[{title:"The Wonders of the Ocean",short:"The ocean is a vast and mysterious world. It covers more than 70% of the Earths surface and is home to countless species, many of which remain undiscovered.",medium:"Oceans play a crucial role in regulating the Earth's climate. They provide oxygen, regulate temperature, and support biodiversity. Yet, they are facing threats from pollution, overfishing, and climate change.",long:"The ocean is not just a source of beauty, but it is also vital for life on Earth. It regulates the planet's climate by absorbing carbon dioxide and heat. Oceans are home to diverse ecosystems that support a vast array of marine life, from the smallest plankton to the largest whales. The depths of the ocean are still largely unexplored, and scientists continue to discover new species and learn more about the role oceans play in maintaining balance on Earth. However, these ecosystems are under threat due to human activities such as pollution, overfishing, and the effects of climate change, which are causing irreversible damage to marine life."},{title:"The Evolution of Space Exploration",short:"Space exploration has fascinated humanity for centuries. From the early observations of the night sky to the historic moon landing, space has always been a realm of mystery and possibility.",medium:"With technological advancements, space exploration has moved from theoretical concepts to practical achievements. The Apollo moon landings in the 1960s were a milestone, and today, we have private companies sending spacecraft to Mars and beyond.",long:"Space exploration has come a long way since humanity first gazed at the stars. The first steps on the moon in 1969 marked a monumental achievement in science and technology, demonstrating humanity's ability to reach beyond our planet. Today, space exploration continues to evolve, with private companies like SpaceX and Blue Origin pushing the boundaries of what is possible. Mars missions, space tourism, and even the exploration of asteroids are now becoming realities. These advancements not only inspire future generations but also provide valuable insights into the origins of our solar system and the potential for life beyond Earth."},{title:"The Influence of Social Media",short:"Social media has transformed how we communicate and interact with others. It has created a platform for self-expression, connection, and even activism.",medium:"While social media brings people closer together, it also raises concerns about privacy, mental health, and the spread of misinformation. Platforms like Facebook, Twitter, and Instagram have become integral parts of daily life for billions.",long:"Social media has revolutionized communication, allowing individuals to connect with others worldwide in an instant. It has provided a platform for self-expression, where people can share their lives, ideas, and opinions. Social movements have found a new voice through social media, allowing them to mobilize quickly and raise awareness for causes. However, the rise of social media has also led to several challenges. Privacy concerns are rampant, and the constant exposure to curated lives can have negative effects on mental health. Furthermore, the spread of misinformation and the ability to create echo chambers has become a growing concern for society."},{title:"The Power of Music",short:"Music has the ability to inspire, uplift, and connect people. It transcends cultural and language barriers, evoking emotions and creating shared experiences.",medium:"From classical symphonies to modern pop hits, music plays a fundamental role in human culture. It brings people together, whether in concert halls, living rooms, or festivals. Music has the power to heal, to celebrate, and to communicate in ways that words alone cannot.",long:"Music is a universal language that speaks directly to the heart. It has been an essential part of human civilization for centuries, playing a central role in rituals, celebrations, and everyday life. Music can express a range of emotions, from joy and excitement to sorrow and nostalgia. It brings people together, whether they are singing in a choir, attending a concert, or simply enjoying a song on the radio. Music's therapeutic benefits are also widely recognized, helping to reduce stress, improve mood, and even aid in healing. As technology evolves, music continues to play an important role in shaping culture and personal identity."},{title:"The Future of Renewable Energy",short:"Renewable energy sources such as solar, wind, and hydropower are rapidly changing the energy landscape, offering a cleaner, more sustainable alternative to fossil fuels.",medium:"The push for renewable energy is driven by the need to combat climate change and reduce our dependence on finite fossil fuels. Solar and wind energy have become some of the most cost-effective energy sources worldwide, with continued innovations in energy storage and grid integration.",long:"The future of energy lies in renewable sources that can provide sustainable power without the harmful environmental impacts of fossil fuels. Solar, wind, and hydropower are already playing significant roles in the global energy mix, and their potential to provide clean energy is growing. As technology advances, these renewable sources are becoming more efficient and cost-effective. Solar panels are now more affordable than ever, and wind turbines are harnessing energy at unprecedented rates. The challenge remains to create a reliable and efficient way to store and distribute this energy, but breakthroughs in battery storage and smart grids are making this more achievable. Transitioning to renewable energy is essential for reducing greenhouse gas emissions and mitigating the effects of climate change, ensuring a cleaner, healthier planet for future generations."}],cf=of;function Ob(){const i=[];for(const t in of){const n=of[t];n?.title&&i.push(n.title)}return i}function KA(i){const t=Math.floor(Math.random()*cf.length),n=cf[t];return{title:n.title,text:n[i]}}function FA(i,t){const n=cf.find(a=>a.title===i);return n?{title:n.title,text:n[t]}:null}function Ab(i){for(let t=0;t<i.length;t++)if(i[t]==="@")return!0;return!1}function Vv(){const i=KA(Tv(0).Text.Length);No(0,{CurrentText:i.text,CurrentTitle:i.title}),console.log(`Text: ${Zi(0).CurrentText}`)}function XA(i){No(0,{Timer:i}),console.log(`Timer: ${Zi(0).Timer}`)}function WA({onTextUpdate:i}){const t=l=>{Z1(0,{Text:{Length:l}}),Vv(),i?.()},n=l=>{XA(l)},a=l=>{const o=Ob();if(!l||o.length===0)return;const u=l,h=Tv(0).Text.Length,f=o[Math.floor(Math.random()*o.length)],g=u==="Random"?f:u,b=FA(g,h)?.text??"Something went wrong! Text not found!";No(0,{CurrentTitle:g}),No(0,{CurrentText:b})};return k.jsx(k.Fragment,{children:k.jsxs("div",{className:"w-full h-14 bg-card-bg border-2 border-card-border rounded-xl shadow-card flex flex-row items-center gap-3 px-2 backdrop-blur-sm",children:[k.jsx(qh,{text:"",tooltip:"Text options",optionsValue:[k.jsx(Bm,{children:[k.jsx(ke,{index:0,text:"Short",onClickFunction:()=>t("short")}),k.jsx(ke,{index:1,text:"Middle",onClickFunction:()=>t("medium")}),k.jsx(ke,{index:2,text:"Long",onClickFunction:()=>t("long")}),k.jsx(Ev,{label:"",options:["Random",...Ob()],onChange:a})],defaultSelect:0})]}),k.jsx(qh,{text:"",tooltip:"Timer options",optionsValue:[k.jsx(Bm,{children:[k.jsx(ke,{index:0,text:"15's",onClickFunction:()=>n(15),tooltip:"Set a timer too 15 seconds."}),k.jsx(ke,{index:1,text:"30's",onClickFunction:()=>n(30),tooltip:"Set a timer too 30 seconds."}),k.jsx(ke,{index:2,text:"60's",onClickFunction:()=>n(60),tooltip:"Set a timer too 60 seconds."}),k.jsx(ke,{index:3,text:"",onClickFunction:()=>n(-1),tooltip:"Set a timer that runs until u finished typing."})],defaultSelect:3})]})]})})}function QA(i,t){const n=i/t*100;return Math.round(n*100)/100}function JA(){const[i,t]=Q.useState(!1),[n,a]=Q.useState(!1),[l,o]=Q.useState(()=>ea(0)),[u,h]=Q.useState(0),[f,g]=Q.useState(!1),[m,b]=Q.useState(!1),[v,_]=Q.useState("login"),[S,x]=Q.useState(""),[T,C]=Q.useState(""),[U,M]=Q.useState(""),[B,q]=Q.useState("");Q.useEffect(()=>{Vv(),h(X=>X+1),pr("logged in")===null&&Br("logged in","false")},[]),Q.useEffect(()=>{o(X=>{const Et=X.Seconds/60,nt=$v(X.Character,Et),it=X.Character-X.CorrectCharacter,D=QA(X.CorrectCharacter,X.Character);return Et===X.Minutes&&nt===X.WPM&&it===X.Errors&&D===X.Accurancy?X:{...X,Minutes:Et,WPM:nt,Errors:it,Accurancy:D}})},[l.Seconds,l.Character,l.CorrectCharacter]),Q.useEffect(()=>{jA()},[n]);const Y=()=>{a(!n)},V=()=>{b(!m)},K=(X,Et)=>{X==="Username"&&C(Et),X==="Email"&&M(Et),X==="Password"&&q(Et)},Z=async()=>{if(_("signup"),console.log(pr("logged in")),pr("logged in")==="true")return;const X=await zA(T,U,B);X?.status==="verify"?x("Please confirm your email."):X?.status==="error"?x("Error, please try again."):x("")},ft=async()=>{await NA(U,B),_("login"),x(""),window.location.reload()},lt=k.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row gap-6 p-6 md:p-8 bg-card-bg border-2 border-card-border rounded-xl shadow-card",children:[k.jsxs("div",{className:"md:w-5/12 w-full flex flex-col gap-5 bg-game-bg-light border-2 border-card-border rounded-lg p-6",children:[k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-warning shadow-glow-yellow"}),k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-primary shadow-glow-purple"}),k.jsx("div",{className:"h-2 w-2 rounded-full bg-accent-success shadow-glow-green"})]}),k.jsx("div",{className:"text-xs font-display uppercase tracking-[0.35em] text-text-secondary",children:"Access"})]}),k.jsxs("div",{className:"flex flex-col gap-2",children:[k.jsx("h1",{className:"text-4xl md:text-5xl font-display font-bold tracking-widest text-accent-primary",children:"WELCOME"}),k.jsx("p",{className:"text-text-secondary font-display text-sm leading-relaxed",children:"Log in to sync stats, save streaks and unlock custom themes."})]}),k.jsxs("div",{className:"flex flex-col gap-3 text-sm font-display text-text-primary",children:[k.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[k.jsx("span",{children:"Sync progress"}),k.jsx("span",{className:"text-accent-primary",children:"Ready"})]}),k.jsxs("div",{className:"flex items-center justify-between border-b border-card-border/70 pb-2",children:[k.jsx("span",{children:"Keep streaks"}),k.jsx("span",{className:"text-accent-primary",children:"Active"})]}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("span",{children:"Secure session"}),k.jsx("span",{className:"text-accent-primary",children:"Enabled"})]})]}),k.jsx("div",{className:"mt-auto text-xs font-display uppercase tracking-[0.3em] text-text-secondary",children:"Typing Game"})]}),k.jsxs("div",{className:"md:w-7/12 w-full flex flex-col gap-5",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("button",{onClick:()=>_("login"),className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${v==="login"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,children:"Login"}),k.jsx("button",{className:`px-4 py-2 rounded-lg border-2 font-display font-semibold transition-all duration-200 ${v==="signup"?"border-accent-primary text-accent-primary shadow-glow-purple bg-game-bg-light":"border-card-border text-text-primary bg-card-bg opacity-80 hover:border-accent-primary hover:text-accent-primary hover:shadow-glow-purple hover:bg-game-bg-light"}`,onClick:()=>_("signup"),children:"Sign up"})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("div",{className:"w-full flex flex-col gap-4",children:[v==="signup"?k.jsx(Eo,{onChange:X=>K("Username",X),label:"Username",placeholder:"Enter your username..",type:"text",className:"w-full"}):null,k.jsx(Eo,{onChange:X=>K("Email",X),label:"Email",placeholder:"Enter your email..",type:"email",className:"w-full"}),k.jsx(Eo,{onChange:X=>K("Password",X),label:"Password",placeholder:"Enter your password..",type:"password",className:"w-full"})]}),k.jsx("div",{className:"h-px w-full bg-card-border/70"}),k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsx("div",{className:"text-xs font-display uppercase tracking-[0.2em] text-text-secondary",children:v==="login"?"No account? Sign up":"Already have an account?"}),k.jsx("div",{className:"flex items-center gap-3",children:v==="signup"?k.jsx(ke,{disabled:!Ab(U),onClickFunction:Z,text:"Create Account"}):k.jsx(ke,{disabled:!Ab(U),onClickFunction:ft,text:"Login"})})]}),S?k.jsx("div",{className:"text-xs font-display text-accent-warning",children:S}):null]})]});return k.jsx("div",{className:"theme-warm-sunset",children:k.jsx("div",{className:"w-screen h-screen bg-game-bg overflow-hidden",children:k.jsx("div",{className:"w-full h-full flex flex-wrap items-center justify-center",children:n?k.jsxs("div",{className:"w-full h-full flex flex-row",children:[k.jsx("div",{className:"absolute w-fit h-fit flex items-start p-5",children:k.jsx(ke,{onClickFunction:Y,text:""})}),k.jsx("div",{className:"w-full h-full flex items-center justify-center",children:k.jsx("div",{className:"w-4/5 h-4/5",children:k.jsx(GA,{setShowResults:a,game:l})})})]}):k.jsxs(k.Fragment,{children:[k.jsx("div",{className:" w-1/5 h-full flex-0",children:pr("logged in")==="false"?k.jsx("div",{className:"relative z-50 p-5",children:k.jsx(ke,{onClickFunction:V,text:"Login / Sign up"})}):k.jsx(VA,{})}),m?k.jsx(Cb,{value:lt,width:"40%",height:"45%",className:"bg-transparent border-none"}):null,k.jsxs("div",{className:"w-1/5 h-full flex flex-col gap-3 justify-center items-center flex-1",children:[k.jsx(WA,{onTextUpdate:()=>h(X=>X+1)}),k.jsx(YA,{startGame:i,setStartGame:t,setShowResults:a,setGame:o,textVersion:u}),k.jsx("div",{className:"w-[98%] flex flex-row items-center justify-start",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:k.jsx(IA,{glow:!!f})})]}),k.jsx("div",{className:"w-1/5 h-full flex-2"})]})})})})}Sw.createRoot(document.getElementById("root")).render(k.jsx(Q.StrictMode,{children:k.jsx(JA,{})}));
